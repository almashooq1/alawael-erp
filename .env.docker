# ====================================
# Docker Environment Configuration
# ERP System - Development
# ====================================
# Copy this file to .env.docker and adjust for your environment

# Node Environment
NODE_ENV=development

# ====================================
# MongoDB Configuration
# ====================================
MONGO_USERNAME=admin
MONGO_PASSWORD=secure_password_dev
MONGO_DB=erp_system_dev
MONGO_HOST=mongodb
MONGO_PORT=27017

# MongoDB detailed configuration
MONGODB_URI=mongodb://admin:secure_password_dev@mongodb:27017/erp_system_dev?authSource=admin
MONGODB_POOL_SIZE=10
MONGODB_SOCKET_TIMEOUT_MS=30000
MONGODB_CONNECT_TIMEOUT_MS=10000

# ====================================
# Backend API Configuration
# ====================================
PORT=3001
API_HOST=0.0.0.0
CORS_ORIGIN=http://localhost:3000
CORS_CREDENTIALS=true

# ====================================
# SSO Server Configuration
# ====================================
SSO_PORT=3002
SERVICE_TYPE=api  # Set to "sso" for SSO server, "api" for backend

# ====================================
# Authentication Configuration
# ====================================
JWT_SECRET=dev-secret-key-change-in-production-123456789
JWT_EXPIRY=24h
JWT_ALGORITHM=HS256
SESSION_SECRET=dev-session-secret-change-in-production

# ====================================
# Frontend Configuration
# ====================================
REACT_APP_API_URL=http://localhost:3001/api
REACT_APP_SSO_URL=http://localhost:3002
REACT_APP_PORT=3000
REACT_APP_DEBUG=false

# ====================================
# Logging Configuration
# ====================================
LOG_LEVEL=debug
LOG_FORMAT=json
DEBUG=erp:*,sso:*

# ====================================
# Database Performance Settings
# ====================================
MONGODB_POOL_SIZE=10
MONGODB_SOCKET_TIMEOUT_MS=30000
MONGODB_CONNECT_TIMEOUT_MS=10000
MONGODB_RETRIES=3

# ====================================
# Security Headers
# ====================================
ENABLE_HELMET=true
ENABLE_RATE_LIMITING=false  # Disabled for development
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# ====================================
# Docker Service Names (Auto-resolve to container hostnames)
# ====================================
MONGODB_SERVICE=mongodb
REDIS_SERVICE=redis

# ====================================
# Nginx Configuration
# ====================================
NGINX_PORT=80
NGINX_SECURE_PORT=443
ENABLE_SSL=false

# ====================================
# Development Tools
# ====================================
DEBUG=erp:*
ENABLE_SWAGGER=true
SWAGGER_PATH=/api/docs
ENABLE_HOT_RELOAD=true

# ====================================
# Email/Notifications (Optional)
# ====================================
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your-email@gmail.com
SMTP_PASS=your-app-password
SMTP_FROM=noreply@erp.local

# ====================================
# API Configuration
# ====================================
API_VERSION=v1
API_PREFIX=/api

# ====================================
# Database Seeding
# ====================================
SEED_DATABASE=false  # Set to true to seed on startup
SEED_DATA_COUNT=10

# ====================================
# Feature Flags
# ====================================
FEATURE_SUPPLY_CHAIN=true
FEATURE_GOSI=false
FEATURE_GRATUITY=false
FEATURE_ADVANCED_ANALYTICS=false
