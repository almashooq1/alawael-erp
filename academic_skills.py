#!/usr/bin/env python3
# -*- coding: utf-8 -*-
"""
إضافة المهارات الأكاديمية المبكرة
"""

from app import app, db
from models import SkillCategory, Skill

def add_academic_skills():
    """إضافة المهارات الأكاديمية المبكرة للنظام"""
    
    with app.app_context():
        # إنشاء فئة المهارات الأكاديمية المبكرة
        academic_category = SkillCategory.query.filter_by(category_name="المهارات الأكاديمية المبكرة").first()
        if not academic_category:
            academic_category = SkillCategory(
                category_name="المهارات الأكاديمية المبكرة",
                description="مهارات ما قبل الرياضيات والقراءة والكتابة والفنون والتفكير النقدي",
                icon="fas fa-graduation-cap",
                color="#28a745",
                display_order=8
            )
            db.session.add(academic_category)
            db.session.commit()
            print("تم إنشاء فئة المهارات الأكاديمية المبكرة")
        
        # قائمة المهارات الأكاديمية المبكرة
        academic_skills = [
            # مهارات ما قبل الرياضيات
            {
                "skill_name": "يعد من 1 إلى 5",
                "description": "قدرة الطفل على العد التسلسلي من 1 إلى 5 بالترتيب الصحيح",
                "evaluation_criteria": "يعد الأرقام من 1 إلى 5 بالترتيب الصحيح شفهياً",
                "success_indicators": "التسلسل الرقمي، الذاكرة، المفاهيم الرياضية الأولية"
            },
            {
                "skill_name": "يتعرف على الأرقام من 1 إلى 5",
                "description": "قدرة الطفل على التعرف البصري على الأرقام المكتوبة",
                "evaluation_criteria": "يشير أو يسمي الأرقام من 1 إلى 5 عند رؤيتها",
                "success_indicators": "التعرف البصري، الربط بين الرمز والعدد، الذاكرة البصرية"
            },
            {
                "skill_name": "يطابق العدد بالكمية (1-3)",
                "description": "قدرة الطفل على ربط الرقم بالكمية المقابلة له",
                "evaluation_criteria": "يطابق الرقم المكتوب مع العدد الصحيح من الأشياء",
                "success_indicators": "مفهوم العدد، المطابقة، التفكير الرياضي"
            },
            {
                "skill_name": "يميز بين 'أكثر' و'أقل'",
                "description": "قدرة الطفل على المقارنة بين كميتين وتحديد الأكثر والأقل",
                "evaluation_criteria": "يحدد المجموعة الأكثر أو الأقل من مجموعتين من الأشياء",
                "success_indicators": "المقارنة، التمييز الكمي، التفكير المنطقي"
            },
            {
                "skill_name": "يرتب الأشياء حسب الحجم (كبير، متوسط، صغير)",
                "description": "قدرة الطفل على ترتيب الأشياء حسب أحجامها",
                "evaluation_criteria": "يرتب 3 أشياء من الأكبر للأصغر أو العكس",
                "success_indicators": "التصنيف، الترتيب، الإدراك البصري"
            },
            {
                "skill_name": "يتعرف على الأشكال الأساسية (دائرة، مربع، مثلث)",
                "description": "قدرة الطفل على التعرف على الأشكال الهندسية الأساسية",
                "evaluation_criteria": "يسمي أو يشير للأشكال الأساسية عند رؤيتها",
                "success_indicators": "التعرف على الأشكال، الذاكرة البصرية، المفاهيم الهندسية"
            },
            {
                "skill_name": "يصنف الأشياء حسب اللون",
                "description": "قدرة الطفل على تجميع الأشياء حسب ألوانها",
                "evaluation_criteria": "يجمع الأشياء من نفس اللون في مجموعة واحدة",
                "success_indicators": "التصنيف، التمييز اللوني، التنظيم"
            },
            {
                "skill_name": "يفهم مفاهيم 'داخل' و'خارج'",
                "description": "قدرة الطفل على فهم المفاهيم المكانية الأساسية",
                "evaluation_criteria": "يضع الأشياء داخل أو خارج الحاوية عند الطلب",
                "success_indicators": "المفاهيم المكانية، الفهم، اتباع التعليمات"
            },
            
            # مهارات ما قبل القراءة والكتابة
            {
                "skill_name": "يتعرف على اسمه المكتوب",
                "description": "قدرة الطفل على التعرف على اسمه عندما يراه مكتوباً",
                "evaluation_criteria": "يشير لاسمه من بين عدة أسماء مكتوبة",
                "success_indicators": "التعرف على الكلمات، الهوية الشخصية، القراءة المبكرة"
            },
            {
                "skill_name": "يتعرف على بعض الحروف",
                "description": "قدرة الطفل على التعرف على حروف معينة من الأبجدية",
                "evaluation_criteria": "يتعرف على 3-5 حروف من الأبجدية العربية",
                "success_indicators": "التعرف على الحروف، الاستعداد للقراءة، الذاكرة البصرية"
            },
            {
                "skill_name": "يظهر اهتماماً بالكتب والقصص",
                "description": "قدرة الطفل على إظهار الاهتمام والانتباه للكتب والقصص",
                "evaluation_criteria": "ينتبه ويتفاعل مع الكتب والقصص لمدة 3-5 دقائق",
                "success_indicators": "حب القراءة، الانتباه، التفاعل مع النصوص"
            },
            {
                "skill_name": "يقلب صفحات الكتاب بالترتيب",
                "description": "قدرة الطفل على التعامل مع الكتب بالطريقة الصحيحة",
                "evaluation_criteria": "يقلب صفحات الكتاب من اليمين لليسار بالترتيب",
                "success_indicators": "مهارات الكتاب، التسلسل، المهارات الحركية الدقيقة"
            },
            {
                "skill_name": "يحاول 'قراءة' الصور في الكتب",
                "description": "قدرة الطفل على وصف أو تفسير الصور في الكتب",
                "evaluation_criteria": "يصف أو يشير للأشياء في صور الكتب",
                "success_indicators": "فهم الصور، التعبير، الاستعداد للقراءة"
            },
            {
                "skill_name": "يمسك القلم بطريقة مناسبة",
                "description": "قدرة الطفل على الإمساك بالقلم بالطريقة الصحيحة للكتابة",
                "evaluation_criteria": "يمسك القلم بين الإبهام والسبابة مع دعم الإصبع الأوسط",
                "success_indicators": "الإمساك الصحيح، الاستعداد للكتابة، التحكم الحركي"
            },
            {
                "skill_name": "يخربش ويرسم خطوط عشوائية",
                "description": "قدرة الطفل على استخدام القلم لعمل علامات على الورق",
                "evaluation_criteria": "يستخدم القلم لعمل خطوط وأشكال عشوائية على الورق",
                "success_indicators": "التعبير الفني، التحكم الحركي، الإبداع"
            },
            {
                "skill_name": "يحاول تقليد رسم خط مستقيم",
                "description": "قدرة الطفل على محاولة رسم خط مستقيم بعد رؤية مثال",
                "evaluation_criteria": "يحاول رسم خط مستقيم بعد مشاهدة شخص آخر يرسمه",
                "success_indicators": "التقليد، التحكم الحركي، التعلم بالمحاكاة"
            },
            
            # مهارات الفنون والإبداع
            {
                "skill_name": "يستخدم الألوان للتعبير",
                "description": "قدرة الطفل على استخدام الألوان المختلفة في الرسم والتلوين",
                "evaluation_criteria": "يختار ويستخدم ألوان مختلفة في أعماله الفنية",
                "success_indicators": "التعبير الفني، الإبداع، التمييز اللوني"
            },
            {
                "skill_name": "يلعب بالصلصال أو المعجون",
                "description": "قدرة الطفل على التشكيل والإبداع باستخدام المواد اللينة",
                "evaluation_criteria": "يشكل أشكال بسيطة أو يلعب بحرية بالصلصال",
                "success_indicators": "الإبداع، المهارات الحركية الدقيقة، التعبير الفني"
            },
            {
                "skill_name": "يستمتع بالموسيقى والأغاني",
                "description": "قدرة الطفل على الاستمتاع والتفاعل مع الموسيقى",
                "evaluation_criteria": "يظهر سعادة وتفاعل عند سماع الموسيقى أو الأغاني",
                "success_indicators": "التذوق الموسيقي، التفاعل الفني، المتعة"
            },
            {
                "skill_name": "يحاول الرقص أو التحرك مع الموسيقى",
                "description": "قدرة الطفل على التعبير الحركي مع الموسيقى",
                "evaluation_criteria": "يتحرك أو يهتز أو يرقص عند سماع الموسيقى",
                "success_indicators": "التعبير الحركي، الإيقاع، التفاعل الفني"
            },
            {
                "skill_name": "يبني أبراج بسيطة بالمكعبات",
                "description": "قدرة الطفل على بناء هياكل بسيطة باستخدام المكعبات",
                "evaluation_criteria": "يبني برج من 3-5 مكعبات دون أن يسقط",
                "success_indicators": "البناء، التوازن، التخطيط المكاني"
            },
            {
                "skill_name": "يظهر تفضيلات فنية شخصية",
                "description": "قدرة الطفل على إظهار تفضيلات في الألوان أو الأنشطة الفنية",
                "evaluation_criteria": "يختار ألوان أو أنشطة فنية معينة بشكل متكرر",
                "success_indicators": "التفضيل الشخصي، الذوق الفني، الشخصية"
            },
            
            # مهارات التفكير النقدي وحل المشكلات
            {
                "skill_name": "يحل الألغاز البسيطة (2-3 قطع)",
                "description": "قدرة الطفل على حل الألغاز والبازل البسيطة",
                "evaluation_criteria": "يكمل لغز مكون من 2-3 قطع كبيرة",
                "success_indicators": "حل المشكلات، التفكير المنطقي، المثابرة"
            },
            {
                "skill_name": "يجد الشيء المفقود في مكان واضح",
                "description": "قدرة الطفل على البحث والعثور على الأشياء المخفية",
                "evaluation_criteria": "يجد لعبة أو شيء مخفي في مكان واضح نسبياً",
                "success_indicators": "البحث، حل المشكلات، الذاكرة"
            },
            {
                "skill_name": "يحاول طرق مختلفة لحل مشكلة بسيطة",
                "description": "قدرة الطفل على تجربة حلول مختلفة عند مواجهة صعوبة",
                "evaluation_criteria": "يجرب طرق مختلفة للوصول للعبة أو حل مشكلة بسيطة",
                "success_indicators": "المرونة في التفكير، المثابرة، الإبداع"
            },
            {
                "skill_name": "يتوقع ما سيحدث في قصة بسيطة",
                "description": "قدرة الطفل على التنبؤ بأحداث القصة بناءً على السياق",
                "evaluation_criteria": "يتوقع أو يخمن ما سيحدث بعد ذلك في قصة مألوفة",
                "success_indicators": "التفكير التنبؤي، الفهم، التسلسل المنطقي"
            },
            {
                "skill_name": "يربط بين السبب والنتيجة في مواقف بسيطة",
                "description": "قدرة الطفل على فهم العلاقة بين الأفعال ونتائجها",
                "evaluation_criteria": "يفهم أن دفع الشيء يجعله يسقط أو أن البكاء يجلب الانتباه",
                "success_indicators": "التفكير السببي، الفهم المنطقي، التعلم"
            },
            {
                "skill_name": "يقلد حلول بسيطة يراها من الآخرين",
                "description": "قدرة الطفل على تعلم حلول المشكلات من خلال المراقبة",
                "evaluation_criteria": "يقلد طريقة حل مشكلة بسيطة بعد رؤية شخص آخر يحلها",
                "success_indicators": "التعلم بالملاحظة، التقليد، حل المشكلات"
            },
            {
                "skill_name": "يظهر فضولاً لاستكشاف كيفية عمل الأشياء",
                "description": "قدرة الطفل على إظهار الاهتمام بفهم كيفية عمل الأشياء",
                "evaluation_criteria": "يفحص ويستكشف الألعاب والأشياء ليفهم كيف تعمل",
                "success_indicators": "الفضول العلمي، الاستكشاف، التعلم الذاتي"
            },
            {
                "skill_name": "يتذكر تسلسل أحداث بسيط",
                "description": "قدرة الطفل على تذكر ترتيب الأحداث في نشاط أو قصة",
                "evaluation_criteria": "يتذكر ترتيب 2-3 أحداث في نشاط يومي أو قصة",
                "success_indicators": "الذاكرة التسلسلية، التنظيم، الفهم الزمني"
            },
            {
                "skill_name": "يميز بين الصواب والخطأ في مواقف واضحة",
                "description": "قدرة الطفل على التمييز بين السلوكيات المقبولة وغير المقبولة",
                "evaluation_criteria": "يعرف أن ضرب الآخرين خطأ وأن المشاركة صواب",
                "success_indicators": "التفكير الأخلاقي، القيم، السلوك الاجتماعي"
            },
            {
                "skill_name": "يطرح أسئلة بسيطة عن الأشياء من حوله",
                "description": "قدرة الطفل على طرح أسئلة للحصول على معلومات",
                "evaluation_criteria": "يسأل أسئلة مثل 'ما هذا؟' أو 'أين؟' أو 'لماذا؟'",
                "success_indicators": "الفضول، التعلم النشط، التواصل الاستفهامي"
            }
        ]
        
        # إضافة المهارات إلى قاعدة البيانات
        skills_added = 0
        for skill_data in academic_skills:
            # التحقق من عدم وجود المهارة مسبقاً
            existing_skill = Skill.query.filter_by(skill_name=skill_data["skill_name"]).first()
            if not existing_skill:
                new_skill = Skill(
                    skill_name=skill_data["skill_name"],
                    description=skill_data["description"],
                    category_id=academic_category.id,
                    skill_level="متوسط",
                    evaluation_criteria=skill_data["evaluation_criteria"],
                    success_indicators=skill_data["success_indicators"],
                    is_active=True
                )
                db.session.add(new_skill)
                skills_added += 1
        
        # حفظ التغييرات
        db.session.commit()
        print(f"تم إضافة {skills_added} مهارة أكاديمية مبكرة جديدة")
        print("تم إكمال إضافة جميع المهارات الأكاديمية المبكرة بنجاح!")

if __name__ == "__main__":
    add_academic_skills()
