# Environment Configuration
# Copy this file to .env and fill in the values

# Node Environment
NODE_ENV=development
PORT=3000

# Application
APP_NAME=ERP System
APP_VERSION=1.0.0
APP_ENV=development

# Database Configuration - MongoDB (CRITICAL)
# For development: Set USE_MOCK_DB=true to use in-memory DB
# For production: Provide MONGODB_URI
USE_MOCK_DB=true
MONGODB_URI=mongodb://localhost:27017/erp_new_system
MONGODB_ATLAS_URI=

# Legacy PostgreSQL config (keeping for reference, not actively used)
DB_HOST=localhost
DB_PORT=5432
DB_NAME=erp_db
DB_USER=postgres
DB_PASSWORD=your_password
DB_SSL=false
DB_POOL_MIN=2
DB_POOL_MAX=10

# Retry Configuration
DB_MAX_RETRIES=5
DB_INITIAL_RETRY_DELAY=1000
DB_MAX_RETRY_DELAY=32000
DB_BACKOFF_MULTIPLIER=2
DISABLE_MOCK_FALLBACK=false

# Redis Configuration (Optional)
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0
REDIS_ENABLED=false

# JWT Configuration
JWT_SECRET=your-super-secret-jwt-key-change-in-production
JWT_EXPIRY=3600
JWT_ALGORITHM=HS256
REFRESH_TOKEN_EXPIRY=604800

# Encryption Keys
ENCRYPTION_KEY=your-32-byte-encryption-key-here
MASTER_KEY=your-32-byte-master-key-here
BACKUP_KEY=your-32-byte-backup-key-here

# API Configuration
API_URL=http://localhost:3000
API_PREFIX=/api/v1
API_TIMEOUT=30000

# CORS Configuration
FRONTEND_URL=http://localhost:3000
ALLOWED_ORIGINS=http://localhost:3000,http://localhost:3001,http://127.0.0.1:3000

# Email Configuration
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_SECURE=true
SMTP_USER=your-email@gmail.com
SMTP_PASSWORD=your-app-password
SMTP_FROM=noreply@erpsystem.com

# Service URLs
SERVICE_URL=https://api.erpsystem.com
DASHBOARD_SERVICE_URL=http://localhost:3000
REPORT_SERVICE_URL=http://localhost:3000
METRICS_SERVICE_URL=http://localhost:3000

# Logging
LOG_LEVEL=info
LOG_FILE=/var/log/erp-backend.log
LOG_MAX_SIZE=10m
LOG_MAX_FILES=7
LOG_FORMAT=combined

# Cache Configuration
CACHE_ENABLED=true
CACHE_TTL=3600
CACHE_MAX_SIZE=100

# Rate Limiting
RATE_LIMIT_ENABLED=true
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=1000

# Security
SECURITY_HELMET_ENABLED=true
SECURITY_CORS_ENABLED=true
SECURITY_RATE_LIMIT_ENABLED=true
PASSWORD_MIN_LENGTH=8
PASSWORD_REQUIRE_UPPERCASE=true
PASSWORD_REQUIRE_NUMBERS=true
PASSWORD_REQUIRE_SPECIAL=true
ACCOUNT_LOCKOUT_THRESHOLD=5
ACCOUNT_LOCKOUT_DURATION=900

# Features
FEATURE_2FA_ENABLED=true
FEATURE_API_KEYS_ENABLED=true
FEATURE_WEBHOOKS_ENABLED=false
FEATURE_AUDIT_LOG_ENABLED=true

# Storage
STORAGE_TYPE=local
STORAGE_PATH=./storage
LOG_STORAGE_PATH=./logs
BAKUP_STORAGE_PATH=./backups

# Monitoring
MONITORING_ENABLED=true
MONITORING_INTERVAL=60000
HEALTH_CHECK_INTERVAL=30000

# ============================================================
# üîç DYNATRACE ONEAGENT CONFIGURATION
# ============================================================
# Dynatrace Real User Monitoring (RUM) & Application Monitoring
DYNATRACE_ENABLED=true
DYNATRACE_APP_ID=alawael-backend
DYNATRACE_ENV_ID=production
DYNATRACE_LOG_LEVEL=info
DYNATRACE_SERVER_URL=http://localhost:9411
DYNATRACE_API_TOKEN=
DYNATRACE_ENVIRONMENT_ID=
DYNATRACE_CLUSTER_ID=
REGION=local
# ============================================================

# Sentry (Error Tracking)
SENTRY_ENABLED=false
SENTRY_DSN=
SENTRY_ENVIRONMENT=development

# Feature Flags
FEATURE_ANALYTICS=true
FEATURE_REPORTS=true
FEATURE_DASHBOARDS=true
FEATURE_METRICS=true

# Third-party Services
GOOGLE_OAUTH_CLIENT_ID=
GOOGLE_OAUTH_CLIENT_SECRET=
GITHUB_OAUTH_CLIENT_ID=
GITHUB_OAUTH_CLIENT_SECRET=

# Development
DEBUG=false
VERBOSE_LOGGING=false
SEED_DATABASE=false

# Production Overrides (uncomment for production)
# NODE_ENV=production
# FRONTEND_URL=https://app.erpsystem.com
# SERVICE_URL=https://api.erpsystem.com
# DB_SSL=true
# SENTRY_ENABLED=true
