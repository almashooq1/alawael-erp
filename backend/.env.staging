# STAGING ENVIRONMENT - Advanced Features Testing
# Date: February 20, 2026

# ============================================
# CORE CONFIGURATION
# ============================================
NODE_ENV=staging
PORT=3001
HOST=localhost
DEBUG=true

# ============================================
# DATABASE CONFIGURATION
# ============================================
# Mock Mode - No MongoDB Connection Required
USE_MOCK_DB=true
MOCK_DB_MODE=staging

# MongoDB (when ready for migration)
# MONGODB_URI=mongodb://localhost:27017/alawael_staging
# MONGODB_USER=staging_user
# MONGODB_PASSWORD=staging_password

# ============================================
# REDIS CACHING CONFIGURATION
# ============================================
REDIS_ENABLED=true
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_DB=1
REDIS_PASSWORD=
REDIS_TTL=3600
REDIS_MAX_CONNECTIONS=10

# ============================================
# SECURITY HARDENING CONFIGURATION
# ============================================
SECURITY_ENABLED=true
MAX_LOGIN_ATTEMPTS=5
LOCKOUT_DURATION=900000
RATE_LIMIT_WINDOW=900000
RATE_LIMIT_MAX_REQUESTS=100
ENCRYPTION_KEY=your_encryption_key_staging_change_in_production
ENCRYPTION_ALGORITHM=aes-256-cbc

# ============================================
# JWT & AUTHENTICATION
# ============================================
JWT_SECRET=your_jwt_secret_staging_change_in_production
JWT_EXPIRATION=24h
JWT_REFRESH_EXPIRATION=7d
SESSION_SECRET=your_session_secret_staging_change_in_production

# ============================================
# ANALYTICS & MONITORING
# ============================================
ANALYTICS_ENABLED=true
METRICS_RETENTION_DAYS=30
PERFORMANCE_MONITORING=true
ERROR_TRACKING=true
API_METRICS_INTERVAL=60000

# ============================================
# NOTIFICATION SYSTEM CONFIGURATION
# ============================================
NOTIFICATIONS_ENABLED=true
NOTIFICATION_CHANNELS=email,sms,push,inapp

# Email Configuration
EMAIL_SERVICE=gmail
EMAIL_FROM=staging@alawael-erp.com
EMAIL_USER=your_email@gmail.com
EMAIL_PASSWORD=your_app_password
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587

# SMS Configuration (Twilio - for staging, optional)
SMS_ENABLED=false
TWILIO_ACCOUNT_SID=your_twilio_sid
TWILIO_AUTH_TOKEN=your_twilio_token
TWILIO_FROM_NUMBER=+1234567890

# Push Notifications (Firebase Cloud Messaging)
FCM_ENABLED=false
FCM_SERVER_KEY=your_fcm_key

# ============================================
# FEATURE FLAGS & A/B TESTING
# ============================================
FEATURE_FLAGS_ENABLED=true

# Feature Flag Rollout Percentages
ENABLE_ADVANCED_ANALYTICS=100
ENABLE_REAL_TIME_SYNC=80
ENABLE_DARK_MODE=100
ENABLE_ADVANCED_SEARCH=0
ENABLE_RECOMMENDATIONS=0
ENABLE_NOTIFICATIONS_V2=60

# A/B Testing Configuration
AB_TESTING_ENABLED=true
EXPERIMENT_TRAFFIC_ALLOCATION=0.5

# ============================================
# CORS & SECURITY HEADERS
# ============================================
CORS_ORIGIN=http://localhost:3000
CORS_CREDENTIALS=true
CORS_METHODS=GET,POST,PUT,PATCH,DELETE,OPTIONS
CORS_ALLOWED_HEADERS=Content-Type,Authorization

# ============================================
# LOGGING
# ============================================
LOG_LEVEL=debug
LOG_PATH=./logs
LOG_FILE_SIZE=10m
LOG_FILE_MAX=10
LOG_FORMAT=json

# ============================================
# API DOCUMENTATION
# ============================================
SWAGGER_ENABLED=true
SWAGGER_PATH=/api/docs
API_VERSION=1.0.0
API_TITLE=AlAwael ERP System - Staging

# ============================================
# TESTING & PERFORMANCE
# ============================================
ENABLE_PERFORMANCE_TESTS=true
TEST_TIMEOUT=10000
JEST_TIMEOUT=30000

# ============================================
# PWA & SERVICE WORKER
# ============================================
PWA_ENABLED=true
SERVICE_WORKER_ENABLED=true
CACHE_STATIC_ASSETS=true
CACHE_API_RESPONSES=true

# ============================================
# EMAIL TEMPLATES
# ============================================
TEMPLATE_PATH=./templates
DEFAULT_TEMPLATE_LANGUAGE=ar

# ============================================
# INTEGRATIONS
# ============================================
STRIPE_ENABLED=false
STRIPE_PUBLIC_KEY=pk_test_your_key
STRIPE_SECRET_KEY=sk_test_your_key

GOOGLE_DRIVE_ENABLED=false
GOOGLE_DRIVE_CREDENTIALS_PATH=./config/google-drive-credentials.json

# ============================================
# MONITORING & OBSERVABILITY
# ============================================
DATADOG_ENABLED=false
DATADOG_API_KEY=your_datadog_key
DATADOG_APP_KEY=your_datadog_app_key

SENTRY_ENABLED=false
SENTRY_DSN=your_sentry_dsn

# ============================================
# STAGING SPECIFIC
# ============================================
STAGING_MODE=true
ALLOW_DEBUG_ENDPOINTS=true
DUMP_REQUESTS=false
MOCK_EXTERNAL_SERVICES=true
