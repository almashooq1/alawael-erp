d19e7b06b69a55555331ca6ac8dcb12c
/**
 * Tenant Routes
 * مسارات الالتزام
 * 
 * API Routes for multi-tenant support
 * مسارات API لدعم متعدد الالتزام
 */

const express = require('express');
const tenantController = require('../controllers/tenant.controller');
const {
  authenticateToken
} = require('../middleware/auth');
const router = express.Router();

// ==================== PUBLIC ROUTES ====================

/**
 * POST /api/tenants
 * Create new tenant
 * 
 * Required body:
 * {
 *   "name": "Company Name",
 *   "email": "admin@company.com",
 *   "planType": "starter|professional|enterprise",
 *   "slug": "company-slug",
 *   "subdomain": "company",
 *   "timezone": "UTC",
 *   "language": "ar"
 * }
 * 
 * Response:
 * {
 *   "success": true,
 *   "data": { tenant object }
 * }
 */
router.post('/', tenantController.post('/'));

// ==================== PROTECTED ROUTES ====================

/**
 * GET /api/tenants
 * Get all tenants
 * Query params: status, planType, search, limit, offset
 * Auth: Required
 */
router.get('/', authenticateToken, tenantController.get('/'));

/**
 * GET /api/tenants/:tenantId
 * Get single tenant
 * Auth: Required
 */
router.get('/:tenantId', authenticateToken, tenantController.get('/:tenantId'));

/**
 * PUT /api/tenants/:tenantId
 * Update tenant
 * 
 * Body:
 * {
 *   "name": "New Name",
 *   "email": "newemail@company.com",
 *   "subdomain": "new-subdomain",
 *   "metadata": { custom properties }
 * }
 * 
 * Auth: Required (Owner or Admin)
 */
router.put('/:tenantId', authenticateToken, tenantController.put('/:tenantId'));

/**
 * DELETE /api/tenants/:tenantId
 * Delete tenant (soft delete to archive)
 * Auth: Required (Owner or Admin)
 */
router.delete('/:tenantId', authenticateToken, tenantController.delete('/:tenantId'));

/**
 * POST /api/tenants/:tenantId/suspend
 * Suspend tenant
 * 
 * Body:
 * {
 *   "reason": "Suspension reason"
 * }
 * 
 * Auth: Required (Admin)
 */
router.post('/:tenantId/suspend', authenticateToken, tenantController.post('/:tenantId/suspend'));

/**
 * POST /api/tenants/:tenantId/reactivate
 * Reactivate suspended tenant
 * Auth: Required (Admin)
 */
router.post('/:tenantId/reactivate', authenticateToken, tenantController.post('/:tenantId/reactivate'));

// ==================== USER MANAGEMENT ====================

/**
 * POST /api/tenants/:tenantId/users
 * Add user to tenant
 * 
 * Body:
 * {
 *   "userId": "user-id",
 *   "role": "owner|admin|manager|member|viewer"
 * }
 * 
 * Auth: Required (Manager or Admin)
 */
router.post('/:tenantId/users', authenticateToken, tenantController.post('/:tenantId/users'));

/**
 * GET /api/tenants/:tenantId/users
 * Get all users in tenant
 * Auth: Required (Member or higher)
 */
router.get('/:tenantId/users', authenticateToken, tenantController.get('/:tenantId/users'));

/**
 * DELETE /api/tenants/:tenantId/users/:userId
 * Remove user from tenant
 * Auth: Required (Manager or Admin)
 */
router.delete('/:tenantId/users/:userId', authenticateToken, tenantController.delete('/:tenantId/users/:userId'));

// ==================== SETTINGS ====================

/**
 * GET /api/tenants/:tenantId/settings
 * Get tenant settings
 * Auth: Required (Owner or Admin)
 */
router.get('/:tenantId/settings', authenticateToken, tenantController.get('/:tenantId/settings'));

/**
 * PUT /api/tenants/:tenantId/settings
 * Update tenant settings
 * 
 * Body can include:
 * {
 *   "brandingColor": "#FF5733",
 *   "logo": "logo-url",
 *   "emailFrom": "noreply@company.com",
 *   "twoFactorRequired": true,
 *   "sessionTimeout": 3600,
 *   "dataRetention": 365,
 *   ...
 * }
 * 
 * Auth: Required (Owner or Admin)
 */
router.put('/:tenantId/settings', authenticateToken, tenantController.put('/:tenantId/settings'));

// ==================== QUOTAS & USAGE ====================

/**
 * GET /api/tenants/:tenantId/quota
 * Get current quota usage
 * 
 * Response example:
 * {
 *   "maxUsers": 10,
 *   "usedUsers": 5,
 *   "maxStorage": 10,
 *   "usedStorage": 3.5,
 *   "maxApiCalls": 10000,
 *   "usedApiCalls": 2345
 * }
 * 
 * Auth: Required
 */
router.get('/:tenantId/quota', authenticateToken, tenantController.get('/:tenantId/quota'));

/**
 * POST /api/tenants/:tenantId/api-calls
 * Record API call for quota tracking
 * Auth: Required
 */
router.post('/:tenantId/api-calls', tenantController.post('/:tenantId/api-calls'));

/**
 * POST /api/tenants/:tenantId/storage
 * Record storage usage
 * 
 * Body:
 * {
 *   "sizeGB": 1.5
 * }
 * 
 * Auth: Required
 */
router.post('/:tenantId/storage', authenticateToken, tenantController.post('/:tenantId/storage'));

// ==================== PLANS ====================

/**
 * POST /api/tenants/:tenantId/upgrade
 * Upgrade tenant plan
 * 
 * Body:
 * {
 *   "newPlan": "professional" or "enterprise"
 * }
 * 
 * Auth: Required (Owner or Admin)
 */
router.post('/:tenantId/upgrade', authenticateToken, tenantController.post('/:tenantId/upgrade'));

// ==================== DATA ISOLATION ====================

/**
 * GET /api/tenants/:tenantId/isolation
 * Get tenant isolation report
 * 
 * Response:
 * {
 *   "tenantId": "tenant-123",
 *   "totalItems": 150,
 *   "breakdown": {
 *     "users": 5,
 *     "resources": 20,
 *     "documents": 125
 *   }
 * }
 * 
 * Auth: Required (Admin)
 */
router.get('/:tenantId/isolation', authenticateToken, tenantController.get('/:tenantId/isolation'));

// ==================== STATISTICS ====================

/**
 * GET /api/tenants/stats/all
 * Get all tenant statistics
 * 
 * Response:
 * {
 *   "tenants": { total, active, suspended, ... },
 *   "isolation": { violations, unauthorized, ... }
 * }
 * 
 * Auth: Required (Super Admin)
 */
router.get('/stats/all', authenticateToken, tenantController.get('/stats/all'));
module.exports = router;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJleHByZXNzIiwicmVxdWlyZSIsInRlbmFudENvbnRyb2xsZXIiLCJhdXRoZW50aWNhdGVUb2tlbiIsInJvdXRlciIsIlJvdXRlciIsInBvc3QiLCJnZXQiLCJwdXQiLCJkZWxldGUiLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZXMiOlsidGVuYW50LnJvdXRlcy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICogVGVuYW50IFJvdXRlc1xyXG4gKiDZhdiz2KfYsdin2Kog2KfZhNin2YTYqtiy2KfZhVxyXG4gKiBcclxuICogQVBJIFJvdXRlcyBmb3IgbXVsdGktdGVuYW50IHN1cHBvcnRcclxuICog2YXYs9in2LHYp9iqIEFQSSDZhNiv2LnZhSDZhdiq2LnYr9ivINin2YTYp9mE2KrYstin2YVcclxuICovXHJcblxyXG5jb25zdCBleHByZXNzID0gcmVxdWlyZSgnZXhwcmVzcycpO1xyXG5jb25zdCB0ZW5hbnRDb250cm9sbGVyID0gcmVxdWlyZSgnLi4vY29udHJvbGxlcnMvdGVuYW50LmNvbnRyb2xsZXInKTtcclxuY29uc3QgeyBhdXRoZW50aWNhdGVUb2tlbiB9ID0gcmVxdWlyZSgnLi4vbWlkZGxld2FyZS9hdXRoJyk7XHJcblxyXG5jb25zdCByb3V0ZXIgPSBleHByZXNzLlJvdXRlcigpO1xyXG5cclxuLy8gPT09PT09PT09PT09PT09PT09PT0gUFVCTElDIFJPVVRFUyA9PT09PT09PT09PT09PT09PT09PVxyXG5cclxuLyoqXHJcbiAqIFBPU1QgL2FwaS90ZW5hbnRzXHJcbiAqIENyZWF0ZSBuZXcgdGVuYW50XHJcbiAqIFxyXG4gKiBSZXF1aXJlZCBib2R5OlxyXG4gKiB7XHJcbiAqICAgXCJuYW1lXCI6IFwiQ29tcGFueSBOYW1lXCIsXHJcbiAqICAgXCJlbWFpbFwiOiBcImFkbWluQGNvbXBhbnkuY29tXCIsXHJcbiAqICAgXCJwbGFuVHlwZVwiOiBcInN0YXJ0ZXJ8cHJvZmVzc2lvbmFsfGVudGVycHJpc2VcIixcclxuICogICBcInNsdWdcIjogXCJjb21wYW55LXNsdWdcIixcclxuICogICBcInN1YmRvbWFpblwiOiBcImNvbXBhbnlcIixcclxuICogICBcInRpbWV6b25lXCI6IFwiVVRDXCIsXHJcbiAqICAgXCJsYW5ndWFnZVwiOiBcImFyXCJcclxuICogfVxyXG4gKiBcclxuICogUmVzcG9uc2U6XHJcbiAqIHtcclxuICogICBcInN1Y2Nlc3NcIjogdHJ1ZSxcclxuICogICBcImRhdGFcIjogeyB0ZW5hbnQgb2JqZWN0IH1cclxuICogfVxyXG4gKi9cclxucm91dGVyLnBvc3QoJy8nLCB0ZW5hbnRDb250cm9sbGVyLnBvc3QoJy8nKSk7XHJcblxyXG4vLyA9PT09PT09PT09PT09PT09PT09PSBQUk9URUNURUQgUk9VVEVTID09PT09PT09PT09PT09PT09PT09XHJcblxyXG4vKipcclxuICogR0VUIC9hcGkvdGVuYW50c1xyXG4gKiBHZXQgYWxsIHRlbmFudHNcclxuICogUXVlcnkgcGFyYW1zOiBzdGF0dXMsIHBsYW5UeXBlLCBzZWFyY2gsIGxpbWl0LCBvZmZzZXRcclxuICogQXV0aDogUmVxdWlyZWRcclxuICovXHJcbnJvdXRlci5nZXQoJy8nLCBhdXRoZW50aWNhdGVUb2tlbiwgdGVuYW50Q29udHJvbGxlci5nZXQoJy8nKSk7XHJcblxyXG4vKipcclxuICogR0VUIC9hcGkvdGVuYW50cy86dGVuYW50SWRcclxuICogR2V0IHNpbmdsZSB0ZW5hbnRcclxuICogQXV0aDogUmVxdWlyZWRcclxuICovXHJcbnJvdXRlci5nZXQoJy86dGVuYW50SWQnLCBhdXRoZW50aWNhdGVUb2tlbiwgdGVuYW50Q29udHJvbGxlci5nZXQoJy86dGVuYW50SWQnKSk7XHJcblxyXG4vKipcclxuICogUFVUIC9hcGkvdGVuYW50cy86dGVuYW50SWRcclxuICogVXBkYXRlIHRlbmFudFxyXG4gKiBcclxuICogQm9keTpcclxuICoge1xyXG4gKiAgIFwibmFtZVwiOiBcIk5ldyBOYW1lXCIsXHJcbiAqICAgXCJlbWFpbFwiOiBcIm5ld2VtYWlsQGNvbXBhbnkuY29tXCIsXHJcbiAqICAgXCJzdWJkb21haW5cIjogXCJuZXctc3ViZG9tYWluXCIsXHJcbiAqICAgXCJtZXRhZGF0YVwiOiB7IGN1c3RvbSBwcm9wZXJ0aWVzIH1cclxuICogfVxyXG4gKiBcclxuICogQXV0aDogUmVxdWlyZWQgKE93bmVyIG9yIEFkbWluKVxyXG4gKi9cclxucm91dGVyLnB1dCgnLzp0ZW5hbnRJZCcsIGF1dGhlbnRpY2F0ZVRva2VuLCB0ZW5hbnRDb250cm9sbGVyLnB1dCgnLzp0ZW5hbnRJZCcpKTtcclxuXHJcbi8qKlxyXG4gKiBERUxFVEUgL2FwaS90ZW5hbnRzLzp0ZW5hbnRJZFxyXG4gKiBEZWxldGUgdGVuYW50IChzb2Z0IGRlbGV0ZSB0byBhcmNoaXZlKVxyXG4gKiBBdXRoOiBSZXF1aXJlZCAoT3duZXIgb3IgQWRtaW4pXHJcbiAqL1xyXG5yb3V0ZXIuZGVsZXRlKCcvOnRlbmFudElkJywgYXV0aGVudGljYXRlVG9rZW4sIHRlbmFudENvbnRyb2xsZXIuZGVsZXRlKCcvOnRlbmFudElkJykpO1xyXG5cclxuLyoqXHJcbiAqIFBPU1QgL2FwaS90ZW5hbnRzLzp0ZW5hbnRJZC9zdXNwZW5kXHJcbiAqIFN1c3BlbmQgdGVuYW50XHJcbiAqIFxyXG4gKiBCb2R5OlxyXG4gKiB7XHJcbiAqICAgXCJyZWFzb25cIjogXCJTdXNwZW5zaW9uIHJlYXNvblwiXHJcbiAqIH1cclxuICogXHJcbiAqIEF1dGg6IFJlcXVpcmVkIChBZG1pbilcclxuICovXHJcbnJvdXRlci5wb3N0KCcvOnRlbmFudElkL3N1c3BlbmQnLCBhdXRoZW50aWNhdGVUb2tlbiwgdGVuYW50Q29udHJvbGxlci5wb3N0KCcvOnRlbmFudElkL3N1c3BlbmQnKSk7XHJcblxyXG4vKipcclxuICogUE9TVCAvYXBpL3RlbmFudHMvOnRlbmFudElkL3JlYWN0aXZhdGVcclxuICogUmVhY3RpdmF0ZSBzdXNwZW5kZWQgdGVuYW50XHJcbiAqIEF1dGg6IFJlcXVpcmVkIChBZG1pbilcclxuICovXHJcbnJvdXRlci5wb3N0KCcvOnRlbmFudElkL3JlYWN0aXZhdGUnLCBhdXRoZW50aWNhdGVUb2tlbiwgdGVuYW50Q29udHJvbGxlci5wb3N0KCcvOnRlbmFudElkL3JlYWN0aXZhdGUnKSk7XHJcblxyXG4vLyA9PT09PT09PT09PT09PT09PT09PSBVU0VSIE1BTkFHRU1FTlQgPT09PT09PT09PT09PT09PT09PT1cclxuXHJcbi8qKlxyXG4gKiBQT1NUIC9hcGkvdGVuYW50cy86dGVuYW50SWQvdXNlcnNcclxuICogQWRkIHVzZXIgdG8gdGVuYW50XHJcbiAqIFxyXG4gKiBCb2R5OlxyXG4gKiB7XHJcbiAqICAgXCJ1c2VySWRcIjogXCJ1c2VyLWlkXCIsXHJcbiAqICAgXCJyb2xlXCI6IFwib3duZXJ8YWRtaW58bWFuYWdlcnxtZW1iZXJ8dmlld2VyXCJcclxuICogfVxyXG4gKiBcclxuICogQXV0aDogUmVxdWlyZWQgKE1hbmFnZXIgb3IgQWRtaW4pXHJcbiAqL1xyXG5yb3V0ZXIucG9zdCgnLzp0ZW5hbnRJZC91c2VycycsIGF1dGhlbnRpY2F0ZVRva2VuLCB0ZW5hbnRDb250cm9sbGVyLnBvc3QoJy86dGVuYW50SWQvdXNlcnMnKSk7XHJcblxyXG4vKipcclxuICogR0VUIC9hcGkvdGVuYW50cy86dGVuYW50SWQvdXNlcnNcclxuICogR2V0IGFsbCB1c2VycyBpbiB0ZW5hbnRcclxuICogQXV0aDogUmVxdWlyZWQgKE1lbWJlciBvciBoaWdoZXIpXHJcbiAqL1xyXG5yb3V0ZXIuZ2V0KCcvOnRlbmFudElkL3VzZXJzJywgYXV0aGVudGljYXRlVG9rZW4sIHRlbmFudENvbnRyb2xsZXIuZ2V0KCcvOnRlbmFudElkL3VzZXJzJykpO1xyXG5cclxuLyoqXHJcbiAqIERFTEVURSAvYXBpL3RlbmFudHMvOnRlbmFudElkL3VzZXJzLzp1c2VySWRcclxuICogUmVtb3ZlIHVzZXIgZnJvbSB0ZW5hbnRcclxuICogQXV0aDogUmVxdWlyZWQgKE1hbmFnZXIgb3IgQWRtaW4pXHJcbiAqL1xyXG5yb3V0ZXIuZGVsZXRlKCcvOnRlbmFudElkL3VzZXJzLzp1c2VySWQnLCBhdXRoZW50aWNhdGVUb2tlbiwgdGVuYW50Q29udHJvbGxlci5kZWxldGUoJy86dGVuYW50SWQvdXNlcnMvOnVzZXJJZCcpKTtcclxuXHJcbi8vID09PT09PT09PT09PT09PT09PT09IFNFVFRJTkdTID09PT09PT09PT09PT09PT09PT09XHJcblxyXG4vKipcclxuICogR0VUIC9hcGkvdGVuYW50cy86dGVuYW50SWQvc2V0dGluZ3NcclxuICogR2V0IHRlbmFudCBzZXR0aW5nc1xyXG4gKiBBdXRoOiBSZXF1aXJlZCAoT3duZXIgb3IgQWRtaW4pXHJcbiAqL1xyXG5yb3V0ZXIuZ2V0KCcvOnRlbmFudElkL3NldHRpbmdzJywgYXV0aGVudGljYXRlVG9rZW4sIHRlbmFudENvbnRyb2xsZXIuZ2V0KCcvOnRlbmFudElkL3NldHRpbmdzJykpO1xyXG5cclxuLyoqXHJcbiAqIFBVVCAvYXBpL3RlbmFudHMvOnRlbmFudElkL3NldHRpbmdzXHJcbiAqIFVwZGF0ZSB0ZW5hbnQgc2V0dGluZ3NcclxuICogXHJcbiAqIEJvZHkgY2FuIGluY2x1ZGU6XHJcbiAqIHtcclxuICogICBcImJyYW5kaW5nQ29sb3JcIjogXCIjRkY1NzMzXCIsXHJcbiAqICAgXCJsb2dvXCI6IFwibG9nby11cmxcIixcclxuICogICBcImVtYWlsRnJvbVwiOiBcIm5vcmVwbHlAY29tcGFueS5jb21cIixcclxuICogICBcInR3b0ZhY3RvclJlcXVpcmVkXCI6IHRydWUsXHJcbiAqICAgXCJzZXNzaW9uVGltZW91dFwiOiAzNjAwLFxyXG4gKiAgIFwiZGF0YVJldGVudGlvblwiOiAzNjUsXHJcbiAqICAgLi4uXHJcbiAqIH1cclxuICogXHJcbiAqIEF1dGg6IFJlcXVpcmVkIChPd25lciBvciBBZG1pbilcclxuICovXHJcbnJvdXRlci5wdXQoJy86dGVuYW50SWQvc2V0dGluZ3MnLCBhdXRoZW50aWNhdGVUb2tlbiwgdGVuYW50Q29udHJvbGxlci5wdXQoJy86dGVuYW50SWQvc2V0dGluZ3MnKSk7XHJcblxyXG4vLyA9PT09PT09PT09PT09PT09PT09PSBRVU9UQVMgJiBVU0FHRSA9PT09PT09PT09PT09PT09PT09PVxyXG5cclxuLyoqXHJcbiAqIEdFVCAvYXBpL3RlbmFudHMvOnRlbmFudElkL3F1b3RhXHJcbiAqIEdldCBjdXJyZW50IHF1b3RhIHVzYWdlXHJcbiAqIFxyXG4gKiBSZXNwb25zZSBleGFtcGxlOlxyXG4gKiB7XHJcbiAqICAgXCJtYXhVc2Vyc1wiOiAxMCxcclxuICogICBcInVzZWRVc2Vyc1wiOiA1LFxyXG4gKiAgIFwibWF4U3RvcmFnZVwiOiAxMCxcclxuICogICBcInVzZWRTdG9yYWdlXCI6IDMuNSxcclxuICogICBcIm1heEFwaUNhbGxzXCI6IDEwMDAwLFxyXG4gKiAgIFwidXNlZEFwaUNhbGxzXCI6IDIzNDVcclxuICogfVxyXG4gKiBcclxuICogQXV0aDogUmVxdWlyZWRcclxuICovXHJcbnJvdXRlci5nZXQoJy86dGVuYW50SWQvcXVvdGEnLCBhdXRoZW50aWNhdGVUb2tlbiwgdGVuYW50Q29udHJvbGxlci5nZXQoJy86dGVuYW50SWQvcXVvdGEnKSk7XHJcblxyXG4vKipcclxuICogUE9TVCAvYXBpL3RlbmFudHMvOnRlbmFudElkL2FwaS1jYWxsc1xyXG4gKiBSZWNvcmQgQVBJIGNhbGwgZm9yIHF1b3RhIHRyYWNraW5nXHJcbiAqIEF1dGg6IFJlcXVpcmVkXHJcbiAqL1xyXG5yb3V0ZXIucG9zdCgnLzp0ZW5hbnRJZC9hcGktY2FsbHMnLCB0ZW5hbnRDb250cm9sbGVyLnBvc3QoJy86dGVuYW50SWQvYXBpLWNhbGxzJykpO1xyXG5cclxuLyoqXHJcbiAqIFBPU1QgL2FwaS90ZW5hbnRzLzp0ZW5hbnRJZC9zdG9yYWdlXHJcbiAqIFJlY29yZCBzdG9yYWdlIHVzYWdlXHJcbiAqIFxyXG4gKiBCb2R5OlxyXG4gKiB7XHJcbiAqICAgXCJzaXplR0JcIjogMS41XHJcbiAqIH1cclxuICogXHJcbiAqIEF1dGg6IFJlcXVpcmVkXHJcbiAqL1xyXG5yb3V0ZXIucG9zdCgnLzp0ZW5hbnRJZC9zdG9yYWdlJywgYXV0aGVudGljYXRlVG9rZW4sIHRlbmFudENvbnRyb2xsZXIucG9zdCgnLzp0ZW5hbnRJZC9zdG9yYWdlJykpO1xyXG5cclxuLy8gPT09PT09PT09PT09PT09PT09PT0gUExBTlMgPT09PT09PT09PT09PT09PT09PT1cclxuXHJcbi8qKlxyXG4gKiBQT1NUIC9hcGkvdGVuYW50cy86dGVuYW50SWQvdXBncmFkZVxyXG4gKiBVcGdyYWRlIHRlbmFudCBwbGFuXHJcbiAqIFxyXG4gKiBCb2R5OlxyXG4gKiB7XHJcbiAqICAgXCJuZXdQbGFuXCI6IFwicHJvZmVzc2lvbmFsXCIgb3IgXCJlbnRlcnByaXNlXCJcclxuICogfVxyXG4gKiBcclxuICogQXV0aDogUmVxdWlyZWQgKE93bmVyIG9yIEFkbWluKVxyXG4gKi9cclxucm91dGVyLnBvc3QoJy86dGVuYW50SWQvdXBncmFkZScsIGF1dGhlbnRpY2F0ZVRva2VuLCB0ZW5hbnRDb250cm9sbGVyLnBvc3QoJy86dGVuYW50SWQvdXBncmFkZScpKTtcclxuXHJcbi8vID09PT09PT09PT09PT09PT09PT09IERBVEEgSVNPTEFUSU9OID09PT09PT09PT09PT09PT09PT09XHJcblxyXG4vKipcclxuICogR0VUIC9hcGkvdGVuYW50cy86dGVuYW50SWQvaXNvbGF0aW9uXHJcbiAqIEdldCB0ZW5hbnQgaXNvbGF0aW9uIHJlcG9ydFxyXG4gKiBcclxuICogUmVzcG9uc2U6XHJcbiAqIHtcclxuICogICBcInRlbmFudElkXCI6IFwidGVuYW50LTEyM1wiLFxyXG4gKiAgIFwidG90YWxJdGVtc1wiOiAxNTAsXHJcbiAqICAgXCJicmVha2Rvd25cIjoge1xyXG4gKiAgICAgXCJ1c2Vyc1wiOiA1LFxyXG4gKiAgICAgXCJyZXNvdXJjZXNcIjogMjAsXHJcbiAqICAgICBcImRvY3VtZW50c1wiOiAxMjVcclxuICogICB9XHJcbiAqIH1cclxuICogXHJcbiAqIEF1dGg6IFJlcXVpcmVkIChBZG1pbilcclxuICovXHJcbnJvdXRlci5nZXQoJy86dGVuYW50SWQvaXNvbGF0aW9uJywgYXV0aGVudGljYXRlVG9rZW4sIHRlbmFudENvbnRyb2xsZXIuZ2V0KCcvOnRlbmFudElkL2lzb2xhdGlvbicpKTtcclxuXHJcbi8vID09PT09PT09PT09PT09PT09PT09IFNUQVRJU1RJQ1MgPT09PT09PT09PT09PT09PT09PT1cclxuXHJcbi8qKlxyXG4gKiBHRVQgL2FwaS90ZW5hbnRzL3N0YXRzL2FsbFxyXG4gKiBHZXQgYWxsIHRlbmFudCBzdGF0aXN0aWNzXHJcbiAqIFxyXG4gKiBSZXNwb25zZTpcclxuICoge1xyXG4gKiAgIFwidGVuYW50c1wiOiB7IHRvdGFsLCBhY3RpdmUsIHN1c3BlbmRlZCwgLi4uIH0sXHJcbiAqICAgXCJpc29sYXRpb25cIjogeyB2aW9sYXRpb25zLCB1bmF1dGhvcml6ZWQsIC4uLiB9XHJcbiAqIH1cclxuICogXHJcbiAqIEF1dGg6IFJlcXVpcmVkIChTdXBlciBBZG1pbilcclxuICovXHJcbnJvdXRlci5nZXQoJy9zdGF0cy9hbGwnLCBhdXRoZW50aWNhdGVUb2tlbiwgdGVuYW50Q29udHJvbGxlci5nZXQoJy9zdGF0cy9hbGwnKSk7XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IHJvdXRlcjtcclxuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxNQUFNQSxPQUFPLEdBQUdDLE9BQU8sQ0FBQyxTQUFTLENBQUM7QUFDbEMsTUFBTUMsZ0JBQWdCLEdBQUdELE9BQU8sQ0FBQyxrQ0FBa0MsQ0FBQztBQUNwRSxNQUFNO0VBQUVFO0FBQWtCLENBQUMsR0FBR0YsT0FBTyxDQUFDLG9CQUFvQixDQUFDO0FBRTNELE1BQU1HLE1BQU0sR0FBR0osT0FBTyxDQUFDSyxNQUFNLENBQUMsQ0FBQzs7QUFFL0I7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0FELE1BQU0sQ0FBQ0UsSUFBSSxDQUFDLEdBQUcsRUFBRUosZ0JBQWdCLENBQUNJLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQzs7QUFFNUM7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0FGLE1BQU0sQ0FBQ0csR0FBRyxDQUFDLEdBQUcsRUFBRUosaUJBQWlCLEVBQUVELGdCQUFnQixDQUFDSyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUM7O0FBRTdEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQUgsTUFBTSxDQUFDRyxHQUFHLENBQUMsWUFBWSxFQUFFSixpQkFBaUIsRUFBRUQsZ0JBQWdCLENBQUNLLEdBQUcsQ0FBQyxZQUFZLENBQUMsQ0FBQzs7QUFFL0U7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBSCxNQUFNLENBQUNJLEdBQUcsQ0FBQyxZQUFZLEVBQUVMLGlCQUFpQixFQUFFRCxnQkFBZ0IsQ0FBQ00sR0FBRyxDQUFDLFlBQVksQ0FBQyxDQUFDOztBQUUvRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0FKLE1BQU0sQ0FBQ0ssTUFBTSxDQUFDLFlBQVksRUFBRU4saUJBQWlCLEVBQUVELGdCQUFnQixDQUFDTyxNQUFNLENBQUMsWUFBWSxDQUFDLENBQUM7O0FBRXJGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQUwsTUFBTSxDQUFDRSxJQUFJLENBQUMsb0JBQW9CLEVBQUVILGlCQUFpQixFQUFFRCxnQkFBZ0IsQ0FBQ0ksSUFBSSxDQUFDLG9CQUFvQixDQUFDLENBQUM7O0FBRWpHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQUYsTUFBTSxDQUFDRSxJQUFJLENBQUMsdUJBQXVCLEVBQUVILGlCQUFpQixFQUFFRCxnQkFBZ0IsQ0FBQ0ksSUFBSSxDQUFDLHVCQUF1QixDQUFDLENBQUM7O0FBRXZHOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBRixNQUFNLENBQUNFLElBQUksQ0FBQyxrQkFBa0IsRUFBRUgsaUJBQWlCLEVBQUVELGdCQUFnQixDQUFDSSxJQUFJLENBQUMsa0JBQWtCLENBQUMsQ0FBQzs7QUFFN0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBRixNQUFNLENBQUNHLEdBQUcsQ0FBQyxrQkFBa0IsRUFBRUosaUJBQWlCLEVBQUVELGdCQUFnQixDQUFDSyxHQUFHLENBQUMsa0JBQWtCLENBQUMsQ0FBQzs7QUFFM0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBSCxNQUFNLENBQUNLLE1BQU0sQ0FBQywwQkFBMEIsRUFBRU4saUJBQWlCLEVBQUVELGdCQUFnQixDQUFDTyxNQUFNLENBQUMsMEJBQTBCLENBQUMsQ0FBQzs7QUFFakg7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBTCxNQUFNLENBQUNHLEdBQUcsQ0FBQyxxQkFBcUIsRUFBRUosaUJBQWlCLEVBQUVELGdCQUFnQixDQUFDSyxHQUFHLENBQUMscUJBQXFCLENBQUMsQ0FBQzs7QUFFakc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBSCxNQUFNLENBQUNJLEdBQUcsQ0FBQyxxQkFBcUIsRUFBRUwsaUJBQWlCLEVBQUVELGdCQUFnQixDQUFDTSxHQUFHLENBQUMscUJBQXFCLENBQUMsQ0FBQzs7QUFFakc7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQUosTUFBTSxDQUFDRyxHQUFHLENBQUMsa0JBQWtCLEVBQUVKLGlCQUFpQixFQUFFRCxnQkFBZ0IsQ0FBQ0ssR0FBRyxDQUFDLGtCQUFrQixDQUFDLENBQUM7O0FBRTNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQUgsTUFBTSxDQUFDRSxJQUFJLENBQUMsc0JBQXNCLEVBQUVKLGdCQUFnQixDQUFDSSxJQUFJLENBQUMsc0JBQXNCLENBQUMsQ0FBQzs7QUFFbEY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBRixNQUFNLENBQUNFLElBQUksQ0FBQyxvQkFBb0IsRUFBRUgsaUJBQWlCLEVBQUVELGdCQUFnQixDQUFDSSxJQUFJLENBQUMsb0JBQW9CLENBQUMsQ0FBQzs7QUFFakc7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBRixNQUFNLENBQUNFLElBQUksQ0FBQyxvQkFBb0IsRUFBRUgsaUJBQWlCLEVBQUVELGdCQUFnQixDQUFDSSxJQUFJLENBQUMsb0JBQW9CLENBQUMsQ0FBQzs7QUFFakc7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBRixNQUFNLENBQUNHLEdBQUcsQ0FBQyxzQkFBc0IsRUFBRUosaUJBQWlCLEVBQUVELGdCQUFnQixDQUFDSyxHQUFHLENBQUMsc0JBQXNCLENBQUMsQ0FBQzs7QUFFbkc7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0FILE1BQU0sQ0FBQ0csR0FBRyxDQUFDLFlBQVksRUFBRUosaUJBQWlCLEVBQUVELGdCQUFnQixDQUFDSyxHQUFHLENBQUMsWUFBWSxDQUFDLENBQUM7QUFFL0VHLE1BQU0sQ0FBQ0MsT0FBTyxHQUFHUCxNQUFNIiwiaWdub3JlTGlzdCI6W119