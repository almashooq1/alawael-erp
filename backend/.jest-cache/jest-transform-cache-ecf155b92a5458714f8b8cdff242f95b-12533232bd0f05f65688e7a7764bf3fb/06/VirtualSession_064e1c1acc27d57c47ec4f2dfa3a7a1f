437c8dd4f519176be00329a4ba65247c
const mongoose = require('mongoose');
const virtualSessionSchema = new mongoose.Schema({
  title: {
    type: String,
    required: [true, 'عنوان الجلسة مطلوب'],
    trim: true
  },
  description: {
    type: String,
    required: [true, 'وصف الجلسة مطلوب']
  },
  sessionType: {
    type: String,
    enum: ['workshop', 'webinar', 'training', 'consultation', 'discussion_group'],
    default: 'webinar',
    required: true
  },
  targetDisabilityCategory: {
    type: String,
    enum: ['visual', 'hearing', 'mobility', 'intellectual', 'psychosocial', 'multiple', 'all'],
    default: 'all'
  },
  instructor: {
    type: mongoose.Schema.Types.ObjectId,
    ref: 'User',
    required: true
  },
  coInstructors: [{
    type: mongoose.Schema.Types.ObjectId,
    ref: 'User'
  }],
  scheduledDate: {
    type: Date,
    required: [true, 'تاريخ الجلسة مطلوب']
  },
  duration: {
    type: Number,
    required: [true, 'مدة الجلسة مطلوبة'],
    description: 'المدة بالدقائق'
  },
  maxParticipants: {
    type: Number,
    default: 100
  },
  currentParticipants: {
    type: Number,
    default: 0
  },
  meetingLink: {
    type: String,
    required: [true, 'رابط الاجتماع مطلوب']
  },
  password: String,
  platform: {
    type: String,
    enum: ['zoom', 'teams', 'jitsi', 'google_meet', 'youtube_live'],
    default: 'zoom'
  },
  language: {
    type: String,
    default: 'ar',
    enum: ['ar', 'en', 'fr']
  },
  accessibilityServices: {
    arabicSignLanguageInterpreter: Boolean,
    liveSubtitles: Boolean,
    arabicSubtitles: Boolean,
    englishSubtitles: Boolean,
    audioDescription: Boolean,
    largeFont: Boolean,
    recordingAvailable: {
      type: Boolean,
      default: false
    }
  },
  agenda: [{
    time: String,
    topic: String,
    duration: Number
  }],
  materials: [{
    name: String,
    url: String,
    description: String
  }],
  registrations: [{
    userId: {
      type: mongoose.Schema.Types.ObjectId,
      ref: 'User'
    },
    registrationDate: {
      type: Date,
      default: Date.now
    },
    status: {
      type: String,
      enum: ['registered', 'attended', 'no_show', 'cancelled'],
      default: 'registered'
    }
  }],
  speakers: [{
    name: String,
    title: String,
    bio: String,
    imageUrl: String
  }],
  status: {
    type: String,
    enum: ['draft', 'scheduled', 'ongoing', 'completed', 'cancelled'],
    default: 'draft'
  },
  recordingUrl: String,
  feedback: [{
    userId: {
      type: mongoose.Schema.Types.ObjectId,
      ref: 'User'
    },
    rating: {
      type: Number,
      min: 1,
      max: 5
    },
    comment: String,
    date: {
      type: Date,
      default: Date.now
    }
  }],
  statistics: {
    registeredCount: {
      type: Number,
      default: 0
    },
    attendedCount: {
      type: Number,
      default: 0
    },
    noShowCount: {
      type: Number,
      default: 0
    },
    averageRating: {
      type: Number,
      default: 0
    }
  }
}, {
  timestamps: true,
  toJSON: {
    virtuals: true
  },
  toObject: {
    virtuals: true
  }
});

// Indexes
virtualSessionSchema.index({
  scheduledDate: 1,
  status: 1
});
virtualSessionSchema.index({
  instructor: 1
});
virtualSessionSchema.index({
  targetDisabilityCategory: 1
});
virtualSessionSchema.index({
  createdAt: -1
});

// Virtual for is full
virtualSessionSchema.virtual('isFull').get(function () {
  return this.currentParticipants >= this.maxParticipants;
});

// Virtual for days until session
virtualSessionSchema.virtual('daysUntilSession').get(function () {
  const now = new Date();
  const diff = this.scheduledDate - now;
  return Math.ceil(diff / (1000 * 60 * 60 * 24));
});

// Static method to get upcoming sessions
virtualSessionSchema.statics.getUpcomingSessions = function (limit = 10) {
  const now = new Date();
  return this.find({
    scheduledDate: {
      $gte: now
    },
    status: {
      $in: ['scheduled', 'draft']
    }
  }).sort({
    scheduledDate: 1
  }).limit(limit).populate('instructor', 'name email');
};

// Static method to get sessions by category
virtualSessionSchema.statics.getByCategory = function (category) {
  return this.find({
    targetDisabilityCategory: {
      $in: [category, 'all']
    },
    status: {
      $in: ['scheduled', 'completed']
    }
  }).sort({
    scheduledDate: -1
  }).populate('instructor', 'name email');
};
module.exports = mongoose.model('VirtualSession', virtualSessionSchema);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJtb25nb29zZSIsInJlcXVpcmUiLCJ2aXJ0dWFsU2Vzc2lvblNjaGVtYSIsIlNjaGVtYSIsInRpdGxlIiwidHlwZSIsIlN0cmluZyIsInJlcXVpcmVkIiwidHJpbSIsImRlc2NyaXB0aW9uIiwic2Vzc2lvblR5cGUiLCJlbnVtIiwiZGVmYXVsdCIsInRhcmdldERpc2FiaWxpdHlDYXRlZ29yeSIsImluc3RydWN0b3IiLCJUeXBlcyIsIk9iamVjdElkIiwicmVmIiwiY29JbnN0cnVjdG9ycyIsInNjaGVkdWxlZERhdGUiLCJEYXRlIiwiZHVyYXRpb24iLCJOdW1iZXIiLCJtYXhQYXJ0aWNpcGFudHMiLCJjdXJyZW50UGFydGljaXBhbnRzIiwibWVldGluZ0xpbmsiLCJwYXNzd29yZCIsInBsYXRmb3JtIiwibGFuZ3VhZ2UiLCJhY2Nlc3NpYmlsaXR5U2VydmljZXMiLCJhcmFiaWNTaWduTGFuZ3VhZ2VJbnRlcnByZXRlciIsIkJvb2xlYW4iLCJsaXZlU3VidGl0bGVzIiwiYXJhYmljU3VidGl0bGVzIiwiZW5nbGlzaFN1YnRpdGxlcyIsImF1ZGlvRGVzY3JpcHRpb24iLCJsYXJnZUZvbnQiLCJyZWNvcmRpbmdBdmFpbGFibGUiLCJhZ2VuZGEiLCJ0aW1lIiwidG9waWMiLCJtYXRlcmlhbHMiLCJuYW1lIiwidXJsIiwicmVnaXN0cmF0aW9ucyIsInVzZXJJZCIsInJlZ2lzdHJhdGlvbkRhdGUiLCJub3ciLCJzdGF0dXMiLCJzcGVha2VycyIsImJpbyIsImltYWdlVXJsIiwicmVjb3JkaW5nVXJsIiwiZmVlZGJhY2siLCJyYXRpbmciLCJtaW4iLCJtYXgiLCJjb21tZW50IiwiZGF0ZSIsInN0YXRpc3RpY3MiLCJyZWdpc3RlcmVkQ291bnQiLCJhdHRlbmRlZENvdW50Iiwibm9TaG93Q291bnQiLCJhdmVyYWdlUmF0aW5nIiwidGltZXN0YW1wcyIsInRvSlNPTiIsInZpcnR1YWxzIiwidG9PYmplY3QiLCJpbmRleCIsImNyZWF0ZWRBdCIsInZpcnR1YWwiLCJnZXQiLCJkaWZmIiwiTWF0aCIsImNlaWwiLCJzdGF0aWNzIiwiZ2V0VXBjb21pbmdTZXNzaW9ucyIsImxpbWl0IiwiZmluZCIsIiRndGUiLCIkaW4iLCJzb3J0IiwicG9wdWxhdGUiLCJnZXRCeUNhdGVnb3J5IiwiY2F0ZWdvcnkiLCJtb2R1bGUiLCJleHBvcnRzIiwibW9kZWwiXSwic291cmNlcyI6WyJWaXJ0dWFsU2Vzc2lvbi5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBtb25nb29zZSA9IHJlcXVpcmUoJ21vbmdvb3NlJyk7XHJcblxyXG5jb25zdCB2aXJ0dWFsU2Vzc2lvblNjaGVtYSA9IG5ldyBtb25nb29zZS5TY2hlbWEoXHJcbiAge1xyXG4gICAgdGl0bGU6IHtcclxuICAgICAgdHlwZTogU3RyaW5nLFxyXG4gICAgICByZXF1aXJlZDogW3RydWUsICfYudmG2YjYp9mGINin2YTYrNmE2LPYqSDZhdi32YTZiNioJ10sXHJcbiAgICAgIHRyaW06IHRydWUsXHJcbiAgICB9LFxyXG4gICAgZGVzY3JpcHRpb246IHtcclxuICAgICAgdHlwZTogU3RyaW5nLFxyXG4gICAgICByZXF1aXJlZDogW3RydWUsICfZiNi12YEg2KfZhNis2YTYs9ipINmF2LfZhNmI2KgnXSxcclxuICAgIH0sXHJcbiAgICBzZXNzaW9uVHlwZToge1xyXG4gICAgICB0eXBlOiBTdHJpbmcsXHJcbiAgICAgIGVudW06IFsnd29ya3Nob3AnLCAnd2ViaW5hcicsICd0cmFpbmluZycsICdjb25zdWx0YXRpb24nLCAnZGlzY3Vzc2lvbl9ncm91cCddLFxyXG4gICAgICBkZWZhdWx0OiAnd2ViaW5hcicsXHJcbiAgICAgIHJlcXVpcmVkOiB0cnVlLFxyXG4gICAgfSxcclxuICAgIHRhcmdldERpc2FiaWxpdHlDYXRlZ29yeToge1xyXG4gICAgICB0eXBlOiBTdHJpbmcsXHJcbiAgICAgIGVudW06IFsndmlzdWFsJywgJ2hlYXJpbmcnLCAnbW9iaWxpdHknLCAnaW50ZWxsZWN0dWFsJywgJ3BzeWNob3NvY2lhbCcsICdtdWx0aXBsZScsICdhbGwnXSxcclxuICAgICAgZGVmYXVsdDogJ2FsbCcsXHJcbiAgICB9LFxyXG4gICAgaW5zdHJ1Y3Rvcjoge1xyXG4gICAgICB0eXBlOiBtb25nb29zZS5TY2hlbWEuVHlwZXMuT2JqZWN0SWQsXHJcbiAgICAgIHJlZjogJ1VzZXInLFxyXG4gICAgICByZXF1aXJlZDogdHJ1ZSxcclxuICAgIH0sXHJcbiAgICBjb0luc3RydWN0b3JzOiBbXHJcbiAgICAgIHtcclxuICAgICAgICB0eXBlOiBtb25nb29zZS5TY2hlbWEuVHlwZXMuT2JqZWN0SWQsXHJcbiAgICAgICAgcmVmOiAnVXNlcicsXHJcbiAgICAgIH0sXHJcbiAgICBdLFxyXG4gICAgc2NoZWR1bGVkRGF0ZToge1xyXG4gICAgICB0eXBlOiBEYXRlLFxyXG4gICAgICByZXF1aXJlZDogW3RydWUsICfYqtin2LHZitiuINin2YTYrNmE2LPYqSDZhdi32YTZiNioJ10sXHJcbiAgICB9LFxyXG4gICAgZHVyYXRpb246IHtcclxuICAgICAgdHlwZTogTnVtYmVyLFxyXG4gICAgICByZXF1aXJlZDogW3RydWUsICfZhdiv2Kkg2KfZhNis2YTYs9ipINmF2LfZhNmI2KjYqSddLFxyXG4gICAgICBkZXNjcmlwdGlvbjogJ9in2YTZhdiv2Kkg2KjYp9mE2K/Zgtin2KbZgicsXHJcbiAgICB9LFxyXG4gICAgbWF4UGFydGljaXBhbnRzOiB7XHJcbiAgICAgIHR5cGU6IE51bWJlcixcclxuICAgICAgZGVmYXVsdDogMTAwLFxyXG4gICAgfSxcclxuICAgIGN1cnJlbnRQYXJ0aWNpcGFudHM6IHtcclxuICAgICAgdHlwZTogTnVtYmVyLFxyXG4gICAgICBkZWZhdWx0OiAwLFxyXG4gICAgfSxcclxuICAgIG1lZXRpbmdMaW5rOiB7XHJcbiAgICAgIHR5cGU6IFN0cmluZyxcclxuICAgICAgcmVxdWlyZWQ6IFt0cnVlLCAn2LHYp9io2Lcg2KfZhNin2KzYqtmF2KfYuSDZhdi32YTZiNioJ10sXHJcbiAgICB9LFxyXG4gICAgcGFzc3dvcmQ6IFN0cmluZyxcclxuICAgIHBsYXRmb3JtOiB7XHJcbiAgICAgIHR5cGU6IFN0cmluZyxcclxuICAgICAgZW51bTogWyd6b29tJywgJ3RlYW1zJywgJ2ppdHNpJywgJ2dvb2dsZV9tZWV0JywgJ3lvdXR1YmVfbGl2ZSddLFxyXG4gICAgICBkZWZhdWx0OiAnem9vbScsXHJcbiAgICB9LFxyXG4gICAgbGFuZ3VhZ2U6IHtcclxuICAgICAgdHlwZTogU3RyaW5nLFxyXG4gICAgICBkZWZhdWx0OiAnYXInLFxyXG4gICAgICBlbnVtOiBbJ2FyJywgJ2VuJywgJ2ZyJ10sXHJcbiAgICB9LFxyXG4gICAgYWNjZXNzaWJpbGl0eVNlcnZpY2VzOiB7XHJcbiAgICAgIGFyYWJpY1NpZ25MYW5ndWFnZUludGVycHJldGVyOiBCb29sZWFuLFxyXG4gICAgICBsaXZlU3VidGl0bGVzOiBCb29sZWFuLFxyXG4gICAgICBhcmFiaWNTdWJ0aXRsZXM6IEJvb2xlYW4sXHJcbiAgICAgIGVuZ2xpc2hTdWJ0aXRsZXM6IEJvb2xlYW4sXHJcbiAgICAgIGF1ZGlvRGVzY3JpcHRpb246IEJvb2xlYW4sXHJcbiAgICAgIGxhcmdlRm9udDogQm9vbGVhbixcclxuICAgICAgcmVjb3JkaW5nQXZhaWxhYmxlOiB7XHJcbiAgICAgICAgdHlwZTogQm9vbGVhbixcclxuICAgICAgICBkZWZhdWx0OiBmYWxzZSxcclxuICAgICAgfSxcclxuICAgIH0sXHJcbiAgICBhZ2VuZGE6IFtcclxuICAgICAge1xyXG4gICAgICAgIHRpbWU6IFN0cmluZyxcclxuICAgICAgICB0b3BpYzogU3RyaW5nLFxyXG4gICAgICAgIGR1cmF0aW9uOiBOdW1iZXIsXHJcbiAgICAgIH0sXHJcbiAgICBdLFxyXG4gICAgbWF0ZXJpYWxzOiBbXHJcbiAgICAgIHtcclxuICAgICAgICBuYW1lOiBTdHJpbmcsXHJcbiAgICAgICAgdXJsOiBTdHJpbmcsXHJcbiAgICAgICAgZGVzY3JpcHRpb246IFN0cmluZyxcclxuICAgICAgfSxcclxuICAgIF0sXHJcbiAgICByZWdpc3RyYXRpb25zOiBbXHJcbiAgICAgIHtcclxuICAgICAgICB1c2VySWQ6IHtcclxuICAgICAgICAgIHR5cGU6IG1vbmdvb3NlLlNjaGVtYS5UeXBlcy5PYmplY3RJZCxcclxuICAgICAgICAgIHJlZjogJ1VzZXInLFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgcmVnaXN0cmF0aW9uRGF0ZToge1xyXG4gICAgICAgICAgdHlwZTogRGF0ZSxcclxuICAgICAgICAgIGRlZmF1bHQ6IERhdGUubm93LFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgc3RhdHVzOiB7XHJcbiAgICAgICAgICB0eXBlOiBTdHJpbmcsXHJcbiAgICAgICAgICBlbnVtOiBbJ3JlZ2lzdGVyZWQnLCAnYXR0ZW5kZWQnLCAnbm9fc2hvdycsICdjYW5jZWxsZWQnXSxcclxuICAgICAgICAgIGRlZmF1bHQ6ICdyZWdpc3RlcmVkJyxcclxuICAgICAgICB9LFxyXG4gICAgICB9LFxyXG4gICAgXSxcclxuICAgIHNwZWFrZXJzOiBbXHJcbiAgICAgIHtcclxuICAgICAgICBuYW1lOiBTdHJpbmcsXHJcbiAgICAgICAgdGl0bGU6IFN0cmluZyxcclxuICAgICAgICBiaW86IFN0cmluZyxcclxuICAgICAgICBpbWFnZVVybDogU3RyaW5nLFxyXG4gICAgICB9LFxyXG4gICAgXSxcclxuICAgIHN0YXR1czoge1xyXG4gICAgICB0eXBlOiBTdHJpbmcsXHJcbiAgICAgIGVudW06IFsnZHJhZnQnLCAnc2NoZWR1bGVkJywgJ29uZ29pbmcnLCAnY29tcGxldGVkJywgJ2NhbmNlbGxlZCddLFxyXG4gICAgICBkZWZhdWx0OiAnZHJhZnQnLFxyXG4gICAgfSxcclxuICAgIHJlY29yZGluZ1VybDogU3RyaW5nLFxyXG4gICAgZmVlZGJhY2s6IFtcclxuICAgICAge1xyXG4gICAgICAgIHVzZXJJZDoge1xyXG4gICAgICAgICAgdHlwZTogbW9uZ29vc2UuU2NoZW1hLlR5cGVzLk9iamVjdElkLFxyXG4gICAgICAgICAgcmVmOiAnVXNlcicsXHJcbiAgICAgICAgfSxcclxuICAgICAgICByYXRpbmc6IHtcclxuICAgICAgICAgIHR5cGU6IE51bWJlcixcclxuICAgICAgICAgIG1pbjogMSxcclxuICAgICAgICAgIG1heDogNSxcclxuICAgICAgICB9LFxyXG4gICAgICAgIGNvbW1lbnQ6IFN0cmluZyxcclxuICAgICAgICBkYXRlOiB7XHJcbiAgICAgICAgICB0eXBlOiBEYXRlLFxyXG4gICAgICAgICAgZGVmYXVsdDogRGF0ZS5ub3csXHJcbiAgICAgICAgfSxcclxuICAgICAgfSxcclxuICAgIF0sXHJcbiAgICBzdGF0aXN0aWNzOiB7XHJcbiAgICAgIHJlZ2lzdGVyZWRDb3VudDoge1xyXG4gICAgICAgIHR5cGU6IE51bWJlcixcclxuICAgICAgICBkZWZhdWx0OiAwLFxyXG4gICAgICB9LFxyXG4gICAgICBhdHRlbmRlZENvdW50OiB7XHJcbiAgICAgICAgdHlwZTogTnVtYmVyLFxyXG4gICAgICAgIGRlZmF1bHQ6IDAsXHJcbiAgICAgIH0sXHJcbiAgICAgIG5vU2hvd0NvdW50OiB7XHJcbiAgICAgICAgdHlwZTogTnVtYmVyLFxyXG4gICAgICAgIGRlZmF1bHQ6IDAsXHJcbiAgICAgIH0sXHJcbiAgICAgIGF2ZXJhZ2VSYXRpbmc6IHtcclxuICAgICAgICB0eXBlOiBOdW1iZXIsXHJcbiAgICAgICAgZGVmYXVsdDogMCxcclxuICAgICAgfSxcclxuICAgIH0sXHJcbiAgfSxcclxuICB7XHJcbiAgICB0aW1lc3RhbXBzOiB0cnVlLFxyXG4gICAgdG9KU09OOiB7IHZpcnR1YWxzOiB0cnVlIH0sXHJcbiAgICB0b09iamVjdDogeyB2aXJ0dWFsczogdHJ1ZSB9LFxyXG4gIH1cclxuKTtcclxuXHJcbi8vIEluZGV4ZXNcclxudmlydHVhbFNlc3Npb25TY2hlbWEuaW5kZXgoeyBzY2hlZHVsZWREYXRlOiAxLCBzdGF0dXM6IDEgfSk7XHJcbnZpcnR1YWxTZXNzaW9uU2NoZW1hLmluZGV4KHsgaW5zdHJ1Y3RvcjogMSB9KTtcclxudmlydHVhbFNlc3Npb25TY2hlbWEuaW5kZXgoeyB0YXJnZXREaXNhYmlsaXR5Q2F0ZWdvcnk6IDEgfSk7XHJcbnZpcnR1YWxTZXNzaW9uU2NoZW1hLmluZGV4KHsgY3JlYXRlZEF0OiAtMSB9KTtcclxuXHJcbi8vIFZpcnR1YWwgZm9yIGlzIGZ1bGxcclxudmlydHVhbFNlc3Npb25TY2hlbWEudmlydHVhbCgnaXNGdWxsJykuZ2V0KGZ1bmN0aW9uICgpIHtcclxuICByZXR1cm4gdGhpcy5jdXJyZW50UGFydGljaXBhbnRzID49IHRoaXMubWF4UGFydGljaXBhbnRzO1xyXG59KTtcclxuXHJcbi8vIFZpcnR1YWwgZm9yIGRheXMgdW50aWwgc2Vzc2lvblxyXG52aXJ0dWFsU2Vzc2lvblNjaGVtYS52aXJ0dWFsKCdkYXlzVW50aWxTZXNzaW9uJykuZ2V0KGZ1bmN0aW9uICgpIHtcclxuICBjb25zdCBub3cgPSBuZXcgRGF0ZSgpO1xyXG4gIGNvbnN0IGRpZmYgPSB0aGlzLnNjaGVkdWxlZERhdGUgLSBub3c7XHJcbiAgcmV0dXJuIE1hdGguY2VpbChkaWZmIC8gKDEwMDAgKiA2MCAqIDYwICogMjQpKTtcclxufSk7XHJcblxyXG4vLyBTdGF0aWMgbWV0aG9kIHRvIGdldCB1cGNvbWluZyBzZXNzaW9uc1xyXG52aXJ0dWFsU2Vzc2lvblNjaGVtYS5zdGF0aWNzLmdldFVwY29taW5nU2Vzc2lvbnMgPSBmdW5jdGlvbiAobGltaXQgPSAxMCkge1xyXG4gIGNvbnN0IG5vdyA9IG5ldyBEYXRlKCk7XHJcbiAgcmV0dXJuIHRoaXMuZmluZCh7XHJcbiAgICBzY2hlZHVsZWREYXRlOiB7ICRndGU6IG5vdyB9LFxyXG4gICAgc3RhdHVzOiB7ICRpbjogWydzY2hlZHVsZWQnLCAnZHJhZnQnXSB9LFxyXG4gIH0pXHJcbiAgICAuc29ydCh7IHNjaGVkdWxlZERhdGU6IDEgfSlcclxuICAgIC5saW1pdChsaW1pdClcclxuICAgIC5wb3B1bGF0ZSgnaW5zdHJ1Y3RvcicsICduYW1lIGVtYWlsJyk7XHJcbn07XHJcblxyXG4vLyBTdGF0aWMgbWV0aG9kIHRvIGdldCBzZXNzaW9ucyBieSBjYXRlZ29yeVxyXG52aXJ0dWFsU2Vzc2lvblNjaGVtYS5zdGF0aWNzLmdldEJ5Q2F0ZWdvcnkgPSBmdW5jdGlvbiAoY2F0ZWdvcnkpIHtcclxuICByZXR1cm4gdGhpcy5maW5kKHtcclxuICAgIHRhcmdldERpc2FiaWxpdHlDYXRlZ29yeTogeyAkaW46IFtjYXRlZ29yeSwgJ2FsbCddIH0sXHJcbiAgICBzdGF0dXM6IHsgJGluOiBbJ3NjaGVkdWxlZCcsICdjb21wbGV0ZWQnXSB9LFxyXG4gIH0pXHJcbiAgICAuc29ydCh7IHNjaGVkdWxlZERhdGU6IC0xIH0pXHJcbiAgICAucG9wdWxhdGUoJ2luc3RydWN0b3InLCAnbmFtZSBlbWFpbCcpO1xyXG59O1xyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBtb25nb29zZS5tb2RlbCgnVmlydHVhbFNlc3Npb24nLCB2aXJ0dWFsU2Vzc2lvblNjaGVtYSk7XHJcbiJdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTUEsUUFBUSxHQUFHQyxPQUFPLENBQUMsVUFBVSxDQUFDO0FBRXBDLE1BQU1DLG9CQUFvQixHQUFHLElBQUlGLFFBQVEsQ0FBQ0csTUFBTSxDQUM5QztFQUNFQyxLQUFLLEVBQUU7SUFDTEMsSUFBSSxFQUFFQyxNQUFNO0lBQ1pDLFFBQVEsRUFBRSxDQUFDLElBQUksRUFBRSxvQkFBb0IsQ0FBQztJQUN0Q0MsSUFBSSxFQUFFO0VBQ1IsQ0FBQztFQUNEQyxXQUFXLEVBQUU7SUFDWEosSUFBSSxFQUFFQyxNQUFNO0lBQ1pDLFFBQVEsRUFBRSxDQUFDLElBQUksRUFBRSxrQkFBa0I7RUFDckMsQ0FBQztFQUNERyxXQUFXLEVBQUU7SUFDWEwsSUFBSSxFQUFFQyxNQUFNO0lBQ1pLLElBQUksRUFBRSxDQUFDLFVBQVUsRUFBRSxTQUFTLEVBQUUsVUFBVSxFQUFFLGNBQWMsRUFBRSxrQkFBa0IsQ0FBQztJQUM3RUMsT0FBTyxFQUFFLFNBQVM7SUFDbEJMLFFBQVEsRUFBRTtFQUNaLENBQUM7RUFDRE0sd0JBQXdCLEVB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