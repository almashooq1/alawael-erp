{"version":3,"names":["express","require","SupportService","ApiResponse","ApiError","router","Router","post","req","res","next","ticket","createTicket","body","status","json","error","message","get","tickets","getAllTickets","query","put","result","updateTicketStatus","params","id","comment","addComment","stats","getTicketStats","faq","getFAQ","teamStatus","getTeamStatus","results","searchKnowledgeBase","q","module","exports"],"sources":["support.js"],"sourcesContent":["// Support Routes\r\nconst express = require('express');\r\nconst SupportService = require('../services/supportService');\r\nconst { ApiResponse, ApiError } = require('../utils/apiResponse');\r\n\r\nconst router = express.Router();\r\n\r\n// Create ticket\r\nrouter.post('/tickets/create', (req, res, next) => {\r\n  try {\r\n    const ticket = SupportService.createTicket(req.body);\r\n    return res.status(201).json(new ApiResponse(201, ticket, 'Support ticket created'));\r\n  } catch (error) {\r\n    return next(new ApiError(500, 'Failed to create support ticket', [error.message]));\r\n  }\r\n});\r\n\r\n// Get all tickets\r\nrouter.get('/tickets', (req, res, next) => {\r\n  try {\r\n    const tickets = SupportService.getAllTickets(req.query);\r\n    return res.json(new ApiResponse(200, tickets, 'Support tickets fetched'));\r\n  } catch (error) {\r\n    return next(new ApiError(500, 'Failed to fetch support tickets', [error.message]));\r\n  }\r\n});\r\n\r\n// Update ticket status\r\nrouter.put('/tickets/:id/status', (req, res, next) => {\r\n  try {\r\n    const result = SupportService.updateTicketStatus(req.params.id, req.body.status);\r\n    return res.json(new ApiResponse(200, result, 'Ticket status updated'));\r\n  } catch (error) {\r\n    return next(new ApiError(500, 'Failed to update ticket status', [error.message]));\r\n  }\r\n});\r\n\r\n// Add comment to ticket\r\nrouter.post('/tickets/:id/comments', (req, res, next) => {\r\n  try {\r\n    const comment = SupportService.addComment(req.params.id, req.body);\r\n    return res.status(201).json(new ApiResponse(201, comment, 'Comment added'));\r\n  } catch (error) {\r\n    return next(new ApiError(500, 'Failed to add comment', [error.message]));\r\n  }\r\n});\r\n\r\n// Get ticket statistics\r\nrouter.get('/statistics', (req, res, next) => {\r\n  try {\r\n    const stats = SupportService.getTicketStats();\r\n    return res.json(new ApiResponse(200, stats, 'Ticket statistics fetched'));\r\n  } catch (error) {\r\n    return next(new ApiError(500, 'Failed to fetch ticket statistics', [error.message]));\r\n  }\r\n});\r\n\r\n// Get FAQ\r\nrouter.get('/faq', (req, res, next) => {\r\n  try {\r\n    const faq = SupportService.getFAQ();\r\n    return res.json(new ApiResponse(200, faq, 'FAQ fetched'));\r\n  } catch (error) {\r\n    return next(new ApiError(500, 'Failed to fetch FAQ', [error.message]));\r\n  }\r\n});\r\n\r\n// Get team status\r\nrouter.get('/team/status', (req, res, next) => {\r\n  try {\r\n    const teamStatus = SupportService.getTeamStatus();\r\n    return res.json(new ApiResponse(200, teamStatus, 'Team status fetched'));\r\n  } catch (error) {\r\n    return next(new ApiError(500, 'Failed to fetch team status', [error.message]));\r\n  }\r\n});\r\n\r\n// Search knowledge base\r\nrouter.get('/kb/search', (req, res, next) => {\r\n  try {\r\n    const results = SupportService.searchKnowledgeBase(req.query.q || '');\r\n    return res.json(new ApiResponse(200, results, 'Knowledge base search results'));\r\n  } catch (error) {\r\n    return next(new ApiError(500, 'Failed to search knowledge base', [error.message]));\r\n  }\r\n});\r\n\r\nmodule.exports = router;\r\n"],"mappings":"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","ignoreList":[]}