{"version":3,"names":["mongoose","require","beneficiarySchema","Schema","firstName","type","String","required","lastName","email","unique","lowercase","phone","nationalId","sparse","dateOfBirth","Date","gender","enum","familySize","Number","familyIncome","familyMembers","name","relation","age","status","enrolledPrograms","programId","Types","ObjectId","programName","enrollmentDate","default","now","progress","password","accountStatus","lastLoginDate","loginAttempts","passwordResetToken","passwordResetExpires","twoFactorSecret","twoFactorEnabled","Boolean","preferredLanguage","notificationPreferences","sms","inApp","createdAt","updatedAt","lastActivityDate","documentUploadCount","satisfactionScore","timestamps","scheduleSchema","beneficiaryId","ref","items","title","description","category","startDate","endDate","location","instructor","isVirtual","meetingLink","attachments","reminder","reminderTime","attended","progressReportSchema","overallProgress","min","max","attendanceRate","assignmentCompletion","assessmentScore","sessionsAttended","sessionsTotal","assignmentsCompleted","assignmentsTotal","averageGrade","achievements","earnedDate","badgeUrl","instructorFeedback","summary","strengths","areasForImprovement","recommendations","lastUpdated","messageSchema","conversationId","senderId","senderName","senderRole","recipientId","recipientName","subject","body","fileName","fileUrl","fileSize","fileType","uploadedAt","isEncrypted","encryptionType","readAt","isRead","isPinned","isSpam","isArchived","isFlagged","priority","expiresAt","conversationSchema","participants","userId","role","addedAt","lastMessage","lastMessageDate","lastMessageSenderId","isActive","muteNotifications","messageCount","surveySchema","questions","id","question","options","scale","order","isAnonymous","allowSkipQuestions","oneResponsePerBeneficiary","createdBy","surveyResponseSchema","surveyId","responses","questionId","answer","Mixed","value","completionTime","completedAt","ipAddress","userAgent","notificationSchema","relatedItemId","relatedItemType","channels","deliveryStatus","documentSchema","uploadedBy","isPublic","accessLog","accessedBy","accessedAt","getOrCreateModel","schema","model","err","Beneficiary","Schedule","ProgressReport","Message","Conversation","Survey","SurveyResponse","Notification","Document","module","exports"],"sources":["BeneficiaryPortal.js"],"sourcesContent":["/**\n * Beneficiary Portal Models\n * نماذج بوابة المستفيدين الذكية\n */\n\nconst mongoose = require('mongoose');\n\n// ==================== Beneficiary Profile ====================\n// نموذج ملف المستفيد\nconst beneficiarySchema = new mongoose.Schema(\n  {\n    // Personal Info\n    firstName: { type: String, required: true },\n    lastName: { type: String, required: true },\n    email: { type: String, required: true, unique: true, lowercase: true },\n    phone: { type: String, required: true },\n    nationalId: { type: String, unique: true, sparse: true },\n    dateOfBirth: Date,\n    gender: { type: String, enum: ['male', 'female'] },\n\n    // Family Info\n    familySize: Number,\n    familyIncome: Number,\n    familyMembers: [\n      {\n        name: String,\n        relation: String,\n        age: Number,\n        status: { type: String, enum: ['student', 'working', 'unemployed', 'retired'] },\n      },\n    ],\n\n    // Program Enrollment\n    enrolledPrograms: [\n      {\n        programId: mongoose.Schema.Types.ObjectId,\n        programName: String,\n        enrollmentDate: { type: Date, default: Date.now },\n        status: {\n          type: String,\n          enum: ['active', 'completed', 'paused', 'dropped'],\n          default: 'active',\n        },\n        progress: Number, // 0-100\n      },\n    ],\n\n    // Security\n    password: { type: String, required: true },\n    accountStatus: { type: String, enum: ['active', 'inactive', 'suspended'], default: 'active' },\n    lastLoginDate: Date,\n    loginAttempts: { type: Number, default: 0 },\n    passwordResetToken: String,\n    passwordResetExpires: Date,\n    twoFactorSecret: String,\n    twoFactorEnabled: { type: Boolean, default: false },\n\n    // Preferences\n    preferredLanguage: { type: String, default: 'ar' },\n    notificationPreferences: {\n      email: { type: Boolean, default: true },\n      sms: { type: Boolean, default: true },\n      inApp: { type: Boolean, default: true },\n    },\n\n    // Metadata\n    createdAt: { type: Date, default: Date.now },\n    updatedAt: { type: Date, default: Date.now },\n    lastActivityDate: Date,\n    documentUploadCount: { type: Number, default: 0 },\n    satisfactionScore: Number, // 1-5\n  },\n  { timestamps: true }\n);\n\n// ==================== Schedule Management ====================\n// نموذج الجدول الزمني\nconst scheduleSchema = new mongoose.Schema(\n  {\n    beneficiaryId: {\n      type: mongoose.Schema.Types.ObjectId,\n      ref: 'Beneficiary',\n      required: true,\n    },\n    programId: {\n      type: mongoose.Schema.Types.ObjectId,\n      required: true,\n    },\n\n    // Schedule Items\n    items: [\n      {\n        title: { type: String, required: true },\n        description: String,\n        category: { type: String, enum: ['session', 'assessment', 'meeting', 'event', 'deadline'] },\n        startDate: { type: Date, required: true },\n        endDate: { type: Date, required: true },\n        location: String,\n        instructor: {\n          name: String,\n          email: String,\n          phone: String,\n        },\n        isVirtual: { type: Boolean, default: false },\n        meetingLink: String,\n        attachments: [String], // URLs\n        reminder: { type: Boolean, default: true },\n        reminderTime: { type: String, default: '24h' }, // 1h, 24h, 1w\n        status: {\n          type: String,\n          enum: ['scheduled', 'ongoing', 'completed', 'cancelled'],\n          default: 'scheduled',\n        },\n        attended: { type: Boolean, default: false },\n      },\n    ],\n\n    // Metadata\n    createdAt: { type: Date, default: Date.now },\n    updatedAt: { type: Date, default: Date.now },\n  },\n  { timestamps: true }\n);\n\n// ==================== Progress Report ====================\n// نموذج تقارير التقدم\nconst progressReportSchema = new mongoose.Schema(\n  {\n    beneficiaryId: {\n      type: mongoose.Schema.Types.ObjectId,\n      ref: 'Beneficiary',\n      required: true,\n    },\n    programId: {\n      type: mongoose.Schema.Types.ObjectId,\n      required: true,\n    },\n\n    // Metrics\n    overallProgress: { type: Number, min: 0, max: 100 },\n    attendanceRate: { type: Number, min: 0, max: 100 },\n    assignmentCompletion: { type: Number, min: 0, max: 100 },\n    assessmentScore: { type: Number, min: 0, max: 100 },\n\n    // Details\n    sessionsAttended: { type: Number, default: 0 },\n    sessionsTotal: { type: Number, default: 0 },\n    assignmentsCompleted: { type: Number, default: 0 },\n    assignmentsTotal: { type: Number, default: 0 },\n    averageGrade: Number,\n\n    // Achievements\n    achievements: [\n      {\n        title: String,\n        description: String,\n        earnedDate: Date,\n        badgeUrl: String,\n      },\n    ],\n\n    // Feedback\n    instructorFeedback: {\n      summary: String,\n      strengths: [String],\n      areasForImprovement: [String],\n      recommendations: [String],\n      updatedAt: Date,\n    },\n\n    // Status\n    status: {\n      type: String,\n      enum: ['on_track', 'at_risk', 'needs_support', 'excellent'],\n      default: 'on_track',\n    },\n    lastUpdated: { type: Date, default: Date.now },\n\n    createdAt: { type: Date, default: Date.now },\n  },\n  { timestamps: true }\n);\n\n// ==================== Secure Messaging ====================\n// نموذج النظام الآمن للرسائل\nconst messageSchema = new mongoose.Schema(\n  {\n    conversationId: mongoose.Schema.Types.ObjectId,\n\n    senderId: {\n      type: mongoose.Schema.Types.ObjectId,\n      ref: 'Beneficiary',\n      required: true,\n    },\n    senderName: String,\n    senderRole: String, // beneficiary, instructor, admin\n\n    recipientId: {\n      type: mongoose.Schema.Types.ObjectId,\n      ref: 'Beneficiary',\n      required: true,\n    },\n    recipientName: String,\n\n    // Message Content\n    subject: String,\n    body: { type: String, required: true },\n    attachments: [\n      {\n        fileName: String,\n        fileUrl: String,\n        fileSize: Number,\n        fileType: String,\n        uploadedAt: Date,\n      },\n    ],\n\n    // Security & Privacy\n    isEncrypted: { type: Boolean, default: true },\n    encryptionType: { type: String, default: 'AES-256' },\n\n    // Read Status\n    readAt: Date,\n    isRead: { type: Boolean, default: false },\n\n    // Flags\n    isPinned: { type: Boolean, default: false },\n    isSpam: { type: Boolean, default: false },\n    isArchived: { type: Boolean, default: false },\n    isFlagged: { type: Boolean, default: false },\n\n    // Priority\n    priority: { type: String, enum: ['low', 'normal', 'high', 'urgent'], default: 'normal' },\n\n    // Metadata\n    createdAt: { type: Date, default: Date.now },\n    updatedAt: { type: Date, default: Date.now },\n    expiresAt: Date, // Message auto-delete\n  },\n  { timestamps: true }\n);\n\n// ==================== Conversation ====================\n// نموذج المحادثات\nconst conversationSchema = new mongoose.Schema(\n  {\n    participants: [\n      {\n        userId: mongoose.Schema.Types.ObjectId,\n        name: String,\n        role: String,\n        addedAt: { type: Date, default: Date.now },\n      },\n    ],\n\n    title: String,\n    type: { type: String, enum: ['direct', 'group'], default: 'direct' },\n\n    // Last Message\n    lastMessage: String,\n    lastMessageDate: Date,\n    lastMessageSenderId: mongoose.Schema.Types.ObjectId,\n\n    // Settings\n    isActive: { type: Boolean, default: true },\n    muteNotifications: { type: Boolean, default: false },\n    isArchived: { type: Boolean, default: false },\n\n    // Metadata\n    messageCount: { type: Number, default: 0 },\n    createdAt: { type: Date, default: Date.now },\n    updatedAt: { type: Date, default: Date.now },\n  },\n  { timestamps: true }\n);\n\n// ==================== Satisfaction Survey ====================\n// نموذج استطلاعات الرضا\nconst surveySchema = new mongoose.Schema(\n  {\n    title: { type: String, required: true },\n    description: String,\n    programId: mongoose.Schema.Types.ObjectId,\n\n    // Survey Details\n    questions: [\n      {\n        id: mongoose.Schema.Types.ObjectId,\n        type: {\n          type: String,\n          enum: ['rating', 'multiple_choice', 'text', 'nps', 'likert'],\n          required: true,\n        },\n        question: { type: String, required: true },\n        required: { type: Boolean, default: true },\n        options: [String], // for multiple_choice\n        scale: { type: Number, enum: [5, 10] }, // for rating & NPS\n        order: Number,\n      },\n    ],\n\n    // Timing\n    startDate: { type: Date, required: true },\n    endDate: { type: Date, required: true },\n    status: { type: String, enum: ['draft', 'active', 'closed'], default: 'draft' },\n\n    // Settings\n    isAnonymous: { type: Boolean, default: true },\n    allowSkipQuestions: { type: Boolean, default: false },\n    oneResponsePerBeneficiary: { type: Boolean, default: true },\n\n    // Metadata\n    createdBy: mongoose.Schema.Types.ObjectId,\n    createdAt: { type: Date, default: Date.now },\n    updatedAt: { type: Date, default: Date.now },\n  },\n  { timestamps: true }\n);\n\n// ==================== Survey Response ====================\n// نموذج إجابات الاستطلاع\nconst surveyResponseSchema = new mongoose.Schema(\n  {\n    surveyId: {\n      type: mongoose.Schema.Types.ObjectId,\n      ref: 'Survey',\n      required: true,\n    },\n\n    beneficiaryId: {\n      type: mongoose.Schema.Types.ObjectId,\n      ref: 'Beneficiary',\n      // null if anonymous survey\n    },\n\n    // Responses\n    responses: [\n      {\n        questionId: mongoose.Schema.Types.ObjectId,\n        answer: mongoose.Schema.Types.Mixed, // can be rating, text, or selected option\n        value: Number, // numeric value for rating/NPS\n      },\n    ],\n\n    // Metadata\n    completionTime: Number, // in seconds\n    completedAt: { type: Date, default: Date.now },\n    ipAddress: String,\n    userAgent: String,\n\n    createdAt: { type: Date, default: Date.now },\n  },\n  { timestamps: true }\n);\n\n// ==================== Notification ====================\n// نموذج الإخطارات\nconst notificationSchema = new mongoose.Schema(\n  {\n    beneficiaryId: {\n      type: mongoose.Schema.Types.ObjectId,\n      ref: 'Beneficiary',\n      required: true,\n    },\n\n    // Notification Content\n    title: { type: String, required: true },\n    body: { type: String, required: true },\n    type: {\n      type: String,\n      enum: ['message', 'schedule', 'progress', 'survey', 'announcement', 'system'],\n    },\n\n    // Reference\n    relatedItemId: mongoose.Schema.Types.ObjectId,\n    relatedItemType: String, // Message, Schedule, Survey, etc.\n\n    // Read Status\n    isRead: { type: Boolean, default: false },\n    readAt: Date,\n\n    // Delivery\n    channels: [{ type: String, enum: ['email', 'sms', 'in_app'] }],\n    deliveryStatus: {\n      email: { type: String, enum: ['pending', 'sent', 'failed'], default: 'pending' },\n      sms: { type: String, enum: ['pending', 'sent', 'failed'], default: 'pending' },\n      inApp: { type: String, enum: ['pending', 'delivered', 'failed'], default: 'pending' },\n    },\n\n    // Priority\n    priority: { type: String, enum: ['low', 'normal', 'high'], default: 'normal' },\n    expiresAt: Date,\n\n    createdAt: { type: Date, default: Date.now },\n  },\n  { timestamps: true }\n);\n\n// ==================== Document Storage ====================\n// نموذج تخزين الوثائق الآمن\nconst documentSchema = new mongoose.Schema(\n  {\n    beneficiaryId: {\n      type: mongoose.Schema.Types.ObjectId,\n      ref: 'Beneficiary',\n      required: true,\n    },\n    programId: mongoose.Schema.Types.ObjectId,\n\n    // Document Info\n    fileName: { type: String, required: true },\n    fileUrl: { type: String, required: true },\n    fileSize: Number,\n    fileType: String,\n    category: {\n      type: String,\n      enum: ['assignment', 'certificate', 'transcript', 'resource', 'other'],\n    },\n\n    // Metadata\n    uploadedBy: mongoose.Schema.Types.ObjectId,\n    uploadedAt: { type: Date, default: Date.now },\n    expiresAt: Date,\n\n    // Security\n    isPublic: { type: Boolean, default: false },\n    accessLog: [\n      {\n        accessedBy: mongoose.Schema.Types.ObjectId,\n        accessedAt: Date,\n        ipAddress: String,\n      },\n    ],\n\n    createdAt: { type: Date, default: Date.now },\n  },\n  { timestamps: true }\n);\n\n// Create Models - Use try-catch to handle model recompilation in tests\nconst getOrCreateModel = (name, schema) => {\n  try {\n    return mongoose.model(name);\n  } catch (err) {\n    if (err.name === 'MissingSchemaError') {\n      return mongoose.model(name, schema);\n    }\n    throw err;\n  }\n};\n\nconst Beneficiary = getOrCreateModel('Beneficiary', beneficiarySchema);\nconst Schedule = getOrCreateModel('Schedule', scheduleSchema);\nconst ProgressReport = getOrCreateModel('ProgressReport', progressReportSchema);\nconst Message = getOrCreateModel('Message', messageSchema);\nconst Conversation = getOrCreateModel('Conversation', conversationSchema);\nconst Survey = getOrCreateModel('Survey', surveySchema);\nconst SurveyResponse = getOrCreateModel('SurveyResponse', surveyResponseSchema);\nconst Notification = getOrCreateModel('Notification', notificationSchema);\nconst Document = getOrCreateModel('Document', documentSchema);\n\nmodule.exports = {\n  Beneficiary,\n  Schedule,\n  ProgressReport,\n  Message,\n  Conversation,\n  Survey,\n  SurveyResponse,\n  Notification,\n  Document,\n};\n"],"mappings":"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","ignoreList":[]}