0440cdd1b089e67760e0a1cfb06fe10b
// aiNotifications.js
const express = require('express');
const router = express.Router();
const {
  analyzeAndSuggestNotifications
} = require('../services/aiNotificationService');
const {
  authenticateToken
} = require('../middleware/auth');

// تحليل بيانات الموظف واقتراح تنبيهات ذكية
router.post('/suggest', authenticateToken, async (req, res) => {
  try {
    const employeeData = req.body;
    const suggestions = await analyzeAndSuggestNotifications(employeeData);
    res.json({
      success: true,
      suggestions
    });
  } catch (err) {
    res.status(500).json({
      success: false,
      error: err.message
    });
  }
});
module.exports = router;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJleHByZXNzIiwicmVxdWlyZSIsInJvdXRlciIsIlJvdXRlciIsImFuYWx5emVBbmRTdWdnZXN0Tm90aWZpY2F0aW9ucyIsImF1dGhlbnRpY2F0ZVRva2VuIiwicG9zdCIsInJlcSIsInJlcyIsImVtcGxveWVlRGF0YSIsImJvZHkiLCJzdWdnZXN0aW9ucyIsImpzb24iLCJzdWNjZXNzIiwiZXJyIiwic3RhdHVzIiwiZXJyb3IiLCJtZXNzYWdlIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VzIjpbImFpTm90aWZpY2F0aW9ucy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBhaU5vdGlmaWNhdGlvbnMuanNcclxuY29uc3QgZXhwcmVzcyA9IHJlcXVpcmUoJ2V4cHJlc3MnKTtcclxuY29uc3Qgcm91dGVyID0gZXhwcmVzcy5Sb3V0ZXIoKTtcclxuY29uc3QgeyBhbmFseXplQW5kU3VnZ2VzdE5vdGlmaWNhdGlvbnMgfSA9IHJlcXVpcmUoJy4uL3NlcnZpY2VzL2FpTm90aWZpY2F0aW9uU2VydmljZScpO1xyXG5jb25zdCB7IGF1dGhlbnRpY2F0ZVRva2VuIH0gPSByZXF1aXJlKCcuLi9taWRkbGV3YXJlL2F1dGgnKTtcclxuXHJcbi8vINiq2K3ZhNmK2YQg2KjZitin2YbYp9iqINin2YTZhdmI2LjZgSDZiNin2YLYqtix2KfYrSDYqtmG2KjZitmH2KfYqiDYsNmD2YrYqVxyXG5yb3V0ZXIucG9zdCgnL3N1Z2dlc3QnLCBhdXRoZW50aWNhdGVUb2tlbiwgYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IGVtcGxveWVlRGF0YSA9IHJlcS5ib2R5O1xyXG4gICAgY29uc3Qgc3VnZ2VzdGlvbnMgPSBhd2FpdCBhbmFseXplQW5kU3VnZ2VzdE5vdGlmaWNhdGlvbnMoZW1wbG95ZWVEYXRhKTtcclxuICAgIHJlcy5qc29uKHsgc3VjY2VzczogdHJ1ZSwgc3VnZ2VzdGlvbnMgfSk7XHJcbiAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICByZXMuc3RhdHVzKDUwMCkuanNvbih7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogZXJyLm1lc3NhZ2UgfSk7XHJcbiAgfVxyXG59KTtcclxuXHJcbm1vZHVsZS5leHBvcnRzID0gcm91dGVyO1xyXG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0EsTUFBTUEsT0FBTyxHQUFHQyxPQUFPLENBQUMsU0FBUyxDQUFDO0FBQ2xDLE1BQU1DLE1BQU0sR0FBR0YsT0FBTyxDQUFDRyxNQUFNLENBQUMsQ0FBQztBQUMvQixNQUFNO0VBQUVDO0FBQStCLENBQUMsR0FBR0gsT0FBTyxDQUFDLG1DQUFtQyxDQUFDO0FBQ3ZGLE1BQU07RUFBRUk7QUFBa0IsQ0FBQyxHQUFHSixPQUFPLENBQUMsb0JBQW9CLENBQUM7O0FBRTNEO0FBQ0FDLE1BQU0sQ0FBQ0ksSUFBSSxDQUFDLFVBQVUsRUFBRUQsaUJBQWlCLEVBQUUsT0FBT0UsR0FBRyxFQUFFQyxHQUFHLEtBQUs7RUFDN0QsSUFBSTtJQUNGLE1BQU1DLFlBQVksR0FBR0YsR0FBRyxDQUFDRyxJQUFJO0lBQzdCLE1BQU1DLFdBQVcsR0FBRyxNQUFNUCw4QkFBOEIsQ0FBQ0ssWUFBWSxDQUFDO0lBQ3RFRCxHQUFHLENBQUNJLElBQUksQ0FBQztNQUFFQyxPQUFPLEVBQUUsSUFBSTtNQUFFRjtJQUFZLENBQUMsQ0FBQztFQUMxQyxDQUFDLENBQUMsT0FBT0csR0FBRyxFQUFFO0lBQ1pOLEdBQUcsQ0FBQ08sTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDSCxJQUFJLENBQUM7TUFBRUMsT0FBTyxFQUFFLEtBQUs7TUFBRUcsS0FBSyxFQUFFRixHQUFHLENBQUNHO0lBQVEsQ0FBQyxDQUFDO0VBQzlEO0FBQ0YsQ0FBQyxDQUFDO0FBRUZDLE1BQU0sQ0FBQ0MsT0FBTyxHQUFHakIsTUFBTSIsImlnbm9yZUxpc3QiOltdfQ==