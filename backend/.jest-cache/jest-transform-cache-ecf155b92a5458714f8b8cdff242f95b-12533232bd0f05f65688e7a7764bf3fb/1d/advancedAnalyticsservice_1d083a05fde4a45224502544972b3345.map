{"version":3,"names":["EventEmitter","require","v4","uuidv4","AdvancedAnalyticsService","constructor","metrics","Map","events","reports","dashboards","dataPoints","predictions","trends","anomalies","logEvent","eventData","userId","category","action","label","value","metadata","event","id","timestamp","Date","push","emit","trackMetric","metricName","tags","has","set","metric","name","aggregated","get","detectAnomaly","length","values","slice","map","m","avg","reduce","a","b","variance","sum","v","Math","pow","stdDev","sqrt","abs","anomaly","expectedRange","min","max","detectedAt","severity","generateReport","config","type","dateRange","start","now","end","groupBy","filters","reportData","createdAt","summary","comparisons","forEach","metricData","filtered","filter","total","data","calculateTrend","generateSummary","grouped","point","key","getGroupKey","trend","Object","entries","period","count","date","d","toISOString","weekStart","setDate","getDate","getDay","metricsCount","keys","totalDataPoints","averageValues","keyMetrics","current","previous","change","predictValues","periods","n","xValues","Array","from","_","i","sumX","sumY","sumXY","x","sumX2","slope","intercept","lastX","predictedValue","confidence","createDashboard","description","widgets","refreshInterval","isPublic","dashboard","updatedAt","viewCount","addWidgetToDashboard","dashboardId","widget","Error","newWidget","addedAt","getDashboardData","widgetData","title","generatedAt","getComparativeAnalysis","analysis","comparison","values1","values2","exportReport","reportId","format","report","JSON","stringify","reportToCSV","reportToPDF","csv","getAnomalies","options","limit","getEvents","e","getStatistics","totalEvents","totalMetrics","size","totalReports","totalDashboards","totalAnomalies","lastEventTime","module","exports"],"sources":["advancedAnalytics.service.js"],"sourcesContent":["/**\r\n * نظام التحليلات والتقارير المتقدم\r\n * Advanced Analytics & Reporting Engine\r\n * \r\n * Features:\r\n * - Real-time Data Pipeline\r\n * - Predictive Analytics\r\n * - Custom Report Generation\r\n * - Data Visualization\r\n * - Performance Metrics\r\n */\r\n\r\nconst { EventEmitter } = require('events');\r\nconst { v4: uuidv4 } = require('uuid');\r\n\r\nclass AdvancedAnalyticsService extends EventEmitter {\r\n  constructor() {\r\n    super();\r\n    this.metrics = new Map();\r\n    this.events = [];\r\n    this.reports = new Map();\r\n    this.dashboards = new Map();\r\n    this.dataPoints = [];\r\n    this.predictions = new Map();\r\n    this.trends = new Map();\r\n    this.anomalies = [];\r\n  }\r\n\r\n  /**\r\n   * تسجيل حدث تحليلي\r\n   * Log analytics event\r\n   * @param {Object} eventData - Event data\r\n   * @returns {Object} - Recorded event\r\n   */\r\n  logEvent(eventData) {\r\n    const {\r\n      userId,\r\n      category,\r\n      action,\r\n      label,\r\n      value = 0,\r\n      metadata = {},\r\n    } = eventData;\r\n\r\n    const event = {\r\n      id: uuidv4(),\r\n      timestamp: new Date(),\r\n      userId,\r\n      category,\r\n      action,\r\n      label,\r\n      value,\r\n      metadata,\r\n    };\r\n\r\n    this.events.push(event);\r\n    this.dataPoints.push({\r\n      timestamp: event.timestamp,\r\n      category,\r\n      value,\r\n    });\r\n\r\n    this.emit('event:logged', event);\r\n    return event;\r\n  }\r\n\r\n  /**\r\n   * تتبع المقياس\r\n   * Track metric\r\n   * @param {String} metricName - Metric name\r\n   * @param {Number} value - Metric value\r\n   * @param {Object} tags - Tag data\r\n   * @returns {Object} - Recorded metric\r\n   */\r\n  trackMetric(metricName, value, tags = {}) {\r\n    if (!this.metrics.has(metricName)) {\r\n      this.metrics.set(metricName, []);\r\n    }\r\n\r\n    const metric = {\r\n      id: uuidv4(),\r\n      name: metricName,\r\n      value,\r\n      timestamp: new Date(),\r\n      tags,\r\n      aggregated: false,\r\n    };\r\n\r\n    this.metrics.get(metricName).push(metric);\r\n\r\n    // التحقق من الشذوذ\r\n    this.detectAnomaly(metricName, value);\r\n\r\n    this.emit('metric:tracked', metric);\r\n    return metric;\r\n  }\r\n\r\n  /**\r\n   * الكشف عن الشذوذ\r\n   * Detect anomalies in metrics\r\n   * @param {String} metricName - Metric name\r\n   * @param {Number} value - Current value\r\n   */\r\n  detectAnomaly(metricName, value) {\r\n    const metrics = this.metrics.get(metricName) || [];\r\n\r\n    if (metrics.length < 5) return;\r\n\r\n    // حساب المتوسط والانحراف المعياري\r\n    const values = metrics.slice(-10).map(m => m.value);\r\n    const avg = values.reduce((a, b) => a + b, 0) / values.length;\r\n    const variance =\r\n      values.reduce((sum, v) => sum + Math.pow(v - avg, 2), 0) / values.length;\r\n    const stdDev = Math.sqrt(variance);\r\n\r\n    // إذا كانت القيمة أكثر من 3 انحرافات معيارية، إنها شذوذ\r\n    if (Math.abs(value - avg) > 3 * stdDev) {\r\n      const anomaly = {\r\n        id: uuidv4(),\r\n        metricName,\r\n        value,\r\n        expectedRange: {\r\n          min: avg - 2 * stdDev,\r\n          max: avg + 2 * stdDev,\r\n        },\r\n        detectedAt: new Date(),\r\n        severity: Math.abs(value - avg) > 4 * stdDev ? 'critical' : 'warning',\r\n      };\r\n\r\n      this.anomalies.push(anomaly);\r\n      this.emit('anomaly:detected', anomaly);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * إنشاء تقرير مخصص\r\n   * Generate custom report\r\n   * @param {Object} config - Report configuration\r\n   * @returns {Object} - Generated report\r\n   */\r\n  generateReport(config) {\r\n    const {\r\n      name,\r\n      type, // 'summary', 'detailed', 'trend', 'comparison'\r\n      dateRange = {\r\n        start: new Date(Date.now() - 30 * 24 * 60 * 60 * 1000),\r\n        end: new Date(),\r\n      },\r\n      metrics = [],\r\n      groupBy = 'day',\r\n      filters = {},\r\n    } = config;\r\n\r\n    const reportData = {\r\n      id: uuidv4(),\r\n      name,\r\n      type,\r\n      createdAt: new Date(),\r\n      dateRange,\r\n      metrics: {},\r\n      summary: {},\r\n      trends: {},\r\n      comparisons: {},\r\n    };\r\n\r\n    // جمع البيانات للمقاييس المطلوبة\r\n    metrics.forEach(metricName => {\r\n      const metricData = this.metrics.get(metricName) || [];\r\n      const filtered = metricData.filter(\r\n        m =>\r\n          m.timestamp >= dateRange.start && m.timestamp <= dateRange.end\r\n      );\r\n\r\n      reportData.metrics[metricName] = {\r\n        total: filtered.length,\r\n        values: filtered.map(m => m.value),\r\n        avg:\r\n          filtered.reduce((sum, m) => sum + m.value, 0) / filtered.length || 0,\r\n        min: Math.min(...filtered.map(m => m.value)),\r\n        max: Math.max(...filtered.map(m => m.value)),\r\n        data: filtered,\r\n      };\r\n\r\n      // حساب الاتجاه\r\n      reportData.trends[metricName] = this.calculateTrend(\r\n        filtered,\r\n        groupBy\r\n      );\r\n    });\r\n\r\n    // إنشاء ملخص\r\n    reportData.summary = this.generateSummary(reportData.metrics);\r\n\r\n    this.reports.set(reportData.id, reportData);\r\n    this.emit('report:generated', reportData);\r\n\r\n    return reportData;\r\n  }\r\n\r\n  /**\r\n   * حساب الاتجاه\r\n   * Calculate trend\r\n   * @param {Array} data - Data points\r\n   * @param {String} groupBy - Group by period\r\n   * @returns {Array} - Trend data\r\n   */\r\n  calculateTrend(data, groupBy = 'day') {\r\n    if (data.length === 0) return [];\r\n\r\n    // تجميع البيانات\r\n    const grouped = {};\r\n\r\n    data.forEach(point => {\r\n      const key = this.getGroupKey(point.timestamp, groupBy);\r\n      if (!grouped[key]) {\r\n        grouped[key] = [];\r\n      }\r\n      grouped[key].push(point.value);\r\n    });\r\n\r\n    // حساب المتوسط لكل مجموعة\r\n    const trend = Object.entries(grouped).map(([key, values]) => ({\r\n      period: key,\r\n      value: values.reduce((a, b) => a + b, 0) / values.length,\r\n      count: values.length,\r\n    }));\r\n\r\n    return trend;\r\n  }\r\n\r\n  /**\r\n   * الحصول على مفتاح التجميع\r\n   * Get group key for period\r\n   * @param {Date} date - Date object\r\n   * @param {String} groupBy - Group by interval\r\n   * @returns {String} - Group key\r\n   */\r\n  getGroupKey(date, groupBy) {\r\n    const d = new Date(date);\r\n\r\n    switch (groupBy) {\r\n      case 'hour':\r\n        return d.toISOString().slice(0, 13);\r\n      case 'day':\r\n        return d.toISOString().slice(0, 10);\r\n      case 'week': {\r\n        const weekStart = new Date(d);\r\n        weekStart.setDate(d.getDate() - d.getDay());\r\n        return weekStart.toISOString().slice(0, 10);\r\n      }\r\n      case 'month':\r\n        return d.toISOString().slice(0, 7);\r\n      case 'year':\r\n        return d.toISOString().slice(0, 4);\r\n      default:\r\n        return d.toISOString().slice(0, 10);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * إنشاء ملخص التقرير\r\n   * Generate report summary\r\n   * @param {Object} metrics - Metrics data\r\n   * @returns {Object} - Summary\r\n   */\r\n  generateSummary(metrics) {\r\n    const summary = {\r\n      metricsCount: Object.keys(metrics).length,\r\n      totalDataPoints: 0,\r\n      averageValues: {},\r\n      keyMetrics: {},\r\n    };\r\n\r\n    Object.entries(metrics).forEach(([name, data]) => {\r\n      summary.totalDataPoints += data.total;\r\n      summary.averageValues[name] = data.avg;\r\n      summary.keyMetrics[name] = {\r\n        current: data.values[data.values.length - 1],\r\n        previous: data.values[Math.max(0, data.values.length - 2)],\r\n        change:\r\n          ((data.values[data.values.length - 1] -\r\n            data.values[Math.max(0, data.values.length - 2)]) /\r\n            Math.abs(data.values[Math.max(0, data.values.length - 2)])) *\r\n            100 || 0,\r\n      };\r\n    });\r\n\r\n    return summary;\r\n  }\r\n\r\n  /**\r\n   * التنبؤ بالقيم المستقبلية\r\n   * Predict future values\r\n   * @param {String} metricName - Metric name\r\n   * @param {Number} periods - Number of periods to predict\r\n   * @returns {Array} - Predictions\r\n   */\r\n  predictValues(metricName, periods = 7) {\r\n    const metricData = this.metrics.get(metricName) || [];\r\n\r\n    if (metricData.length < 3) {\r\n      return [];\r\n    }\r\n\r\n    // استخدام خطي بسيط للتنبؤ\r\n    const values = metricData.slice(-10).map(m => m.value);\r\n    const n = values.length;\r\n\r\n    // حساب الانحدار الخطي\r\n    const xValues = Array.from({ length: n }, (_, i) => i);\r\n    const sumX = xValues.reduce((a, b) => a + b, 0);\r\n    const sumY = values.reduce((a, b) => a + b, 0);\r\n    const sumXY = xValues.reduce(\r\n      (sum, x, i) => sum + x * values[i],\r\n      0\r\n    );\r\n    const sumX2 = xValues.reduce((sum, x) => sum + x * x, 0);\r\n\r\n    const slope = (n * sumXY - sumX * sumY) / (n * sumX2 - sumX * sumX);\r\n    const intercept = (sumY - slope * sumX) / n;\r\n\r\n    // التنبؤ\r\n    const predictions = [];\r\n    const lastX = n - 1;\r\n\r\n    for (let i = 1; i <= periods; i++) {\r\n      const predictedValue = slope * (lastX + i) + intercept;\r\n      predictions.push({\r\n        period: i,\r\n        value: predictedValue,\r\n        confidence: 0.85 - i * 0.05, // الثقة تنخفض مع المدة\r\n      });\r\n    }\r\n\r\n    this.predictions.set(metricName, predictions);\r\n    this.emit('prediction:generated', { metricName, predictions });\r\n\r\n    return predictions;\r\n  }\r\n\r\n  /**\r\n   * إنشاء لوحة معلومات\r\n   * Create dashboard\r\n   * @param {Object} config - Dashboard configuration\r\n   * @returns {Object} - Created dashboard\r\n   */\r\n  createDashboard(config) {\r\n    const {\r\n      name,\r\n      description,\r\n      widgets = [],\r\n      refreshInterval = 60000, // 1 minute\r\n      isPublic = false,\r\n    } = config;\r\n\r\n    const dashboard = {\r\n      id: uuidv4(),\r\n      name,\r\n      description,\r\n      widgets,\r\n      refreshInterval,\r\n      isPublic,\r\n      createdAt: new Date(),\r\n      updatedAt: new Date(),\r\n      viewCount: 0,\r\n    };\r\n\r\n    this.dashboards.set(dashboard.id, dashboard);\r\n    this.emit('dashboard:created', dashboard);\r\n\r\n    return dashboard;\r\n  }\r\n\r\n  /**\r\n   * إضافة widget إلى لوحة المعلومات\r\n   * Add widget to dashboard\r\n   * @param {String} dashboardId - Dashboard ID\r\n   * @param {Object} widget - Widget configuration\r\n   * @returns {Object} - Updated dashboard\r\n   */\r\n  addWidgetToDashboard(dashboardId, widget) {\r\n    const dashboard = this.dashboards.get(dashboardId);\r\n\r\n    if (!dashboard) {\r\n      throw new Error('Dashboard not found');\r\n    }\r\n\r\n    const newWidget = {\r\n      id: uuidv4(),\r\n      ...widget,\r\n      addedAt: new Date(),\r\n    };\r\n\r\n    dashboard.widgets.push(newWidget);\r\n    dashboard.updatedAt = new Date();\r\n\r\n    this.emit('widget:added', { dashboardId, widget: newWidget });\r\n    return dashboard;\r\n  }\r\n\r\n  /**\r\n   * جلب بيانات لوحة المعلومات\r\n   * Get dashboard data\r\n   * @param {String} dashboardId - Dashboard ID\r\n   * @returns {Object} - Dashboard with data\r\n   */\r\n  getDashboardData(dashboardId) {\r\n    const dashboard = this.dashboards.get(dashboardId);\r\n\r\n    if (!dashboard) {\r\n      return null;\r\n    }\r\n\r\n    dashboard.viewCount++;\r\n\r\n    // جمع بيانات Widgets\r\n    const widgetData = dashboard.widgets.map(widget => {\r\n      const metricData = this.metrics.get(widget.metric) || [];\r\n      return {\r\n        id: widget.id,\r\n        type: widget.type,\r\n        metric: widget.metric,\r\n        data: metricData.slice(-100),\r\n        title: widget.title,\r\n      };\r\n    });\r\n\r\n    return {\r\n      ...dashboard,\r\n      widgetData,\r\n      generatedAt: new Date(),\r\n    };\r\n  }\r\n\r\n  /**\r\n   * جلب تحليل مقارن\r\n   * Get comparative analysis\r\n   * @param {Array} metrics - Metrics to compare\r\n   * @param {Object} dateRange - Date range\r\n   * @returns {Object} - Comparison analysis\r\n   */\r\n  getComparativeAnalysis(metrics, dateRange) {\r\n    const analysis = {\r\n      metrics: {},\r\n      comparison: {},\r\n    };\r\n\r\n    metrics.forEach(metricName => {\r\n      const data = this.metrics.get(metricName) || [];\r\n      const filtered = data.filter(\r\n        m =>\r\n          m.timestamp >= dateRange.start &&\r\n          m.timestamp <= dateRange.end\r\n      );\r\n\r\n      const values = filtered.map(m => m.value);\r\n      analysis.metrics[metricName] = {\r\n        total: values.length,\r\n        sum: values.reduce((a, b) => a + b, 0),\r\n        avg: values.reduce((a, b) => a + b, 0) / values.length || 0,\r\n        min: Math.min(...values),\r\n        max: Math.max(...values),\r\n      };\r\n    });\r\n\r\n    // مقارنة المقاييس\r\n    if (metrics.length >= 2) {\r\n      const values1 = Object.values(analysis.metrics)[0].avg;\r\n      const values2 = Object.values(analysis.metrics)[1].avg;\r\n\r\n      analysis.comparison = {\r\n        variance: ((values2 - values1) / values1) * 100,\r\n        trend: values2 > values1 ? 'increasing' : 'decreasing',\r\n      };\r\n    }\r\n\r\n    return analysis;\r\n  }\r\n\r\n  /**\r\n   * تصدير التقرير\r\n   * Export report\r\n   * @param {String} reportId - Report ID\r\n   * @param {String} format - Export format (csv, json, pdf)\r\n   * @returns {String} - Export data\r\n   */\r\n  exportReport(reportId, format = 'json') {\r\n    const report = this.reports.get(reportId);\r\n\r\n    if (!report) {\r\n      return null;\r\n    }\r\n\r\n    switch (format) {\r\n      case 'json':\r\n        return JSON.stringify(report, null, 2);\r\n      case 'csv':\r\n        return this.reportToCSV(report);\r\n      case 'pdf':\r\n        return this.reportToPDF(report);\r\n      default:\r\n        return JSON.stringify(report);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * تحويل التقرير إلى CSV\r\n   * Convert report to CSV\r\n   * @param {Object} report - Report object\r\n   * @returns {String} - CSV data\r\n   */\r\n  reportToCSV(report) {\r\n    let csv = `Report: ${report.name}\\n`;\r\n    csv += `Generated: ${report.createdAt}\\n\\n`;\r\n\r\n    Object.entries(report.metrics).forEach(([name, data]) => {\r\n      csv += `\\n${name}\\n`;\r\n      csv += `Average,${data.avg}\\n`;\r\n      csv += `Min,${data.min}\\n`;\r\n      csv += `Max,${data.max}\\n`;\r\n    });\r\n\r\n    return csv;\r\n  }\r\n\r\n  /**\r\n   * تحويل التقرير إلى PDF\r\n   * Convert report to PDF (placeholder)\r\n   * @param {Object} report - Report object\r\n   * @returns {String} - PDF data\r\n   */\r\n  reportToPDF(report) {\r\n    // This is a placeholder - actual PDF generation would require a library\r\n    return `PDF Report: ${report.name}`;\r\n  }\r\n\r\n  /**\r\n   * جلب الشذوذ\r\n   * Get detected anomalies\r\n   * @param {Object} options - Filter options\r\n   * @returns {Array} - Anomalies\r\n   */\r\n  getAnomalies(options = {}) {\r\n    let anomalies = [...this.anomalies];\r\n\r\n    if (options.severity) {\r\n      anomalies = anomalies.filter(a => a.severity === options.severity);\r\n    }\r\n\r\n    if (options.limit) {\r\n      anomalies = anomalies.slice(-options.limit);\r\n    }\r\n\r\n    return anomalies;\r\n  }\r\n\r\n  /**\r\n   * جلب الأحداث\r\n   * Get events\r\n   * @param {Object} options - Filter options\r\n   * @returns {Array} - Events\r\n   */\r\n  getEvents(options = {}) {\r\n    let events = [...this.events];\r\n\r\n    if (options.category) {\r\n      events = events.filter(e => e.category === options.category);\r\n    }\r\n\r\n    if (options.userId) {\r\n      events = events.filter(e => e.userId === options.userId);\r\n    }\r\n\r\n    if (options.limit) {\r\n      events = events.slice(-options.limit);\r\n    }\r\n\r\n    return events;\r\n  }\r\n\r\n  /**\r\n   * جلب إحصائيات عامة\r\n   * Get overall statistics\r\n   * @returns {Object} - Global statistics\r\n   */\r\n  getStatistics() {\r\n    return {\r\n      totalEvents: this.events.length,\r\n      totalMetrics: this.metrics.size,\r\n      totalReports: this.reports.size,\r\n      totalDashboards: this.dashboards.size,\r\n      totalAnomalies: this.anomalies.length,\r\n      lastEventTime:\r\n        this.events.length > 0\r\n          ? this.events[this.events.length - 1].timestamp\r\n          : null,\r\n    };\r\n  }\r\n}\r\n\r\nmodule.exports = new AdvancedAnalyticsService();\r\n"],"mappings":"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","ignoreList":[]}