00c00ae3ac03fe8520a2d636b86a19bf
/**
 * SSO End-to-End Testing Suite
 * Ø§Ø®ØªØ¨Ø§Ø± Ø´Ø§Ù…Ù„ Ù„Ø¬Ù…ÙŠØ¹ ÙˆØ­Ø¯Ø§Øª SSO
 */

const http = require('http');
const assert = require('assert');
const BASE_URL = 'http://localhost:3002';
const SSO_BASE = `${BASE_URL}/api/sso`;

// Test data
const testUser = {
  email: 'test@example.com',
  password: 'Test@123456',
  name: 'Test User'
};
let authToken = '';
let refreshToken = '';
let sessionId = '';
let userId = '';

// Helper function to make HTTP requests
function makeRequest(method, path, body = null, fullPath = false) {
  return new Promise((resolve, reject) => {
    const url = new URL(fullPath ? path : path, fullPath ? BASE_URL : SSO_BASE);
    const options = {
      hostname: url.hostname,
      port: url.port,
      path: url.pathname + url.search,
      method: method,
      headers: {
        'Content-Type': 'application/json',
        ...(authToken && {
          'Authorization': `Bearer ${authToken}`
        })
      }
    };
    const req = http.request(options, res => {
      let data = '';
      res.on('data', chunk => data += chunk);
      res.on('end', () => {
        try {
          const parsed = JSON.parse(data);
          resolve({
            status: res.statusCode,
            body: parsed
          });
        } catch (e) {
          resolve({
            status: res.statusCode,
            body: data
          });
        }
      });
    });
    req.on('error', reject);
    if (body) req.write(JSON.stringify(body));
    req.end();
  });
}

// Test cases
const tests = {
  // Health & Status Tests
  'Status Endpoint': async () => {
    const res = await makeRequest('GET', '/status');
    assert.strictEqual(res.status, 200, 'Status should be 200');
    assert.strictEqual(res.body.success, true, 'Response should be success');
    assert.strictEqual(res.body.status, 'operational', 'SSO should be operational');
    console.log('âœ… Status endpoint working');
  },
  'Health Check': async () => {
    const res = await makeRequest('GET', '/health');
    assert.strictEqual(res.status, 200, 'Health check should return 200');
    console.log('âœ… Health check working');
  },
  // Authentication Tests
  'Login - Valid Credentials': async () => {
    try {
      const res = await makeRequest('POST', '/login', {
        email: testUser.email,
        password: testUser.password
      });
      if (res.status === 201 || res.status === 200) {
        assert(res.body.token, 'Should return access token');
        authToken = res.body.token;
        if (res.body.refreshToken) refreshToken = res.body.refreshToken;
        if (res.body.user?.id) userId = res.body.user.id;
        console.log('âœ… Login successful');
      } else {
        // Mock mode returns 200 with session
        assert(res.status === 200 || res.status === 201, `Expected 200/201, got ${res.status}`);
        console.log('âœ… Login endpoint responded');
      }
    } catch (e) {
      console.log('âš ï¸  Login test skipped (might need mock data)');
    }
  },
  'Login - Missing Email': async () => {
    const res = await makeRequest('POST', '/login', {
      password: 'password'
    });
    assert(res.status >= 400, 'Should return error without email');
    console.log('âœ… Email validation working');
  },
  'Login - Missing Password': async () => {
    const res = await makeRequest('POST', '/login', {
      email: 'test@example.com'
    });
    assert(res.status >= 400, 'Should return error without password');
    console.log('âœ… Password validation working');
  },
  // Token Tests
  'Verify Token': async () => {
    if (!authToken) {
      console.log('âš ï¸  Token verification skipped (no token)');
      return;
    }
    const res = await makeRequest('POST', '/verify-token', {
      token: authToken
    });
    assert(res.status === 200 || res.status === 400, 'Should verify or reject token');
    console.log('âœ… Token verification working');
  },
  'Refresh Token': async () => {
    if (!refreshToken) {
      console.log('âš ï¸  Token refresh skipped (no refresh token)');
      return;
    }
    const res = await makeRequest('POST', '/refresh-token', {
      refreshToken: refreshToken
    });
    assert(res.status === 200 || res.status === 400, 'Should handle token refresh');
    if (res.status === 200 && res.body.token) {
      authToken = res.body.token;
    }
    console.log('âœ… Token refresh working');
  },
  'Get User Info': async () => {
    if (!authToken) {
      console.log('âš ï¸  User info skipped (no token)');
      return;
    }
    const res = await makeRequest('GET', '/userinfo');
    assert(res.status === 200 || res.status === 401, 'Should return user info or unauthorized');
    console.log('âœ… User info endpoint working');
  },
  // Session Tests
  'List Sessions': async () => {
    const res = await makeRequest('GET', '/sessions');
    assert(res.status === 200 || res.status === 401, 'Should list sessions or require auth');
    console.log('âœ… Session listing working');
  },
  'Introspect Token': async () => {
    const res = await makeRequest('GET', '/introspect');
    assert(res.status === 200 || res.status === 401, 'Should introspect token');
    console.log('âœ… Token introspection working');
  },
  // OAuth Tests
  'OAuth Authorize Endpoint': async () => {
    const res = await makeRequest('GET', '/oauth2/authorize?client_id=test&redirect_uri=http://localhost:3000&scope=openid');
    assert(res.status === 200 || res.status === 302 || res.status === 400, 'Should handle OAuth authorize');
    console.log('âœ… OAuth authorize endpoint working');
  },
  // Logout Tests
  'Logout': async () => {
    const res = await makeRequest('POST', '/logout');
    assert(res.status === 200 || res.status === 401, 'Should handle logout');
    console.log('âœ… Logout endpoint working');
  }
};

// Run all tests
async function runTests() {
  console.log('\nâ•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—');
  console.log('â•‘     SSO System E2E Test Suite         â•‘');
  console.log('â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\n');
  let passed = 0;
  let failed = 0;
  const results = [];
  for (const [testName, testFn] of Object.entries(tests)) {
    try {
      await testFn();
      passed++;
      results.push({
        name: testName,
        status: 'âœ… PASS'
      });
    } catch (error) {
      failed++;
      results.push({
        name: testName,
        status: 'âŒ FAIL',
        error: error.message
      });
      console.log(`âŒ ${testName}: ${error.message}`);
    }
  }
  console.log('\nâ•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—');
  console.log('â•‘           Test Results                â•‘');
  console.log('â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\n');
  results.forEach(r => {
    console.log(`${r.status} ${r.name}`);
    if (r.error) console.log(`   Error: ${r.error}`);
  });
  console.log(`\nðŸ“Š Summary: ${passed} passed, ${failed} failed out of ${passed + failed} tests\n`);
  process.exit(failed > 0 ? 1 : 0);
}

// Run tests
runTests().catch(error => {
  console.error('Test suite error:', error);
  process.exit(1);
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJodHRwIiwicmVxdWlyZSIsImFzc2VydCIsIkJBU0VfVVJMIiwiU1NPX0JBU0UiLCJ0ZXN0VXNlciIsImVtYWlsIiwicGFzc3dvcmQiLCJuYW1lIiwiYXV0aFRva2VuIiwicmVmcmVzaFRva2VuIiwic2Vzc2lvbklkIiwidXNlcklkIiwibWFrZVJlcXVlc3QiLCJtZXRob2QiLCJwYXRoIiwiYm9keSIsImZ1bGxQYXRoIiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJ1cmwiLCJVUkwiLCJvcHRpb25zIiwiaG9zdG5hbWUiLCJwb3J0IiwicGF0aG5hbWUiLCJzZWFyY2giLCJoZWFkZXJzIiwicmVxIiwicmVxdWVzdCIsInJlcyIsImRhdGEiLCJvbiIsImNodW5rIiwicGFyc2VkIiwiSlNPTiIsInBhcnNlIiwic3RhdHVzIiwic3RhdHVzQ29kZSIsImUiLCJ3cml0ZSIsInN0cmluZ2lmeSIsImVuZCIsInRlc3RzIiwiU3RhdHVzIEVuZHBvaW50Iiwic3RyaWN0RXF1YWwiLCJzdWNjZXNzIiwiY29uc29sZSIsImxvZyIsIkhlYWx0aCBDaGVjayIsIkxvZ2luIC0gVmFsaWQgQ3JlZGVudGlhbHMiLCJ0b2tlbiIsInVzZXIiLCJpZCIsIkxvZ2luIC0gTWlzc2luZyBFbWFpbCIsIkxvZ2luIC0gTWlzc2luZyBQYXNzd29yZCIsIlZlcmlmeSBUb2tlbiIsIlJlZnJlc2ggVG9rZW4iLCJHZXQgVXNlciBJbmZvIiwiTGlzdCBTZXNzaW9ucyIsIkludHJvc3BlY3QgVG9rZW4iLCJPQXV0aCBBdXRob3JpemUgRW5kcG9pbnQiLCJMb2dvdXQiLCJydW5UZXN0cyIsInBhc3NlZCIsImZhaWxlZCIsInJlc3VsdHMiLCJ0ZXN0TmFtZSIsInRlc3RGbiIsIk9iamVjdCIsImVudHJpZXMiLCJwdXNoIiwiZXJyb3IiLCJtZXNzYWdlIiwiZm9yRWFjaCIsInIiLCJwcm9jZXNzIiwiZXhpdCIsImNhdGNoIl0sInNvdXJjZXMiOlsic3NvLWUyZS50ZXN0LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiBTU08gRW5kLXRvLUVuZCBUZXN0aW5nIFN1aXRlXHJcbiAqINin2K7Yqtio2KfYsSDYtNin2YXZhCDZhNis2YXZiti5INmI2K3Yr9in2KogU1NPXHJcbiAqL1xyXG5cclxuY29uc3QgaHR0cCA9IHJlcXVpcmUoJ2h0dHAnKTtcclxuY29uc3QgYXNzZXJ0ID0gcmVxdWlyZSgnYXNzZXJ0Jyk7XHJcblxyXG5jb25zdCBCQVNFX1VSTCA9ICdodHRwOi8vbG9jYWxob3N0OjMwMDInO1xyXG5jb25zdCBTU09fQkFTRSA9IGAke0JBU0VfVVJMfS9hcGkvc3NvYDtcclxuXHJcbi8vIFRlc3QgZGF0YVxyXG5jb25zdCB0ZXN0VXNlciA9IHtcclxuICBlbWFpbDogJ3Rlc3RAZXhhbXBsZS5jb20nLFxyXG4gIHBhc3N3b3JkOiAnVGVzdEAxMjM0NTYnLFxyXG4gIG5hbWU6ICdUZXN0IFVzZXInXHJcbn07XHJcblxyXG5sZXQgYXV0aFRva2VuID0gJyc7XHJcbmxldCByZWZyZXNoVG9rZW4gPSAnJztcclxubGV0IHNlc3Npb25JZCA9ICcnO1xyXG5sZXQgdXNlcklkID0gJyc7XHJcblxyXG4vLyBIZWxwZXIgZnVuY3Rpb24gdG8gbWFrZSBIVFRQIHJlcXVlc3RzXHJcbmZ1bmN0aW9uIG1ha2VSZXF1ZXN0KG1ldGhvZCwgcGF0aCwgYm9keSA9IG51bGwsIGZ1bGxQYXRoID0gZmFsc2UpIHtcclxuICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgY29uc3QgdXJsID0gbmV3IFVSTChmdWxsUGF0aCA/IHBhdGggOiBwYXRoLCBmdWxsUGF0aCA/IEJBU0VfVVJMIDogU1NPX0JBU0UpO1xyXG4gICAgY29uc3Qgb3B0aW9ucyA9IHtcclxuICAgICAgaG9zdG5hbWU6IHVybC5ob3N0bmFtZSxcclxuICAgICAgcG9ydDogdXJsLnBvcnQsXHJcbiAgICAgIHBhdGg6IHVybC5wYXRobmFtZSArIHVybC5zZWFyY2gsXHJcbiAgICAgIG1ldGhvZDogbWV0aG9kLFxyXG4gICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcclxuICAgICAgICAuLi4oYXV0aFRva2VuICYmIHsgJ0F1dGhvcml6YXRpb24nOiBgQmVhcmVyICR7YXV0aFRva2VufWAgfSlcclxuICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICBjb25zdCByZXEgPSBodHRwLnJlcXVlc3Qob3B0aW9ucywgKHJlcykgPT4ge1xyXG4gICAgICBsZXQgZGF0YSA9ICcnO1xyXG4gICAgICByZXMub24oJ2RhdGEnLCBjaHVuayA9PiBkYXRhICs9IGNodW5rKTtcclxuICAgICAgcmVzLm9uKCdlbmQnLCAoKSA9PiB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgIGNvbnN0IHBhcnNlZCA9IEpTT04ucGFyc2UoZGF0YSk7XHJcbiAgICAgICAgICByZXNvbHZlKHsgc3RhdHVzOiByZXMuc3RhdHVzQ29kZSwgYm9keTogcGFyc2VkIH0pO1xyXG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICAgIHJlc29sdmUoeyBzdGF0dXM6IHJlcy5zdGF0dXNDb2RlLCBib2R5OiBkYXRhIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICByZXEub24oJ2Vycm9yJywgcmVqZWN0KTtcclxuICAgIGlmIChib2R5KSByZXEud3JpdGUoSlNPTi5zdHJpbmdpZnkoYm9keSkpO1xyXG4gICAgcmVxLmVuZCgpO1xyXG4gIH0pO1xyXG59XHJcblxyXG4vLyBUZXN0IGNhc2VzXHJcbmNvbnN0IHRlc3RzID0ge1xyXG4gIC8vIEhlYWx0aCAmIFN0YXR1cyBUZXN0c1xyXG4gICdTdGF0dXMgRW5kcG9pbnQnOiBhc3luYyAoKSA9PiB7XHJcbiAgICBjb25zdCByZXMgPSBhd2FpdCBtYWtlUmVxdWVzdCgnR0VUJywgJy9zdGF0dXMnKTtcclxuICAgIGFzc2VydC5zdHJpY3RFcXVhbChyZXMuc3RhdHVzLCAyMDAsICdTdGF0dXMgc2hvdWxkIGJlIDIwMCcpO1xyXG4gICAgYXNzZXJ0LnN0cmljdEVxdWFsKHJlcy5ib2R5LnN1Y2Nlc3MsIHRydWUsICdSZXNwb25zZSBzaG91bGQgYmUgc3VjY2VzcycpO1xyXG4gICAgYXNzZXJ0LnN0cmljdEVxdWFsKHJlcy5ib2R5LnN0YXR1cywgJ29wZXJhdGlvbmFsJywgJ1NTTyBzaG91bGQgYmUgb3BlcmF0aW9uYWwnKTtcclxuICAgIGNvbnNvbGUubG9nKCfinIUgU3RhdHVzIGVuZHBvaW50IHdvcmtpbmcnKTtcclxuICB9LFxyXG5cclxuICAnSGVhbHRoIENoZWNrJzogYXN5bmMgKCkgPT4ge1xyXG4gICAgY29uc3QgcmVzID0gYXdhaXQgbWFrZVJlcXVlc3QoJ0dFVCcsICcvaGVhbHRoJyk7XHJcbiAgICBhc3NlcnQuc3RyaWN0RXF1YWwocmVzLnN0YXR1cywgMjAwLCAnSGVhbHRoIGNoZWNrIHNob3VsZCByZXR1cm4gMjAwJyk7XHJcbiAgICBjb25zb2xlLmxvZygn4pyFIEhlYWx0aCBjaGVjayB3b3JraW5nJyk7XHJcbiAgfSxcclxuXHJcbiAgLy8gQXV0aGVudGljYXRpb24gVGVzdHNcclxuICAnTG9naW4gLSBWYWxpZCBDcmVkZW50aWFscyc6IGFzeW5jICgpID0+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IG1ha2VSZXF1ZXN0KCdQT1NUJywgJy9sb2dpbicsIHtcclxuICAgICAgICBlbWFpbDogdGVzdFVzZXIuZW1haWwsXHJcbiAgICAgICAgcGFzc3dvcmQ6IHRlc3RVc2VyLnBhc3N3b3JkXHJcbiAgICAgIH0pO1xyXG4gICAgICBcclxuICAgICAgaWYgKHJlcy5zdGF0dXMgPT09IDIwMSB8fCByZXMuc3RhdHVzID09PSAyMDApIHtcclxuICAgICAgICBhc3NlcnQocmVzLmJvZHkudG9rZW4sICdTaG91bGQgcmV0dXJuIGFjY2VzcyB0b2tlbicpO1xyXG4gICAgICAgIGF1dGhUb2tlbiA9IHJlcy5ib2R5LnRva2VuO1xyXG4gICAgICAgIGlmIChyZXMuYm9keS5yZWZyZXNoVG9rZW4pIHJlZnJlc2hUb2tlbiA9IHJlcy5ib2R5LnJlZnJlc2hUb2tlbjtcclxuICAgICAgICBpZiAocmVzLmJvZHkudXNlcj8uaWQpIHVzZXJJZCA9IHJlcy5ib2R5LnVzZXIuaWQ7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ+KchSBMb2dpbiBzdWNjZXNzZnVsJyk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgLy8gTW9jayBtb2RlIHJldHVybnMgMjAwIHdpdGggc2Vzc2lvblxyXG4gICAgICAgIGFzc2VydChyZXMuc3RhdHVzID09PSAyMDAgfHwgcmVzLnN0YXR1cyA9PT0gMjAxLCBgRXhwZWN0ZWQgMjAwLzIwMSwgZ290ICR7cmVzLnN0YXR1c31gKTtcclxuICAgICAgICBjb25zb2xlLmxvZygn4pyFIExvZ2luIGVuZHBvaW50IHJlc3BvbmRlZCcpO1xyXG4gICAgICB9XHJcbiAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKCfimqDvuI8gIExvZ2luIHRlc3Qgc2tpcHBlZCAobWlnaHQgbmVlZCBtb2NrIGRhdGEpJyk7XHJcbiAgICB9XHJcbiAgfSxcclxuXHJcbiAgJ0xvZ2luIC0gTWlzc2luZyBFbWFpbCc6IGFzeW5jICgpID0+IHtcclxuICAgIGNvbnN0IHJlcyA9IGF3YWl0IG1ha2VSZXF1ZXN0KCdQT1NUJywgJy9sb2dpbicsIHtcclxuICAgICAgcGFzc3dvcmQ6ICdwYXNzd29yZCdcclxuICAgIH0pO1xyXG4gICAgYXNzZXJ0KHJlcy5zdGF0dXMgPj0gNDAwLCAnU2hvdWxkIHJldHVybiBlcnJvciB3aXRob3V0IGVtYWlsJyk7XHJcbiAgICBjb25zb2xlLmxvZygn4pyFIEVtYWlsIHZhbGlkYXRpb24gd29ya2luZycpO1xyXG4gIH0sXHJcblxyXG4gICdMb2dpbiAtIE1pc3NpbmcgUGFzc3dvcmQnOiBhc3luYyAoKSA9PiB7XHJcbiAgICBjb25zdCByZXMgPSBhd2FpdCBtYWtlUmVxdWVzdCgnUE9TVCcsICcvbG9naW4nLCB7XHJcbiAgICAgIGVtYWlsOiAndGVzdEBleGFtcGxlLmNvbSdcclxuICAgIH0pO1xyXG4gICAgYXNzZXJ0KHJlcy5zdGF0dXMgPj0gNDAwLCAnU2hvdWxkIHJldHVybiBlcnJvciB3aXRob3V0IHBhc3N3b3JkJyk7XHJcbiAgICBjb25zb2xlLmxvZygn4pyFIFBhc3N3b3JkIHZhbGlkYXRpb24gd29ya2luZycpO1xyXG4gIH0sXHJcblxyXG4gIC8vIFRva2VuIFRlc3RzXHJcbiAgJ1ZlcmlmeSBUb2tlbic6IGFzeW5jICgpID0+IHtcclxuICAgIGlmICghYXV0aFRva2VuKSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKCfimqDvuI8gIFRva2VuIHZlcmlmaWNhdGlvbiBza2lwcGVkIChubyB0b2tlbiknKTtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBjb25zdCByZXMgPSBhd2FpdCBtYWtlUmVxdWVzdCgnUE9TVCcsICcvdmVyaWZ5LXRva2VuJywge1xyXG4gICAgICB0b2tlbjogYXV0aFRva2VuXHJcbiAgICB9KTtcclxuICAgIGFzc2VydChyZXMuc3RhdHVzID09PSAyMDAgfHwgcmVzLnN0YXR1cyA9PT0gNDAwLCAnU2hvdWxkIHZlcmlmeSBvciByZWplY3QgdG9rZW4nKTtcclxuICAgIGNvbnNvbGUubG9nKCfinIUgVG9rZW4gdmVyaWZpY2F0aW9uIHdvcmtpbmcnKTtcclxuICB9LFxyXG5cclxuICAnUmVmcmVzaCBUb2tlbic6IGFzeW5jICgpID0+IHtcclxuICAgIGlmICghcmVmcmVzaFRva2VuKSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKCfimqDvuI8gIFRva2VuIHJlZnJlc2ggc2tpcHBlZCAobm8gcmVmcmVzaCB0b2tlbiknKTtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBjb25zdCByZXMgPSBhd2FpdCBtYWtlUmVxdWVzdCgnUE9TVCcsICcvcmVmcmVzaC10b2tlbicsIHtcclxuICAgICAgcmVmcmVzaFRva2VuOiByZWZyZXNoVG9rZW5cclxuICAgIH0pO1xyXG4gICAgYXNzZXJ0KHJlcy5zdGF0dXMgPT09IDIwMCB8fCByZXMuc3RhdHVzID09PSA0MDAsICdTaG91bGQgaGFuZGxlIHRva2VuIHJlZnJlc2gnKTtcclxuICAgIGlmIChyZXMuc3RhdHVzID09PSAyMDAgJiYgcmVzLmJvZHkudG9rZW4pIHtcclxuICAgICAgYXV0aFRva2VuID0gcmVzLmJvZHkudG9rZW47XHJcbiAgICB9XHJcbiAgICBjb25zb2xlLmxvZygn4pyFIFRva2VuIHJlZnJlc2ggd29ya2luZycpO1xyXG4gIH0sXHJcblxyXG4gICdHZXQgVXNlciBJbmZvJzogYXN5bmMgKCkgPT4ge1xyXG4gICAgaWYgKCFhdXRoVG9rZW4pIHtcclxuICAgICAgY29uc29sZS5sb2coJ+KaoO+4jyAgVXNlciBpbmZvIHNraXBwZWQgKG5vIHRva2VuKScpO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBcclxuICAgIGNvbnN0IHJlcyA9IGF3YWl0IG1ha2VSZXF1ZXN0KCdHRVQnLCAnL3VzZXJpbmZvJyk7XHJcbiAgICBhc3NlcnQocmVzLnN0YXR1cyA9PT0gMjAwIHx8IHJlcy5zdGF0dXMgPT09IDQwMSwgJ1Nob3VsZCByZXR1cm4gdXNlciBpbmZvIG9yIHVuYXV0aG9yaXplZCcpO1xyXG4gICAgY29uc29sZS5sb2coJ+KchSBVc2VyIGluZm8gZW5kcG9pbnQgd29ya2luZycpO1xyXG4gIH0sXHJcblxyXG4gIC8vIFNlc3Npb24gVGVzdHNcclxuICAnTGlzdCBTZXNzaW9ucyc6IGFzeW5jICgpID0+IHtcclxuICAgIGNvbnN0IHJlcyA9IGF3YWl0IG1ha2VSZXF1ZXN0KCdHRVQnLCAnL3Nlc3Npb25zJyk7XHJcbiAgICBhc3NlcnQocmVzLnN0YXR1cyA9PT0gMjAwIHx8IHJlcy5zdGF0dXMgPT09IDQwMSwgJ1Nob3VsZCBsaXN0IHNlc3Npb25zIG9yIHJlcXVpcmUgYXV0aCcpO1xyXG4gICAgY29uc29sZS5sb2coJ+KchSBTZXNzaW9uIGxpc3Rpbmcgd29ya2luZycpO1xyXG4gIH0sXHJcblxyXG4gICdJbnRyb3NwZWN0IFRva2VuJzogYXN5bmMgKCkgPT4ge1xyXG4gICAgY29uc3QgcmVzID0gYXdhaXQgbWFrZVJlcXVlc3QoJ0dFVCcsICcvaW50cm9zcGVjdCcpO1xyXG4gICAgYXNzZXJ0KHJlcy5zdGF0dXMgPT09IDIwMCB8fCByZXMuc3RhdHVzID09PSA0MDEsICdTaG91bGQgaW50cm9zcGVjdCB0b2tlbicpO1xyXG4gICAgY29uc29sZS5sb2coJ+KchSBUb2tlbiBpbnRyb3NwZWN0aW9uIHdvcmtpbmcnKTtcclxuICB9LFxyXG5cclxuICAvLyBPQXV0aCBUZXN0c1xyXG4gICdPQXV0aCBBdXRob3JpemUgRW5kcG9pbnQnOiBhc3luYyAoKSA9PiB7XHJcbiAgICBjb25zdCByZXMgPSBhd2FpdCBtYWtlUmVxdWVzdCgnR0VUJywgJy9vYXV0aDIvYXV0aG9yaXplP2NsaWVudF9pZD10ZXN0JnJlZGlyZWN0X3VyaT1odHRwOi8vbG9jYWxob3N0OjMwMDAmc2NvcGU9b3BlbmlkJyk7XHJcbiAgICBhc3NlcnQocmVzLnN0YXR1cyA9PT0gMjAwIHx8IHJlcy5zdGF0dXMgPT09IDMwMiB8fCByZXMuc3RhdHVzID09PSA0MDAsICdTaG91bGQgaGFuZGxlIE9BdXRoIGF1dGhvcml6ZScpO1xyXG4gICAgY29uc29sZS5sb2coJ+KchSBPQXV0aCBhdXRob3JpemUgZW5kcG9pbnQgd29ya2luZycpO1xyXG4gIH0sXHJcblxyXG4gIC8vIExvZ291dCBUZXN0c1xyXG4gICdMb2dvdXQnOiBhc3luYyAoKSA9PiB7XHJcbiAgICBjb25zdCByZXMgPSBhd2FpdCBtYWtlUmVxdWVzdCgnUE9TVCcsICcvbG9nb3V0Jyk7XHJcbiAgICBhc3NlcnQocmVzLnN0YXR1cyA9PT0gMjAwIHx8IHJlcy5zdGF0dXMgPT09IDQwMSwgJ1Nob3VsZCBoYW5kbGUgbG9nb3V0Jyk7XHJcbiAgICBjb25zb2xlLmxvZygn4pyFIExvZ291dCBlbmRwb2ludCB3b3JraW5nJyk7XHJcbiAgfVxyXG59O1xyXG5cclxuLy8gUnVuIGFsbCB0ZXN0c1xyXG5hc3luYyBmdW5jdGlvbiBydW5UZXN0cygpIHtcclxuICBjb25zb2xlLmxvZygnXFxu4pWU4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWXJyk7XHJcbiAgY29uc29sZS5sb2coJ+KVkSAgICAgU1NPIFN5c3RlbSBFMkUgVGVzdCBTdWl0ZSAgICAgICAgIOKVkScpO1xyXG4gIGNvbnNvbGUubG9nKCfilZrilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZ1cXG4nKTtcclxuXHJcbiAgbGV0IHBhc3NlZCA9IDA7XHJcbiAgbGV0IGZhaWxlZCA9IDA7XHJcbiAgY29uc3QgcmVzdWx0cyA9IFtdO1xyXG5cclxuICBmb3IgKGNvbnN0IFt0ZXN0TmFtZSwgdGVzdEZuXSBvZiBPYmplY3QuZW50cmllcyh0ZXN0cykpIHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGF3YWl0IHRlc3RGbigpO1xyXG4gICAgICBwYXNzZWQrKztcclxuICAgICAgcmVzdWx0cy5wdXNoKHsgbmFtZTogdGVzdE5hbWUsIHN0YXR1czogJ+KchSBQQVNTJyB9KTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGZhaWxlZCsrO1xyXG4gICAgICByZXN1bHRzLnB1c2goeyBuYW1lOiB0ZXN0TmFtZSwgc3RhdHVzOiAn4p2MIEZBSUwnLCBlcnJvcjogZXJyb3IubWVzc2FnZSB9KTtcclxuICAgICAgY29uc29sZS5sb2coYOKdjCAke3Rlc3ROYW1lfTogJHtlcnJvci5tZXNzYWdlfWApO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgY29uc29sZS5sb2coJ1xcbuKVlOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVlycpO1xyXG4gIGNvbnNvbGUubG9nKCfilZEgICAgICAgICAgIFRlc3QgUmVzdWx0cyAgICAgICAgICAgICAgICDilZEnKTtcclxuICBjb25zb2xlLmxvZygn4pWa4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWdXFxuJyk7XHJcblxyXG4gIHJlc3VsdHMuZm9yRWFjaChyID0+IHtcclxuICAgIGNvbnNvbGUubG9nKGAke3Iuc3RhdHVzfSAke3IubmFtZX1gKTtcclxuICAgIGlmIChyLmVycm9yKSBjb25zb2xlLmxvZyhgICAgRXJyb3I6ICR7ci5lcnJvcn1gKTtcclxuICB9KTtcclxuXHJcbiAgY29uc29sZS5sb2coYFxcbvCfk4ogU3VtbWFyeTogJHtwYXNzZWR9IHBhc3NlZCwgJHtmYWlsZWR9IGZhaWxlZCBvdXQgb2YgJHtwYXNzZWQgKyBmYWlsZWR9IHRlc3RzXFxuYCk7XHJcblxyXG4gIHByb2Nlc3MuZXhpdChmYWlsZWQgPiAwID8gMSA6IDApO1xyXG59XHJcblxyXG4vLyBSdW4gdGVzdHNcclxucnVuVGVzdHMoKS5jYXRjaChlcnJvciA9PiB7XHJcbiAgY29uc29sZS5lcnJvcignVGVzdCBzdWl0ZSBlcnJvcjonLCBlcnJvcik7XHJcbiAgcHJvY2Vzcy5leGl0KDEpO1xyXG59KTtcclxuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxNQUFNQSxJQUFJLEdBQUdDLE9BQU8sQ0FBQyxNQUFNLENBQUM7QUFDNUIsTUFBTUMsTUFBTSxHQUFHRCxPQUFPLENBQUMsUUFBUSxDQUFDO0FBRWhDLE1BQU1FLFFBQVEsR0FBRyx1QkFBdUI7QUFDeEMsTUFBTUMsUUFBUSxHQUFHLEdBQUdELFFBQVEsVUFBVTs7QUFFdEM7QUFDQSxNQUFNRSxRQUFRLEdBQUc7RUFDZkMsS0FBSyxFQUFFLGtCQUFrQjtFQUN6QkMsUUFBUSxFQUFFLGFBQWE7RUFDdkJDLElBQUksRUFBRTtBQUNSLENBQUM7QUFFRCxJQUFJQyxTQUFTLEdBQUcsRUFBRTtBQUNsQixJQUFJQyxZQUFZLEdBQUcsRUFBRTtBQUNyQixJQUFJQyxTQUFTLEdBQUcsRUFBRTtBQUNsQixJQUFJQyxNQUFNLEdBQUcsRUFBRTs7QUFFZjtBQUNBLFNBQVNDLFdBQVdBLENBQUNDLE1BQU0sRUFBRUMsSUFBSSxFQUFFQyxJQUFJLEdBQUcsSUFBSSxFQUFFQyxRQUFRLEdBQUcsS0FBSyxFQUFFO0VBQ2hFLE9BQU8sSUFBSUMsT0FBTyxDQUFDLENBQUNDLE9BQU8sRUFBRUMsTUFBTSxLQUFLO0lBQ3RDLE1BQU1DLEdBQUcsR0FBRyxJQUFJQyxHQUFHLENBQUNMLFFBQVEsR0FBR0YsSUFBSSxHQUFHQSxJQUFJLEVBQUVFLFFBQVEsR0FBR2QsUUFBUSxHQUFHQyxRQUFRLENBQUM7SUFDM0UsTUFBTW1CLE9BQU8sR0FBRztNQUNkQyxRQUFRLEVBQUVILEdBQUcsQ0FBQ0csUUFBUTtNQUN0QkMsSUFBSSxFQUFFSixHQUFHLENBQUNJLElBQUk7TUFDZFYsSUFBSSxFQUFFTSxHQUFHLENBQUNLLFFBQVEsR0FBR0wsR0FBRyxDQUFDTSxNQUFNO01BQy9CYixNQUFNLEVBQUVBLE1BQU07TUFDZGMsT0FBTyxFQUFFO1FBQ1AsY0FBYyxFQUFFLGtCQUFrQjtRQUNsQyxJQUFJbkIsU0FBUyxJQUFJO1VBQUUsZUFBZSxFQUFFLFVBQVVBLFNBQVM7UUFBRyxDQUFDO01BQzdEO0lBQ0YsQ0FBQztJQUVELE1BQU1vQixHQUFHLEdBQUc3QixJQUFJLENBQUM4QixPQUFPLENBQUNQLE9BQU8sRUFBR1EsR0FBRyxJQUFLO01BQ3pDLElBQUlDLElBQUksR0FBRyxFQUFFO01BQ2JELEdBQUcsQ0FBQ0UsRUFBRSxDQUFDLE1BQU0sRUFBRUMsS0FBSyxJQUFJRixJQUFJLElBQUlFLEtBQUssQ0FBQztNQUN0Q0gsR0FBRyxDQUFDRSxFQUFFLENBQUMsS0FBSyxFQUFFLE1BQU07UUFDbEIsSUFBSTtVQUNGLE1BQU1FLE1BQU0sR0FBR0MsSUFBSSxDQUFDQyxLQUFLLENBQUNMLElBQUksQ0FBQztVQUMvQmIsT0FBTyxDQUFDO1lBQUVtQixNQUFNLEVBQUVQLEdBQUcsQ0FBQ1EsVUFBVTtZQUFFdkIsSUFBSSxFQUFFbUI7VUFBTyxDQUFDLENBQUM7UUFDbkQsQ0FBQyxDQUFDLE9BQU9LLENBQUMsRUFBRTtVQUNWckIsT0FBTyxDQUFDO1lBQUVtQixNQUFNLEVBQUVQLEdBQUcsQ0FBQ1EsVUFBVTtZQUFFdkIsSUFBSSxFQUFFZ0I7VUFBSyxDQUFDLENBQUM7UUFDakQ7TUFDRixDQUFDLENBQUM7SUFDSixDQUFDLENBQUM7SUFFRkgsR0FBRyxDQUFDSSxFQUFFLENBQUMsT0FBTyxFQUFFYixNQUFNLENBQUM7SUFDdkIsSUFBSUosSUFBSSxFQUFFYSxHQUFHLENBQUNZLEtBQUssQ0FBQ0wsSUFBSSxDQUFDTSxTQUFTLENBQUMxQixJQUFJLENBQUMsQ0FBQztJQUN6Q2EsR0FBRyxDQUFDYyxHQUFHLENBQUMsQ0FBQztFQUNYLENBQUMsQ0FBQztBQUNKOztBQUVBO0FBQ0EsTUFBTUMsS0FBSyxHQUFHO0VBQ1o7RUFDQSxpQkFBaUIsRUFBRSxNQUFBQyxDQUFBLEtBQVk7SUFDN0IsTUFBTWQsR0FBRyxHQUFHLE1BQU1sQixXQUFXLENBQUMsS0FBSyxFQUFFLFNBQVMsQ0FBQztJQUMvQ1gsTUFBTSxDQUFDNEMsV0FBVyxDQUFDZixHQUFHLENBQUNPLE1BQU0sRUFBRSxHQUFHLEVBQUUsc0JBQXNCLENBQUM7SUFDM0RwQyxNQUFNLENBQUM0QyxXQUFXLENBQUNmLEdBQUcsQ0FBQ2YsSUFBSSxDQUFDK0IsT0FBTyxFQUFFLElBQUksRUFBRSw0QkFBNEIsQ0FBQztJQUN4RTdDLE1BQU0sQ0FBQzRDLFdBQVcsQ0FBQ2YsR0FBRyxDQUFDZixJQUFJLENBQUNzQixNQUFNLEVBQUUsYUFBYSxFQUFFLDJCQUEyQixDQUFDO0lBQy9FVSxPQUFPLENBQUNDLEdBQUcsQ0FBQywyQkFBMkIsQ0FBQztFQUMxQyxDQUFDO0VBRUQsY0FBYyxFQUFFLE1BQUFDLENBQUEsS0FBWTtJQUMxQixNQUFNbkIsR0FBRyxHQUFHLE1BQU1sQixXQUFXLENBQUMsS0FBSyxFQUFFLFNBQVMsQ0FBQztJQUMvQ1gsTUFBTSxDQUFDNEMsV0FBVyxDQUFDZixHQUFHLENBQUNPLE1BQU0sRUFBRSxHQUFHLEVBQUUsZ0NBQWdDLENBQUM7SUFDckVVLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLHdCQUF3QixDQUFDO0VBQ3ZDLENBQUM7RUFFRDtFQUNBLDJCQUEyQixFQUFFLE1BQUFFLENBQUEsS0FBWTtJQUN2QyxJQUFJO01BQ0YsTUFBTXBCLEdBQUcsR0FBRyxNQUFNbEIsV0FBVyxDQUFDLE1BQU0sRUFBRSxRQUFRLEVBQUU7UUFDOUNQLEtBQUssRUFBRUQsUUFBUSxDQUFDQyxLQUFLO1FBQ3JCQyxRQUFRLEVBQUVGLFFBQVEsQ0FBQ0U7TUFDckIsQ0FBQyxDQUFDO01BRUYsSUFBSXdCLEdBQUcsQ0FBQ08sTUFBTSxLQUFLLEdBQUcsSUFBSVAsR0FBRyxDQUFDTyxNQUFNLEtBQUssR0FBRyxFQUFFO1FBQzVDcEMsTUFBTSxDQUFDNkIsR0FBRyxDQUFDZixJQUFJLENBQUNvQyxLQUFLLEVBQUUsNEJBQTRCLENBQUM7UUFDcEQzQyxTQUFTLEdBQUdzQixHQUFHLENBQUNmLElBQUksQ0FBQ29DLEtBQUs7UUFDMUIsSUFBSXJCLEdBQUcsQ0FBQ2YsSUFBSSxDQUFDTixZQUFZLEVBQUVBLFlBQVksR0FBR3FCLEdBQUcsQ0FBQ2YsSUFBSSxDQUFDTixZQUFZO1FBQy9ELElBQUlxQixHQUFHLENBQUNmLElBQUksQ0FBQ3FDLElBQUksRUFBRUMsRUFBRSxFQUFFMUMsTUFBTSxHQUFHbUIsR0FBRyxDQUFDZixJQUFJLENBQUNxQyxJQUFJLENBQUNDLEVBQUU7UUFDaEROLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLG9CQUFvQixDQUFDO01BQ25DLENBQUMsTUFBTTtRQUNMO1FBQ0EvQyxNQUFNLENBQUM2QixHQUFHLENBQUNPLE1BQU0sS0FBSyxHQUFHLElBQUlQLEdBQUcsQ0FBQ08sTUFBTSxLQUFLLEdBQUcsRUFBRSx5QkFBeUJQLEdBQUcsQ0FBQ08sTUFBTSxFQUFFLENBQUM7UUFDdkZVLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLDRCQUE0QixDQUFDO01BQzNDO0lBQ0YsQ0FBQyxDQUFDLE9BQU9ULENBQUMsRUFBRTtNQUNWUSxPQUFPLENBQUNDLEdBQUcsQ0FBQywrQ0FBK0MsQ0FBQztJQUM5RDtFQUNGLENBQUM7RUFFRCx1QkFBdUIsRUFBRSxNQUFBTSxDQUFBLEtBQVk7SUFDbkMsTUFBTXhCLEdBQUcsR0FBRyxNQUFNbEIsV0FBVyxDQUFDLE1BQU0sRUFBRSxRQUFRLEVBQUU7TUFDOUNOLFFBQVEsRUFBRTtJQUNaLENBQUMsQ0FBQztJQUNGTCxNQUFNLENBQUM2QixHQUFHLENBQUNPLE1BQU0sSUFBSSxHQUFHLEVBQUUsbUNBQW1DLENBQUM7SUFDOURVLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLDRCQUE0QixDQUFDO0VBQzNDLENBQUM7RUFFRCwwQkFBMEIsRUFBRSxNQUFBTyxDQUFBLEtBQVk7SUFDdEMsTUFBTXpCLEdBQUcsR0FBRyxNQUFNbEIsV0FBVyxDQUFDLE1BQU0sRUFBRSxRQUFRLEVBQUU7TUFDOUNQLEtBQUssRUFBRTtJQUNULENBQUMsQ0FBQztJQUNGSixNQUFNLENBQUM2QixHQUFHLENBQUNPLE1BQU0sSUFBSSxHQUFHLEVBQUUsc0NBQXNDLENBQUM7SUFDakVVLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLCtCQUErQixDQUFDO0VBQzlDLENBQUM7RUFFRDtFQUNBLGNBQWMsRUFBRSxNQUFBUSxDQUFBLEtBQVk7SUFDMUIsSUFBSSxDQUFDaEQsU0FBUyxFQUFFO01BQ2R1QyxPQUFPLENBQUNDLEdBQUcsQ0FBQywyQ0FBMkMsQ0FBQztNQUN4RDtJQUNGO0lBRUEsTUFBTWxCLEdBQUcsR0FBRyxNQUFNbEIsV0FBVyxDQUFDLE1BQU0sRUFBRSxlQUFlLEVBQUU7TUFDckR1QyxLQUFLLEVBQUUzQztJQUNULENBQUMsQ0FBQztJQUNGUCxNQUFNLENBQUM2QixHQUFHLENBQUNPLE1BQU0sS0FBSyxHQUFHLElBQUlQLEdBQUcsQ0FBQ08sTUFBTSxLQUFLLEdBQUcsRUFBRSwrQkFBK0IsQ0FBQztJQUNqRlUsT0FBTyxDQUFDQyxHQUFHLENBQUMsOEJBQThCLENBQUM7RUFDN0MsQ0FBQztFQUVELGVBQWUsRUFBRSxNQUFBUyxDQUFBLEtBQVk7SUFDM0IsSUFBSSxDQUFDaEQsWUFBWSxFQUFFO01BQ2pCc0MsT0FBTyxDQUFDQyxHQUFHLENBQUMsOENBQThDLENBQUM7TUFDM0Q7SUFDRjtJQUVBLE1BQU1sQixHQUFHLEdBQUcsTUFBTWxCLFdBQVcsQ0FBQyxNQUFNLEVBQUUsZ0JBQWdCLEVBQUU7TUFDdERILFlBQVksRUFBRUE7SUFDaEIsQ0FBQyxDQUFDO0lBQ0ZSLE1BQU0sQ0FBQzZCLEdBQUcsQ0FBQ08sTUFBTSxLQUFLLEdBQUcsSUFBSVAsR0FBRyxDQUFDTyxNQUFNLEtBQUssR0FBRyxFQUFFLDZCQUE2QixDQUFDO0lBQy9FLElBQUlQLEdBQUcsQ0FBQ08sTUFBTSxLQUFLLEdBQUcsSUFBSVAsR0FBRyxDQUFDZixJQUFJLENBQUNvQyxLQUFLLEVBQUU7TUFDeEMzQyxTQUFTLEdBQUdzQixHQUFHLENBQUNmLElBQUksQ0FBQ29DLEtBQUs7SUFDNUI7SUFDQUosT0FBTyxDQUFDQyxHQUFHLENBQUMseUJBQXlCLENBQUM7RUFDeEMsQ0FBQztFQUVELGVBQWUsRUFBRSxNQUFBVSxDQUFBLEtBQVk7SUFDM0IsSUFBSSxDQUFDbEQsU0FBUyxFQUFFO01BQ2R1QyxPQUFPLENBQUNDLEdBQUcsQ0FBQyxrQ0FBa0MsQ0FBQztNQUMvQztJQUNGO0lBRUEsTUFBTWxCLEdBQUcsR0FBRyxNQUFNbEIsV0FBVyxDQUFDLEtBQUssRUFBRSxXQUFXLENBQUM7SUFDakRYLE1BQU0sQ0FBQzZCLEdBQUcsQ0FBQ08sTUFBTSxLQUFLLEdBQUcsSUFBSVAsR0FBRyxDQUFDTyxNQUFNLEtBQUssR0FBRyxFQUFFLHlDQUF5QyxDQUFDO0lBQzNGVSxPQUFPLENBQUNDLEdBQUcsQ0FBQyw4QkFBOEIsQ0FBQztFQUM3QyxDQUFDO0VBRUQ7RUFDQSxlQUFlLEVBQUUsTUFBQVcsQ0FBQSxLQUFZO0lBQzNCLE1BQU03QixHQUFHLEdBQUcsTUFBTWxCLFdBQVcsQ0FBQyxLQUFLLEVBQUUsV0FBVyxDQUFDO0lBQ2pEWCxNQUFNLENBQUM2QixHQUFHLENBQUNPLE1BQU0sS0FBSyxHQUFHLElBQUlQLEdBQUcsQ0FBQ08sTUFBTSxLQUFLLEdBQUcsRUFBRSxzQ0FBc0MsQ0FBQztJQUN4RlUsT0FBTyxDQUFDQyxHQUFHLENBQUMsMkJBQTJCLENBQUM7RUFDMUMsQ0FBQztFQUVELGtCQUFrQixFQUFFLE1BQUFZLENBQUEsS0FBWTtJQUM5QixNQUFNOUIsR0FBRyxHQUFHLE1BQU1sQixXQUFXLENBQUMsS0FBSyxFQUFFLGFBQWEsQ0FBQztJQUNuRFgsTUFBTSxDQUFDNkIsR0FBRyxDQUFDTyxNQUFNLEtBQUssR0FBRyxJQUFJUCxHQUFHLENBQUNPLE1BQU0sS0FBSyxHQUFHLEVBQUUseUJBQXlCLENBQUM7SUFDM0VVLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLCtCQUErQixDQUFDO0VBQzlDLENBQUM7RUFFRDtFQUNBLDBCQUEwQixFQUFFLE1BQUFhLENBQUEsS0FBWTtJQUN0QyxNQUFNL0IsR0FBRyxHQUFHLE1BQU1sQixXQUFXLENBQUMsS0FBSyxFQUFFLGtGQUFrRixDQUFDO0lBQ3hIWCxNQUFNLENBQUM2QixHQUFHLENBQUNPLE1BQU0sS0FBSyxHQUFHLElBQUlQLEdBQUcsQ0FBQ08sTUFBTSxLQUFLLEdBQUcsSUFBSVAsR0FBRyxDQUFDTyxNQUFNLEtBQUssR0FBRyxFQUFFLCtCQUErQixDQUFDO0lBQ3ZHVSxPQUFPLENBQUNDLEdBQUcsQ0FBQyxvQ0FBb0MsQ0FBQztFQUNuRCxDQUFDO0VBRUQ7RUFDQSxRQUFRLEVBQUUsTUFBQWMsQ0FBQSxLQUFZO0lBQ3BCLE1BQU1oQyxHQUFHLEdBQUcsTUFBTWxCLFdBQVcsQ0FBQyxNQUFNLEVBQUUsU0FBUyxDQUFDO0lBQ2hEWCxNQUFNLENBQUM2QixHQUFHLENBQUNPLE1BQU0sS0FBSyxHQUFHLElBQUlQLEdBQUcsQ0FBQ08sTUFBTSxLQUFLLEdBQUcsRUFBRSxzQkFBc0IsQ0FBQztJQUN4RVUsT0FBTyxDQUFDQyxHQUFHLENBQUMsMkJBQTJCLENBQUM7RUFDMUM7QUFDRixDQUFDOztBQUVEO0FBQ0EsZUFBZWUsUUFBUUEsQ0FBQSxFQUFHO0VBQ3hCaEIsT0FBTyxDQUFDQyxHQUFHLENBQUMsOENBQThDLENBQUM7RUFDM0RELE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLDJDQUEyQyxDQUFDO0VBQ3hERCxPQUFPLENBQUNDLEdBQUcsQ0FBQyw4Q0FBOEMsQ0FBQztFQUUzRCxJQUFJZ0IsTUFBTSxHQUFHLENBQUM7RUFDZCxJQUFJQyxNQUFNLEdBQUcsQ0FBQztFQUNkLE1BQU1DLE9BQU8sR0FBRyxFQUFFO0VBRWxCLEtBQUssTUFBTSxDQUFDQyxRQUFRLEVBQUVDLE1BQU0sQ0FBQyxJQUFJQyxNQUFNLENBQUNDLE9BQU8sQ0FBQzNCLEtBQUssQ0FBQyxFQUFFO0lBQ3RELElBQUk7TUFDRixNQUFNeUIsTUFBTSxDQUFDLENBQUM7TUFDZEosTUFBTSxFQUFFO01BQ1JFLE9BQU8sQ0FBQ0ssSUFBSSxDQUFDO1FBQUVoRSxJQUFJLEVBQUU0RCxRQUFRO1FBQUU5QixNQUFNLEVBQUU7TUFBUyxDQUFDLENBQUM7SUFDcEQsQ0FBQyxDQUFDLE9BQU9tQyxLQUFLLEVBQUU7TUFDZFAsTUFBTSxFQUFFO01BQ1JDLE9BQU8sQ0FBQ0ssSUFBSSxDQUFDO1FBQUVoRSxJQUFJLEVBQUU0RCxRQUFRO1FBQUU5QixNQUFNLEVBQUUsUUFBUTtRQUFFbUMsS0FBSyxFQUFFQSxLQUFLLENBQUNDO01BQVEsQ0FBQyxDQUFDO01BQ3hFMUIsT0FBTyxDQUFDQyxHQUFHLENBQUMsS0FBS21CLFFBQVEsS0FBS0ssS0FBSyxDQUFDQyxPQUFPLEVBQUUsQ0FBQztJQUNoRDtFQUNGO0VBRUExQixPQUFPLENBQUNDLEdBQUcsQ0FBQyw4Q0FBOEMsQ0FBQztFQUMzREQsT0FBTyxDQUFDQyxHQUFHLENBQUMsMkNBQTJDLENBQUM7RUFDeERELE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLDhDQUE4QyxDQUFDO0VBRTNEa0IsT0FBTyxDQUFDUSxPQUFPLENBQUNDLENBQUMsSUFBSTtJQUNuQjVCLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLEdBQUcyQixDQUFDLENBQUN0QyxNQUFNLElBQUlzQyxDQUFDLENBQUNwRSxJQUFJLEVBQUUsQ0FBQztJQUNwQyxJQUFJb0UsQ0FBQyxDQUFDSCxLQUFLLEVBQUV6QixPQUFPLENBQUNDLEdBQUcsQ0FBQyxhQUFhMkIsQ0FBQyxDQUFDSCxLQUFLLEVBQUUsQ0FBQztFQUNsRCxDQUFDLENBQUM7RUFFRnpCLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLGlCQUFpQmdCLE1BQU0sWUFBWUMsTUFBTSxrQkFBa0JELE1BQU0sR0FBR0MsTUFBTSxVQUFVLENBQUM7RUFFakdXLE9BQU8sQ0FBQ0MsSUFBSSxDQUFDWixNQUFNLEdBQUcsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUM7QUFDbEM7O0FBRUE7QUFDQUYsUUFBUSxDQUFDLENBQUMsQ0FBQ2UsS0FBSyxDQUFDTixLQUFLLElBQUk7RUFDeEJ6QixPQUFPLENBQUN5QixLQUFLLENBQUMsbUJBQW1CLEVBQUVBLEtBQUssQ0FBQztFQUN6Q0ksT0FBTyxDQUFDQyxJQUFJLENBQUMsQ0FBQyxDQUFDO0FBQ2pCLENBQUMsQ0FBQyIsImlnbm9yZUxpc3QiOltdfQ==