{"version":3,"names":["mongoose","require","PayrollSchema","Schema","employeeId","type","Types","ObjectId","ref","required","index","month","String","year","Number","baseSalary","allowances","name","amount","deductions","totalGross","totalDeductions","totalNet","attendance","presentDays","absentDays","leaveDays","workingDays","overtime","bonuses","reason","penalties","paymentStatus","enum","default","paymentDate","Date","paymentMethod","taxes","incomeTax","socialSecurity","healthInsurance","notes","approvedBy","approvalDate","createdAt","now","updatedAt","timestamps","collection","unique","module","exports","model"],"sources":["Payroll.js"],"sourcesContent":["/**\r\n * Payroll Model (HR)\r\n * Modular, extensible payroll record for HR system\r\n */\r\nconst mongoose = require('mongoose');\r\n\r\nconst PayrollSchema = new mongoose.Schema(\r\n  {\r\n    employeeId: {\r\n      type: mongoose.Schema.Types.ObjectId,\r\n      ref: 'Employee',\r\n      required: true,\r\n      index: true,\r\n    },\r\n    month: { type: String, required: true, index: true }, // YYYY-MM\r\n    year: { type: Number, required: true, index: true },\r\n    baseSalary: Number,\r\n    allowances: [\r\n      {\r\n        name: String,\r\n        amount: Number,\r\n        type: String,\r\n      },\r\n    ],\r\n    deductions: [\r\n      {\r\n        name: String,\r\n        amount: Number,\r\n        type: String,\r\n      },\r\n    ],\r\n    totalGross: Number,\r\n    totalDeductions: Number,\r\n    totalNet: Number,\r\n    attendance: {\r\n      presentDays: Number,\r\n      absentDays: Number,\r\n      leaveDays: Number,\r\n      workingDays: Number,\r\n      overtime: Number,\r\n    },\r\n    bonuses: [\r\n      {\r\n        name: String,\r\n        amount: Number,\r\n        reason: String,\r\n      },\r\n    ],\r\n    penalties: [\r\n      {\r\n        name: String,\r\n        amount: Number,\r\n        reason: String,\r\n      },\r\n    ],\r\n    paymentStatus: {\r\n      type: String,\r\n      enum: ['pending', 'processed', 'transferred', 'paid'],\r\n      default: 'pending',\r\n    },\r\n    paymentDate: Date,\r\n    paymentMethod: String,\r\n    taxes: {\r\n      incomeTax: Number,\r\n      socialSecurity: Number,\r\n      healthInsurance: Number,\r\n    },\r\n    notes: String,\r\n    approvedBy: String,\r\n    approvalDate: Date,\r\n    createdAt: { type: Date, default: Date.now },\r\n    updatedAt: { type: Date, default: Date.now },\r\n  },\r\n  {\r\n    timestamps: true,\r\n    collection: 'payrolls',\r\n  }\r\n);\r\n\r\nPayrollSchema.index({ employeeId: 1, month: 1 }, { unique: true });\r\nPayrollSchema.index({ month: 1, paymentStatus: 1 });\r\n\r\nmodule.exports = mongoose.model('Payroll', PayrollSchema);\r\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA,MAAMA,QAAQ,GAAGC,OAAO,CAAC,UAAU,CAAC;AAEpC,MAAMC,aAAa,GAAG,IAAIF,QAAQ,CAACG,MAAM,CACvC;EACEC,UAAU,EAAE;IACVC,IAAI,EAAEL,QAAQ,CAACG,MAAM,CAACG,KAAK,CAACC,QAAQ;IACpCC,GAAG,EAAE,UAAU;IACfC,QAAQ,EAAE,IAAI;IACdC,KAAK,EAAE;EACT,CAAC;EACDC,KAAK,EAAE;IAAEN,IAAI,EAAEO,MAAM;IAAEH,QAAQ,EAAE,IAAI;IAAEC,KAAK,EAAE;EAAK,CAAC;EAAE;EACtDG,IAAI,EAAE;IAAER,IAAI,EAAES,MAAM;IAAEL,QAAQ,EAAE,IAAI;IAAEC,KAAK,EAAE;EAAK,CAAC;EACnDK,UAAU,EAAED,MAAM;EAClBE,UAAU,EAAE,CACV;IACEC,IAAI,EAAEL,MAAM;IACZM,MAAM,EAAEJ,MAAM;IACdT,IAAI,EAAEO;EACR,CAAC,CACF;EACDO,UAAU,EAAE,CACV;IACEF,IAAI,EAAEL,MAAM;IACZM,MAAM,EAAEJ,MAAM;IACdT,IAAI,EAAEO;EACR,CAAC,CACF;EACDQ,UAAU,EAAEN,MAAM;EAClBO,eAAe,EAAEP,MAAM;EACvBQ,QAAQ,EAAER,MAAM;EAChBS,UAAU,EAAE;IACVC,WAAW,EAAEV,MAAM;IACnBW,UAAU,EAAEX,MAAM;IAClBY,SAAS,EAAEZ,MAAM;IACjBa,WAAW,EAAEb,MAAM;IACnBc,QAAQ,EAAEd;EACZ,CAAC;EACDe,OAAO,EAAE,CACP;IACEZ,IAAI,EAAEL,MAAM;IACZM,MAAM,EAAEJ,MAAM;IACdgB,MAAM,EAAElB;EACV,CAAC,CACF;EACDmB,SAAS,EAAE,CACT;IACEd,IAAI,EAAEL,MAAM;IACZM,MAAM,EAAEJ,MAAM;IACdgB,MAAM,EAAElB;EACV,CAAC,CACF;EACDoB,aAAa,EAAE;IACb3B,IAAI,EAAEO,MAAM;IACZqB,IAAI,EAAE,CAAC,SAAS,EAAE,WAAW,EAAE,aAAa,EAAE,MAAM,CAAC;IACrDC,OAAO,EAAE;EACX,CAAC;EACDC,WAAW,EAAEC,IAAI;EACjBC,aAAa,EAAEzB,MAAM;EACrB0B,KAAK,EAAE;IACLC,SAAS,EAAEzB,MAAM;IACjB0B,cAAc,EAAE1B,MAAM;IACtB2B,eAAe,EAAE3B;EACnB,CAAC;EACD4B,KAAK,EAAE9B,MAAM;EACb+B,UAAU,EAAE/B,MAAM;EAClBgC,YAAY,EAAER,IAAI;EAClBS,SAAS,EAAE;IAAExC,IAAI,EAAE+B,IAAI;IAAEF,OAAO,EAAEE,IAAI,CAACU;EAAI,CAAC;EAC5CC,SAAS,EAAE;IAAE1C,IAAI,EAAE+B,IAAI;IAAEF,OAAO,EAAEE,IAAI,CAACU;EAAI;AAC7C,CAAC,EACD;EACEE,UAAU,EAAE,IAAI;EAChBC,UAAU,EAAE;AACd,CACF,CAAC;AAED/C,aAAa,CAACQ,KAAK,CAAC;EAAEN,UAAU,EAAE,CAAC;EAAEO,KAAK,EAAE;AAAE,CAAC,EAAE;EAAEuC,MAAM,EAAE;AAAK,CAAC,CAAC;AAClEhD,aAAa,CAACQ,KAAK,CAAC;EAAEC,KAAK,EAAE,CAAC;EAAEqB,aAAa,EAAE;AAAE,CAAC,CAAC;AAEnDmB,MAAM,CAACC,OAAO,GAAGpD,QAAQ,CAACqD,KAAK,CAAC,SAAS,EAAEnD,aAAa,CAAC","ignoreList":[]}