{"version":3,"names":["express","require","cors","config","app","console","log","safeRequire","filePath","err","process","env","DEBUG_ROUTES","debug","message","substring","supplyChainRouter","branchIntegrationRoutes","notificationRoutes","errorHandler","cache","limiters","analytics","systemDashboard","initializePerformanceOptimizations","use","json","req","res","next","method","path","originalUrl","cacheManagementRouter","get","status","timestamp","Date","toISOString","uptime","environment","NODE_ENV","port","PORT","mongodb","USE_MOCK_DB","getConnectionHealth","dbHealth","success","isConnected","Math","floor","services","api","database","connected","mode","connectionAttempts","lastConnectedAt","secondsSinceConnected","lastErrorMessage","lastErrorTime","USE_MOCK_CACHE","memory","heapUsed","round","memoryUsage","heapTotal","error","moiHealthHandler","service","version","routeStack","_router","stack","moiRoute","find","r","route","e","hrEmployeeRouter","hrAttendanceRouter","hrLeaveRouter","hrPayrollRouter","hrPerformanceEvaluationRouter","docsRouter","predictionsRouter","reportsRouter","notificationsRouter","monitoringRouter","supportRouter","integrationsRouter","performanceRouter","authRouter","usersRouter","rbacRouter","rbacAdvancedRouter","mfaRouter","analyticsRouter","cmsRouter","uploadRouter","exportRouter","searchRouter","validateRouter","dashboardRouter","executiveDashboardRouter","beneficiaryPortalRouter","communityRouter","specializedProgramsRouter","advancedSessionsRouter","smartSchedulerRouter","equipmentRouter","qualityRouter","internalAuditRouter","vehiclesRouter","transportRoutesRouter","tripsRouter","realtimeCollaborationRouter","smartNotificationsRouter","advancedAnalyticsRouter","mobileAppRouter","dashboardWidgetRouter","tenantRouter","aiRecommendationsRouter","integrationHubRouter","qiwaRouter","measurementsRouter","moiPassportRouter","migrationRouter","initialize","then","driversRouter","gpsRouter","trafficAccidentsRouter","trafficAccidentAnalyticsRouter","MigrationService","CSVProcessor","migrationManager","post","sourceDB","targetDB","body","csvProcessor","logger","plan","getCurrentPlan","summary","getSummary","clear","stats","getStatus","router","module","exports"],"sources":["app.js"],"sourcesContent":["const express = require('express');\r\nconst cors = require('cors');\r\nrequire('dotenv').config();\r\n\r\nconst app = express();\r\n\r\nconsole.log('[APP-INIT] Express app created');\r\n\r\n// Safe require function - silently fail for non-critical routes\r\nconst safeRequire = (filePath) => {\r\n  try {\r\n    return require(filePath);\r\n  } catch (err) {\r\n    // Only log debug info if requested, never throw for route files\r\n    if (process.env.DEBUG_ROUTES === 'true') {\r\n      console.debug(`[DEBUG] Route load skipped: ${filePath} (${err.message.substring(0, 50)})`);\r\n    }\r\n    return null;\r\n  }\r\n};\r\n\r\n// Load all routers safely\r\n// Note: Following routers are temporarily disabled but kept in code for reference\r\n// Routes: performanceEvaluations, aiNotifications, approvalRequests, montessoriAuth,\r\n// montessori, notificationTemplates, fcm, templates, orgBranding, ai, sso.routes\r\nconst supplyChainRouter = safeRequire('./routes/supplyChain.routes');\r\nconst branchIntegrationRoutes = safeRequire('./routes/branch-integration.routes');\r\nconst notificationRoutes = safeRequire('./routes/notificationRoutes'); // ðŸŽ¯ Advanced Notification System\r\n\r\n// Custom middleware\r\nconst errorHandler = require('./middleware/errorHandler');\r\nconst { cache } = require('./config/redis');\r\nconst { limiters } = require('./middleware/rateLimit');\r\nconst analytics = require('./middleware/analytics');\r\nconst systemDashboard = require('./services/systemDashboard');\r\nconst { initializePerformanceOptimizations } = require('./utils/performance-optimizer');\r\n\r\n// Middleware\r\napp.use(cors());\r\napp.use(express.json());\r\n\r\n// CRITICAL DEBUG: Log all requests\r\napp.use((req, res, next) => {\r\n  console.log(`[REQUEST-TRACE] ${req.method} ${req.path} | Full URL: ${req.originalUrl}`);\r\n  next();\r\n});\r\n\r\n// Initialize performance optimizations (compression, caching, monitoring)\r\ninitializePerformanceOptimizations(app);\r\n\r\n// ==================== CACHE MANAGEMENT ROUTES (REGISTERED EARLY) ====================\r\n// Register cache routes BEFORE all other routers to ensure they're reached\r\nconst cacheManagementRouter = require('./routes/cache-management.routes');\r\napp.use('/api', cacheManagementRouter);\r\nconsole.log('âœ… Cache management routes registered at /api');\r\n\r\n// TEMPORARILY DISABLED - Testing if these cause 404 issue\r\n/*\r\n// Register SSO Routes FIRST (before any logging middleware)\r\nif (ssoRouter) {\r\n  app.use('/api/sso', ssoRouter);\r\n  console.log('âœ… SSO Routes loaded and registered on /api/sso');\r\n} else {\r\n  console.log('âš ï¸  SSO Router not loaded');\r\n  // Fallback SSO status endpoint if router failed\r\n  app.get('/api/sso/status', (req, res) => {\r\n    console.log('[FALLBACK] /api/sso/status called');\r\n    res.json({\r\n      success: true,\r\n      status: 'operational (fallback)',\r\n      message: 'SSO system is operational'\r\n    });\r\n  });\r\n  console.log('âœ… Fallback SSO status endpoint registered');\r\n}\r\n\r\n// Test direct route - should work and prove Express is functioning\r\napp.get('/api/test/sso', (req, res) => {\r\n  console.log('[DIRECT] /api/test/sso endpoint hit');\r\n  res.json({\r\n    test: 'direct endpoint in app.js',\r\n    status: 200\r\n  });\r\n});\r\nconsole.log('âœ… Test endpoint /api/test/sso registered');\r\n\r\n// Debug middleware to see what's happening with requests\r\napp.use((req, res, next) => {\r\n  if (req.path.includes('/sso')) {\r\n    console.log(`[DEBUG] Request to ${req.method} ${req.originalUrl}, path: ${req.path}, baseUrl: ${req.baseUrl}`);\r\n  }\r\n  next();\r\n});\r\n\r\n// Then apply middleware\r\napp.use(requestLogger);\r\napp.use(performanceMonitor.middleware());\r\n\r\n// Rate limiting (Skip for SSO)\r\napp.use('/api/', (req, res, next) => {\r\n  // Bypass rate limiting for SSO and health check routes\r\n  if (req.path.startsWith('/sso') || req.path === '/health' || req.path === '/api/health') {\r\n    return next();\r\n  }\r\n  // Skip rate limiting for now - test if it's the source of 404\r\n  // TODO: Fix async middleware issue\r\n  next();\r\n});\r\napp.use('/api/auth/login', limiters.login.middleware);\r\napp.use('/api/auth/register', limiters.login.middleware);\r\n\r\n// Analytics middleware\r\napp.use((req, res, next) => {\r\n  const startTime = Date.now();\r\n\r\n  res.on('finish', () => {\r\n    const duration = Date.now() - startTime;\r\n    analytics.trackRequest(req, res, duration);\r\n  });\r\n\r\n  next();\r\n});\r\nif (performanceEvaluationsRouter) app.use('/api/performance-evaluations', performanceEvaluationsRouter);\r\nif (aiNotificationsRouter) app.use('/api/ai-notifications', aiNotificationsRouter);\r\nif (approvalRequestsRouter) app.use('/api/approval-requests', approvalRequestsRouter);\r\nif (montessoriAuthRouter) app.use('/api/montessori-auth', montessoriAuthRouter);\r\nif (montessoriRouter) app.use('/api/montessori', montessoriRouter);\r\nif (notificationTemplatesRouter) app.use('/api/notification-templates', notificationTemplatesRouter);\r\nif (fcmRouter) app.use('/api/fcm', fcmRouter);\r\nif (templatesRouter) {\r\n  app.use('/api/templates', templatesRouter);\r\n  app.use('/api/templates/attachments', express.static(path.join(__dirname, 'uploads')));\r\n}\r\nif (orgBrandingRouter) app.use('/api/org-branding', orgBrandingRouter);\r\nif (aiRouter) app.use('/api/ai', aiRouter);\r\n*/\r\n\r\n// Supply chain ONLY - for testing\r\nif (supplyChainRouter) {\r\n  // Debug: Log all supply-chain requests\r\n  app.use('/api/supply-chain', (req, res, next) => {\r\n    console.log(`[SUPPLY-CHAIN] ${req.method} ${req.path} - Routing to handler...`);\r\n    next();\r\n  });\r\n  app.use('/api/supply-chain', supplyChainRouter);\r\n  console.log('âœ… Supply Chain Management Routes loaded');\r\n}\r\n\r\n// Health Check\r\napp.get('/health', (req, res) => {\r\n  res.json({\r\n    status: 'healthy',\r\n    timestamp: new Date().toISOString(),\r\n    uptime: process.uptime(),\r\n    environment: process.env.NODE_ENV,\r\n    port: process.env.PORT,\r\n    mongodb: process.env.USE_MOCK_DB === 'true' ? 'mock' : 'connected',\r\n  });\r\n});\r\n\r\n// Enhanced health check\r\napp.get('/api/health', (req, res) => {\r\n  // Import here to avoid circular dependencies\r\n  try {\r\n    const { getConnectionHealth } = require('./config/database');\r\n    const dbHealth = getConnectionHealth();\r\n    \r\n    res.json({\r\n      success: true,\r\n      status: dbHealth.isConnected ? 'healthy' : 'degraded',\r\n      timestamp: new Date().toISOString(),\r\n      uptime: Math.floor(process.uptime()),\r\n      environment: process.env.NODE_ENV || 'development',\r\n      services: {\r\n        api: 'operational',\r\n        database: {\r\n          connected: dbHealth.isConnected,\r\n          mode: process.env.USE_MOCK_DB === 'true' ? 'mock (development)' : 'mongodb',\r\n          connectionAttempts: dbHealth.connectionAttempts,\r\n          lastConnectedAt: dbHealth.lastConnectedAt,\r\n          secondsSinceConnected: dbHealth.secondsSinceConnected,\r\n          lastErrorMessage: dbHealth.lastErrorMessage,\r\n          lastErrorTime: dbHealth.lastErrorTime,\r\n        },\r\n        cache: process.env.USE_MOCK_CACHE === 'true' ? 'mock' : 'configured',\r\n      },\r\n      memory: {\r\n        heapUsed: Math.round(process.memoryUsage().heapUsed / 1024 / 1024) + ' MB',\r\n        heapTotal: Math.round(process.memoryUsage().heapTotal / 1024 / 1024) + ' MB',\r\n      },\r\n    });\r\n  } catch (error) {\r\n    // Fallback response if database health check fails\r\n    res.json({\r\n      success: true,\r\n      status: 'operational',\r\n      timestamp: new Date().toISOString(),\r\n      uptime: Math.floor(process.uptime()),\r\n      environment: process.env.NODE_ENV || 'development',\r\n      services: {\r\n        api: 'operational',\r\n        database: process.env.USE_MOCK_DB === 'true' ? 'mock' : 'unknown',\r\n        cache: process.env.USE_MOCK_CACHE === 'true' ? 'mock' : 'configured',\r\n      },\r\n    });\r\n  }\r\n});\r\n\r\n// Log middleware\r\napp.use((req, res, next) => {\r\n  console.log(`${new Date().toISOString()} - ${req.method} ${req.path}`);\r\n  next();\r\n});\r\n\r\n// ðŸ‡¸ðŸ‡¦ Direct MOI Passport Route Registration (Placed Early)\r\nconsole.log('[APP-INIT] === Starting MOI route registration ===');\r\n\r\nconst moiHealthHandler = (req, res) => {\r\n  console.log('[MOI-ENDPOINT] /api/moi/health called');\r\n  res.json({\r\n    success: true,\r\n    status: 'healthy',\r\n    service: 'MOI Passport Integration Service',\r\n    version: '3.0.0',\r\n    timestamp: new Date().toISOString(),\r\n  });\r\n};\r\n\r\napp.get('/api/moi/health', moiHealthHandler);\r\nconsole.log('[APP-INIT] MOI health route registered using app.get()');\r\n\r\n// Verify route was added\r\ntry {\r\n  const routeStack = app._router?.stack;\r\n  if (routeStack) {\r\n    const moiRoute = routeStack.find(r => r.route && r.route.path === '/api/moi/health');\r\n    console.log('[APP-INIT] MOI route in stack:', moiRoute ? 'YES' : 'NO');\r\n  }\r\n} catch (e) {\r\n  if (process.env.DEBUG_ROUTES === 'true') {\r\n    console.log('[APP-INIT] Could not verify route:', e.message);\r\n  }\r\n}\r\n\r\nconsole.log('[APP-INIT] === MOI route registration complete ===');\r\n\r\n// API Routes\r\ntry {\r\n  // HR Routers\r\n  const hrEmployeeRouter = safeRequire('./routes/hr/employee');\r\n  const hrAttendanceRouter = safeRequire('./routes/hr/attendance');\r\n  const hrLeaveRouter = safeRequire('./routes/hr/leave');\r\n  const hrPayrollRouter = safeRequire('./routes/hr/payroll');\r\n  const hrPerformanceEvaluationRouter = safeRequire('./routes/hr/performanceEvaluation');\r\n\r\n  // Documentation\r\n  const docsRouter = safeRequire('./routes/docs');\r\n\r\n  // Original Systems\r\n  const predictionsRouter = safeRequire('./routes/predictions');\r\n  const reportsRouter = safeRequire('./routes/reports');\r\n  const notificationsRouter = safeRequire('./routes/notifications');\r\n\r\n  // Advanced Systems (Phase 3)\r\n  const monitoringRouter = safeRequire('./routes/monitoring');\r\n  const supportRouter = safeRequire('./routes/support');\r\n  const integrationsRouter = safeRequire('./routes/integrations');\r\n  const performanceRouter = safeRequire('./routes/performance');\r\n\r\n  // Authentication & User Management (Phase 4)\r\n  const authRouter = safeRequire('./routes/auth');\r\n  const usersRouter = safeRequire('./routes/users');\r\n  console.log('[DEBUG] usersRouter loaded:', usersRouter ? 'SUCCESS' : 'FAILED');\r\n  const rbacRouter = safeRequire('./routes/rbac');\r\n  const rbacAdvancedRouter = safeRequire('./routes/rbac-advanced.routes');\r\n  const mfaRouter = safeRequire('./routes/mfa');\r\n\r\n  // Analytics & CMS (Phase 4)\r\n  const analyticsRouter = safeRequire('./routes/analytics');\r\n  const cmsRouter = safeRequire('./routes/cms');\r\n\r\n  // Phase 8: Advanced Features\r\n  const uploadRouter = safeRequire('./routes/upload');\r\n  const exportRouter = safeRequire('./routes/export');\r\n\r\n  // Phase 10: Advanced Features (Search, Validation, Response)\r\n  const searchRouter = safeRequire('./routes/search');\r\n  const validateRouter = safeRequire('./routes/validate');\r\n\r\n  // Phase 11: System Integration\r\n  const dashboardRouter = safeRequire('./routes/dashboard');\r\n\r\n  // Executive Intelligence Dashboard\r\n  const executiveDashboardRouter = safeRequire('./routes/executive-dashboard');\r\n\r\n  // Beneficiary Portal (Communication & Awareness)\r\n  const beneficiaryPortalRouter = safeRequire('./routes/beneficiaryPortal');\r\n\r\n  // Community Awareness System\r\n  const communityRouter = safeRequire('./routes/community');\r\n\r\n  // Phase 13: Specialized Programs & Sessions\r\n  const specializedProgramsRouter = safeRequire('./routes/specializedPrograms');\r\n  const advancedSessionsRouter = safeRequire('./routes/advancedSessions');\r\n  const smartSchedulerRouter = safeRequire('./routes/smartScheduler');\r\n\r\n  // Phase 14: Equipment Management System\r\n  const equipmentRouter = safeRequire('./routes/equipment');\r\n\r\n  // Phase 15: Quality Management & Accreditations\r\n  const qualityRouter = safeRequire('./routes/quality');\r\n\r\n  // Phase 16: Internal Audit Management System\r\n  const internalAuditRouter = safeRequire('./routes/internalAudit');\r\n\r\n  // Phase 17: Vehicle & Transport Management System\r\n  const vehiclesRouter = safeRequire('./routes/vehicles');\r\n  const transportRoutesRouter = safeRequire('./routes/transportRoutes');\r\n  const tripsRouter = safeRequire('./routes/trips');\r\n\r\n  // Phase 18: Real-Time Collaboration System\r\n  const realtimeCollaborationRouter = safeRequire('./routes/realtimeCollaboration.routes');\r\n\r\n  // Phase 19: Smart Notifications System\r\n  const smartNotificationsRouter = safeRequire('./routes/smartNotifications.routes');\r\n\r\n  // Phase 20: Advanced Analytics & Reporting\r\n  const advancedAnalyticsRouter = safeRequire('./routes/advancedAnalytics.routes');\r\n\r\n  // Phase 21: Mobile App Backend Support\r\n  const mobileAppRouter = safeRequire('./routes/mobileApp.routes');\r\n\r\n  // Phase 22: Custom Dashboard Widget Builder\r\n  const dashboardWidgetRouter = safeRequire('./routes/dashboardWidget.routes');\r\n\r\n  // Phase 24: Multi-Tenant Support\r\n  const tenantRouter = safeRequire('./routes/tenant.routes');\r\n\r\n  // Phase 25: AI Recommendations Engine\r\n  const aiRecommendationsRouter = safeRequire('./routes/ai.recommendations.routes');\r\n\r\n  // Phase 26: Advanced Integrations Hub\r\n  const integrationHubRouter = safeRequire('./routes/integrationHub.routes');\r\n\r\n  // Phase 27: Qiwa (Ministry of Labor) Integration\r\n  const qiwaRouter = safeRequire('./routes/qiwa.routes');\r\n\r\n  // Phase 28: Measurement & Rehabilitation Program System\r\n  const measurementsRouter = safeRequire('./routes/measurements.routes');\r\n\r\n  // ðŸ‡¸ï¿½ MOI Passport Integration System\r\n  console.log('[MOI-DEBUG] Attempting to load MOI Passport routes...');\r\n  const moiPassportRouter = safeRequire('./routes/moi-passport.routes');\r\n  console.log('[MOI-DEBUG] moiPassportRouter loaded:', typeof moiPassportRouter, moiPassportRouter ? 'SUCCESS' : 'FAILED');\r\n\r\n  // Data Migration System\r\n  const migrationRouter = safeRequire('./routes/migrations');\r\n  systemDashboard.initialize().then(success => {\r\n    if (success) {\r\n      console.log('âœ… System Dashboard Initialized');\r\n    }\r\n  });\r\n\r\n  // Register available routes\r\n  // HR API endpoints\r\n  if (hrEmployeeRouter) app.use('/api/hr/employees', hrEmployeeRouter);\r\n  if (hrAttendanceRouter) app.use('/api/hr/attendance', hrAttendanceRouter);\r\n  if (hrLeaveRouter) app.use('/api/hr/leaves', hrLeaveRouter);\r\n  if (hrPayrollRouter) app.use('/api/hr/payroll', hrPayrollRouter);\r\n  if (hrPerformanceEvaluationRouter)\r\n    app.use('/api/hr/performance-evaluations', hrPerformanceEvaluationRouter);\r\n  if (predictionsRouter) app.use('/api/predictions', predictionsRouter);\r\n  if (reportsRouter) app.use('/api/reports', reportsRouter);\r\n  if (notificationsRouter) app.use('/api/notifications', notificationsRouter);\r\n  // ðŸŽ¯ Advanced Notification System (WhatsApp, Templates, Analytics, Rules)\r\n  if (notificationRoutes) {\r\n    app.use('/api/notifications/advanced', notificationRoutes);\r\n    console.log('âœ… Advanced Notification System Routes loaded on /api/notifications/advanced');\r\n  } else {\r\n    console.log('âš ï¸  Advanced Notification System routes not loaded');\r\n  }\r\n  if (monitoringRouter) app.use('/api/monitoring', monitoringRouter);\r\n  if (supportRouter) app.use('/api/support', supportRouter);\r\n  if (integrationsRouter) app.use('/api/integrations', integrationsRouter);\r\n  if (performanceRouter) app.use('/api/performance', performanceRouter);\r\n  if (authRouter) app.use('/api/auth', authRouter);\r\n  if (usersRouter) {\r\n    app.use('/api/users', usersRouter);\r\n    console.log('âœ… Users Routes loaded on /api/users');\r\n  } else {\r\n    console.log('âš ï¸  Users router failed to load');\r\n  }\r\n  if (rbacRouter) app.use('/api/rbac', rbacRouter);\r\n  if (mfaRouter) {\r\n    app.use('/api/mfa', mfaRouter);\r\n    console.log('âœ… MFA Routes loaded');\r\n  }\r\n  if (rbacAdvancedRouter) {\r\n    app.use('/api/rbac-advanced', rbacAdvancedRouter);\r\n    console.log('âœ… Advanced RBAC Routes loaded');\r\n  }\r\n  if (analyticsRouter) app.use('/api/analytics', analyticsRouter);\r\n  if (cmsRouter) app.use('/api/cms', cmsRouter);\r\n  if (uploadRouter) app.use('/api/upload', uploadRouter);\r\n  if (exportRouter) app.use('/api/export', exportRouter);\r\n  if (searchRouter) app.use('/api/search', searchRouter);\r\n  if (validateRouter) app.use('/api/validate', validateRouter);\r\n  if (dashboardRouter) app.use('/api/dashboard', dashboardRouter);\r\n  if (executiveDashboardRouter) app.use('/api/executive-dashboard', executiveDashboardRouter);\r\n  if (beneficiaryPortalRouter) app.use('/api/beneficiary', beneficiaryPortalRouter);\r\n  if (communityRouter) app.use('/api/community', communityRouter);\r\n  if (specializedProgramsRouter) app.use('/api/programs', specializedProgramsRouter);\r\n  if (advancedSessionsRouter) app.use('/api/sessions', advancedSessionsRouter);\r\n  if (smartSchedulerRouter) app.use('/api/scheduler', smartSchedulerRouter);\r\n\r\n  // Equipment routes - all in one file\r\n  if (equipmentRouter) {\r\n    app.use('/api/equipment', equipmentRouter);\r\n    app.use('/api/maintenance-schedules', equipmentRouter);\r\n    app.use('/api/lending', equipmentRouter);\r\n    app.use('/api/faults', equipmentRouter);\r\n    app.use('/api/calibration', equipmentRouter);\r\n    app.use('/api/alerts', equipmentRouter);\r\n  }\r\n\r\n  // Quality Management routes\r\n  if (qualityRouter) {\r\n    app.use('/api/quality/standards', qualityRouter);\r\n    app.use('/api/quality/accreditations', qualityRouter);\r\n    app.use('/api/quality/audits', qualityRouter);\r\n    app.use('/api/quality/compliance', qualityRouter);\r\n    app.use('/api/quality/indicators', qualityRouter);\r\n    app.use('/api/quality/dashboard', qualityRouter);\r\n    app.use('/api/quality/reports', qualityRouter);\r\n  }\r\n\r\n  // Internal Audit Management routes\r\n  if (internalAuditRouter) {\r\n    app.use('/api/internal-audits', internalAuditRouter);\r\n  }\r\n\r\n  // Vehicle & Transport Management routes (Phase 17) - Optional\r\n  const driversRouter = safeRequire('./routes/drivers');\r\n  const gpsRouter = safeRequire('./routes/gps');\r\n  const trafficAccidentsRouter = safeRequire('./routes/trafficAccidents');\r\n  const trafficAccidentAnalyticsRouter = safeRequire('./routes/trafficAccidentAnalytics');\r\n\r\n  if (vehiclesRouter) app.use('/api/vehicles', vehiclesRouter);\r\n  if (transportRoutesRouter) app.use('/api/transport-routes', transportRoutesRouter);\r\n  if (tripsRouter) app.use('/api/trips', tripsRouter);\r\n\r\n  // Driver Management routes (Phase 29) - Optional\r\n  if (driversRouter) app.use('/api/drivers', driversRouter);\r\n\r\n  // GPS Tracking routes (Phase 30) - Optional\r\n  if (gpsRouter) app.use('/api/gps', gpsRouter);\r\n\r\n  // Traffic Accident Reporting System (Phase 31) - Optional\r\n  if (trafficAccidentsRouter) app.use('/api/traffic-accidents', trafficAccidentsRouter);\r\n  if (trafficAccidentAnalyticsRouter) app.use('/api/traffic-accidents/analytics', trafficAccidentAnalyticsRouter);\r\n\r\n  // ðŸ‡¸ðŸ‡¦ MOI Passport Integration (Phase: Government Integration) - Optional\r\n  if (moiPassportRouter) {\r\n    app.use('/api/moi', moiPassportRouter);\r\n  }\r\n\r\n  if (uploadRouter) app.use('/api/upload', uploadRouter);\r\n  if (exportRouter) app.use('/api/export', exportRouter);\r\n\r\n  if (docsRouter) app.use('/api-docs', docsRouter);\r\n  if (docsRouter) app.use('/docs', docsRouter);\r\n\r\n  // Real-Time Collaboration routes (Phase 18) - Optional\r\n  if (realtimeCollaborationRouter) app.use('/api/collaboration', realtimeCollaborationRouter);\r\n\r\n  // Smart Notifications routes (Phase 19) - Optional\r\n  if (smartNotificationsRouter) app.use('/api/notifications/smart', smartNotificationsRouter);\r\n\r\n  // Advanced Analytics routes (Phase 20) - Optional\r\n  if (advancedAnalyticsRouter) app.use('/api/analytics', advancedAnalyticsRouter);\r\n\r\n  // Mobile App Backend routes (Phase 21) - Optional\r\n  if (mobileAppRouter) app.use('/api/mobile', mobileAppRouter);\r\n\r\n  // Dashboard Widget Builder routes (Phase 22) - Optional\r\n  if (dashboardWidgetRouter) app.use('/api/dashboard', dashboardWidgetRouter);\r\n\r\n  // Multi-Tenant Support routes (Phase 24) - Optional\r\n  if (tenantRouter) app.use('/api/tenants', tenantRouter);\r\n\r\n  // AI Recommendations Engine routes (Phase 25) - Optional\r\n  if (aiRecommendationsRouter) app.use('/api/ai/recommendations', aiRecommendationsRouter);\r\n\r\n  // Advanced Integrations Hub routes (Phase 26) - Optional\r\n  if (integrationHubRouter) app.use('/api/integrations-hub', integrationHubRouter);\r\n\r\n  // Qiwa (Ministry of Labor) Integration routes (Phase 27)\r\n  if (qiwaRouter) app.use('/api/qiwa', qiwaRouter);\r\n  else console.log('âš ï¸  Router not found: ./routes/qiwa.routes');\r\n\r\n  // Measurement & Rehabilitation Program System routes (Phase 28)\r\n  if (measurementsRouter) app.use('/api/measurements', measurementsRouter);\r\n  else console.log('âš ï¸  Router not found: ./routes/measurements.routes');\r\n\r\n  // Data Migration System routes\r\n  console.log('[MIGRATION-DEBUG] About to register migrations router...');\r\n  console.log('[MIGRATION-DEBUG] migrationRouter type:', typeof migrationRouter);\r\n  console.log('[MIGRATION-DEBUG] migrationRouter.stack exists:', migrationRouter && migrationRouter.stack ? 'YES' : 'NO');\r\n  if (migrationRouter) {\r\n    console.log('[MIGRATION-DEBUG] Calling app.use for /api/migrations');\r\n    app.use('/api/migrations', migrationRouter);\r\n    console.log('âœ… Migration Routes loaded successfully on /api/migrations');\r\n    console.log('[MIGRATION-DEBUG] Registered successfully');\r\n  } else {\r\n    console.log('âš ï¸  Router not found: ./routes/migrations');\r\n  }\r\n  console.log('[MIGRATION-DEBUG] Migration router registration complete');\r\n\r\n  console.log('âœ… Routes loaded successfully');\r\n\r\n  // === DIRECT MIGRATION ENDPOINTS (Workaround for Router Issue) ===\r\n  // These are added directly to app as a workaround for router mounting issues\r\n  const MigrationService = require('./services/migration/MigrationManager');\r\n  const CSVProcessor = require('./services/migration/CSVProcessor');\r\n  \r\n  let migrationManager = null;\r\n  \r\n  // Direct endpoint: Initialize\r\n  app.post('/api/migrations/initialize', (req, res) => {\r\n    try {\r\n      const { sourceDB, targetDB } = req.body;\r\n      if (!sourceDB || !targetDB) {\r\n        return res.status(400).json({\r\n          success: false,\r\n          error: 'Source and target databases are required',\r\n        });\r\n      }\r\n      migrationManager = new MigrationService({\r\n        sourceDB,\r\n        targetDB,\r\n        csvProcessor: new CSVProcessor(),\r\n        logger: console,\r\n      });\r\n      console.log('[MIGRATION] Manager initialized');\r\n      res.json({\r\n        success: true,\r\n        message: 'Migration manager initialized',\r\n      });\r\n    } catch (error) {\r\n      res.status(500).json({\r\n        success: false,\r\n        error: error.message,\r\n      });\r\n    }\r\n  });\r\n  \r\n  // Direct endpoint: Get/Create Plan\r\n  app.get('/api/migrations/plan', (req, res) => {\r\n    try {\r\n      if (!migrationManager) {\r\n        return res.status(400).json({\r\n          success: false,\r\n          error: 'No migration plan created'\r\n        });\r\n      }\r\n      res.json({\r\n        success: true,\r\n        plan: migrationManager.getCurrentPlan ? migrationManager.getCurrentPlan() : null\r\n      });\r\n    } catch (error) {\r\n      res.status(500).json({\r\n        success: false,\r\n        error: error.message,\r\n      });\r\n    }\r\n  });\r\n  \r\n  console.log('âœ… Direct Migration Endpoints Registered (Workaround)');\r\n\r\n  // Phase 10: Analytics & Optimization endpoints\r\n  app.get('/api/admin/analytics', (req, res) => {\r\n    try {\r\n      const summary = analytics.getSummary();\r\n      res.json(summary);\r\n    } catch (error) {\r\n      res.status(500).json({ error: error.message });\r\n    }\r\n  });\r\n\r\n  // Cache management endpoint\r\n  app.post('/api/admin/cache/clear', async (req, res) => {\r\n    try {\r\n      await cache.clear();\r\n      res.json({ message: 'Cache cleared successfully' });\r\n    } catch (error) {\r\n      res.status(500).json({ error: error.message });\r\n    }\r\n  });\r\n\r\n  // Cache status endpoint\r\n  app.get('/api/admin/cache/stats', async (req, res) => {\r\n    try {\r\n      const stats = await cache.stats();\r\n      res.json({ stats });\r\n    } catch (error) {\r\n      res.status(500).json({ error: error.message });\r\n    }\r\n  });\r\n\r\n  // Rate limit status endpoint\r\n  app.get('/api/admin/ratelimit/status', async (req, res) => {\r\n    try {\r\n      const status = await limiters.api.getStatus(req);\r\n      res.json(status);\r\n    } catch (error) {\r\n      res.status(500).json({ error: error.message });\r\n    }\r\n  });\r\n  console.log('   - Enterprise: auth, users, rbac, analytics, cms');\r\n  console.log('   - Phase 8: upload, export');\r\n  console.log('   - Phase 13: programs, sessions, scheduler');\r\n  console.log('   - Phase 29-31: drivers, gps, traffic-accidents');\r\n} catch (err) {\r\n  console.error('âŒ Error loading routes:', err.message);\r\n}\r\n\r\n// Branch-ERP Integration routes (Advanced Branch Management)\r\n// Registered outside try block to ensure it always loads\r\nconsole.log('[INTEGRATION-DEBUG] Starting integration routes registration...');\r\nconsole.log('[INTEGRATION-DEBUG] branchIntegrationRoutes type:', typeof branchIntegrationRoutes);\r\nif (branchIntegrationRoutes) {\r\n  console.log('[INTEGRATION-DEBUG] branchIntegrationRoutes.router type:', typeof branchIntegrationRoutes.router);\r\n}\r\n\r\nif (branchIntegrationRoutes && branchIntegrationRoutes.router) {\r\n  console.log('[INTEGRATION-DEBUG] Registering integration routes...');\r\n  app.use('/api/integration', branchIntegrationRoutes.router);\r\n  console.log('âœ… Branch-ERP Integration routes loaded on /api/integration');\r\n} else {\r\n  console.log('âš ï¸  Branch-ERP Integration router failed to load');\r\n}\r\n\r\n// Test direct integration route\r\napp.get('/api/integration-test', (req, res) => {\r\n  res.json({ message: 'Direct integration test route works' });\r\n});\r\n\r\n// Note: Cache management endpoints are now registered via cache-management.routes.js router\r\n// They are available at /api/cache-stats and /api/cache/clear\r\n\r\n// 404 handler\r\napp.use((req, res) => {\r\n  console.log(`[404-DEBUG] Unmatched route: ${req.method} ${req.path}`);\r\n  res.status(404).json({\r\n    error: 'Not Found',\r\n    path: req.path,\r\n    method: req.method,\r\n  });\r\n});\r\n\r\n// Error Handler\r\napp.use(errorHandler);\r\n\r\n// Start scheduled notifications job\r\ntry {\r\n  require('./services/scheduledNotificationsJob')();\r\n  console.log('Scheduled notifications job started.');\r\n} catch (err) {\r\n  console.error('Failed to start scheduled notifications job:', err);\r\n}\r\n\r\nmodule.exports = app;\r\n"],"mappings":"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","ignoreList":[]}