49882fb4b7c885800d3d92d7ef5785ad
// HR Employee Controller
const Employee = require('../../models/HR/Employee');

// Create new employee
exports.createEmployee = async (req, res) => {
  try {
    const employee = new Employee(req.body);
    await employee.save();
    res.status(201).json(employee);
  } catch (err) {
    res.status(400).json({
      error: err.message
    });
  }
};

// Get all employees
exports.getEmployees = async (req, res) => {
  try {
    const employees = await Employee.find();
    res.json(employees);
  } catch (err) {
    res.status(500).json({
      error: err.message
    });
  }
};

// Get employee by ID
exports.getEmployeeById = async (req, res) => {
  try {
    const employee = await Employee.findById(req.params.id);
    if (!employee) return res.status(404).json({
      error: 'Not found'
    });
    res.json(employee);
  } catch (err) {
    res.status(500).json({
      error: err.message
    });
  }
};

// Update employee
exports.updateEmployee = async (req, res) => {
  try {
    const employee = await Employee.findByIdAndUpdate(req.params.id, req.body, {
      new: true
    });
    if (!employee) return res.status(404).json({
      error: 'Not found'
    });
    res.json(employee);
  } catch (err) {
    res.status(400).json({
      error: err.message
    });
  }
};

// Delete employee
exports.deleteEmployee = async (req, res) => {
  try {
    const employee = await Employee.findByIdAndDelete(req.params.id);
    if (!employee) return res.status(404).json({
      error: 'Not found'
    });
    res.json({
      message: 'Deleted'
    });
  } catch (err) {
    res.status(500).json({
      error: err.message
    });
  }
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJFbXBsb3llZSIsInJlcXVpcmUiLCJleHBvcnRzIiwiY3JlYXRlRW1wbG95ZWUiLCJyZXEiLCJyZXMiLCJlbXBsb3llZSIsImJvZHkiLCJzYXZlIiwic3RhdHVzIiwianNvbiIsImVyciIsImVycm9yIiwibWVzc2FnZSIsImdldEVtcGxveWVlcyIsImVtcGxveWVlcyIsImZpbmQiLCJnZXRFbXBsb3llZUJ5SWQiLCJmaW5kQnlJZCIsInBhcmFtcyIsImlkIiwidXBkYXRlRW1wbG95ZWUiLCJmaW5kQnlJZEFuZFVwZGF0ZSIsIm5ldyIsImRlbGV0ZUVtcGxveWVlIiwiZmluZEJ5SWRBbmREZWxldGUiXSwic291cmNlcyI6WyJlbXBsb3llZUNvbnRyb2xsZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gSFIgRW1wbG95ZWUgQ29udHJvbGxlclxyXG5jb25zdCBFbXBsb3llZSA9IHJlcXVpcmUoJy4uLy4uL21vZGVscy9IUi9FbXBsb3llZScpO1xyXG5cclxuLy8gQ3JlYXRlIG5ldyBlbXBsb3llZVxyXG5leHBvcnRzLmNyZWF0ZUVtcGxveWVlID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IGVtcGxveWVlID0gbmV3IEVtcGxveWVlKHJlcS5ib2R5KTtcclxuICAgIGF3YWl0IGVtcGxveWVlLnNhdmUoKTtcclxuICAgIHJlcy5zdGF0dXMoMjAxKS5qc29uKGVtcGxveWVlKTtcclxuICB9IGNhdGNoIChlcnIpIHtcclxuICAgIHJlcy5zdGF0dXMoNDAwKS5qc29uKHsgZXJyb3I6IGVyci5tZXNzYWdlIH0pO1xyXG4gIH1cclxufTtcclxuXHJcbi8vIEdldCBhbGwgZW1wbG95ZWVzXHJcbmV4cG9ydHMuZ2V0RW1wbG95ZWVzID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IGVtcGxveWVlcyA9IGF3YWl0IEVtcGxveWVlLmZpbmQoKTtcclxuICAgIHJlcy5qc29uKGVtcGxveWVlcyk7XHJcbiAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICByZXMuc3RhdHVzKDUwMCkuanNvbih7IGVycm9yOiBlcnIubWVzc2FnZSB9KTtcclxuICB9XHJcbn07XHJcblxyXG4vLyBHZXQgZW1wbG95ZWUgYnkgSURcclxuZXhwb3J0cy5nZXRFbXBsb3llZUJ5SWQgPSBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgZW1wbG95ZWUgPSBhd2FpdCBFbXBsb3llZS5maW5kQnlJZChyZXEucGFyYW1zLmlkKTtcclxuICAgIGlmICghZW1wbG95ZWUpIHJldHVybiByZXMuc3RhdHVzKDQwNCkuanNvbih7IGVycm9yOiAnTm90IGZvdW5kJyB9KTtcclxuICAgIHJlcy5qc29uKGVtcGxveWVlKTtcclxuICB9IGNhdGNoIChlcnIpIHtcclxuICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgZXJyb3I6IGVyci5tZXNzYWdlIH0pO1xyXG4gIH1cclxufTtcclxuXHJcbi8vIFVwZGF0ZSBlbXBsb3llZVxyXG5leHBvcnRzLnVwZGF0ZUVtcGxveWVlID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IGVtcGxveWVlID0gYXdhaXQgRW1wbG95ZWUuZmluZEJ5SWRBbmRVcGRhdGUocmVxLnBhcmFtcy5pZCwgcmVxLmJvZHksIHsgbmV3OiB0cnVlIH0pO1xyXG4gICAgaWYgKCFlbXBsb3llZSkgcmV0dXJuIHJlcy5zdGF0dXMoNDA0KS5qc29uKHsgZXJyb3I6ICdOb3QgZm91bmQnIH0pO1xyXG4gICAgcmVzLmpzb24oZW1wbG95ZWUpO1xyXG4gIH0gY2F0Y2ggKGVycikge1xyXG4gICAgcmVzLnN0YXR1cyg0MDApLmpzb24oeyBlcnJvcjogZXJyLm1lc3NhZ2UgfSk7XHJcbiAgfVxyXG59O1xyXG5cclxuLy8gRGVsZXRlIGVtcGxveWVlXHJcbmV4cG9ydHMuZGVsZXRlRW1wbG95ZWUgPSBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgZW1wbG95ZWUgPSBhd2FpdCBFbXBsb3llZS5maW5kQnlJZEFuZERlbGV0ZShyZXEucGFyYW1zLmlkKTtcclxuICAgIGlmICghZW1wbG95ZWUpIHJldHVybiByZXMuc3RhdHVzKDQwNCkuanNvbih7IGVycm9yOiAnTm90IGZvdW5kJyB9KTtcclxuICAgIHJlcy5qc29uKHsgbWVzc2FnZTogJ0RlbGV0ZWQnIH0pO1xyXG4gIH0gY2F0Y2ggKGVycikge1xyXG4gICAgcmVzLnN0YXR1cyg1MDApLmpzb24oeyBlcnJvcjogZXJyLm1lc3NhZ2UgfSk7XHJcbiAgfVxyXG59O1xyXG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0EsTUFBTUEsUUFBUSxHQUFHQyxPQUFPLENBQUMsMEJBQTBCLENBQUM7O0FBRXBEO0FBQ0FDLE9BQU8sQ0FBQ0MsY0FBYyxHQUFHLE9BQU9DLEdBQUcsRUFBRUMsR0FBRyxLQUFLO0VBQzNDLElBQUk7SUFDRixNQUFNQyxRQUFRLEdBQUcsSUFBSU4sUUFBUSxDQUFDSSxHQUFHLENBQUNHLElBQUksQ0FBQztJQUN2QyxNQUFNRCxRQUFRLENBQUNFLElBQUksQ0FBQyxDQUFDO0lBQ3JCSCxHQUFHLENBQUNJLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDSixRQUFRLENBQUM7RUFDaEMsQ0FBQyxDQUFDLE9BQU9LLEdBQUcsRUFBRTtJQUNaTixHQUFHLENBQUNJLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO01BQUVFLEtBQUssRUFBRUQsR0FBRyxDQUFDRTtJQUFRLENBQUMsQ0FBQztFQUM5QztBQUNGLENBQUM7O0FBRUQ7QUFDQVgsT0FBTyxDQUFDWSxZQUFZLEdBQUcsT0FBT1YsR0FBRyxFQUFFQyxHQUFHLEtBQUs7RUFDekMsSUFBSTtJQUNGLE1BQU1VLFNBQVMsR0FBRyxNQUFNZixRQUFRLENBQUNnQixJQUFJLENBQUMsQ0FBQztJQUN2Q1gsR0FBRyxDQUFDSyxJQUFJLENBQUNLLFNBQVMsQ0FBQztFQUNyQixDQUFDLENBQUMsT0FBT0os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