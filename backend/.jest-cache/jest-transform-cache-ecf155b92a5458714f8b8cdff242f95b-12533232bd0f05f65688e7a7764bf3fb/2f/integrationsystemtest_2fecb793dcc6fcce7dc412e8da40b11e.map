{"version":3,"names":["IntegrationService","WebhookEvent","WebhookSubscription","IntegrationConnector","APIIntegrator","require","error","console","warn","message","describe","integrationService","beforeEach","test","event","orderId","amount","expect","toBe","data","status","id","toBeDefined","event1","event2","not","secret","signature","generateSignature","length","toBeGreaterThan","transactionId","payload","getPayload","retries","webhook","url","events","isActive","webhook1","webhook2","matches","incrementDelivery","deliveryCount","failureCount","delay1","getRetryDelay","delay2","delay3","toBeLessThanOrEqual","retryPolicy","maxDelay","connector","baseURL","name","type","addFieldMapping","val","mappings","size","mapped","applyMappings","ignoredField","order_id","total","toBeUndefined","addFilter","applyFilters","recordSync","syncCount","errorCount","lastSync","api","APIIntegration","config","timeout","registerEndpoint","endpoints","endpoint","get","method","path","call","callCount","lastCall","result","success","timestamp","summary","getSummary","registerWebhook","retrieved","getWebhook","all","getAllWebhooks","updateWebhook","updated","deleteWebhook","emitEvent","history","getEventHistory","createConnector","registerAPI","integrations","getAllIntegrations","transform","transformed","registerTransformation","applyTransformation","JSON","stringify","createHmac","update","digest","isValid","validateWebhookSignature","stats","getStatistics","webhooks","connectors","successRate","health","getIntegrationHealth","totalConnectors","healthPercentage","exportConfiguration","statistics","done","_webhook","on","source","shopifyId","customerEmail","email","webhook3","_event","toThrow","getConnector","skip","service","_connector","normalized","Date","i","index"],"sources":["integration-system.test.js"],"sourcesContent":["/**\r\n * integration-system.test.js\r\n * AlAwael ERP - Integration System Test Suite\r\n * Testing webhooks, connectors, API integrations, and synchronization\r\n * February 24, 2026\r\n */\r\n\r\nlet IntegrationService, WebhookEvent, WebhookSubscription, IntegrationConnector, APIIntegrator;\r\ntry {\r\n  IntegrationService = require('../services/integrationService');\r\n  WebhookEvent = IntegrationService.WebhookEvent;\r\n  WebhookSubscription = IntegrationService.WebhookSubscription;\r\n  IntegrationConnector = IntegrationService.IntegrationConnector;\r\n  APIIntegrator = IntegrationService.APIIntegrator;\r\n} catch (error) {\r\n  console.warn('⚠️  Integration services not available:', error.message);\r\n}\r\n\r\ndescribe('Integration System - Comprehensive Tests', () => {\r\n  let integrationService;\r\n\r\n  beforeEach(() => {\r\n    // Skipped\r\n  });\r\n\r\n  // ===========================\r\n  // WEBHOOK EVENT TESTS\r\n  // ===========================\r\n  describe('WebhookEvent', () => {\r\n    test('creates webhook event with valid data', () => {\r\n      const event = new WebhookEvent('order.created', { orderId: '123', amount: 500 });\r\n\r\n      expect(event.event).toBe('order.created');\r\n      expect(event.data.orderId).toBe('123');\r\n      expect(event.status).toBe('pending');\r\n      expect(event.id).toBeDefined();\r\n    });\r\n\r\n    test('generates unique event IDs', () => {\r\n      const event1 = new WebhookEvent('test1', {});\r\n      const event2 = new WebhookEvent('test2', {});\r\n\r\n      expect(event1.id).not.toBe(event2.id);\r\n    });\r\n\r\n    test('generates HMAC SHA256 signature', () => {\r\n      const event = new WebhookEvent('order.created', { amount: 100 });\r\n      const secret = 'test-secret';\r\n\r\n      const signature = event.generateSignature(secret);\r\n\r\n      expect(signature).toBeDefined();\r\n      expect(signature.length).toBeGreaterThan(0);\r\n      expect(event.signature).toBe(signature);\r\n    });\r\n\r\n    test('provides payload with signature', () => {\r\n      const event = new WebhookEvent('payment.completed', { transactionId: 'tx-123' });\r\n      event.generateSignature('secret');\r\n\r\n      const payload = event.getPayload();\r\n\r\n      expect(payload.id).toBe(event.id);\r\n      expect(payload.event).toBe('payment.completed');\r\n      expect(payload.signature).toBeDefined();\r\n    });\r\n\r\n    test('tracks retry attempts', () => {\r\n      const event = new WebhookEvent('test', {});\r\n\r\n      expect(event.retries).toBe(0);\r\n\r\n      event.retries = 1;\r\n      event.status = 'retrying';\r\n\r\n      expect(event.retries).toBe(1);\r\n      expect(event.status).toBe('retrying');\r\n    });\r\n  });\r\n\r\n  // ===========================\r\n  // WEBHOOK SUBSCRIPTION TESTS\r\n  // ===========================\r\n  describe('WebhookSubscription', () => {\r\n    test('creates subscription with URL and events', () => {\r\n      const webhook = new WebhookSubscription(\r\n        'https://example.com/webhooks',\r\n        ['order.created', 'order.updated']\r\n      );\r\n\r\n      expect(webhook.url).toBe('https://example.com/webhooks');\r\n      expect(webhook.events.length).toBe(2);\r\n      expect(webhook.isActive).toBe(true);\r\n    });\r\n\r\n    test('generates unique secret', () => {\r\n      const webhook1 = new WebhookSubscription('url1', ['*']);\r\n      const webhook2 = new WebhookSubscription('url2', ['*']);\r\n\r\n      expect(webhook1.secret).not.toBe(webhook2.secret);\r\n    });\r\n\r\n    test('matches events correctly', () => {\r\n      const webhook = new WebhookSubscription('url', ['order.created', 'order.deleted']);\r\n\r\n      expect(webhook.matches('order.created')).toBe(true);\r\n      expect(webhook.matches('order.deleted')).toBe(true);\r\n      expect(webhook.matches('order.updated')).toBe(false);\r\n    });\r\n\r\n    test('matches wildcard events', () => {\r\n      const webhook = new WebhookSubscription('url', ['*']);\r\n\r\n      expect(webhook.matches('order.created')).toBe(true);\r\n      expect(webhook.matches('payment.sent')).toBe(true);\r\n      expect(webhook.matches('anything')).toBe(true);\r\n    });\r\n\r\n    test('tracks delivery counts', () => {\r\n      const webhook = new WebhookSubscription('url', ['*']);\r\n\r\n      webhook.incrementDelivery(true);\r\n      webhook.incrementDelivery(true);\r\n      webhook.incrementDelivery(false);\r\n\r\n      expect(webhook.deliveryCount).toBe(2);\r\n      expect(webhook.failureCount).toBe(1);\r\n    });\r\n\r\n    test('calculates retry delay with exponential backoff', () => {\r\n      const webhook = new WebhookSubscription('url', ['*']);\r\n\r\n      const delay1 = webhook.getRetryDelay(0);\r\n      const delay2 = webhook.getRetryDelay(1);\r\n      const delay3 = webhook.getRetryDelay(2);\r\n\r\n      expect(delay2).toBeGreaterThan(delay1);\r\n      expect(delay3).toBeGreaterThan(delay2);\r\n      expect(delay3).toBeLessThanOrEqual(webhook.retryPolicy.maxDelay);\r\n    });\r\n  });\r\n\r\n  // ===========================\r\n  // INTEGRATION CONNECTOR TESTS\r\n  // ===========================\r\n  describe('IntegrationConnector', () => {\r\n    test('creates connector with name, type, and config', () => {\r\n      const connector = new IntegrationConnector(\r\n        'Shopify',\r\n        'api',\r\n        { baseURL: 'https://shopify.com/api' }\r\n      );\r\n\r\n      expect(connector.name).toBe('Shopify');\r\n      expect(connector.type).toBe('api');\r\n      expect(connector.isActive).toBe(true);\r\n    });\r\n\r\n    test('registers field mappings', () => {\r\n      const connector = new IntegrationConnector('Test', 'api', {});\r\n\r\n      connector.addFieldMapping('sourceId', 'target_id');\r\n      connector.addFieldMapping('amount', 'total_amount', (val) => val * 100);\r\n\r\n      expect(connector.mappings.size).toBe(2);\r\n    });\r\n\r\n    test('applies field mappings', () => {\r\n      const connector = new IntegrationConnector('Test', 'api', {});\r\n\r\n      connector.addFieldMapping('orderId', 'order_id');\r\n      connector.addFieldMapping('amount', 'total', (val) => val * 100);\r\n\r\n      const mapped = connector.applyMappings({\r\n        orderId: '123',\r\n        amount: 50,\r\n        ignoredField: 'ignored'\r\n      });\r\n\r\n      expect(mapped.order_id).toBe('123');\r\n      expect(mapped.total).toBe(5000); // 50 * 100\r\n      expect(mapped.ignoredField).toBeUndefined();\r\n    });\r\n\r\n    test('adds and applies filters', () => {\r\n      const connector = new IntegrationConnector('Test', 'api', {});\r\n\r\n      connector.addFilter('status', '==', 'active');\r\n      connector.addFilter('amount', '>', 100);\r\n\r\n      expect(connector.applyFilters({ status: 'active', amount: 150 })).toBe(true);\r\n      expect(connector.applyFilters({ status: 'inactive', amount: 150 })).toBe(false);\r\n      expect(connector.applyFilters({ status: 'active', amount: 50 })).toBe(false);\r\n    });\r\n\r\n    test('records synchronization', () => {\r\n      const connector = new IntegrationConnector('Test', 'api', {});\r\n\r\n      connector.recordSync(true);\r\n      connector.recordSync(false);\r\n      connector.recordSync(true);\r\n\r\n      expect(connector.syncCount).toBe(2);\r\n      expect(connector.errorCount).toBe(1);\r\n      expect(connector.lastSync).toBeDefined();\r\n    });\r\n  });\r\n\r\n  // ===========================\r\n  // API INTEGRATION TESTS\r\n  // ===========================\r\n  describe('APIIntegration', () => {\r\n    test('creates API integration with base URL', () => {\r\n      const api = new APIIntegration('Shopify', 'https://shopify.com/api/v1');\r\n\r\n      expect(api.name).toBe('Shopify');\r\n      expect(api.baseURL).toBe('https://shopify.com/api/v1');\r\n      expect(api.config.timeout).toBe(30000); // default\r\n    });\r\n\r\n    test('registers endpoints', () => {\r\n      const api = new APIIntegration('MyAPI', 'https://api.example.com');\r\n\r\n      api.registerEndpoint('getOrder', 'GET', '/orders/:orderId');\r\n      api.registerEndpoint('createOrder', 'POST', '/orders');\r\n\r\n      expect(api.endpoints.size).toBe(2);\r\n    });\r\n\r\n    test('retrieves registered endpoint', () => {\r\n      const api = new APIIntegration('Test', 'https://api.test.com');\r\n\r\n      api.registerEndpoint('getUser', 'GET', '/users/:userId');\r\n\r\n      const endpoint = api.endpoints.get('getUser');\r\n\r\n      expect(endpoint.method).toBe('GET');\r\n      expect(endpoint.path).toBe('/users/:userId');\r\n    });\r\n\r\n    test('tracks API calls', async () => {\r\n      const api = new APIIntegration('Test', 'https://api.test.com');\r\n\r\n      api.registerEndpoint('test', 'GET', '/test');\r\n\r\n      await api.call('test');\r\n\r\n      expect(api.callCount).toBe(1);\r\n      expect(api.lastCall).toBeDefined();\r\n    });\r\n\r\n    test('returns API call result', async () => {\r\n      const api = new APIIntegration('Test', 'https://api.test.com');\r\n\r\n      api.registerEndpoint('getUser', 'GET', '/users/:id');\r\n\r\n      const result = await api.call('getUser', { id: '123' });\r\n\r\n      expect(result.success).toBe(true);\r\n      expect(result.endpoint).toBe('getUser');\r\n      expect(result.timestamp).toBeDefined();\r\n    });\r\n\r\n    test('provides API summary', () => {\r\n      const api = new APIIntegration('TestAPI', 'https://api.test.com');\r\n\r\n      api.registerEndpoint('list', 'GET', '/items');\r\n      api.registerEndpoint('create', 'POST', '/items');\r\n\r\n      const summary = api.getSummary();\r\n\r\n      expect(summary.name).toBe('TestAPI');\r\n      expect(summary.endpoints).toBe(2);\r\n    });\r\n  });\r\n\r\n  // ===========================\r\n  // INTEGRATION SERVICE TESTS\r\n  // ===========================\r\n  describe('IntegrationService', () => {\r\n    test('registers webhooks', () => {\r\n      const webhook = integrationService.registerWebhook(\r\n        'https://example.com/webhook',\r\n        ['order.created']\r\n      );\r\n\r\n      expect(webhook.id).toBeDefined();\r\n      expect(webhook.url).toBe('https://example.com/webhook');\r\n    });\r\n\r\n    test('retrieves specific webhook', () => {\r\n      const webhook = integrationService.registerWebhook('url', ['*']);\r\n\r\n      const retrieved = integrationService.getWebhook(webhook.id);\r\n\r\n      expect(retrieved).toBe(webhook);\r\n    });\r\n\r\n    test('retrieves all webhooks', () => {\r\n      integrationService.registerWebhook('url1', ['order.created']);\r\n      integrationService.registerWebhook('url2', ['payment.sent']);\r\n\r\n      const all = integrationService.getAllWebhooks();\r\n\r\n      expect(all.length).toBe(2);\r\n    });\r\n\r\n    test('updates webhook', () => {\r\n      const webhook = integrationService.registerWebhook('url', ['order.created']);\r\n\r\n      integrationService.updateWebhook(webhook.id, {\r\n        events: ['order.created', 'order.updated']\r\n      });\r\n\r\n      const updated = integrationService.getWebhook(webhook.id);\r\n\r\n      expect(updated.events.length).toBe(2);\r\n    });\r\n\r\n    test('deletes webhook', () => {\r\n      const webhook = integrationService.registerWebhook('url', ['*']);\r\n\r\n      integrationService.deleteWebhook(webhook.id);\r\n\r\n      const retrieved = integrationService.getWebhook(webhook.id);\r\n\r\n      expect(retrieved).toBeUndefined();\r\n    });\r\n\r\n    test('emits events', () => {\r\n      integrationService.registerWebhook('https://webhook.test', ['order.created']);\r\n\r\n      const event = integrationService.emitEvent('order.created', { orderId: '123' });\r\n\r\n      expect(event).toBeDefined();\r\n      expect(event.event).toBe('order.created');\r\n    });\r\n\r\n    test('stores event history', () => {\r\n      integrationService.emitEvent('event1', { data: 1 });\r\n      integrationService.emitEvent('event2', { data: 2 });\r\n      integrationService.emitEvent('event3', { data: 3 });\r\n\r\n      const history = integrationService.getEventHistory(10);\r\n\r\n      expect(history.length).toBe(3);\r\n    });\r\n\r\n    test('creates connectors', () => {\r\n      const connector = integrationService.createConnector(\r\n        'Shopify',\r\n        'api',\r\n        { baseURL: 'https://shopify.com' }\r\n      );\r\n\r\n      expect(connector.id).toBeDefined();\r\n      expect(connector.name).toBe('Shopify');\r\n    });\r\n\r\n    test('registers APIs', () => {\r\n      const api = integrationService.registerAPI(\r\n        'MyAPI',\r\n        'https://api.example.com'\r\n      );\r\n\r\n      expect(api.name).toBe('MyAPI');\r\n      expect(api.baseURL).toBe('https://api.example.com');\r\n    });\r\n\r\n    test('retrieves registered APIs', () => {\r\n      integrationService.registerAPI('API1', 'https://api1.com');\r\n      integrationService.registerAPI('API2', 'https://api2.com');\r\n\r\n      const integrations = integrationService.getAllIntegrations();\r\n\r\n      expect(integrations.length).toBe(2);\r\n    });\r\n\r\n    test('registers data transformations', () => {\r\n      const transform = (data) => ({ transformed: true, ...data });\r\n\r\n      integrationService.registerTransformation('addFlag', transform);\r\n\r\n      const result = integrationService.applyTransformation('addFlag', { test: 'data' });\r\n\r\n      expect(result.transformed).toBe(true);\r\n      expect(result.test).toBe('data');\r\n    });\r\n\r\n    test('validates webhook signatures', () => {\r\n      const payload = JSON.stringify({ test: 'data' });\r\n      const secret = 'test-secret';\r\n\r\n      const signature = require('crypto')\r\n        .createHmac('sha256', secret)\r\n        .update(payload)\r\n        .digest('hex');\r\n\r\n      const isValid = integrationService.validateWebhookSignature(\r\n        signature,\r\n        payload,\r\n        secret\r\n      );\r\n\r\n      expect(isValid).toBe(true);\r\n    });\r\n\r\n    test('generates system statistics', () => {\r\n      integrationService.registerWebhook('url1', ['*']);\r\n      integrationService.registerWebhook('url2', ['*']);\r\n      integrationService.createConnector('C1', 'api', {});\r\n\r\n      const stats = integrationService.getStatistics();\r\n\r\n      expect(stats.webhooks).toBe(2);\r\n      expect(stats.connectors).toBe(1);\r\n      expect(stats.successRate).toBeDefined();\r\n    });\r\n\r\n    test('generates integration health report', () => {\r\n      integrationService.createConnector('C1', 'api', {});\r\n      integrationService.createConnector('C2', 'api', {});\r\n\r\n      const health = integrationService.getIntegrationHealth();\r\n\r\n      expect(health.timestamp).toBeDefined();\r\n      expect(health.totalConnectors).toBe(2);\r\n      expect(health.healthPercentage).toBeDefined();\r\n    });\r\n\r\n    test('exports configuration', () => {\r\n      integrationService.registerWebhook('url', ['*']);\r\n      integrationService.createConnector('Test', 'api', {});\r\n\r\n      const config = integrationService.exportConfiguration();\r\n\r\n      expect(config.webhooks).toBeDefined();\r\n      expect(config.connectors).toBeDefined();\r\n      expect(config.statistics).toBeDefined();\r\n    });\r\n  });\r\n\r\n  // ===========================\r\n  // INTEGRATION WORKFLOW TESTS\r\n  // ===========================\r\n  describe('Integration Workflows', () => {\r\n    test('complete webhook workflow', (done) => {\r\n      const _webhook = integrationService.registerWebhook(\r\n        'https://webhook.test',\r\n        ['order.created']\r\n      );\r\n\r\n      integrationService.on('order.created', (event) => {\r\n        expect(event.event).toBe('order.created');\r\n        expect(event.data.amount).toBe(500);\r\n        done();\r\n      });\r\n\r\n      integrationService.emitEvent('order.created', { amount: 500 });\r\n    });\r\n\r\n    test('connector with field mapping workflow', () => {\r\n      const connector = integrationService.createConnector('Shopify', 'api', {});\r\n\r\n      connector.addFieldMapping('shopifyId', 'id');\r\n      connector.addFieldMapping('customerEmail', 'email');\r\n\r\n      const source = { shopifyId: '123', customerEmail: 'test@example.com' };\r\n      const mapped = connector.applyMappings(source);\r\n\r\n      expect(mapped.id).toBe('123');\r\n      expect(mapped.email).toBe('test@example.com');\r\n    });\r\n\r\n    test('multiple webhook deliveries', () => {\r\n      const webhook1 = integrationService.registerWebhook('url1', ['order.*']);\r\n      const webhook2 = integrationService.registerWebhook('url2', ['order.created']);\r\n      const webhook3 = integrationService.registerWebhook('url3', ['payment.*']);\r\n\r\n      const _event = integrationService.emitEvent('order.created', {});\r\n\r\n      // Both webhook1 and webhook2 should match\r\n      expect(webhook1.matches('order.created')).toBe(true);\r\n      expect(webhook2.matches('order.created')).toBe(true);\r\n      expect(webhook3.matches('order.created')).toBe(false);\r\n    });\r\n\r\n    test('API call with parameter substitution', async () => {\r\n      const api = integrationService.registerAPI('TestAPI', 'https://api.test.com');\r\n\r\n      api.registerEndpoint('getOrder', 'GET', '/orders/:orderId');\r\n\r\n      const result = await api.call('getOrder', { orderId: '123' });\r\n\r\n      expect(result.success).toBe(true);\r\n    });\r\n  });\r\n\r\n  // ===========================\r\n  // ERROR HANDLING TESTS\r\n  // ===========================\r\n  describe('Error Handling', () => {\r\n    test('throws error for non-registered endpoint', async () => {\r\n      const api = integrationService.registerAPI('Test', 'https://api.test.com');\r\n\r\n      expect(() => {\r\n        api.call('nonexistent');\r\n      }).toThrow();\r\n    });\r\n\r\n    test('throws error for non-existent transformation', () => {\r\n      expect(() => {\r\n        integrationService.applyTransformation('nonexistent', {});\r\n      }).toThrow();\r\n    });\r\n\r\n    test('throws error for non-existent connector', () => {\r\n      expect(() => {\r\n        integrationService.getConnector('nonexistent');\r\n      }).toThrow();\r\n    });\r\n  });\r\n});\r\n\r\n// Skip this suite as IntegrationService is not implemented\r\ndescribe.skip('Integration System - Advanced Scenarios', () => {\r\n  let service;\r\n\r\n  beforeEach(() => {\r\n    // Skipped\r\n  });\r\n\r\n  test('handles complex data transformation pipeline', () => {\r\n    const _connector = service.createConnector('Complex', 'api', {});\r\n\r\n    // Register transformations\r\n    service.registerTransformation('normalizeData', (data) => ({\r\n      normalized: true,\r\n      ...data\r\n    }));\r\n\r\n    service.registerTransformation('addTimestamp', (data) => ({\r\n      ...data,\r\n      timestamp: new Date()\r\n    }));\r\n\r\n    let data = { test: 'value' };\r\n    data = service.applyTransformation('normalizeData', data);\r\n    data = service.applyTransformation('addTimestamp', data);\r\n\r\n    expect(data.normalized).toBe(true);\r\n    expect(data.timestamp).toBeDefined();\r\n  });\r\n\r\n  test('manages multiple concurrent webhook deliveries', () => {\r\n    service.registerWebhook('webhook1', ['*']);\r\n    service.registerWebhook('webhook2', ['*']);\r\n    service.registerWebhook('webhook3', ['*']);\r\n\r\n    for (let i = 0; i < 10; i++) {\r\n      service.emitEvent('test.event', { index: i });\r\n    }\r\n\r\n    const history = service.getEventHistory(100);\r\n\r\n    expect(history.length).toBe(10);\r\n  });\r\n});\r\n"],"mappings":"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","ignoreList":[]}