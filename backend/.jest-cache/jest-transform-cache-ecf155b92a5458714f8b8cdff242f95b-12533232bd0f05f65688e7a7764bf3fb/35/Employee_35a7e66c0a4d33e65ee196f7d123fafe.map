{"version":3,"names":["mongoose","require","EmployeeSchema","Schema","userId","type","Types","ObjectId","ref","required","unique","index","personalInfo","firstName","String","lastName","dateOfBirth","Date","nationality","nationalId","email","phone","address","city","emergencyContact","name","relationship","jobInfo","department","position","employmentType","enum","joinDate","reportingTo","salary","Number","salaryGrade","workLocation","status","default","terminationReason","terminationDate","createdAt","now","updatedAt","createdBy","updatedBy","module","exports","model"],"sources":["Employee.js"],"sourcesContent":["/**\r\n * Employee Model (HR)\r\n * Modular, extensible employee profile for HR system\r\n */\r\nconst mongoose = require('mongoose');\r\n\r\nconst EmployeeSchema = new mongoose.Schema({\r\n  userId: {\r\n    type: mongoose.Schema.Types.ObjectId,\r\n    ref: 'User',\r\n    required: true,\r\n    unique: true,\r\n    index: true,\r\n  },\r\n  personalInfo: {\r\n    firstName: String,\r\n    lastName: String,\r\n    dateOfBirth: Date,\r\n    nationality: String,\r\n    nationalId: String,\r\n    email: String,\r\n    phone: String,\r\n    address: String,\r\n    city: String,\r\n    emergencyContact: {\r\n      name: String,\r\n      relationship: String,\r\n      phone: String,\r\n    },\r\n  },\r\n  jobInfo: {\r\n    department: String,\r\n    position: String,\r\n    employmentType: { type: String, enum: ['دائم', 'عقد', 'متدرب', 'جزئي'] },\r\n    joinDate: Date,\r\n    reportingTo: { type: mongoose.Schema.Types.ObjectId, ref: 'Employee' },\r\n    salary: Number,\r\n    salaryGrade: String,\r\n    workLocation: String,\r\n  },\r\n  status: {\r\n    type: String,\r\n    enum: ['active', 'inactive', 'on_leave', 'terminated'],\r\n    default: 'active',\r\n  },\r\n  terminationReason: String,\r\n  terminationDate: Date,\r\n  createdAt: { type: Date, default: Date.now },\r\n  updatedAt: { type: Date, default: Date.now },\r\n  createdBy: mongoose.Schema.Types.ObjectId,\r\n  updatedBy: mongoose.Schema.Types.ObjectId,\r\n});\r\n\r\nEmployeeSchema.index({ userId: 1 });\r\nEmployeeSchema.index({ 'personalInfo.email': 1 });\r\nEmployeeSchema.index({ 'jobInfo.department': 1 });\r\nEmployeeSchema.index({ 'jobInfo.position': 1 });\r\nEmployeeSchema.index({ status: 1 });\r\n\r\nmodule.exports = mongoose.model('Employee', EmployeeSchema);\r\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA,MAAMA,QAAQ,GAAGC,OAAO,CAAC,UAAU,CAAC;AAEpC,MAAMC,cAAc,GAAG,IAAIF,QAAQ,CAACG,MAAM,CAAC;EACzCC,MAAM,EAAE;IACNC,IAAI,EAAEL,QAAQ,CAACG,MAAM,CAACG,KAAK,CAACC,QAAQ;IACpCC,GAAG,EAAE,MAAM;IACXC,QAAQ,EAAE,IAAI;IACdC,MAAM,EAAE,IAAI;IACZC,KAAK,EAAE;EACT,CAAC;EACDC,YAAY,EAAE;IACZC,SAAS,EAAEC,MAAM;IACjBC,QAAQ,EAAED,MAAM;IAChBE,WAAW,EAAEC,IAAI;IACjBC,WAAW,EAAEJ,MAAM;IACnBK,UAAU,EAAEL,MAAM;IAClBM,KAAK,EAAEN,MAAM;IACbO,KAAK,EAAEP,MAAM;IACbQ,OAAO,EAAER,MAAM;IACfS,IAAI,EAAET,MAAM;IACZU,gBAAgB,EAAE;MAChBC,IAAI,EAAEX,MAAM;MACZY,YAAY,EAAEZ,MAAM;MACpBO,KAAK,EAAEP;IACT;EACF,CAAC;EACDa,OAAO,EAAE;IACPC,UAAU,EAAEd,MAAM;IAClBe,QAAQ,EAAEf,MAAM;IAChBgB,cAAc,EAAE;MAAEzB,IAAI,EAAES,MAAM;MAAEiB,IAAI,EAAE,CAAC,MAAM,EAAE,KAAK,EAAE,OAAO,EAAE,MAAM;IAAE,CAAC;IACxEC,QAAQ,EAAEf,IAAI;IACdgB,WAAW,EAAE;MAAE5B,IAAI,EAAEL,QAAQ,CAACG,MAAM,CAACG,KAAK,CAACC,QAAQ;MAAEC,GAAG,EAAE;IAAW,CAAC;IACtE0B,MAAM,EAAEC,MAAM;IACdC,WAAW,EAAEtB,MAAM;IACnBuB,YAAY,EAAEvB;EAChB,CAAC;EACDwB,MAAM,EAAE;IACNjC,IAAI,EAAES,MAAM;IACZiB,IAAI,EAAE,CAAC,QAAQ,EAAE,UAAU,EAAE,UAAU,EAAE,YAAY,CAAC;IACtDQ,OAAO,EAAE;EACX,CAAC;EACDC,iBAAiB,EAAE1B,MAAM;EACzB2B,eAAe,EAAExB,IAAI;EACrByB,SAAS,EAAE;IAAErC,IAAI,EAAEY,IAAI;IAAEsB,OAAO,EAAEtB,IAAI,CAAC0B;EAAI,CAAC;EAC5CC,SAAS,EAAE;IAAEvC,IAAI,EAAEY,IAAI;IAAEsB,OAAO,EAAEtB,IAAI,CAAC0B;EAAI,CAAC;EAC5CE,SAAS,EAAE7C,QAAQ,CAACG,MAAM,CAACG,KAAK,CAACC,QAAQ;EACzCuC,SAAS,EAAE9C,QAAQ,CAACG,MAAM,CAACG,KAAK,CAACC;AACnC,CAAC,CAAC;AAEFL,cAAc,CAACS,KAAK,CAAC;EAAEP,MAAM,EAAE;AAAE,CAAC,CAAC;AACnCF,cAAc,CAACS,KAAK,CAAC;EAAE,oBAAoB,EAAE;AAAE,CAAC,CAAC;AACjDT,cAAc,CAACS,KAAK,CAAC;EAAE,oBAAoB,EAAE;AAAE,CAAC,CAAC;AACjDT,cAAc,CAACS,KAAK,CAAC;EAAE,kBAAkB,EAAE;AAAE,CAAC,CAAC;AAC/CT,cAAc,CAACS,KAAK,CAAC;EAAE2B,MAAM,EAAE;AAAE,CAAC,CAAC;AAEnCS,MAAM,CAACC,OAAO,GAAGhD,QAAQ,CAACiD,KAAK,CAAC,UAAU,EAAE/C,cAAc,CAAC","ignoreList":[]}