{"version":3,"names":["mongoose","require","LeaveSchema","Schema","employeeId","type","Types","ObjectId","ref","required","index","leaveType","String","enum","startDate","Date","endDate","duration","Number","reason","status","default","approvedBy","approvalDate","rejectionReason","isPaidLeave","Boolean","leaveBalance","used","remaining","documents","attachments","createdAt","now","updatedAt","module","exports","model"],"sources":["Leave.js"],"sourcesContent":["/**\r\n * Leave Model (HR)\r\n * Modular, extensible leave record for HR system\r\n */\r\nconst mongoose = require('mongoose');\r\n\r\nconst LeaveSchema = new mongoose.Schema({\r\n  employeeId: {\r\n    type: mongoose.Schema.Types.ObjectId,\r\n    ref: 'Employee',\r\n    required: true,\r\n    index: true,\r\n  },\r\n  leaveType: {\r\n    type: String,\r\n    enum: [\r\n      'إجازة سنوية',\r\n      'إجازة مرضية',\r\n      'إجازة بدون راتب',\r\n      'إجازة أمومة',\r\n      'إجازة أبوة',\r\n      'إجازة استثنائية',\r\n    ],\r\n    required: true,\r\n  },\r\n  startDate: { type: Date, required: true },\r\n  endDate: { type: Date, required: true },\r\n  duration: { type: Number, required: true },\r\n  reason: String,\r\n  status: {\r\n    type: String,\r\n    enum: ['مرسل', 'قيد المراجعة', 'موافق عليه', 'مرفوض'],\r\n    default: 'مرسل',\r\n    index: true,\r\n  },\r\n  approvedBy: mongoose.Schema.Types.ObjectId,\r\n  approvalDate: Date,\r\n  rejectionReason: String,\r\n  isPaidLeave: { type: Boolean, default: true },\r\n  leaveBalance: {\r\n    used: Number,\r\n    remaining: Number,\r\n  },\r\n  documents: [String],\r\n  attachments: [String],\r\n  createdAt: { type: Date, default: Date.now },\r\n  updatedAt: Date,\r\n});\r\n\r\nLeaveSchema.index({ employeeId: 1, startDate: -1 });\r\nLeaveSchema.index({ status: 1, startDate: -1 });\r\n\r\nmodule.exports = mongoose.model('Leave', LeaveSchema);\r\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA,MAAMA,QAAQ,GAAGC,OAAO,CAAC,UAAU,CAAC;AAEpC,MAAMC,WAAW,GAAG,IAAIF,QAAQ,CAACG,MAAM,CAAC;EACtCC,UAAU,EAAE;IACVC,IAAI,EAAEL,QAAQ,CAACG,MAAM,CAACG,KAAK,CAACC,QAAQ;IACpCC,GAAG,EAAE,UAAU;IACfC,QAAQ,EAAE,IAAI;IACdC,KAAK,EAAE;EACT,CAAC;EACDC,SAAS,EAAE;IACTN,IAAI,EAAEO,MAAM;IACZC,IAAI,EAAE,CACJ,aAAa,EACb,aAAa,EACb,iBAAiB,EACjB,aAAa,EACb,YAAY,EACZ,iBAAiB,CAClB;IACDJ,QAAQ,EAAE;EACZ,CAAC;EACDK,SAAS,EAAE;IAAET,IAAI,EAAEU,IAAI;IAAEN,QAAQ,EAAE;EAAK,CAAC;EACzCO,OAAO,EAAE;IAAEX,IAAI,EAAEU,IAAI;IAAEN,QAAQ,EAAE;EAAK,CAAC;EACvCQ,QAAQ,EAAE;IAAEZ,IAAI,EAAEa,MAAM;IAAET,QAAQ,EAAE;EAAK,CAAC;EAC1CU,MAAM,EAAEP,MAAM;EACdQ,MAAM,EAAE;IACNf,IAAI,EAAEO,MAAM;IACZC,IAAI,EAAE,CAAC,MAAM,EAAE,cAAc,EAAE,YAAY,EAAE,OAAO,CAAC;IACrDQ,OAAO,EAAE,MAAM;IACfX,KAAK,EAAE;EACT,CAAC;EACDY,UAAU,EAAEtB,QAAQ,CAACG,MAAM,CAACG,KAAK,CAACC,QAAQ;EAC1CgB,YAAY,EAAER,IAAI;EAClBS,eAAe,EAAEZ,MAAM;EACvBa,WAAW,EAAE;IAAEpB,IAAI,EAAEqB,OAAO;IAAEL,OAAO,EAAE;EAAK,CAAC;EAC7CM,YAAY,EAAE;IACZC,IAAI,EAAEV,MAAM;IACZW,SAAS,EAAEX;EACb,CAAC;EACDY,SAAS,EAAE,CAAClB,MAAM,CAAC;EACnBmB,WAAW,EAAE,CAACnB,MAAM,CAAC;EACrBoB,SAAS,EAAE;IAAE3B,IAAI,EAAEU,IAAI;IAAEM,OAAO,EAAEN,IAAI,CAACkB;EAAI,CAAC;EAC5CC,SAAS,EAAEnB;AACb,CAAC,CAAC;AAEFb,WAAW,CAACQ,KAAK,CAAC;EAAEN,UAAU,EAAE,CAAC;EAAEU,SAAS,EAAE,CAAC;AAAE,CAAC,CAAC;AACnDZ,WAAW,CAACQ,KAAK,CAAC;EAAEU,MAAM,EAAE,CAAC;EAAEN,SAAS,EAAE,CAAC;AAAE,CAAC,CAAC;AAE/CqB,MAAM,CAACC,OAAO,GAAGpC,QAAQ,CAACqC,KAAK,CAAC,OAAO,EAAEnC,WAAW,CAAC","ignoreList":[]}