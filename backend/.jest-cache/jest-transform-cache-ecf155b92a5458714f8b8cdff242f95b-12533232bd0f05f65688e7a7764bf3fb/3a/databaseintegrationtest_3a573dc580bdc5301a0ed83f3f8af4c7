a541fc534b744b4c0daf2972eab98890
/**
 * tests/database.integration.test.js
 * Database Integration Tests
 * 
 * Tests the repository layer and database operations
 * Verifies all CRUD operations work correctly
 * 
 * Run: npm test -- tests/database.integration.test.js
 */

const {
  connectDB,
  disconnectDB
} = require('../config/database');
const repository = require('../repositories/supplyChainRepository');
const {
  resetDatabase,
  seedData
} = require('../seeds/initDatabase');
const {
  Supplier,
  Product,
  PurchaseOrder,
  Shipment
} = require('../models');
describe('ðŸ—„ï¸  Database Integration Tests', () => {
  let supplierId;
  let productId;
  let orderId;
  let shipmentId;

  // Setup before all tests
  beforeAll(async () => {
    console.log('\nðŸ“¡ Connecting to test database...');
    await connectDB();
    console.log('âœ… Connected\n');
  });

  // Clean up after each test
  afterEach(async () => {
    // Keep data for next tests unless test requires clean state
  });

  // Disconnect after all tests
  afterAll(async () => {
    console.log('\nðŸ§¹ Cleaning up...');
    await resetDatabase();
    await disconnectDB();
    console.log('âœ… Cleaned up\n');
  });
  describe('ðŸ“¦ Supplier Operations', () => {
    test('should create a supplier', async () => {
      const supplier = await repository.createSupplier({
        name: 'Tech Solutions Inc',
        email: `supplier-${Date.now()}@test.com`,
        phone: '+966-50-1234567',
        address: 'Riyadh, Saudi Arabia',
        category: 'electronics',
        status: 'active'
      });
      expect(supplier).toBeDefined();
      expect(supplier._id).toBeDefined();
      expect(supplier.name).toBe('Tech Solutions Inc');
      expect(supplier.status).toBe('active');
      expect(supplier.rating).toBe(5); // Default rating

      supplierId = supplier._id;
    });
    test('should get supplier by ID', async () => {
      const supplier = await repository.getSupplier(supplierId);
      expect(supplier).toBeDefined();
      expect(supplier._id.toString()).toBe(supplierId.toString());
      expect(supplier.name).toBe('Tech Solutions Inc');
    });
    test('should list suppliers', async () => {
      const suppliers = await repository.listSuppliers();
      expect(Array.isArray(suppliers)).toBe(true);
      expect(suppliers.length).toBeGreaterThan(0);
    });
    test('should list suppliers with filter', async () => {
      const suppliers = await repository.listSuppliers({
        status: 'active',
        limit: 10
      });
      expect(Array.isArray(suppliers)).toBe(true);
      suppliers.forEach(supplier => {
        expect(supplier.status).toBe('active');
      });
    });
    test('should update supplier', async () => {
      const updated = await repository.updateSupplier(supplierId, {
        rating: 4.5,
        status: 'active'
      });
      expect(updated.rating).toBe(4.5);
      expect(updated.status).toBe('active');
    });
    test('should handle duplicate email', async () => {
      const email = `duplicate-${Date.now()}@test.com`;

      // Create first supplier
      await repository.createSupplier({
        name: 'First Supplier',
        email: email,
        category: 'electronics'
      });

      // Try to create duplicate - should fail
      await expect(repository.createSupplier({
        name: 'Second Supplier',
        email: email,
        category: 'furniture'
      })).rejects.toThrow();
    });
  });
  describe('ðŸ­ Product Operations', () => {
    test('should add product', async () => {
      const product = await repository.addProduct({
        sku: `SKU-${Date.now()}`,
        name: 'Laptop Computer',
        category: 'electronics',
        price: 999.99,
        cost: 600,
        quantity: 50,
        minLevel: 10,
        maxLevel: 200,
        unit: 'piece',
        supplierId: supplierId
      });
      expect(product).toBeDefined();
      expect(product._id).toBeDefined();
      expect(product.sku).toBeDefined();
      expect(product.quantity).toBe(50);
      productId = product._id;
    });
    test('should get product by ID', async () => {
      const product = await repository.getProduct(productId);
      expect(product).toBeDefined();
      expect(product.name).toBe('Laptop Computer');
      expect(product.price).toBe(999.99);
    });
    test('should get product by SKU', async () => {
      const product = await repository.getProduct(productId);
      const productBySku = await repository.getProductBySku(product.sku);
      expect(productBySku._id.toString()).toBe(productId.toString());
    });
    test('should list products', async () => {
      const products = await repository.listProducts();
      expect(Array.isArray(products)).toBe(true);
      expect(products.length).toBeGreaterThan(0);
    });
    test('should update product quantity', async () => {
      // Sell 5 units
      const updated = await repository.updateProductQuantity(productId, -5, 'Sold to customer');
      expect(updated.quantity).toBe(45); // 50 - 5
    });
    test('should get inventory status', async () => {
      const status = await repository.getInventoryStatus();
      expect(status).toBeDefined();
      expect(status.totalProducts).toBeGreaterThan(0);
      expect(status.totalValue).toBeGreaterThan(0);
      expect(Array.isArray(status.lowStockItems)).toBe(true);
    });
  });
  describe('ðŸ›’ Purchase Order Operations', () => {
    test('should create purchase order', async () => {
      const order = await repository.createPurchaseOrder({
        supplierId: supplierId,
        items: [{
          productId: productId,
          quantity: 10,
          unitPrice: 600
        }],
        priority: 'high',
        dueDate: new Date(Date.now() + 7 * 24 * 60 * 60 * 1000)
      });
      expect(order).toBeDefined();
      expect(order._id).toBeDefined();
      expect(order.poNumber).toBeDefined();
      expect(order.status).toBe('draft');
      expect(order.items.length).toBe(1);
      expect(order.totalAmount).toBeGreaterThan(0);
      orderId = order._id;
    });
    test('should get purchase order', async () => {
      const order = await repository.getPurchaseOrder(orderId);
      expect(order).toBeDefined();
      expect(order.poNumber).toBeDefined();
      expect(order.items.length).toBe(1);
    });
    test('should list purchase orders', async () => {
      const orders = await repository.listPurchaseOrders();
      expect(Array.isArray(orders)).toBe(true);
      expect(orders.length).toBeGreaterThan(0);
    });
    test('should update order status', async () => {
      const updated = await repository.updateOrderStatus(orderId, 'confirmed', 'Order confirmed by supplier');
      expect(updated.status).toBe('confirmed');
      expect(updated.statusHistory.length).toBeGreaterThan(0);
      const lastStatus = updated.statusHistory[updated.statusHistory.length - 1];
      expect(lastStatus.status).toBe('confirmed');
    });
    test('should update order to shipped', async () => {
      const updated = await repository.updateOrderStatus(orderId, 'shipped', 'Dispatched via DHL');
      expect(updated.status).toBe('shipped');
    });
  });
  describe('ðŸšš Shipment Operations', () => {
    test('should create shipment', async () => {
      const shipment = await repository.createShipment({
        orderId: orderId,
        carrier: 'DHL',
        weight: 15.5,
        cost: 50
      });
      expect(shipment).toBeDefined();
      expect(shipment._id).toBeDefined();
      expect(shipment.trackingNumber).toBeDefined();
      expect(shipment.carrier).toBe('DHL');
      expect(shipment.status).toBe('pending');
      shipmentId = shipment._id;
    });
    test('should get shipment by ID', async () => {
      const shipment = await repository.getShipment(shipmentId);
      expect(shipment).toBeDefined();
      expect(shipment.carrier).toBe('DHL');
    });
    test('should get shipment by tracking number', async () => {
      const shipment = await repository.getShipment(shipmentId);
      const byTracking = await repository.getShipmentByTracking(shipment.trackingNumber);
      expect(byTracking._id.toString()).toBe(shipmentId.toString());
    });
    test('should list shipments', async () => {
      const shipments = await repository.listShipments();
      expect(Array.isArray(shipments)).toBe(true);
      expect(shipments.length).toBeGreaterThan(0);
    });
    test('should update shipment status', async () => {
      const updated = await repository.updateShipmentStatus(shipmentId, 'in-transit', 'Package in transit to destination');
      expect(updated.status).toBe('in-transit');
      expect(updated.statusHistory.length).toBeGreaterThan(0);
    });
    test('should track shipment to delivery', async () => {
      let shipment = await repository.getShipment(shipmentId);

      // Simulate delivery
      shipment = await repository.updateShipmentStatus(shipmentId, 'delivered', 'Package delivered successfully');
      expect(shipment.status).toBe('delivered');
      expect(shipment.statusHistory.length).toBe(3); // pending â†’ in-transit â†’ delivered
    });
  });
  describe('ðŸ“Š Analytics Operations', () => {
    test('should get analytics', async () => {
      const analytics = await repository.getAnalytics();
      expect(analytics).toBeDefined();
      expect(analytics.suppliers).toBeGreaterThanOrEqual(0);
      expect(analytics.products).toBeGreaterThanOrEqual(0);
      expect(analytics.orders).toBeGreaterThanOrEqual(0);
      expect(analytics.shipments).toBeGreaterThanOrEqual(0);
      expect(typeof analytics.inventoryValue).toBe('number');
      expect(typeof analytics.avgSupplierRating).toBe('number');
    });
    test('should have correct supplier count in analytics', async () => {
      const suppliers = await repository.listSuppliers();
      const analytics = await repository.getAnalytics();
      expect(analytics.suppliers).toBe(suppliers.length);
    });
    test('should have correct product count in analytics', async () => {
      const products = await repository.listProducts();
      const analytics = await repository.getAnalytics();
      expect(analytics.products).toBe(products.length);
    });
  });
  describe('ðŸ—‘ï¸  Delete Operations', () => {
    test('should delete shipment', async () => {
      const result = await repository.deleteShipment(shipmentId);
      expect(result.deletedCount).toBeGreaterThan(0);
    });
    test('should delete purchase order', async () => {
      const result = await repository.deletePurchaseOrder(orderId);
      expect(result.deletedCount).toBeGreaterThan(0);
    });
    test('should delete product', async () => {
      const result = await repository.deleteProduct(productId);
      expect(result.deletedCount).toBeGreaterThan(0);
    });
    test('should delete supplier', async () => {
      const result = await repository.deleteSupplier(supplierId);
      expect(result.deletedCount).toBeGreaterThan(0);
    });
  });
  describe('âš ï¸  Error Handling', () => {
    test('should handle invalid supplier ID', async () => {
      const supplier = await repository.getSupplier('invalid-id');
      expect(supplier).toBeNull();
    });
    test('should handle invalid product ID', async () => {
      const product = await repository.getProduct('invalid-id');
      expect(product).toBeNull();
    });
    test('should handle creating order without supplier', async () => {
      await expect(repository.createPurchaseOrder({
        supplierId: 'invalid-id',
        items: []
      })).rejects.toThrow();
    });
    test('should validate required fields', async () => {
      await expect(repository.createSupplier({
        // missing required fields
      })).rejects.toThrow();
    });
  });
  describe('ðŸ”„ Data Relationships', () => {
    test('product should reference supplier', async () => {
      const newSupplier = await repository.createSupplier({
        name: 'Test Supplier',
        email: `test-${Date.now()}@test.com`,
        category: 'electronics'
      });
      const product = await repository.addProduct({
        sku: `TEST-${Date.now()}`,
        name: 'Test Product',
        price: 100,
        cost: 50,
        supplierId: newSupplier._id
      });
      expect(product.supplierId.toString()).toBe(newSupplier._id.toString());
    });
    test('order should reference supplier and products', async () => {
      const supplier = await repository.createSupplier({
        name: 'Order Test Supplier',
        email: `order-${Date.now()}@test.com`,
        category: 'electronics'
      });
      const product = await repository.addProduct({
        sku: `ORDER-${Date.now()}`,
        name: 'Order Product',
        price: 200,
        cost: 100,
        supplierId: supplier._id
      });
      const order = await repository.createPurchaseOrder({
        supplierId: supplier._id,
        items: [{
          productId: product._id,
          quantity: 5,
          unitPrice: 100
        }]
      });
      expect(order.supplierId.toString()).toBe(supplier._id.toString());
      expect(order.items[0].productId.toString()).toBe(product._id.toString());
    });
  });
  describe('ðŸ“ˆ Performance Tests', () => {
    test('should list 100+ products efficiently', async () => {
      const startTime = Date.now();
      const products = await repository.listProducts({
        limit: 100
      });
      const duration = Date.now() - startTime;
      expect(duration).toBeLessThan(1000); // Should complete in under 1 second
      expect(Array.isArray(products)).toBe(true);
    });
    test('should query by filter efficiently', async () => {
      const startTime = Date.now();
      const suppliers = await repository.listSuppliers({
        status: 'active',
        limit: 50
      });
      const duration = Date.now() - startTime;
      expect(duration).toBeLessThan(500); // Should complete in under 500ms
    });
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb25uZWN0REIiLCJkaXNjb25uZWN0REIiLCJyZXF1aXJlIiwicmVwb3NpdG9yeSIsInJlc2V0RGF0YWJhc2UiLCJzZWVkRGF0YSIsIlN1cHBsaWVyIiwiUHJvZHVjdCIsIlB1cmNoYXNlT3JkZXIiLCJTaGlwbWVudCIsImRlc2NyaWJlIiwic3VwcGxpZXJJZCIsInByb2R1Y3RJZCIsIm9yZGVySWQiLCJzaGlwbWVudElkIiwiYmVmb3JlQWxsIiwiY29uc29sZSIsImxvZyIsImFmdGVyRWFjaCIsImFmdGVyQWxsIiwidGVzdCIsInN1cHBsaWVyIiwiY3JlYXRlU3VwcGxpZXIiLCJuYW1lIiwiZW1haWwiLCJEYXRlIiwibm93IiwicGhvbmUiLCJhZGRyZXNzIiwiY2F0ZWdvcnkiLCJzdGF0dXMiLCJleHBlY3QiLCJ0b0JlRGVmaW5lZCIsIl9pZCIsInRvQmUiLCJyYXRpbmciLCJnZXRTdXBwbGllciIsInRvU3RyaW5nIiwic3VwcGxpZXJzIiwibGlzdFN1cHBsaWVycyIsIkFycmF5IiwiaXNBcnJheSIsImxlbmd0aCIsInRvQmVHcmVhdGVyVGhhbiIsImxpbWl0IiwiZm9yRWFjaCIsInVwZGF0ZWQiLCJ1cGRhdGVTdXBwbGllciIsInJlamVjdHMiLCJ0b1Rocm93IiwicHJvZHVjdCIsImFkZFByb2R1Y3QiLCJza3UiLCJwcmljZSIsImNvc3QiLCJxdWFudGl0eSIsIm1pbkxldmVsIiwibWF4TGV2ZWwiLCJ1bml0IiwiZ2V0UHJvZHVjdCIsInByb2R1Y3RCeVNrdSIsImdldFByb2R1Y3RCeVNrdSIsInByb2R1Y3RzIiwibGlzdFByb2R1Y3RzIiwidXBkYXRlUHJvZHVjdFF1YW50aXR5IiwiZ2V0SW52ZW50b3J5U3RhdHVzIiwidG90YWxQcm9kdWN0cyIsInRvdGFsVmFsdWUiLCJsb3dTdG9ja0l0ZW1zIiwib3JkZXIiLCJjcmVhdGVQdXJjaGFzZU9yZGVyIiwiaXRlbXMiLCJ1bml0UHJpY2UiLCJwcmlvcml0eSIsImR1ZURhdGUiLCJwb051bWJlciIsInRvdGFsQW1vdW50IiwiZ2V0UHVyY2hhc2VPcmRlciIsIm9yZGVycyIsImxpc3RQdXJjaGFzZU9yZGVycyIsInVwZGF0ZU9yZGVyU3RhdHVzIiwic3RhdHVzSGlzdG9yeSIsImxhc3RTdGF0dXMiLCJzaGlwbWVudCIsImNyZWF0ZVNoaXBtZW50IiwiY2FycmllciIsIndlaWdodCIsInRyYWNraW5nTnVtYmVyIiwiZ2V0U2hpcG1lbnQiLCJieVRyYWNraW5nIiwiZ2V0U2hpcG1lbnRCeVRyYWNraW5nIiwic2hpcG1lbnRzIiwibGlzdFNoaXBtZW50cyIsInVwZGF0ZVNoaXBtZW50U3RhdHVzIiwiYW5hbHl0aWNzIiwiZ2V0QW5hbHl0aWNzIiwidG9CZUdyZWF0ZXJUaGFuT3JFcXVhbCIsImludmVudG9yeVZhbHVlIiwiYXZnU3VwcGxpZXJSYXRpbmciLCJyZXN1bHQiLCJkZWxldGVTaGlwbWVudCIsImRlbGV0ZWRDb3VudCIsImRlbGV0ZVB1cmNoYXNlT3JkZXIiLCJkZWxldGVQcm9kdWN0IiwiZGVsZXRlU3VwcGxpZXIiLCJ0b0JlTnVsbCIsIm5ld1N1cHBsaWVyIiwic3RhcnRUaW1lIiwiZHVyYXRpb24iLCJ0b0JlTGVzc1RoYW4iXSwic291cmNlcyI6WyJkYXRhYmFzZS5pbnRlZ3JhdGlvbi50ZXN0LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiB0ZXN0cy9kYXRhYmFzZS5pbnRlZ3JhdGlvbi50ZXN0LmpzXHJcbiAqIERhdGFiYXNlIEludGVncmF0aW9uIFRlc3RzXHJcbiAqIFxyXG4gKiBUZXN0cyB0aGUgcmVwb3NpdG9yeSBsYXllciBhbmQgZGF0YWJhc2Ugb3BlcmF0aW9uc1xyXG4gKiBWZXJpZmllcyBhbGwgQ1JVRCBvcGVyYXRpb25zIHdvcmsgY29ycmVjdGx5XHJcbiAqIFxyXG4gKiBSdW46IG5wbSB0ZXN0IC0tIHRlc3RzL2RhdGFiYXNlLmludGVncmF0aW9uLnRlc3QuanNcclxuICovXHJcblxyXG5jb25zdCB7IGNvbm5lY3REQiwgZGlzY29ubmVjdERCIH0gPSByZXF1aXJlKCcuLi9jb25maWcvZGF0YWJhc2UnKTtcclxuY29uc3QgcmVwb3NpdG9yeSA9IHJlcXVpcmUoJy4uL3JlcG9zaXRvcmllcy9zdXBwbHlDaGFpblJlcG9zaXRvcnknKTtcclxuY29uc3QgeyByZXNldERhdGFiYXNlLCBzZWVkRGF0YSB9ID0gcmVxdWlyZSgnLi4vc2VlZHMvaW5pdERhdGFiYXNlJyk7XHJcbmNvbnN0IHsgU3VwcGxpZXIsIFByb2R1Y3QsIFB1cmNoYXNlT3JkZXIsIFNoaXBtZW50IH0gPSByZXF1aXJlKCcuLi9tb2RlbHMnKTtcclxuXHJcbmRlc2NyaWJlKCfwn5eE77iPICBEYXRhYmFzZSBJbnRlZ3JhdGlvbiBUZXN0cycsICgpID0+IHtcclxuICBsZXQgc3VwcGxpZXJJZDtcclxuICBsZXQgcHJvZHVjdElkO1xyXG4gIGxldCBvcmRlcklkO1xyXG4gIGxldCBzaGlwbWVudElkO1xyXG5cclxuICAvLyBTZXR1cCBiZWZvcmUgYWxsIHRlc3RzXHJcbiAgYmVmb3JlQWxsKGFzeW5jICgpID0+IHtcclxuICAgIGNvbnNvbGUubG9nKCdcXG7wn5OhIENvbm5lY3RpbmcgdG8gdGVzdCBkYXRhYmFzZS4uLicpO1xyXG4gICAgYXdhaXQgY29ubmVjdERCKCk7XHJcbiAgICBjb25zb2xlLmxvZygn4pyFIENvbm5lY3RlZFxcbicpO1xyXG4gIH0pO1xyXG5cclxuICAvLyBDbGVhbiB1cCBhZnRlciBlYWNoIHRlc3RcclxuICBhZnRlckVhY2goYXN5bmMgKCkgPT4ge1xyXG4gICAgLy8gS2VlcCBkYXRhIGZvciBuZXh0IHRlc3RzIHVubGVzcyB0ZXN0IHJlcXVpcmVzIGNsZWFuIHN0YXRlXHJcbiAgfSk7XHJcblxyXG4gIC8vIERpc2Nvbm5lY3QgYWZ0ZXIgYWxsIHRlc3RzXHJcbiAgYWZ0ZXJBbGwoYXN5bmMgKCkgPT4ge1xyXG4gICAgY29uc29sZS5sb2coJ1xcbvCfp7kgQ2xlYW5pbmcgdXAuLi4nKTtcclxuICAgIGF3YWl0IHJlc2V0RGF0YWJhc2UoKTtcclxuICAgIGF3YWl0IGRpc2Nvbm5lY3REQigpO1xyXG4gICAgY29uc29sZS5sb2coJ+KchSBDbGVhbmVkIHVwXFxuJyk7XHJcbiAgfSk7XHJcblxyXG4gIGRlc2NyaWJlKCfwn5OmIFN1cHBsaWVyIE9wZXJhdGlvbnMnLCAoKSA9PiB7XHJcbiAgICB0ZXN0KCdzaG91bGQgY3JlYXRlIGEgc3VwcGxpZXInLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IHN1cHBsaWVyID0gYXdhaXQgcmVwb3NpdG9yeS5jcmVhdGVTdXBwbGllcih7XHJcbiAgICAgICAgbmFtZTogJ1RlY2ggU29sdXRpb25zIEluYycsXHJcbiAgICAgICAgZW1haWw6IGBzdXBwbGllci0ke0RhdGUubm93KCl9QHRlc3QuY29tYCxcclxuICAgICAgICBwaG9uZTogJys5NjYtNTAtMTIzNDU2NycsXHJcbiAgICAgICAgYWRkcmVzczogJ1JpeWFkaCwgU2F1ZGkgQXJhYmlhJyxcclxuICAgICAgICBjYXRlZ29yeTogJ2VsZWN0cm9uaWNzJyxcclxuICAgICAgICBzdGF0dXM6ICdhY3RpdmUnLFxyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIGV4cGVjdChzdXBwbGllcikudG9CZURlZmluZWQoKTtcclxuICAgICAgZXhwZWN0KHN1cHBsaWVyLl9pZCkudG9CZURlZmluZWQoKTtcclxuICAgICAgZXhwZWN0KHN1cHBsaWVyLm5hbWUpLnRvQmUoJ1RlY2ggU29sdXRpb25zIEluYycpO1xyXG4gICAgICBleHBlY3Qoc3VwcGxpZXIuc3RhdHVzKS50b0JlKCdhY3RpdmUnKTtcclxuICAgICAgZXhwZWN0KHN1cHBsaWVyLnJhdGluZykudG9CZSg1KTsgLy8gRGVmYXVsdCByYXRpbmdcclxuXHJcbiAgICAgIHN1cHBsaWVySWQgPSBzdXBwbGllci5faWQ7XHJcbiAgICB9KTtcclxuXHJcbiAgICB0ZXN0KCdzaG91bGQgZ2V0IHN1cHBsaWVyIGJ5IElEJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICBjb25zdCBzdXBwbGllciA9IGF3YWl0IHJlcG9zaXRvcnkuZ2V0U3VwcGxpZXIoc3VwcGxpZXJJZCk7XHJcblxyXG4gICAgICBleHBlY3Qoc3VwcGxpZXIpLnRvQmVEZWZpbmVkKCk7XHJcbiAgICAgIGV4cGVjdChzdXBwbGllci5faWQudG9TdHJpbmcoKSkudG9CZShzdXBwbGllcklkLnRvU3RyaW5nKCkpO1xyXG4gICAgICBleHBlY3Qoc3VwcGxpZXIubmFtZSkudG9CZSgnVGVjaCBTb2x1dGlvbnMgSW5jJyk7XHJcbiAgICB9KTtcclxuXHJcbiAgICB0ZXN0KCdzaG91bGQgbGlzdCBzdXBwbGllcnMnLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IHN1cHBsaWVycyA9IGF3YWl0IHJlcG9zaXRvcnkubGlzdFN1cHBsaWVycygpO1xyXG5cclxuICAgICAgZXhwZWN0KEFycmF5LmlzQXJyYXkoc3VwcGxpZXJzKSkudG9CZSh0cnVlKTtcclxuICAgICAgZXhwZWN0KHN1cHBsaWVycy5sZW5ndGgpLnRvQmVHcmVhdGVyVGhhbigwKTtcclxuICAgIH0pO1xyXG5cclxuICAgIHRlc3QoJ3Nob3VsZCBsaXN0IHN1cHBsaWVycyB3aXRoIGZpbHRlcicsIGFzeW5jICgpID0+IHtcclxuICAgICAgY29uc3Qgc3VwcGxpZXJzID0gYXdhaXQgcmVwb3NpdG9yeS5saXN0U3VwcGxpZXJzKHtcclxuICAgICAgICBzdGF0dXM6ICdhY3RpdmUnLFxyXG4gICAgICAgIGxpbWl0OiAxMCxcclxuICAgICAgfSk7XHJcblxyXG4gICAgICBleHBlY3QoQXJyYXkuaXNBcnJheShzdXBwbGllcnMpKS50b0JlKHRydWUpO1xyXG4gICAgICBzdXBwbGllcnMuZm9yRWFjaChzdXBwbGllciA9PiB7XHJcbiAgICAgICAgZXhwZWN0KHN1cHBsaWVyLnN0YXR1cykudG9CZSgnYWN0aXZlJyk7XHJcbiAgICAgIH0pO1xyXG4gICAgfSk7XHJcblxyXG4gICAgdGVzdCgnc2hvdWxkIHVwZGF0ZSBzdXBwbGllcicsIGFzeW5jICgpID0+IHtcclxuICAgICAgY29uc3QgdXBkYXRlZCA9IGF3YWl0IHJlcG9zaXRvcnkudXBkYXRlU3VwcGxpZXIoc3VwcGxpZXJJZCwge1xyXG4gICAgICAgIHJhdGluZzogNC41LFxyXG4gICAgICAgIHN0YXR1czogJ2FjdGl2ZScsXHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgZXhwZWN0KHVwZGF0ZWQucmF0aW5nKS50b0JlKDQuNSk7XHJcbiAgICAgIGV4cGVjdCh1cGRhdGVkLnN0YXR1cykudG9CZSgnYWN0aXZlJyk7XHJcbiAgICB9KTtcclxuXHJcbiAgICB0ZXN0KCdzaG91bGQgaGFuZGxlIGR1cGxpY2F0ZSBlbWFpbCcsIGFzeW5jICgpID0+IHtcclxuICAgICAgY29uc3QgZW1haWwgPSBgZHVwbGljYXRlLSR7RGF0ZS5ub3coKX1AdGVzdC5jb21gO1xyXG5cclxuICAgICAgLy8gQ3JlYXRlIGZpcnN0IHN1cHBsaWVyXHJcbiAgICAgIGF3YWl0IHJlcG9zaXRvcnkuY3JlYXRlU3VwcGxpZXIoe1xyXG4gICAgICAgIG5hbWU6ICdGaXJzdCBTdXBwbGllcicsXHJcbiAgICAgICAgZW1haWw6IGVtYWlsLFxyXG4gICAgICAgIGNhdGVnb3J5OiAnZWxlY3Ryb25pY3MnLFxyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIC8vIFRyeSB0byBjcmVhdGUgZHVwbGljYXRlIC0gc2hvdWxkIGZhaWxcclxuICAgICAgYXdhaXQgZXhwZWN0KFxyXG4gICAgICAgIHJlcG9zaXRvcnkuY3JlYXRlU3VwcGxpZXIoe1xyXG4gICAgICAgICAgbmFtZTogJ1NlY29uZCBTdXBwbGllcicsXHJcbiAgICAgICAgICBlbWFpbDogZW1haWwsXHJcbiAgICAgICAgICBjYXRlZ29yeTogJ2Z1cm5pdHVyZScsXHJcbiAgICAgICAgfSlcclxuICAgICAgKS5yZWplY3RzLnRvVGhyb3coKTtcclxuICAgIH0pO1xyXG4gIH0pO1xyXG5cclxuICBkZXNjcmliZSgn8J+PrSBQcm9kdWN0IE9wZXJhdGlvbnMnLCAoKSA9PiB7XHJcbiAgICB0ZXN0KCdzaG91bGQgYWRkIHByb2R1Y3QnLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IHByb2R1Y3QgPSBhd2FpdCByZXBvc2l0b3J5LmFkZFByb2R1Y3Qoe1xyXG4gICAgICAgIHNrdTogYFNLVS0ke0RhdGUubm93KCl9YCxcclxuICAgICAgICBuYW1lOiAnTGFwdG9wIENvbXB1dGVyJyxcclxuICAgICAgICBjYXRlZ29yeTogJ2VsZWN0cm9uaWNzJyxcclxuICAgICAgICBwcmljZTogOTk5Ljk5LFxyXG4gICAgICAgIGNvc3Q6IDYwMCxcclxuICAgICAgICBxdWFudGl0eTogNTAsXHJcbiAgICAgICAgbWluTGV2ZWw6IDEwLFxyXG4gICAgICAgIG1heExldmVsOiAyMDAsXHJcbiAgICAgICAgdW5pdDogJ3BpZWNlJyxcclxuICAgICAgICBzdXBwbGllcklkOiBzdXBwbGllcklkLFxyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIGV4cGVjdChwcm9kdWN0KS50b0JlRGVmaW5lZCgpO1xyXG4gICAgICBleHBlY3QocHJvZHVjdC5faWQpLnRvQmVEZWZpbmVkKCk7XHJcbiAgICAgIGV4cGVjdChwcm9kdWN0LnNrdSkudG9CZURlZmluZWQoKTtcclxuICAgICAgZXhwZWN0KHByb2R1Y3QucXVhbnRpdHkpLnRvQmUoNTApO1xyXG5cclxuICAgICAgcHJvZHVjdElkID0gcHJvZHVjdC5faWQ7XHJcbiAgICB9KTtcclxuXHJcbiAgICB0ZXN0KCdzaG91bGQgZ2V0IHByb2R1Y3QgYnkgSUQnLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IHByb2R1Y3QgPSBhd2FpdCByZXBvc2l0b3J5LmdldFByb2R1Y3QocHJvZHVjdElkKTtcclxuXHJcbiAgICAgIGV4cGVjdChwcm9kdWN0KS50b0JlRGVmaW5lZCgpO1xyXG4gICAgICBleHBlY3QocHJvZHVjdC5uYW1lKS50b0JlKCdMYXB0b3AgQ29tcHV0ZXInKTtcclxuICAgICAgZXhwZWN0KHByb2R1Y3QucHJpY2UpLnRvQmUoOTk5Ljk5KTtcclxuICAgIH0pO1xyXG5cclxuICAgIHRlc3QoJ3Nob3VsZCBnZXQgcHJvZHVjdCBieSBTS1UnLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IHByb2R1Y3QgPSBhd2FpdCByZXBvc2l0b3J5LmdldFByb2R1Y3QocHJvZHVjdElkKTtcclxuICAgICAgY29uc3QgcHJvZHVjdEJ5U2t1ID0gYXdhaXQgcmVwb3NpdG9yeS5nZXRQcm9kdWN0QnlTa3UocHJvZHVjdC5za3UpO1xyXG5cclxuICAgICAgZXhwZWN0KHByb2R1Y3RCeVNrdS5faWQudG9TdHJpbmcoKSkudG9CZShwcm9kdWN0SWQudG9TdHJpbmcoKSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICB0ZXN0KCdzaG91bGQgbGlzdCBwcm9kdWN0cycsIGFzeW5jICgpID0+IHtcclxuICAgICAgY29uc3QgcHJvZHVjdHMgPSBhd2FpdCByZXBvc2l0b3J5Lmxpc3RQcm9kdWN0cygpO1xyXG5cclxuICAgICAgZXhwZWN0KEFycmF5LmlzQXJyYXkocHJvZHVjdHMpKS50b0JlKHRydWUpO1xyXG4gICAgICBleHBlY3QocHJvZHVjdHMubGVuZ3RoKS50b0JlR3JlYXRlclRoYW4oMCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICB0ZXN0KCdzaG91bGQgdXBkYXRlIHByb2R1Y3QgcXVhbnRpdHknLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIC8vIFNlbGwgNSB1bml0c1xyXG4gICAgICBjb25zdCB1cGRhdGVkID0gYXdhaXQgcmVwb3NpdG9yeS51cGRhdGVQcm9kdWN0UXVhbnRpdHkoXHJcbiAgICAgICAgcHJvZHVjdElkLFxyXG4gICAgICAgIC01LFxyXG4gICAgICAgICdTb2xkIHRvIGN1c3RvbWVyJ1xyXG4gICAgICApO1xyXG5cclxuICAgICAgZXhwZWN0KHVwZGF0ZWQucXVhbnRpdHkpLnRvQmUoNDUpOyAvLyA1MCAtIDVcclxuICAgIH0pO1xyXG5cclxuICAgIHRlc3QoJ3Nob3VsZCBnZXQgaW52ZW50b3J5IHN0YXR1cycsIGFzeW5jICgpID0+IHtcclxuICAgICAgY29uc3Qgc3RhdHVzID0gYXdhaXQgcmVwb3NpdG9yeS5nZXRJbnZlbnRvcnlTdGF0dXMoKTtcclxuXHJcbiAgICAgIGV4cGVjdChzdGF0dXMpLnRvQmVEZWZpbmVkKCk7XHJcbiAgICAgIGV4cGVjdChzdGF0dXMudG90YWxQcm9kdWN0cykudG9CZUdyZWF0ZXJUaGFuKDApO1xyXG4gICAgICBleHBlY3Qoc3RhdHVzLnRvdGFsVmFsdWUpLnRvQmVHcmVhdGVyVGhhbigwKTtcclxuICAgICAgZXhwZWN0KEFycmF5LmlzQXJyYXkoc3RhdHVzLmxvd1N0b2NrSXRlbXMpKS50b0JlKHRydWUpO1xyXG4gICAgfSk7XHJcbiAgfSk7XHJcblxyXG4gIGRlc2NyaWJlKCfwn5uSIFB1cmNoYXNlIE9yZGVyIE9wZXJhdGlvbnMnLCAoKSA9PiB7XHJcbiAgICB0ZXN0KCdzaG91bGQgY3JlYXRlIHB1cmNoYXNlIG9yZGVyJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICBjb25zdCBvcmRlciA9IGF3YWl0IHJlcG9zaXRvcnkuY3JlYXRlUHVyY2hhc2VPcmRlcih7XHJcbiAgICAgICAgc3VwcGxpZXJJZDogc3VwcGxpZXJJZCxcclxuICAgICAgICBpdGVtczogW1xyXG4gICAgICAgICAge1xyXG4gICAgICAgICAgICBwcm9kdWN0SWQ6IHByb2R1Y3RJZCxcclxuICAgICAgICAgICAgcXVhbnRpdHk6IDEwLFxyXG4gICAgICAgICAgICB1bml0UHJpY2U6IDYwMCxcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgXSxcclxuICAgICAgICBwcmlvcml0eTogJ2hpZ2gnLFxyXG4gICAgICAgIGR1ZURhdGU6IG5ldyBEYXRlKERhdGUubm93KCkgKyA3ICogMjQgKiA2MCAqIDYwICogMTAwMCksXHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgZXhwZWN0KG9yZGVyKS50b0JlRGVmaW5lZCgpO1xyXG4gICAgICBleHBlY3Qob3JkZXIuX2lkKS50b0JlRGVmaW5lZCgpO1xyXG4gICAgICBleHBlY3Qob3JkZXIucG9OdW1iZXIpLnRvQmVEZWZpbmVkKCk7XHJcbiAgICAgIGV4cGVjdChvcmRlci5zdGF0dXMpLnRvQmUoJ2RyYWZ0Jyk7XHJcbiAgICAgIGV4cGVjdChvcmRlci5pdGVtcy5sZW5ndGgpLnRvQmUoMSk7XHJcbiAgICAgIGV4cGVjdChvcmRlci50b3RhbEFtb3VudCkudG9CZUdyZWF0ZXJUaGFuKDApO1xyXG5cclxuICAgICAgb3JkZXJJZCA9IG9yZGVyLl9pZDtcclxuICAgIH0pO1xyXG5cclxuICAgIHRlc3QoJ3Nob3VsZCBnZXQgcHVyY2hhc2Ugb3JkZXInLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IG9yZGVyID0gYXdhaXQgcmVwb3NpdG9yeS5nZXRQdXJjaGFzZU9yZGVyKG9yZGVySWQpO1xyXG5cclxuICAgICAgZXhwZWN0KG9yZGVyKS50b0JlRGVmaW5lZCgpO1xyXG4gICAgICBleHBlY3Qob3JkZXIucG9OdW1iZXIpLnRvQmVEZWZpbmVkKCk7XHJcbiAgICAgIGV4cGVjdChvcmRlci5pdGVtcy5sZW5ndGgpLnRvQmUoMSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICB0ZXN0KCdzaG91bGQgbGlzdCBwdXJjaGFzZSBvcmRlcnMnLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IG9yZGVycyA9IGF3YWl0IHJlcG9zaXRvcnkubGlzdFB1cmNoYXNlT3JkZXJzKCk7XHJcblxyXG4gICAgICBleHBlY3QoQXJyYXkuaXNBcnJheShvcmRlcnMpKS50b0JlKHRydWUpO1xyXG4gICAgICBleHBlY3Qob3JkZXJzLmxlbmd0aCkudG9CZUdyZWF0ZXJUaGFuKDApO1xyXG4gICAgfSk7XHJcblxyXG4gICAgdGVzdCgnc2hvdWxkIHVwZGF0ZSBvcmRlciBzdGF0dXMnLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IHVwZGF0ZWQgPSBhd2FpdCByZXBvc2l0b3J5LnVwZGF0ZU9yZGVyU3RhdHVzKFxyXG4gICAgICAgIG9yZGVySWQsXHJcbiAgICAgICAgJ2NvbmZpcm1lZCcsXHJcbiAgICAgICAgJ09yZGVyIGNvbmZpcm1lZCBieSBzdXBwbGllcidcclxuICAgICAgKTtcclxuXHJcbiAgICAgIGV4cGVjdCh1cGRhdGVkLnN0YXR1cykudG9CZSgnY29uZmlybWVkJyk7XHJcbiAgICAgIGV4cGVjdCh1cGRhdGVkLnN0YXR1c0hpc3RvcnkubGVuZ3RoKS50b0JlR3JlYXRlclRoYW4oMCk7XHJcblxyXG4gICAgICBjb25zdCBsYXN0U3RhdHVzID0gdXBkYXRlZC5zdGF0dXNIaXN0b3J5W3VwZGF0ZWQuc3RhdHVzSGlzdG9yeS5sZW5ndGggLSAxXTtcclxuICAgICAgZXhwZWN0KGxhc3RTdGF0dXMuc3RhdHVzKS50b0JlKCdjb25maXJtZWQnKTtcclxuICAgIH0pO1xyXG5cclxuICAgIHRlc3QoJ3Nob3VsZCB1cGRhdGUgb3JkZXIgdG8gc2hpcHBlZCcsIGFzeW5jICgpID0+IHtcclxuICAgICAgY29uc3QgdXBkYXRlZCA9IGF3YWl0IHJlcG9zaXRvcnkudXBkYXRlT3JkZXJTdGF0dXMoXHJcbiAgICAgICAgb3JkZXJJZCxcclxuICAgICAgICAnc2hpcHBlZCcsXHJcbiAgICAgICAgJ0Rpc3BhdGNoZWQgdmlhIERITCdcclxuICAgICAgKTtcclxuXHJcbiAgICAgIGV4cGVjdCh1cGRhdGVkLnN0YXR1cykudG9CZSgnc2hpcHBlZCcpO1xyXG4gICAgfSk7XHJcbiAgfSk7XHJcblxyXG4gIGRlc2NyaWJlKCfwn5qaIFNoaXBtZW50IE9wZXJhdGlvbnMnLCAoKSA9PiB7XHJcbiAgICB0ZXN0KCdzaG91bGQgY3JlYXRlIHNoaXBtZW50JywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICBjb25zdCBzaGlwbWVudCA9IGF3YWl0IHJlcG9zaXRvcnkuY3JlYXRlU2hpcG1lbnQoe1xyXG4gICAgICAgIG9yZGVySWQ6IG9yZGVySWQsXHJcbiAgICAgICAgY2FycmllcjogJ0RITCcsXHJcbiAgICAgICAgd2VpZ2h0OiAxNS41LFxyXG4gICAgICAgIGNvc3Q6IDUwLFxyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIGV4cGVjdChzaGlwbWVudCkudG9CZURlZmluZWQoKTtcclxuICAgICAgZXhwZWN0KHNoaXBtZW50Ll9pZCkudG9CZURlZmluZWQoKTtcclxuICAgICAgZXhwZWN0KHNoaXBtZW50LnRyYWNraW5nTnVtYmVyKS50b0JlRGVmaW5lZCgpO1xyXG4gICAgICBleHBlY3Qoc2hpcG1lbnQuY2FycmllcikudG9CZSgnREhMJyk7XHJcbiAgICAgIGV4cGVjdChzaGlwbWVudC5zdGF0dXMpLnRvQmUoJ3BlbmRpbmcnKTtcclxuXHJcbiAgICAgIHNoaXBtZW50SWQgPSBzaGlwbWVudC5faWQ7XHJcbiAgICB9KTtcclxuXHJcbiAgICB0ZXN0KCdzaG91bGQgZ2V0IHNoaXBtZW50IGJ5IElEJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICBjb25zdCBzaGlwbWVudCA9IGF3YWl0IHJlcG9zaXRvcnkuZ2V0U2hpcG1lbnQoc2hpcG1lbnRJZCk7XHJcblxyXG4gICAgICBleHBlY3Qoc2hpcG1lbnQpLnRvQmVEZWZpbmVkKCk7XHJcbiAgICAgIGV4cGVjdChzaGlwbWVudC5jYXJyaWVyKS50b0JlKCdESEwnKTtcclxuICAgIH0pO1xyXG5cclxuICAgIHRlc3QoJ3Nob3VsZCBnZXQgc2hpcG1lbnQgYnkgdHJhY2tpbmcgbnVtYmVyJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICBjb25zdCBzaGlwbWVudCA9IGF3YWl0IHJlcG9zaXRvcnkuZ2V0U2hpcG1lbnQoc2hpcG1lbnRJZCk7XHJcbiAgICAgIGNvbnN0IGJ5VHJhY2tpbmcgPSBhd2FpdCByZXBvc2l0b3J5LmdldFNoaXBtZW50QnlUcmFja2luZyhzaGlwbWVudC50cmFja2luZ051bWJlcik7XHJcblxyXG4gICAgICBleHBlY3QoYnlUcmFja2luZy5faWQudG9TdHJpbmcoKSkudG9CZShzaGlwbWVudElkLnRvU3RyaW5nKCkpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgdGVzdCgnc2hvdWxkIGxpc3Qgc2hpcG1lbnRzJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICBjb25zdCBzaGlwbWVudHMgPSBhd2FpdCByZXBvc2l0b3J5Lmxpc3RTaGlwbWVudHMoKTtcclxuXHJcbiAgICAgIGV4cGVjdChBcnJheS5pc0FycmF5KHNoaXBtZW50cykpLnRvQmUodHJ1ZSk7XHJcbiAgICAgIGV4cGVjdChzaGlwbWVudHMubGVuZ3RoKS50b0JlR3JlYXRlclRoYW4oMCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICB0ZXN0KCdzaG91bGQgdXBkYXRlIHNoaXBtZW50IHN0YXR1cycsIGFzeW5jICgpID0+IHtcclxuICAgICAgY29uc3QgdXBkYXRlZCA9IGF3YWl0IHJlcG9zaXRvcnkudXBkYXRlU2hpcG1lbnRTdGF0dXMoXHJcbiAgICAgICAgc2hpcG1lbnRJZCxcclxuICAgICAgICAnaW4tdHJhbnNpdCcsXHJcbiAgICAgICAgJ1BhY2thZ2UgaW4gdHJhbnNpdCB0byBkZXN0aW5hdGlvbidcclxuICAgICAgKTtcclxuXHJcbiAgICAgIGV4cGVjdCh1cGRhdGVkLnN0YXR1cykudG9CZSgnaW4tdHJhbnNpdCcpO1xyXG4gICAgICBleHBlY3QodXBkYXRlZC5zdGF0dXNIaXN0b3J5Lmxlbmd0aCkudG9CZUdyZWF0ZXJUaGFuKDApO1xyXG4gICAgfSk7XHJcblxyXG4gICAgdGVzdCgnc2hvdWxkIHRyYWNrIHNoaXBtZW50IHRvIGRlbGl2ZXJ5JywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICBsZXQgc2hpcG1lbnQgPSBhd2FpdCByZXBvc2l0b3J5LmdldFNoaXBtZW50KHNoaXBtZW50SWQpO1xyXG5cclxuICAgICAgLy8gU2ltdWxhdGUgZGVsaXZlcnlcclxuICAgICAgc2hpcG1lbnQgPSBhd2FpdCByZXBvc2l0b3J5LnVwZGF0ZVNoaXBtZW50U3RhdHVzKFxyXG4gICAgICAgIHNoaXBtZW50SWQsXHJcbiAgICAgICAgJ2RlbGl2ZXJlZCcsXHJcbiAgICAgICAgJ1BhY2thZ2UgZGVsaXZlcmVkIHN1Y2Nlc3NmdWxseSdcclxuICAgICAgKTtcclxuXHJcbiAgICAgIGV4cGVjdChzaGlwbWVudC5zdGF0dXMpLnRvQmUoJ2RlbGl2ZXJlZCcpO1xyXG4gICAgICBleHBlY3Qoc2hpcG1lbnQuc3RhdHVzSGlzdG9yeS5sZW5ndGgpLnRvQmUoMyk7IC8vIHBlbmRpbmcg4oaSIGluLXRyYW5zaXQg4oaSIGRlbGl2ZXJlZFxyXG4gICAgfSk7XHJcbiAgfSk7XHJcblxyXG4gIGRlc2NyaWJlKCfwn5OKIEFuYWx5dGljcyBPcGVyYXRpb25zJywgKCkgPT4ge1xyXG4gICAgdGVzdCgnc2hvdWxkIGdldCBhbmFseXRpY3MnLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IGFuYWx5dGljcyA9IGF3YWl0IHJlcG9zaXRvcnkuZ2V0QW5hbHl0aWNzKCk7XHJcblxyXG4gICAgICBleHBlY3QoYW5hbHl0aWNzKS50b0JlRGVmaW5lZCgpO1xyXG4gICAgICBleHBlY3QoYW5hbHl0aWNzLnN1cHBsaWVycykudG9CZUdyZWF0ZXJUaGFuT3JFcXVhbCgwKTtcclxuICAgICAgZXhwZWN0KGFuYWx5dGljcy5wcm9kdWN0cykudG9CZUdyZWF0ZXJUaGFuT3JFcXVhbCgwKTtcclxuICAgICAgZXhwZWN0KGFuYWx5dGljcy5vcmRlcnMpLnRvQmVHcmVhdGVyVGhhbk9yRXF1YWwoMCk7XHJcbiAgICAgIGV4cGVjdChhbmFseXRpY3Muc2hpcG1lbnRzKS50b0JlR3JlYXRlclRoYW5PckVxdWFsKDApO1xyXG4gICAgICBleHBlY3QodHlwZW9mIGFuYWx5dGljcy5pbnZlbnRvcnlWYWx1ZSkudG9CZSgnbnVtYmVyJyk7XHJcbiAgICAgIGV4cGVjdCh0eXBlb2YgYW5hbHl0aWNzLmF2Z1N1cHBsaWVyUmF0aW5nKS50b0JlKCdudW1iZXInKTtcclxuICAgIH0pO1xyXG5cclxuICAgIHRlc3QoJ3Nob3VsZCBoYXZlIGNvcnJlY3Qgc3VwcGxpZXIgY291bnQgaW4gYW5hbHl0aWNzJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICBjb25zdCBzdXBwbGllcnMgPSBhd2FpdCByZXBvc2l0b3J5Lmxpc3RTdXBwbGllcnMoKTtcclxuICAgICAgY29uc3QgYW5hbHl0aWNzID0gYXdhaXQgcmVwb3NpdG9yeS5nZXRBbmFseXRpY3MoKTtcclxuXHJcbiAgICAgIGV4cGVjdChhbmFseXRpY3Muc3VwcGxpZXJzKS50b0JlKHN1cHBsaWVycy5sZW5ndGgpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgdGVzdCgnc2hvdWxkIGhhdmUgY29ycmVjdCBwcm9kdWN0IGNvdW50IGluIGFuYWx5dGljcycsIGFzeW5jICgpID0+IHtcclxuICAgICAgY29uc3QgcHJvZHVjdHMgPSBhd2FpdCByZXBvc2l0b3J5Lmxpc3RQcm9kdWN0cygpO1xyXG4gICAgICBjb25zdCBhbmFseXRpY3MgPSBhd2FpdCByZXBvc2l0b3J5LmdldEFuYWx5dGljcygpO1xyXG5cclxuICAgICAgZXhwZWN0KGFuYWx5dGljcy5wcm9kdWN0cykudG9CZShwcm9kdWN0cy5sZW5ndGgpO1xyXG4gICAgfSk7XHJcbiAgfSk7XHJcblxyXG4gIGRlc2NyaWJlKCfwn5eR77iPICBEZWxldGUgT3BlcmF0aW9ucycsICgpID0+IHtcclxuICAgIHRlc3QoJ3Nob3VsZCBkZWxldGUgc2hpcG1lbnQnLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJlcG9zaXRvcnkuZGVsZXRlU2hpcG1lbnQoc2hpcG1lbnRJZCk7XHJcbiAgICAgIGV4cGVjdChyZXN1bHQuZGVsZXRlZENvdW50KS50b0JlR3JlYXRlclRoYW4oMCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICB0ZXN0KCdzaG91bGQgZGVsZXRlIHB1cmNoYXNlIG9yZGVyJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXBvc2l0b3J5LmRlbGV0ZVB1cmNoYXNlT3JkZXIob3JkZXJJZCk7XHJcbiAgICAgIGV4cGVjdChyZXN1bHQuZGVsZXRlZENvdW50KS50b0JlR3JlYXRlclRoYW4oMCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICB0ZXN0KCdzaG91bGQgZGVsZXRlIHByb2R1Y3QnLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJlcG9zaXRvcnkuZGVsZXRlUHJvZHVjdChwcm9kdWN0SWQpO1xyXG4gICAgICBleHBlY3QocmVzdWx0LmRlbGV0ZWRDb3VudCkudG9CZUdyZWF0ZXJUaGFuKDApO1xyXG4gICAgfSk7XHJcblxyXG4gICAgdGVzdCgnc2hvdWxkIGRlbGV0ZSBzdXBwbGllcicsIGFzeW5jICgpID0+IHtcclxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcmVwb3NpdG9yeS5kZWxldGVTdXBwbGllcihzdXBwbGllcklkKTtcclxuICAgICAgZXhwZWN0KHJlc3VsdC5kZWxldGVkQ291bnQpLnRvQmVHcmVhdGVyVGhhbigwKTtcclxuICAgIH0pO1xyXG4gIH0pO1xyXG5cclxuICBkZXNjcmliZSgn4pqg77iPICBFcnJvciBIYW5kbGluZycsICgpID0+IHtcclxuICAgIHRlc3QoJ3Nob3VsZCBoYW5kbGUgaW52YWxpZCBzdXBwbGllciBJRCcsIGFzeW5jICgpID0+IHtcclxuICAgICAgY29uc3Qgc3VwcGxpZXIgPSBhd2FpdCByZXBvc2l0b3J5LmdldFN1cHBsaWVyKCdpbnZhbGlkLWlkJyk7XHJcbiAgICAgIGV4cGVjdChzdXBwbGllcikudG9CZU51bGwoKTtcclxuICAgIH0pO1xyXG5cclxuICAgIHRlc3QoJ3Nob3VsZCBoYW5kbGUgaW52YWxpZCBwcm9kdWN0IElEJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICBjb25zdCBwcm9kdWN0ID0gYXdhaXQgcmVwb3NpdG9yeS5nZXRQcm9kdWN0KCdpbnZhbGlkLWlkJyk7XHJcbiAgICAgIGV4cGVjdChwcm9kdWN0KS50b0JlTnVsbCgpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgdGVzdCgnc2hvdWxkIGhhbmRsZSBjcmVhdGluZyBvcmRlciB3aXRob3V0IHN1cHBsaWVyJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICBhd2FpdCBleHBlY3QoXHJcbiAgICAgICAgcmVwb3NpdG9yeS5jcmVhdGVQdXJjaGFzZU9yZGVyKHtcclxuICAgICAgICAgIHN1cHBsaWVySWQ6ICdpbnZhbGlkLWlkJyxcclxuICAgICAgICAgIGl0ZW1zOiBbXSxcclxuICAgICAgICB9KVxyXG4gICAgICApLnJlamVjdHMudG9UaHJvdygpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgdGVzdCgnc2hvdWxkIHZhbGlkYXRlIHJlcXVpcmVkIGZpZWxkcycsIGFzeW5jICgpID0+IHtcclxuICAgICAgYXdhaXQgZXhwZWN0KFxyXG4gICAgICAgIHJlcG9zaXRvcnkuY3JlYXRlU3VwcGxpZXIoe1xyXG4gICAgICAgICAgLy8gbWlzc2luZyByZXF1aXJlZCBmaWVsZHNcclxuICAgICAgICB9KVxyXG4gICAgICApLnJlamVjdHMudG9UaHJvdygpO1xyXG4gICAgfSk7XHJcbiAgfSk7XHJcblxyXG4gIGRlc2NyaWJlKCfwn5SEIERhdGEgUmVsYXRpb25zaGlwcycsICgpID0+IHtcclxuICAgIHRlc3QoJ3Byb2R1Y3Qgc2hvdWxkIHJlZmVyZW5jZSBzdXBwbGllcicsIGFzeW5jICgpID0+IHtcclxuICAgICAgY29uc3QgbmV3U3VwcGxpZXIgPSBhd2FpdCByZXBvc2l0b3J5LmNyZWF0ZVN1cHBsaWVyKHtcclxuICAgICAgICBuYW1lOiAnVGVzdCBTdXBwbGllcicsXHJcbiAgICAgICAgZW1haWw6IGB0ZXN0LSR7RGF0ZS5ub3coKX1AdGVzdC5jb21gLFxyXG4gICAgICAgIGNhdGVnb3J5OiAnZWxlY3Ryb25pY3MnLFxyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIGNvbnN0IHByb2R1Y3QgPSBhd2FpdCByZXBvc2l0b3J5LmFkZFByb2R1Y3Qoe1xyXG4gICAgICAgIHNrdTogYFRFU1QtJHtEYXRlLm5vdygpfWAsXHJcbiAgICAgICAgbmFtZTogJ1Rlc3QgUHJvZHVjdCcsXHJcbiAgICAgICAgcHJpY2U6IDEwMCxcclxuICAgICAgICBjb3N0OiA1MCxcclxuICAgICAgICBzdXBwbGllcklkOiBuZXdTdXBwbGllci5faWQsXHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgZXhwZWN0KHByb2R1Y3Quc3VwcGxpZXJJZC50b1N0cmluZygpKS50b0JlKG5ld1N1cHBsaWVyLl9pZC50b1N0cmluZygpKTtcclxuICAgIH0pO1xyXG5cclxuICAgIHRlc3QoJ29yZGVyIHNob3VsZCByZWZlcmVuY2Ugc3VwcGxpZXIgYW5kIHByb2R1Y3RzJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICBjb25zdCBzdXBwbGllciA9IGF3YWl0IHJlcG9zaXRvcnkuY3JlYXRlU3VwcGxpZXIoe1xyXG4gICAgICAgIG5hbWU6ICdPcmRlciBUZXN0IFN1cHBsaWVyJyxcclxuICAgICAgICBlbWFpbDogYG9yZGVyLSR7RGF0ZS5ub3coKX1AdGVzdC5jb21gLFxyXG4gICAgICAgIGNhdGVnb3J5OiAnZWxlY3Ryb25pY3MnLFxyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIGNvbnN0IHByb2R1Y3QgPSBhd2FpdCByZXBvc2l0b3J5LmFkZFByb2R1Y3Qoe1xyXG4gICAgICAgIHNrdTogYE9SREVSLSR7RGF0ZS5ub3coKX1gLFxyXG4gICAgICAgIG5hbWU6ICdPcmRlciBQcm9kdWN0JyxcclxuICAgICAgICBwcmljZTogMjAwLFxyXG4gICAgICAgIGNvc3Q6IDEwMCxcclxuICAgICAgICBzdXBwbGllcklkOiBzdXBwbGllci5faWQsXHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgY29uc3Qgb3JkZXIgPSBhd2FpdCByZXBvc2l0b3J5LmNyZWF0ZVB1cmNoYXNlT3JkZXIoe1xyXG4gICAgICAgIHN1cHBsaWVySWQ6IHN1cHBsaWVyLl9pZCxcclxuICAgICAgICBpdGVtczogW1xyXG4gICAgICAgICAge1xyXG4gICAgICAgICAgICBwcm9kdWN0SWQ6IHByb2R1Y3QuX2lkLFxyXG4gICAgICAgICAgICBxdWFudGl0eTogNSxcclxuICAgICAgICAgICAgdW5pdFByaWNlOiAxMDAsXHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgIF0sXHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgZXhwZWN0KG9yZGVyLnN1cHBsaWVySWQudG9TdHJpbmcoKSkudG9CZShzdXBwbGllci5faWQudG9TdHJpbmcoKSk7XHJcbiAgICAgIGV4cGVjdChvcmRlci5pdGVtc1swXS5wcm9kdWN0SWQudG9TdHJpbmcoKSkudG9CZShwcm9kdWN0Ll9pZC50b1N0cmluZygpKTtcclxuICAgIH0pO1xyXG4gIH0pO1xyXG5cclxuICBkZXNjcmliZSgn8J+TiCBQZXJmb3JtYW5jZSBUZXN0cycsICgpID0+IHtcclxuICAgIHRlc3QoJ3Nob3VsZCBsaXN0IDEwMCsgcHJvZHVjdHMgZWZmaWNpZW50bHknLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IHN0YXJ0VGltZSA9IERhdGUubm93KCk7XHJcbiAgICAgIGNvbnN0IHByb2R1Y3RzID0gYXdhaXQgcmVwb3NpdG9yeS5saXN0UHJvZHVjdHMoeyBsaW1pdDogMTAwIH0pO1xyXG4gICAgICBjb25zdCBkdXJhdGlvbiA9IERhdGUubm93KCkgLSBzdGFydFRpbWU7XHJcblxyXG4gICAgICBleHBlY3QoZHVyYXRpb24pLnRvQmVMZXNzVGhhbigxMDAwKTsgLy8gU2hvdWxkIGNvbXBsZXRlIGluIHVuZGVyIDEgc2Vjb25kXHJcbiAgICAgIGV4cGVjdChBcnJheS5pc0FycmF5KHByb2R1Y3RzKSkudG9CZSh0cnVlKTtcclxuICAgIH0pO1xyXG5cclxuICAgIHRlc3QoJ3Nob3VsZCBxdWVyeSBieSBmaWx0ZXIgZWZmaWNpZW50bHknLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IHN0YXJ0VGltZSA9IERhdGUubm93KCk7XHJcbiAgICAgIGNvbnN0IHN1cHBsaWVycyA9IGF3YWl0IHJlcG9zaXRvcnkubGlzdFN1cHBsaWVycyh7XHJcbiAgICAgICAgc3RhdHVzOiAnYWN0aXZlJyxcclxuICAgICAgICBsaW1pdDogNTAsXHJcbiAgICAgIH0pO1xyXG4gICAgICBjb25zdCBkdXJhdGlvbiA9IERhdGUubm93KCkgLSBzdGFydFRpbWU7XHJcblxyXG4gICAgICBleHBlY3QoZHVyYXRpb24pLnRvQmVMZXNzVGhhbig1MDApOyAvLyBTaG91bGQgY29tcGxldGUgaW4gdW5kZXIgNTAwbXNcclxuICAgIH0pO1xy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