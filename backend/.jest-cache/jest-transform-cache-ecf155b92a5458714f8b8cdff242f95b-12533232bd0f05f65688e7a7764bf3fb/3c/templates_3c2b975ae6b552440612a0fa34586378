5c407359d8f1f157384b04d08c428c47
// إرسال رسالة WhatsApp عبر Twilio (مبسط)
async function sendWhatsApp(to, message) {
  try {
    const accountSid = process.env.TWILIO_ACCOUNT_SID;
    const authToken = process.env.TWILIO_AUTH_TOKEN;
    const from = process.env.TWILIO_WHATSAPP_FROM || 'whatsapp:+14155238886';
    if (!accountSid || !authToken) return;
    const twilio = require('twilio')(accountSid, authToken);
    await twilio.messages.create({
      body: message,
      from,
      to: to.startsWith('whatsapp:') ? to : 'whatsapp:' + to.replace(/^\+/, '')
    });
  } catch (err) {
    /* ignore WhatsApp errors */
  }
}
// دعم رفع الملفات
const multer = require('multer');
const path = require('path');
const fs = require('fs');
const uploadDir = path.join(__dirname, '../uploads');
if (!fs.existsSync(uploadDir)) fs.mkdirSync(uploadDir);
const storage = multer.diskStorage({
  destination: (req, file, cb) => cb(null, uploadDir),
  filename: (req, file, cb) => {
    const unique = Date.now() + '-' + Math.round(Math.random() * 1e9);
    cb(null, unique + '-' + file.originalname.replace(/\s+/g, '_'));
  }
});
const upload = multer({
  storage
});

// رفع ملف مرفق (جميع الأنواع)
router.post('/upload', auth, upload.single('file'), (req, res) => {
  if (!req.file) return res.status(400).json({
    error: 'لم يتم رفع أي ملف'
  });
  const file = req.file;
  const url = `/api/templates/attachments/${file.filename}`;
  res.json({
    name: file.originalname,
    url,
    type: file.mimetype,
    size: file.size,
    uploadedAt: new Date()
  });
});
// تقديم الملفات المرفقة مباشرة
router.use('/attachments', express.static(uploadDir));
// مسارات إدارة القوالب الذكية
const express = require('express');
const router = express.Router();
const Template = require('../models/Template');
const {
  auth
} = require('../middleware/auth');

// تحقق من صلاحية المسؤول
function requireAdmin(req, res, next) {
  if (!req.user || !req.user.isAdmin) return res.status(403).json({
    error: 'صلاحية غير كافية'
  });
  next();
}
// الموافقة على قالب
router.post('/:id/approve', auth, requireAdmin, async (req, res) => {
  try {
    const tpl = await Template.findById(req.params.id).populate('createdBy', 'email name');
    if (!tpl) return res.status(404).json({
      error: 'القالب غير موجود'
    });
    tpl.status = 'approved';
    tpl.approvedBy = req.user._id;
    tpl.approvedAt = new Date();
    tpl.rejectedBy = null;
    tpl.rejectedAt = null;
    tpl.rejectionReason = null;
    tpl.history = tpl.history || [];
    tpl.history.push({
      action: 'approved',
      by: req.user._id,
      at: new Date(),
      details: ''
    });
    await tpl.save();
    // إشعار لصاحب القالب (تحقق من إعدادات القنوات)
    const channels = tpl.createdBy.notificationChannels || {
      inApp: true,
      email: true,
      sms: true,
      whatsapp: true
    };
    // إشعار داخلي
    if (channels.inApp !== false) {
      try {
        const Notification = require('../models/Notification');
        await Notification.createNotification({
          userId: tpl.createdBy._id,
          title: 'تم اعتماد القالب',
          message: `تم اعتماد القالب: ${tpl.title}`,
          type: 'success',
          link: `/templates/${tpl._id}`,
          metadata: {
            templateId: tpl._id,
            status: 'approved'
          },
          senderId: req.user._id
        });
      } catch (err) {
        /* ignore notification errors */
      }
    }
    // بريد إلكتروني
    if (channels.email !== false) {
      try {
        if (tpl.createdBy.email) {
          const {
            sendStatusChangeEmail
          } = require('../../../backend/utils/emailService');
          await sendStatusChangeEmail({
            title: tpl.title,
            referenceNumber: tpl._id,
            subject: tpl.description || tpl.title
          }, tpl.createdBy.email, 'draft', 'approved');
        }
      } catch (err) {
        /* ignore email errors */
      }
    }
    // SMS
    if (channels.sms !== false) {
      try {
        if (tpl.createdBy.phone) {
          const {
            sendSMS
          } = require('../../../backend/services/smsService');
          await sendSMS(tpl.createdBy.phone, `تم اعتماد القالب: ${tpl.title}`);
        }
      } catch (err) {
        /* ignore sms errors */
      }
    }
    // WhatsApp
    if (channels.whatsapp !== false) {
      try {
        if (tpl.createdBy.phone) {
          await sendWhatsApp(tpl.createdBy.phone, `تم اعتماد القالب: ${tpl.title}`);
        }
      } catch (err) {
        /* ignore wa errors */
      }
    }
    res.json(tpl);
  } catch (e) {
    res.status(500).json({
      error: e.message
    });
  }
});

// رفض قالب
router.post('/:id/reject', auth, requireAdmin, async (req, res) => {
  try {
    const {
      reason
    } = req.body;
    const tpl = await Template.findById(req.params.id).populate('createdBy', 'email name');
    if (!tpl) return res.status(404).json({
      error: 'القالب غير موجود'
    });
    tpl.status = 'rejected';
    tpl.rejectedBy = req.user._id;
    tpl.rejectedAt = new Date();
    tpl.rejectionReason = reason || '';
    tpl.history = tpl.history || [];
    tpl.history.push({
      action: 'rejected',
      by: req.user._id,
      at: new Date(),
      details: reason
    });
    await tpl.save();
    // إشعار لصاحب القالب (تحقق من إعدادات القنوات)
    const channels = tpl.createdBy.notificationChannels || {
      inApp: true,
      email: true,
      sms: true,
      whatsapp: true
    };
    // إشعار داخلي
    if (channels.inApp !== false) {
      try {
        const Notification = require('../models/Notification');
        await Notification.createNotification({
          userId: tpl.createdBy._id,
          title: 'تم رفض القالب',
          message: `تم رفض القالب: ${tpl.title}${reason ? ' - السبب: ' + reason : ''}`,
          type: 'error',
          link: `/templates/${tpl._id}`,
          metadata: {
            templateId: tpl._id,
            status: 'rejected',
            reason
          },
          senderId: req.user._id
        });
      } catch (err) {
        /* ignore notification errors */
      }
    }
    // بريد إلكتروني
    if (channels.email !== false) {
      try {
        if (tpl.createdBy.email) {
          const {
            sendStatusChangeEmail
          } = require('../../../backend/utils/emailService');
          await sendStatusChangeEmail({
            title: tpl.title,
            referenceNumber: tpl._id,
            subject: tpl.description || tpl.title
          }, tpl.createdBy.email, 'draft', 'rejected');
        }
      } catch (err) {
        /* ignore email errors */
      }
    }
    // SMS
    if (channels.sms !== false) {
      try {
        if (tpl.createdBy.phone) {
          const {
            sendSMS
          } = require('../../../backend/services/smsService');
          await sendSMS(tpl.createdBy.phone, `تم رفض القالب: ${tpl.title}${reason ? ' - السبب: ' + reason : ''}`);
        }
      } catch (err) {
        /* ignore sms errors */
      }
    }
    // WhatsApp
    if (channels.whatsapp !== false) {
      try {
        if (tpl.createdBy.phone) {
          await sendWhatsApp(tpl.createdBy.phone, `تم رفض القالب: ${tpl.title}${reason ? ' - السبب: ' + reason : ''}`);
        }
      } catch (err) {
        /* ignore wa errors */
      }
    }
    res.json(tpl);
  } catch (e) {
    res.status(500).json({
      error: e.message
    });
  }
});

// إنشاء قالب جديد
router.post('/', auth, async (req, res) => {
  try {
    const tpl = await Template.create({
      ...req.body,
      createdBy: req.user._id,
      orgId: req.user.organizationId
    });
    res.status(201).json(tpl);
  } catch (e) {
    res.status(400).json({
      error: e.message
    });
  }
});

// جلب جميع القوالب (حسب الصلاحيات)
router.get('/', auth, async (req, res) => {
  try {
    const query = {
      $or: [{
        shared: true
      }, {
        createdBy: req.user._id
      }, {
        orgId: req.user.organizationId
      }]
    };
    if (req.query.category) query.category = req.query.category;
    if (req.query.language) query.language = req.query.language;
    if (req.query.keywords) query.keywords = {
      $in: req.query.keywords.split(',')
    };
    const tpls = await Template.find(query);
    res.json(tpls);
  } catch (e) {
    res.status(500).json({
      error: e.message
    });
  }
});

// تحديث قالب
router.put('/:id', auth, async (req, res) => {
  try {
    const tpl = await Template.findOneAndUpdate({
      _id: req.params.id,
      createdBy: req.user._id
    }, {
      ...req.body,
      updatedAt: Date.now()
    }, {
      new: true
    });
    if (!tpl) return res.status(404).json({
      error: 'Template not found or not allowed'
    });
    res.json(tpl);
  } catch (e) {
    res.status(400).json({
      error: e.message
    });
  }
});

// حذف قالب
router.delete('/:id', auth, async (req, res) => {
  try {
    const tpl = await Template.findOneAndDelete({
      _id: req.params.id,
      createdBy: req.user._id
    });
    if (!tpl) return res.status(404).json({
      error: 'Template not found or not allowed'
    });
    res.json({
      success: true
    });
  } catch (e) {
    res.status(400).json({
      error: e.message
    });
  }
});

// زيادة عداد الاستخدام
router.post('/:id/use', auth, async (req, res) => {
  try {
    await Template.findByIdAndUpdate(req.params.id, {
      $inc: {
        usageCount: 1
      }
    });
    res.json({
      success: true
    });
  } catch (e) {
    res.status(400).json({
      error: e.message
    });
  }
});
module.exports = router;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJzZW5kV2hhdHNBcHAiLCJ0byIsIm1lc3NhZ2UiLCJhY2NvdW50U2lkIiwicHJvY2VzcyIsImVudiIsIlRXSUxJT19BQ0NPVU5UX1NJRCIsImF1dGhUb2tlbiIsIlRXSUxJT19BVVRIX1RPS0VOIiwiZnJvbSIsIlRXSUxJT19XSEFUU0FQUF9GUk9NIiwidHdpbGlvIiwicmVxdWlyZSIsIm1lc3NhZ2VzIiwiY3JlYXRlIiwiYm9keSIsInN0YXJ0c1dpdGgiLCJyZXBsYWNlIiwiZXJyIiwibXVsdGVyIiwicGF0aCIsImZzIiwidXBsb2FkRGlyIiwiam9pbiIsIl9fZGlybmFtZSIsImV4aXN0c1N5bmMiLCJta2RpclN5bmMiLCJzdG9yYWdlIiwiZGlza1N0b3JhZ2UiLCJkZXN0aW5hdGlvbiIsInJlcSIsImZpbGUiLCJjYiIsImZpbGVuYW1lIiwidW5pcXVlIiwiRGF0ZSIsIm5vdyIsIk1hdGgiLCJyb3VuZCIsInJhbmRvbSIsIm9yaWdpbmFsbmFtZSIsInVwbG9hZCIsInJvdXRlciIsInBvc3QiLCJhdXRoIiwic2luZ2xlIiwicmVzIiwic3RhdHVzIiwianNvbiIsImVycm9yIiwidXJsIiwibmFtZSIsInR5cGUiLCJtaW1ldHlwZSIsInNpemUiLCJ1cGxvYWRlZEF0IiwidXNlIiwiZXhwcmVzcyIsInN0YXRpYyIsIlJvdXRlciIsIlRlbXBsYXRlIiwicmVxdWlyZUFkbWluIiwibmV4dCIsInVzZXIiLCJpc0FkbWluIiwidHBsIiwiZmluZEJ5SWQiLCJwYXJhbXMiLCJpZCIsInBvcHVsYXRlIiwiYXBwcm92ZWRCeSIsIl9pZCIsImFwcHJvdmVkQXQiLCJyZWplY3RlZEJ5IiwicmVqZWN0ZWRBdCIsInJlamVjdGlvblJlYXNvbiIsImhpc3RvcnkiLCJwdXNoIiwiYWN0aW9uIiwiYnkiLCJhdCIsImRldGFpbHMiLCJzYXZlIiwiY2hhbm5lbHMiLCJjcmVhdGVkQnkiLCJub3RpZmljYXRpb25DaGFubmVscyIsImluQXBwIiwiZW1haWwiLCJzbXMiLCJ3aGF0c2FwcCIsIk5vdGlmaWNhdGlvbiIsImNyZWF0ZU5vdGlmaWNhdGlvbiIsInVzZXJJZCIsInRpdGxlIiwibGluayIsIm1ldGFkYXRhIiwidGVtcGxhdGVJZCIsInNlbmRlcklkIiwic2VuZFN0YXR1c0NoYW5nZUVtYWlsIiwicmVmZXJlbmNlTnVtYmVyIiwic3ViamVjdCIsImRlc2NyaXB0aW9uIiwicGhvbmUiLCJzZW5kU01TIiwiZSIsInJlYXNvbiIsIm9yZ0lkIiwib3JnYW5pemF0aW9uSWQiLCJnZXQiLCJxdWVyeSIsIiRvciIsInNoYXJlZCIsImNhdGVnb3J5IiwibGFuZ3VhZ2UiLCJrZXl3b3JkcyIsIiRpbiIsInNwbGl0IiwidHBscyIsImZpbmQiLCJwdXQiLCJmaW5kT25lQW5kVXBkYXRlIiwidXBkYXRlZEF0IiwibmV3IiwiZGVsZXRlIiwiZmluZE9uZUFuZERlbGV0ZSIsInN1Y2Nlc3MiLCJmaW5kQnlJZEFuZFVwZGF0ZSIsIiRpbmMiLCJ1c2FnZUNvdW50IiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VzIjpbInRlbXBsYXRlcy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyDYpdix2LPYp9mEINix2LPYp9mE2KkgV2hhdHNBcHAg2LnYqNixIFR3aWxpbyAo2YXYqNiz2LcpXHJcbmFzeW5jIGZ1bmN0aW9uIHNlbmRXaGF0c0FwcCh0bywgbWVzc2FnZSkge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCBhY2NvdW50U2lkID0gcHJvY2Vzcy5lbnYuVFdJTElPX0FDQ09VTlRfU0lEO1xyXG4gICAgY29uc3QgYXV0aFRva2VuID0gcHJvY2Vzcy5lbnYuVFdJTElPX0FVVEhfVE9LRU47XHJcbiAgICBjb25zdCBmcm9tID0gcHJvY2Vzcy5lbnYuVFdJTElPX1dIQVRTQVBQX0ZST00gfHwgJ3doYXRzYXBwOisxNDE1NTIzODg4Nic7XHJcbiAgICBpZiAoIWFjY291bnRTaWQgfHwgIWF1dGhUb2tlbikgcmV0dXJuO1xyXG4gICAgY29uc3QgdHdpbGlvID0gcmVxdWlyZSgndHdpbGlvJykoYWNjb3VudFNpZCwgYXV0aFRva2VuKTtcclxuICAgIGF3YWl0IHR3aWxpby5tZXNzYWdlcy5jcmVhdGUoe1xyXG4gICAgICBib2R5OiBtZXNzYWdlLFxyXG4gICAgICBmcm9tLFxyXG4gICAgICB0bzogdG8uc3RhcnRzV2l0aCgnd2hhdHNhcHA6JykgPyB0byA6ICd3aGF0c2FwcDonICsgdG8ucmVwbGFjZSgvXlxcKy8sICcnKSxcclxuICAgIH0pO1xyXG4gIH0gY2F0Y2ggKGVycikge1xyXG4gICAgLyogaWdub3JlIFdoYXRzQXBwIGVycm9ycyAqL1xyXG4gIH1cclxufVxyXG4vLyDYr9i52YUg2LHZgdi5INin2YTZhdmE2YHYp9iqXHJcbmNvbnN0IG11bHRlciA9IHJlcXVpcmUoJ211bHRlcicpO1xyXG5jb25zdCBwYXRoID0gcmVxdWlyZSgncGF0aCcpO1xyXG5jb25zdCBmcyA9IHJlcXVpcmUoJ2ZzJyk7XHJcbmNvbnN0IHVwbG9hZERpciA9IHBhdGguam9pbihfX2Rpcm5hbWUsICcuLi91cGxvYWRzJyk7XHJcbmlmICghZnMuZXhpc3RzU3luYyh1cGxvYWREaXIpKSBmcy5ta2RpclN5bmModXBsb2FkRGlyKTtcclxuY29uc3Qgc3RvcmFnZSA9IG11bHRlci5kaXNrU3RvcmFnZSh7XHJcbiAgZGVzdGluYXRpb246IChyZXEsIGZpbGUsIGNiKSA9PiBjYihudWxsLCB1cGxvYWREaXIpLFxyXG4gIGZpbGVuYW1lOiAocmVxLCBmaWxlLCBjYikgPT4ge1xyXG4gICAgY29uc3QgdW5pcXVlID0gRGF0ZS5ub3coKSArICctJyArIE1hdGgucm91bmQoTWF0aC5yYW5kb20oKSAqIDFlOSk7XHJcbiAgICBjYihudWxsLCB1bmlxdWUgKyAnLScgKyBmaWxlLm9yaWdpbmFsbmFtZS5yZXBsYWNlKC9cXHMrL2csICdfJykpO1xyXG4gIH0sXHJcbn0pO1xyXG5jb25zdCB1cGxvYWQgPSBtdWx0ZXIoeyBzdG9yYWdlIH0pO1xyXG5cclxuLy8g2LHZgdi5INmF2YTZgSDZhdix2YHZgiAo2KzZhdmK2Lkg2KfZhNij2YbZiNin2LkpXHJcbnJvdXRlci5wb3N0KCcvdXBsb2FkJywgYXV0aCwgdXBsb2FkLnNpbmdsZSgnZmlsZScpLCAocmVxLCByZXMpID0+IHtcclxuICBpZiAoIXJlcS5maWxlKSByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oeyBlcnJvcjogJ9mE2YUg2YrYqtmFINix2YHYuSDYo9mKINmF2YTZgScgfSk7XHJcbiAgY29uc3QgZmlsZSA9IHJlcS5maWxlO1xyXG4gIGNvbnN0IHVybCA9IGAvYXBpL3RlbXBsYXRlcy9hdHRhY2htZW50cy8ke2ZpbGUuZmlsZW5hbWV9YDtcclxuICByZXMuanNvbih7XHJcbiAgICBuYW1lOiBmaWxlLm9yaWdpbmFsbmFtZSxcclxuICAgIHVybCxcclxuICAgIHR5cGU6IGZpbGUubWltZXR5cGUsXHJcbiAgICBzaXplOiBmaWxlLnNpemUsXHJcbiAgICB1cGxvYWRlZEF0OiBuZXcgRGF0ZSgpLFxyXG4gIH0pO1xyXG59KTtcclxuLy8g2KrZgtiv2YrZhSDYp9mE2YXZhNmB2KfYqiDYp9mE2YXYsdmB2YLYqSDZhdio2KfYtNix2Klcclxucm91dGVyLnVzZSgnL2F0dGFjaG1lbnRzJywgZXhwcmVzcy5zdGF0aWModXBsb2FkRGlyKSk7XHJcbi8vINmF2LPYp9ix2KfYqiDYpdiv2KfYsdipINin2YTZgtmI2KfZhNioINin2YTYsNmD2YrYqVxyXG5jb25zdCBleHByZXNzID0gcmVxdWlyZSgnZXhwcmVzcycpO1xyXG5jb25zdCByb3V0ZXIgPSBleHByZXNzLlJvdXRlcigpO1xyXG5jb25zdCBUZW1wbGF0ZSA9IHJlcXVpcmUoJy4uL21vZGVscy9UZW1wbGF0ZScpO1xyXG5jb25zdCB7IGF1dGggfSA9IHJlcXVpcmUoJy4uL21pZGRsZXdhcmUvYXV0aCcpO1xyXG5cclxuLy8g2KrYrdmC2YIg2YXZhiDYtdmE2KfYrdmK2Kkg2KfZhNmF2LPYpNmI2YRcclxuZnVuY3Rpb24gcmVxdWlyZUFkbWluKHJlcSwgcmVzLCBuZXh0KSB7XHJcbiAgaWYgKCFyZXEudXNlciB8fCAhcmVxLnVzZXIuaXNBZG1pbikgcmV0dXJuIHJlcy5zdGF0dXMoNDAzKS5qc29uKHsgZXJyb3I6ICfYtdmE2KfYrdmK2Kkg2LrZitixINmD2KfZgdmK2KknIH0pO1xyXG4gIG5leHQoKTtcclxufVxyXG4vLyDYp9mE2YXZiNin2YHZgtipINi52YTZiSDZgtin2YTYqFxyXG5yb3V0ZXIucG9zdCgnLzppZC9hcHByb3ZlJywgYXV0aCwgcmVxdWlyZUFkbWluLCBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgdHBsID0gYXdhaXQgVGVtcGxhdGUuZmluZEJ5SWQocmVxLnBhcmFtcy5pZCkucG9wdWxhdGUoJ2NyZWF0ZWRCeScsICdlbWFpbCBuYW1lJyk7XHJcbiAgICBpZiAoIXRwbCkgcmV0dXJuIHJlcy5zdGF0dXMoNDA0KS5qc29uKHsgZXJyb3I6ICfYp9mE2YLYp9mE2Kgg2LrZitixINmF2YjYrNmI2K8nIH0pO1xyXG4gICAgdHBsLnN0YXR1cyA9ICdhcHByb3ZlZCc7XHJcbiAgICB0cGwuYXBwcm92ZWRCeSA9IHJlcS51c2VyLl9pZDtcclxuICAgIHRwbC5hcHByb3ZlZEF0ID0gbmV3IERhdGUoKTtcclxuICAgIHRwbC5yZWplY3RlZEJ5ID0gbnVsbDtcclxuICAgIHRwbC5yZWplY3RlZEF0ID0gbnVsbDtcclxuICAgIHRwbC5yZWplY3Rpb25SZWFzb24gPSBudWxsO1xyXG4gICAgdHBsLmhpc3RvcnkgPSB0cGwuaGlzdG9yeSB8fCBbXTtcclxuICAgIHRwbC5oaXN0b3J5LnB1c2goeyBhY3Rpb246ICdhcHByb3ZlZCcsIGJ5OiByZXEudXNlci5faWQsIGF0OiBuZXcgRGF0ZSgpLCBkZXRhaWxzOiAnJyB9KTtcclxuICAgIGF3YWl0IHRwbC5zYXZlKCk7XHJcbiAgICAvLyDYpdi02LnYp9ixINmE2LXYp9it2Kgg2KfZhNmC2KfZhNioICjYqtit2YLZgiDZhdmGINil2LnYr9in2K/Yp9iqINin2YTZgtmG2YjYp9iqKVxyXG4gICAgY29uc3QgY2hhbm5lbHMgPSB0cGwuY3JlYXRlZEJ5Lm5vdGlmaWNhdGlvbkNoYW5uZWxzIHx8IHtcclxuICAgICAgaW5BcHA6IHRydWUsXHJcbiAgICAgIGVtYWlsOiB0cnVlLFxyXG4gICAgICBzbXM6IHRydWUsXHJcbiAgICAgIHdoYXRzYXBwOiB0cnVlLFxyXG4gICAgfTtcclxuICAgIC8vINil2LTYudin2LEg2K/Yp9iu2YTZilxyXG4gICAgaWYgKGNoYW5uZWxzLmluQXBwICE9PSBmYWxzZSkge1xyXG4gICAgICB0cnkge1xyXG4gICAgICAgIGNvbnN0IE5vdGlmaWNhdGlvbiA9IHJlcXVpcmUoJy4uL21vZGVscy9Ob3RpZmljYXRpb24nKTtcclxuICAgICAgICBhd2FpdCBOb3RpZmljYXRpb24uY3JlYXRlTm90aWZpY2F0aW9uKHtcclxuICAgICAgICAgIHVzZXJJZDogdHBsLmNyZWF0ZWRCeS5faWQsXHJcbiAgICAgICAgICB0aXRsZTogJ9iq2YUg2KfYudiq2YXYp9ivINin2YTZgtin2YTYqCcsXHJcbiAgICAgICAgICBtZXNzYWdlOiBg2KrZhSDYp9i52KrZhdin2K8g2KfZhNmC2KfZhNioOiAke3RwbC50aXRsZX1gLFxyXG4gICAgICAgICAgdHlwZTogJ3N1Y2Nlc3MnLFxyXG4gICAgICAgICAgbGluazogYC90ZW1wbGF0ZXMvJHt0cGwuX2lkfWAsXHJcbiAgICAgICAgICBtZXRhZGF0YTogeyB0ZW1wbGF0ZUlkOiB0cGwuX2lkLCBzdGF0dXM6ICdhcHByb3ZlZCcgfSxcclxuICAgICAgICAgIHNlbmRlcklkOiByZXEudXNlci5faWQsXHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH0gY2F0Y2ggKGVycikge1xyXG4gICAgICAgIC8qIGlnbm9yZSBub3RpZmljYXRpb24gZXJyb3JzICovXHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIC8vINio2LHZitivINil2YTZg9iq2LHZiNmG2YpcclxuICAgIGlmIChjaGFubmVscy5lbWFpbCAhPT0gZmFsc2UpIHtcclxuICAgICAgdHJ5IHtcclxuICAgICAgICBpZiAodHBsLmNyZWF0ZWRCeS5lbWFpbCkge1xyXG4gICAgICAgICAgY29uc3QgeyBzZW5kU3RhdHVzQ2hhbmdlRW1haWwgfSA9IHJlcXVpcmUoJy4uLy4uLy4uL2JhY2tlbmQvdXRpbHMvZW1haWxTZXJ2aWNlJyk7XHJcbiAgICAgICAgICBhd2FpdCBzZW5kU3RhdHVzQ2hhbmdlRW1haWwoXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICB0aXRsZTogdHBsLnRpdGxlLFxyXG4gICAgICAgICAgICAgIHJlZmVyZW5jZU51bWJlcjogdHBsLl9pZCxcclxuICAgICAgICAgICAgICBzdWJqZWN0OiB0cGwuZGVzY3JpcHRpb24gfHwgdHBsLnRpdGxlLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB0cGwuY3JlYXRlZEJ5LmVtYWlsLFxyXG4gICAgICAgICAgICAnZHJhZnQnLFxyXG4gICAgICAgICAgICAnYXBwcm92ZWQnXHJcbiAgICAgICAgICApO1xyXG4gICAgICAgIH1cclxuICAgICAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICAgICAgLyogaWdub3JlIGVtYWlsIGVycm9ycyAqL1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICAvLyBTTVNcclxuICAgIGlmIChjaGFubmVscy5zbXMgIT09IGZhbHNlKSB7XHJcbiAgICAgIHRyeSB7XHJcbiAgICAgICAgaWYgKHRwbC5jcmVhdGVkQnkucGhvbmUpIHtcclxuICAgICAgICAgIGNvbnN0IHsgc2VuZFNNUyB9ID0gcmVxdWlyZSgnLi4vLi4vLi4vYmFja2VuZC9zZXJ2aWNlcy9zbXNTZXJ2aWNlJyk7XHJcbiAgICAgICAgICBhd2FpdCBzZW5kU01TKHRwbC5jcmVhdGVkQnkucGhvbmUsIGDYqtmFINin2LnYqtmF2KfYryDYp9mE2YLYp9mE2Kg6ICR7dHBsLnRpdGxlfWApO1xyXG4gICAgICAgIH1cclxuICAgICAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICAgICAgLyogaWdub3JlIHNtcyBlcnJvcnMgKi9cclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgLy8gV2hhdHNBcHBcclxuICAgIGlmIChjaGFubmVscy53aGF0c2FwcCAhPT0gZmFsc2UpIHtcclxuICAgICAgdHJ5IHtcclxuICAgICAgICBpZiAodHBsLmNyZWF0ZWRCeS5waG9uZSkge1xyXG4gICAgICAgICAgYXdhaXQgc2VuZFdoYXRzQXBwKHRwbC5jcmVhdGVkQnkucGhvbmUsIGDYqtmFINin2LnYqtmF2KfYryDYp9mE2YLYp9mE2Kg6ICR7dHBsLnRpdGxlfWApO1xyXG4gICAgICAgIH1cclxuICAgICAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICAgICAgLyogaWdub3JlIHdhIGVycm9ycyAqL1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICByZXMuanNvbih0cGwpO1xyXG4gIH0gY2F0Y2ggKGUpIHtcclxuICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgZXJyb3I6IGUubWVzc2FnZSB9KTtcclxuICB9XHJcbn0pO1xyXG5cclxuLy8g2LHZgdi2INmC2KfZhNioXHJcbnJvdXRlci5wb3N0KCcvOmlkL3JlamVjdCcsIGF1dGgsIHJlcXVpcmVBZG1pbiwgYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IHsgcmVhc29uIH0gPSByZXEuYm9keTtcclxuICAgIGNvbnN0IHRwbCA9IGF3YWl0IFRlbXBsYXRlLmZpbmRCeUlkKHJlcS5wYXJhbXMuaWQpLnBvcHVsYXRlKCdjcmVhdGVkQnknLCAnZW1haWwgbmFtZScpO1xyXG4gICAgaWYgKCF0cGwpIHJldHVybiByZXMuc3RhdHVzKDQwNCkuanNvbih7IGVycm9yOiAn2KfZhNmC2KfZhNioINi62YrYsSDZhdmI2KzZiNivJyB9KTtcclxuICAgIHRwbC5zdGF0dXMgPSAncmVqZWN0ZWQnO1xyXG4gICAgdHBsLnJlamVjdGVkQnkgPSByZXEudXNlci5faWQ7XHJcbiAgICB0cGwucmVqZWN0ZWRBdCA9IG5ldyBEYXRlKCk7XHJcbiAgICB0cGwucmVqZWN0aW9uUmVhc29uID0gcmVhc29uIHx8ICcnO1xyXG4gICAgdHBsLmhpc3RvcnkgPSB0cGwuaGlzdG9yeSB8fCBbXTtcclxuICAgIHRwbC5oaXN0b3J5LnB1c2goeyBhY3Rpb246ICdyZWplY3RlZCcsIGJ5OiByZXEudXNlci5faWQsIGF0OiBuZXcgRGF0ZSgpLCBkZXRhaWxzOiByZWFzb24gfSk7XHJcbiAgICBhd2FpdCB0cGwuc2F2ZSgpO1xyXG4gICAgLy8g2KXYtNi52KfYsSDZhNi12KfYrdioINin2YTZgtin2YTYqCAo2KrYrdmC2YIg2YXZhiDYpdi52K/Yp9iv2KfYqiDYp9mE2YLZhtmI2KfYqilcclxuICAgIGNvbnN0IGNoYW5uZWxzID0gdHBsLmNyZWF0ZWRCeS5ub3RpZmljYXRpb25DaGFubmVscyB8fCB7XHJcbiAgICAgIGluQXBwOiB0cnVlLFxyXG4gICAgICBlbWFpbDogdHJ1ZSxcclxuICAgICAgc21zOiB0cnVlLFxyXG4gICAgICB3aGF0c2FwcDogdHJ1ZSxcclxuICAgIH07XHJcbiAgICAvLyDYpdi02LnYp9ixINiv2KfYrtmE2YpcclxuICAgIGlmIChjaGFubmVscy5pbkFwcCAhPT0gZmFsc2UpIHtcclxuICAgICAgdHJ5IHtcclxuICAgICAgICBjb25zdCBOb3RpZmljYXRpb24gPSByZXF1aXJlKCcuLi9tb2RlbHMvTm90aWZpY2F0aW9uJyk7XHJcbiAgICAgICAgYXdhaXQgTm90aWZpY2F0aW9uLmNyZWF0ZU5vdGlmaWNhdGlvbih7XHJcbiAgICAgICAgICB1c2VySWQ6IHRwbC5jcmVhdGVkQnkuX2lkLFxyXG4gICAgICAgICAgdGl0bGU6ICfYqtmFINix2YHYtiDYp9mE2YLYp9mE2KgnLFxyXG4gICAgICAgICAgbWVzc2FnZTogYNiq2YUg2LHZgdi2INin2YTZgtin2YTYqDogJHt0cGwudGl0bGV9JHtyZWFzb24gPyAnIC0g2KfZhNiz2KjYqDogJyArIHJlYXNvbiA6ICcnfWAsXHJcbiAgICAgICAgICB0eXBlOiAnZXJyb3InLFxyXG4gICAgICAgICAgbGluazogYC90ZW1wbGF0ZXMvJHt0cGwuX2lkfWAsXHJcbiAgICAgICAgICBtZXRhZGF0YTogeyB0ZW1wbGF0ZUlkOiB0cGwuX2lkLCBzdGF0dXM6ICdyZWplY3RlZCcsIHJlYXNvbiB9LFxyXG4gICAgICAgICAgc2VuZGVySWQ6IHJlcS51c2VyLl9pZCxcclxuICAgICAgICB9KTtcclxuICAgICAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICAgICAgLyogaWdub3JlIG5vdGlmaWNhdGlvbiBlcnJvcnMgKi9cclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgLy8g2KjYsdmK2K8g2KXZhNmD2KrYsdmI2YbZilxyXG4gICAgaWYgKGNoYW5uZWxzLmVtYWlsICE9PSBmYWxzZSkge1xyXG4gICAgICB0cnkge1xyXG4gICAgICAgIGlmICh0cGwuY3JlYXRlZEJ5LmVtYWlsKSB7XHJcbiAgICAgICAgICBjb25zdCB7IHNlbmRTdGF0dXNDaGFuZ2VFbWFpbCB9ID0gcmVxdWlyZSgnLi4vLi4vLi4vYmFja2VuZC91dGlscy9lbWFpbFNlcnZpY2UnKTtcclxuICAgICAgICAgIGF3YWl0IHNlbmRTdGF0dXNDaGFuZ2VFbWFpbChcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgIHRpdGxlOiB0cGwudGl0bGUsXHJcbiAgICAgICAgICAgICAgcmVmZXJlbmNlTnVtYmVyOiB0cGwuX2lkLFxyXG4gICAgICAgICAgICAgIHN1YmplY3Q6IHRwbC5kZXNjcmlwdGlvbiB8fCB0cGwudGl0bGUsXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHRwbC5jcmVhdGVkQnkuZW1haWwsXHJcbiAgICAgICAgICAgICdkcmFmdCcsXHJcbiAgICAgICAgICAgICdyZWplY3RlZCdcclxuICAgICAgICAgICk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9IGNhdGNoIChlcnIpIHtcclxuICAgICAgICAvKiBpZ25vcmUgZW1haWwgZXJyb3JzICovXHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIC8vIFNNU1xyXG4gICAgaWYgKGNoYW5uZWxzLnNtcyAhPT0gZmFsc2UpIHtcclxuICAgICAgdHJ5IHtcclxuICAgICAgICBpZiAodHBsLmNyZWF0ZWRCeS5waG9uZSkge1xyXG4gICAgICAgICAgY29uc3QgeyBzZW5kU01TIH0gPSByZXF1aXJlKCcuLi8uLi8uLi9iYWNrZW5kL3NlcnZpY2VzL3Ntc1NlcnZpY2UnKTtcclxuICAgICAgICAgIGF3YWl0IHNlbmRTTVMoXHJcbiAgICAgICAgICAgIHRwbC5jcmVhdGVkQnkucGhvbmUsXHJcbiAgICAgICAgICAgIGDYqtmFINix2YHYtiDYp9mE2YLYp9mE2Kg6ICR7dHBsLnRpdGxlfSR7cmVhc29uID8gJyAtINin2YTYs9io2Kg6ICcgKyByZWFzb24gOiAnJ31gXHJcbiAgICAgICAgICApO1xyXG4gICAgICAgIH1cclxuICAgICAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICAgICAgLyogaWdub3JlIHNtcyBlcnJvcnMgKi9cclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgLy8gV2hhdHNBcHBcclxuICAgIGlmIChjaGFubmVscy53aGF0c2FwcCAhPT0gZmFsc2UpIHtcclxuICAgICAgdHJ5IHtcclxuICAgICAgICBpZiAodHBsLmNyZWF0ZWRCeS5waG9uZSkge1xyXG4gICAgICAgICAgYXdhaXQgc2VuZFdoYXRzQXBwKFxyXG4gICAgICAgICAgICB0cGwuY3JlYXRlZEJ5LnBob25lLFxyXG4gICAgICAgICAgICBg2KrZhSDYsdmB2LYg2KfZhNmC2KfZhNioOiAke3RwbC50aXRsZX0ke3JlYXNvbiA/ICcgLSDYp9mE2LPYqNioOiAnICsgcmVhc29uIDogJyd9YFxyXG4gICAgICAgICAgKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0gY2F0Y2ggKGVycikge1xyXG4gICAgICAgIC8qIGlnbm9yZSB3YSBlcnJvcnMgKi9cclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmVzLmpzb24odHBsKTtcclxuICB9IGNhdGNoIChlKSB7XHJcbiAgICByZXMuc3RhdHVzKDUwMCkuanNvbih7IGVycm9yOiBlLm1lc3NhZ2UgfSk7XHJcbiAgfVxyXG59KTtcclxuXHJcbi8vINil2YbYtNin2KEg2YLYp9mE2Kgg2KzYr9mK2K9cclxucm91dGVyLnBvc3QoJy8nLCBhdXRoLCBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgdHBsID0gYXdhaXQgVGVtcGxhdGUuY3JlYXRlKHtcclxuICAgICAgLi4ucmVxLmJvZHksXHJcbiAgICAgIGNyZWF0ZWRCeTogcmVxLnVzZXIuX2lkLFxyXG4gICAgICBvcmdJZDogcmVxLnVzZXIub3JnYW5pemF0aW9uSWQsXHJcbiAgICB9KTtcclxuICAgIHJlcy5zdGF0dXMoMjAxKS5qc29uKHRwbCk7XHJcbiAgfSBjYXRjaCAoZSkge1xyXG4gICAgcmVzLnN0YXR1cyg0MDApLmpzb24oeyBlcnJvcjogZS5tZXNzYWdlIH0pO1xyXG4gIH1cclxufSk7XHJcblxyXG4vLyDYrNmE2Kgg2KzZhdmK2Lkg2KfZhNmC2YjYp9mE2KggKNit2LPYqCDYp9mE2LXZhNin2K3Zitin2KopXHJcbnJvdXRlci5nZXQoJy8nLCBhdXRoLCBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgcXVlcnkgPSB7XHJcbiAgICAgICRvcjogW3sgc2hhcmVkOiB0cnVlIH0sIHsgY3JlYXRlZEJ5OiByZXEudXNlci5faWQgfSwgeyBvcmdJZDogcmVxLnVzZXIub3JnYW5pemF0aW9uSWQgfV0sXHJcbiAgICB9O1xyXG4gICAgaWYgKHJlcS5xdWVyeS5jYXRlZ29yeSkgcXVlcnkuY2F0ZWdvcnkgPSByZXEucXVlcnkuY2F0ZWdvcnk7XHJcbiAgICBpZiAocmVxLnF1ZXJ5Lmxhbmd1YWdlKSBxdWVyeS5sYW5ndWFnZSA9IHJlcS5xdWVyeS5sYW5ndWFnZTtcclxuICAgIGlmIChyZXEucXVlcnkua2V5d29yZHMpIHF1ZXJ5LmtleXdvcmRzID0geyAkaW46IHJlcS5xdWVyeS5rZXl3b3Jkcy5zcGxpdCgnLCcpIH07XHJcbiAgICBjb25zdCB0cGxzID0gYXdhaXQgVGVtcGxhdGUuZmluZChxdWVyeSk7XHJcbiAgICByZXMuanNvbih0cGxzKTtcclxuICB9IGNhdGNoIChlKSB7XHJcbiAgICByZXMuc3RhdHVzKDUwMCkuanNvbih7IGVycm9yOiBlLm1lc3NhZ2UgfSk7XHJcbiAgfVxyXG59KTtcclxuXHJcbi8vINiq2K3Yr9mK2Ksg2YLYp9mE2Khcclxucm91dGVyLnB1dCgnLzppZCcsIGF1dGgsIGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCB0cGwgPSBhd2FpdCBUZW1wbGF0ZS5maW5kT25lQW5kVXBkYXRlKFxyXG4gICAgICB7IF9pZDogcmVxLnBhcmFtcy5pZCwgY3JlYXRlZEJ5OiByZXEudXNlci5faWQgfSxcclxuICAgICAgeyAuLi5yZXEuYm9keSwgdXBkYXRlZEF0OiBEYXRlLm5vdygpIH0sXHJcbiAgICAgIHsgbmV3OiB0cnVlIH1cclxuICAgICk7XHJcbiAgICBpZiAoIXRwbCkgcmV0dXJuIHJlcy5zdGF0dXMoNDA0KS5qc29uKHsgZXJyb3I6ICdUZW1wbGF0ZSBub3QgZm91bmQgb3Igbm90IGFsbG93ZWQnIH0pO1xyXG4gICAgcmVzLmpzb24odHBsKTtcclxuICB9IGNhdGNoIChlKSB7XHJcbiAgICByZXMuc3RhdHVzKDQwMCkuanNvbih7IGVycm9yOiBlLm1lc3NhZ2UgfSk7XHJcbiAgfVxyXG59KTtcclxuXHJcbi8vINit2LDZgSDZgtin2YTYqFxyXG5yb3V0ZXIuZGVsZXRlKCcvOmlkJywgYXV0aCwgYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IHRwbCA9IGF3YWl0IFRlbXBsYXRlLmZpbmRPbmVBbmREZWxldGUoeyBfaWQ6IHJlcS5wYXJhbXMuaWQsIGNyZWF0ZWRCeTogcmVxLnVzZXIuX2lkIH0pO1xyXG4gICAgaWYgKCF0cGwpIHJldHVybiByZXMuc3RhdHVzKDQwNCkuanNvbih7IGVycm9yOiAnVGVtcGxhdGUgbm90IGZvdW5kIG9yIG5vdCBhbGxvd2VkJyB9KTtcclxuICAgIHJlcy5qc29uKHsgc3VjY2VzczogdHJ1ZSB9KTtcclxuICB9IGNhdGNoIChlKSB7XHJcbiAgICByZXMuc3RhdHVzKDQwMCkuanNvbih7IGVycm9yOiBlLm1lc3NhZ2UgfSk7XHJcbiAgfVxyXG59KTtcclxuXHJcbi8vINiy2YrYp9iv2Kkg2LnYr9in2K8g2KfZhNin2LPYqtiu2K/Yp9mFXHJcbnJvdXRlci5wb3N0KCcvOmlkL3VzZScsIGF1dGgsIGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gIHRyeSB7XHJcbiAgICBhd2FpdCBUZW1wbGF0ZS5maW5kQnlJZEFuZFVwZGF0ZShyZXEucGFyYW1zLmlkLCB7ICRpbmM6IHsgdXNhZ2VDb3VudDogMSB9IH0pO1xyXG4gICAgcmVzLmpzb24oeyBzdWNjZXNzOiB0cnVlIH0pO1xyXG4gIH0gY2F0Y2ggKGUpIHtcclxuICAgIHJlcy5zdGF0dXMoNDAwKS5qc29uKHsgZXJyb3I6IGUubWVzc2FnZSB9KTtcclxuICB9XHJcbn0pO1xyXG5cclxubW9kdWxlLmV4cG9ydHMgPSByb3V0ZXI7XHJcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQSxlQUFlQSxZQUFZQSxDQUFDQyxFQUFFLEVBQUVDLE9BQU8sRUFBRTtFQUN2QyxJQUFJO0lBQ0YsTUFBTUMsVUFBVSxHQUFHQyxPQUFPLENBQUNDLEdBQUcsQ0FBQ0Msa0JBQWtCO0lBQ2pELE1BQU1DLFNBQVMsR0FBR0gsT0FBTyxDQUFDQyxHQUFHLENBQUNHLGlCQUFpQjtJQUMvQyxNQUFNQyxJQUFJLEdBQUdMLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDSyxvQkFBb0IsSUFBSSx1QkFBdUI7SUFDeEUsSUFBSSxDQUFDUCxVQUFVLElBQUksQ0FBQ0ksU0FBUyxFQUFFO0lBQy9CLE1BQU1JLE1BQU0sR0FBR0MsT0FBTyxDQUFDLFFBQVEsQ0FBQyxDQUFDVCxVQUFVLEVBQUVJLFNBQVMsQ0FBQztJQUN2RCxNQUFNSSxNQUFNLENBQUNFLFFBQVEsQ0FBQ0MsTUFBTSxDQUFDO01BQzNCQyxJQUFJLEVBQUViLE9BQU87TUFDYk8sSUFBSTtNQUNKUixFQUFFLEVBQUVBLEVBQUUsQ0FBQ2UsVUFBVSxDQUFDLFdBQVcsQ0FBQyxHQUFH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