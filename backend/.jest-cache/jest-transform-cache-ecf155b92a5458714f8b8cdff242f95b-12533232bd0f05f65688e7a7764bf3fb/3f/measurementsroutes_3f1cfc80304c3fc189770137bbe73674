1e6d7e40a89d95c67632aba9f05f701c
/**
 * مسارات API للمقاييس والبرامج التأهيلية
 * Comprehensive Measurement & Program Routes
 * ========================================
 */

const express = require('express');
const router = express.Router();
const MeasurementService = require('../services/MeasurementService');
const SmartEngine = require('../services/SmartMeasurementProgramEngine');
const {
  MeasurementType,
  MeasurementMaster,
  MeasurementResult,
  IndividualRehabPlan,
  QuickAssessment
} = require('../models/MeasurementModels');
const {
  RehabilitationProgram,
  ProgramProgress,
  ProgramCategory,
  ProgramSession
} = require('../models/RehabilitationProgramModels');
const measurementService = new MeasurementService();

// ============================
// 1. مسارات أنواع المقاييس
// ============================

/**
 * الحصول على جميع أنواع المقاييس
 * GET /api/measurements/types
 */
router.get('/types', async (req, res) => {
  try {
    const {
      category,
      targetDisability
    } = req.query;
    let query = {
      isActive: true
    };
    if (category) query.category = category;
    if (targetDisability) query.targetDisabilities = targetDisability;
    const types = await MeasurementType.find(query).select('code nameAr nameEn category description targetDisabilities');
    res.json({
      success: true,
      count: types.length,
      data: types
    });
  } catch (error) {
    res.status(500).json({
      success: false,
      error: error.message
    });
  }
});

/**
 * إنشاء نوع مقياس جديد
 * POST /api/measurements/types
 */
router.post('/types', async (req, res) => {
  try {
    const newType = await measurementService.createMeasurementType(req.body);
    res.status(201).json({
      success: true,
      message: 'تم إنشاء نوع المقياس بنجاح',
      data: newType
    });
  } catch (error) {
    res.status(400).json({
      success: false,
      error: error.message
    });
  }
});

// ============================
// 2. مسارات المقاييس الرئيسية
// ============================

/**
 * الحصول على جميع المقاييس
 * GET /api/measurements/masters
 */
router.get('/masters', async (req, res) => {
  try {
    const {
      typeId,
      targetDisability
    } = req.query;
    let query = {
      isActive: true
    };
    if (typeId) query.typeId = typeId;
    if (targetDisability) query.targetDisabilities = targetDisability;
    const masters = await MeasurementMaster.find(query).populate('typeId').select('code nameAr nameEn version ageRange estimatedDuration');
    res.json({
      success: true,
      count: masters.length,
      data: masters
    });
  } catch (error) {
    res.status(500).json({
      success: false,
      error: error.message
    });
  }
});

/**
 * إنشاء مقياس رئيسي
 * POST /api/measurements/masters
 */
router.post('/masters', async (req, res) => {
  try {
    const newMaster = await measurementService.createMeasurementMaster(req.body);
    res.status(201).json({
      success: true,
      message: 'تم إنشاء المقياس بنجاح',
      data: newMaster
    });
  } catch (error) {
    res.status(400).json({
      success: false,
      error: error.message
    });
  }
});

/**
 * الحصول على تفاصيل المقياس
 * GET /api/measurements/masters/:id
 */
router.get('/masters/:id', async (req, res) => {
  try {
    const master = await MeasurementMaster.findById(req.params.id).populate('typeId');
    if (!master) {
      return res.status(404).json({
        success: false,
        error: 'المقياس غير موجود'
      });
    }
    res.json({
      success: true,
      data: master
    });
  } catch (error) {
    res.status(500).json({
      success: false,
      error: error.message
    });
  }
});

// ============================
// 3. مسارات نتائج القياسات
// ============================

/**
 * تسجيل نتيجة قياس جديدة
 * POST /api/measurements/results/:beneficiaryId
 */
router.post('/results/:beneficiaryId', async (req, res) => {
  try {
    const {
      beneficiaryId
    } = req.params;
    const result = await measurementService.recordMeasurementResult(beneficiaryId, req.body);
    res.status(201).json({
      success: true,
      message: 'تم تسجيل نتيجة القياس بنجاح وتم تفعيل البرامج المناسبة',
      data: result
    });
  } catch (error) {
    res.status(400).json({
      success: false,
      error: error.message
    });
  }
});

/**
 * الحصول على نتائج المستفيد
 * GET /api/measurements/results/:beneficiaryId
 */
router.get('/results/:beneficiaryId', async (req, res) => {
  try {
    const results = await measurementService.getBeneficiaryLatestResults(req.params.beneficiaryId);
    res.json({
      success: true,
      count: results.length,
      data: results
    });
  } catch (error) {
    res.status(500).json({
      success: false,
      error: error.message
    });
  }
});

/**
 * مقارنة نتائج القياس عبر الزمن
 * GET /api/measurements/results/:beneficiaryId/compare/:typeId
 */
router.get('/results/:beneficiaryId/compare/:typeId', async (req, res) => {
  try {
    const comparison = await measurementService.compareMeasurementResults(req.params.beneficiaryId, req.params.typeId);
    res.json({
      success: true,
      data: comparison
    });
  } catch (error) {
    res.status(500).json({
      success: false,
      error: error.message
    });
  }
});

/**
 * الموافقة على نتيجة قياس
 * PUT /api/measurements/results/:resultId/approve
 */
router.put('/results/:resultId/approve', async (req, res) => {
  try {
    const updated = await MeasurementResult.findByIdAndUpdate(req.params.resultId, {
      status: 'APPROVED',
      approvalInfo: {
        approvedBy: req.user._id,
        approvalDate: new Date(),
        approvalNotes: req.body.approvalNotes
      }
    }, {
      new: true
    });
    res.json({
      success: true,
      message: 'تم الموافقة على نتيجة القياس',
      data: updated
    });
  } catch (error) {
    res.status(500).json({
      success: false,
      error: error.message
    });
  }
});

// ============================
// 4. مسارات الخطط التأهيلية الفردية
// ============================

/**
 * إنشاء خطة تأهيلية فردية
 * POST /api/rehabilitation-plans/:beneficiaryId
 */
router.post('/:beneficiaryId', async (req, res) => {
  try {
    const plan = await measurementService.createIndividualRehabPlan(req.params.beneficiaryId, req.body);
    res.status(201).json({
      success: true,
      message: 'تم إنشاء خطة التأهيل الفردية بنجاح',
      data: plan
    });
  } catch (error) {
    res.status(400).json({
      success: false,
      error: error.message
    });
  }
});

/**
 * الحصول على خطة التأهيل الفردية
 * GET /api/rehabilitation-plans/:beneficiaryId
 */
router.get('/:beneficiaryId', async (req, res) => {
  try {
    const plan = await measurementService.getIndividualRehabPlan(req.params.beneficiaryId);
    if (!plan) {
      return res.status(404).json({
        success: false,
        error: 'لم يتم العثور على خطة التأهيل'
      });
    }
    res.json({
      success: true,
      data: plan
    });
  } catch (error) {
    res.status(500).json({
      success: false,
      error: error.message
    });
  }
});

/**
 * تحديث خطة التأهيل الفردية
 * PUT /api/rehabilitation-plans/:planId
 */
router.put('/:planId', async (req, res) => {
  try {
    const updated = await measurementService.updateIndividualRehabPlan(req.params.planId, req.body);
    res.json({
      success: true,
      message: 'تم تحديث خطة التأهيل بنجاح',
      data: updated
    });
  } catch (error) {
    res.status(400).json({
      success: false,
      error: error.message
    });
  }
});

/**
 * الموافقة على خطة التأهيل
 * PUT /api/rehabilitation-plans/:planId/approve
 */
router.put('/:planId/approve', async (req, res) => {
  try {
    const updated = await IndividualRehabPlan.findByIdAndUpdate(req.params.planId, {
      status: 'ACTIVE',
      approvalInfo: {
        approvedBy: req.user._id,
        approvalDate: new Date(),
        approvalNotes: req.body.approvalNotes
      }
    }, {
      new: true
    });
    res.json({
      success: true,
      message: 'تم الموافقة على خطة التأهيل',
      data: updated
    });
  } catch (error) {
    res.status(500).json({
      success: false,
      error: error.message
    });
  }
});

// ============================
// 5. مسارات البرامج التأهيلية
// ============================

/**
 * الحصول على جميع فئات البرامج
 * GET /api/programs/categories
 */
router.get('/categories', async (req, res) => {
  try {
    const categories = await ProgramCategory.find({
      isActive: true
    });
    res.json({
      success: true,
      count: categories.length,
      data: categories
    });
  } catch (error) {
    res.status(500).json({
      success: false,
      error: error.message
    });
  }
});

/**
 * الحصول على البرامج المتاحة
 * GET /api/programs
 */
router.get('/programs', async (req, res) => {
  try {
    const {
      category,
      disability,
      severity
    } = req.query;
    let query = {
      isActive: true,
      status: 'APPROVED'
    };
    if (category) query.categoryId = category;
    if (disability) query.targetDisabilities = disability;
    if (severity) query.suitableSeverityLevels = severity;
    const programs = await RehabilitationProgram.find(query).populate('categoryId').select('code nameAr nameEn categoryId targetDisabilities objectives');
    res.json({
      success: true,
      count: programs.length,
      data: programs
    });
  } catch (error) {
    res.status(500).json({
      success: false,
      error: error.message
    });
  }
});

/**
 * الحصول على تفاصيل برنامج
 * GET /api/programs/:programId
 */
router.get('/programs/:programId', async (req, res) => {
  try {
    const program = await RehabilitationProgram.findById(req.params.programId).populate('categoryId');
    if (!program) {
      return res.status(404).json({
        success: false,
        error: 'البرنامج غير موجود'
      });
    }
    res.json({
      success: true,
      data: program
    });
  } catch (error) {
    res.status(500).json({
      success: false,
      error: error.message
    });
  }
});

// ============================
// 6. مسارات جلسات البرامج
// ============================

/**
 * تسجيل جلسة برنامج
 * POST /api/programs/sessions/:beneficiaryId/:programId
 */
router.post('/sessions/:beneficiaryId/:programId', async (req, res) => {
  try {
    const session = await measurementService.recordProgramSession(req.params.beneficiaryId, req.params.programId, req.body);
    res.status(201).json({
      success: true,
      message: 'تم تسجيل الجلسة بنجاح',
      data: session
    });
  } catch (error) {
    res.status(400).json({
      success: false,
      error: error.message
    });
  }
});

/**
 * الحصول على جلسات برنامج
 * GET /api/programs/sessions/:beneficiaryId/:programId
 */
router.get('/sessions/:beneficiaryId/:programId', async (req, res) => {
  try {
    const sessions = await ProgramSession.find({
      beneficiaryId: req.params.beneficiaryId,
      programId: req.params.programId
    }).sort({
      scheduledDate: -1
    });
    res.json({
      success: true,
      count: sessions.length,
      data: sessions
    });
  } catch (error) {
    res.status(500).json({
      success: false,
      error: error.message
    });
  }
});

// ============================
// 7. مسارات التقارير الشاملة
// ============================

/**
 * إنشاء تقرير شامل للمستفيد
 * GET /api/reports/:beneficiaryId/comprehensive
 */
router.get('/reports/:beneficiaryId/comprehensive', async (req, res) => {
  try {
    const report = await measurementService.generateComprehensiveReport(req.params.beneficiaryId);
    res.json({
      success: true,
      data: report
    });
  } catch (error) {
    res.status(500).json({
      success: false,
      error: error.message
    });
  }
});

/**
 * تتبع فعالية البرنامج
 * GET /api/programs/effectiveness/:progressId
 */
router.get('/programs/effectiveness/:progressId', async (req, res) => {
  try {
    const smartEngine = new SmartEngine();
    const effectiveness = await smartEngine.trackProgramEffectiveness(req.params.progressId);
    res.json({
      success: true,
      data: effectiveness
    });
  } catch (error) {
    res.status(500).json({
      success: false,
      error: error.message
    });
  }
});

/**
 * الحصول على البرامج النشطة للمستفيد
 * GET /api/programs/active/:beneficiaryId
 */
router.get('/active/:beneficiaryId', async (req, res) => {
  try {
    const activePrograms = await ProgramProgress.find({
      beneficiaryId: req.params.beneficiaryId,
      overallStatus: 'ACTIVE'
    }).populate('programId').select('programId enrollmentDate expectedCompletionDate completedSessions totalPlannedSessions');
    res.json({
      success: true,
      count: activePrograms.length,
      data: activePrograms
    });
  } catch (error) {
    res.status(500).json({
      success: false,
      error: error.message
    });
  }
});

/**
 * تقييم سريع (Quick Assessment)
 * POST /api/measurements/quick-assessment/:beneficiaryId
 */
router.post('/quick-assessment/:beneficiaryId', async (req, res) => {
  try {
    const assessment = new QuickAssessment({
      beneficiaryId: req.params.beneficiaryId,
      assessmentType: req.body.assessmentType,
      items: req.body.items,
      totalScore: req.body.totalScore,
      level: req.body.level,
      performedBy: req.user._id
    });
    await assessment.save();
    res.status(201).json({
      success: true,
      message: 'تم حفظ التقييم السريع',
      data: assessment
    });
  } catch (error) {
    res.status(400).json({
      success: false,
      error: error.message
    });
  }
});
module.exports = router;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJleHByZXNzIiwicmVxdWlyZSIsInJvdXRlciIsIlJvdXRlciIsIk1lYXN1cmVtZW50U2VydmljZSIsIlNtYXJ0RW5naW5lIiwiTWVhc3VyZW1lbnRUeXBlIiwiTWVhc3VyZW1lbnRNYXN0ZXIiLCJNZWFzdXJlbWVudFJlc3VsdCIsIkluZGl2aWR1YWxSZWhhYlBsYW4iLCJRdWlja0Fzc2Vzc21lbnQiLCJSZWhhYmlsaXRhdGlvblByb2dyYW0iLCJQcm9ncmFtUHJvZ3Jlc3MiLCJQcm9ncmFtQ2F0ZWdvcnkiLCJQcm9ncmFtU2Vzc2lvbiIsIm1lYXN1cmVtZW50U2VydmljZSIsImdldCIsInJlcSIsInJlcyIsImNhdGVnb3J5IiwidGFyZ2V0RGlzYWJpbGl0eSIsInF1ZXJ5IiwiaXNBY3RpdmUiLCJ0YXJnZXREaXNhYmlsaXRpZXMiLCJ0eXBlcyIsImZpbmQiLCJzZWxlY3QiLCJqc29uIiwic3VjY2VzcyIsImNvdW50IiwibGVuZ3RoIiwiZGF0YSIsImVycm9yIiwic3RhdHVzIiwibWVzc2FnZSIsInBvc3QiLCJuZXdUeXBlIiwiY3JlYXRlTWVhc3VyZW1lbnRUeXBlIiwiYm9keSIsInR5cGVJZCIsIm1hc3RlcnMiLCJwb3B1bGF0ZSIsIm5ld01hc3RlciIsImNyZWF0ZU1lYXN1cmVtZW50TWFzdGVyIiwibWFzdGVyIiwiZmluZEJ5SWQiLCJwYXJhbXMiLCJpZCIsImJlbmVmaWNpYXJ5SWQiLCJyZXN1bHQiLCJyZWNvcmRNZWFzdXJlbWVudFJlc3VsdCIsInJlc3VsdHMiLCJnZXRCZW5lZmljaWFyeUxhdGVzdFJlc3VsdHMiLCJjb21wYXJpc29uIiwiY29tcGFyZU1lYXN1cmVtZW50UmVzdWx0cyIsInB1dCIsInVwZGF0ZWQiLCJmaW5kQnlJZEFuZFVwZGF0ZSIsInJlc3VsdElkIiwiYXBwcm92YWxJbmZvIiwiYXBwcm92ZWRCeSIsInVzZXIiLCJfaWQiLCJhcHByb3ZhbERhdGUiLCJEYXRlIiwiYXBwcm92YWxOb3RlcyIsIm5ldyIsInBsYW4iLCJjcmVhdGVJbmRpdmlkdWFsUmVoYWJQbGFuIiwiZ2V0SW5kaXZpZHVhbFJlaGFiUGxhbiIsInVwZGF0ZUluZGl2aWR1YWxSZWhhYlBsYW4iLCJwbGFuSWQiLCJjYXRlZ29yaWVzIiwiZGlzYWJpbGl0eSIsInNldmVyaXR5IiwiY2F0ZWdvcnlJZCIsInN1aXRhYmxlU2V2ZXJpdHlMZXZlbHMiLCJwcm9ncmFtcyIsInByb2dyYW0iLCJwcm9ncmFtSWQiLCJzZXNzaW9uIiwicmVjb3JkUHJvZ3JhbVNlc3Npb24iLCJzZXNzaW9ucyIsInNvcnQiLCJzY2hlZHVsZWREYXRlIiwicmVwb3J0IiwiZ2VuZXJhdGVDb21wcmVoZW5zaXZlUmVwb3J0Iiwic21hcnRFbmdpbmUiLCJlZmZlY3RpdmVuZXNzIiwidHJhY2tQcm9ncmFtRWZmZWN0aXZlbmVzcyIsInByb2dyZXNzSWQiLCJhY3RpdmVQcm9ncmFtcyIsIm92ZXJhbGxTdGF0dXMiLCJhc3Nlc3NtZW50IiwiYXNzZXNzbWVudFR5cGUiLCJpdGVtcyIsInRvdGFsU2NvcmUiLCJsZXZlbCIsInBlcmZvcm1lZEJ5Iiwic2F2ZSIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlcyI6WyJtZWFzdXJlbWVudHMucm91dGVzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiDZhdiz2KfYsdin2KogQVBJINmE2YTZhdmC2KfZitmK2LMg2YjYp9mE2KjYsdin2YXYrCDYp9mE2KrYo9mH2YrZhNmK2KlcclxuICogQ29tcHJlaGVuc2l2ZSBNZWFzdXJlbWVudCAmIFByb2dyYW0gUm91dGVzXHJcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuICovXHJcblxyXG5jb25zdCBleHByZXNzID0gcmVxdWlyZSgnZXhwcmVzcycpO1xyXG5jb25zdCByb3V0ZXIgPSBleHByZXNzLlJvdXRlcigpO1xyXG5jb25zdCBNZWFzdXJlbWVudFNlcnZpY2UgPSByZXF1aXJlKCcuLi9zZXJ2aWNlcy9NZWFzdXJlbWVudFNlcnZpY2UnKTtcclxuY29uc3QgU21hcnRFbmdpbmUgPSByZXF1aXJlKCcuLi9zZXJ2aWNlcy9TbWFydE1lYXN1cmVtZW50UHJvZ3JhbUVuZ2luZScpO1xyXG5jb25zdCB7IFxyXG4gIE1lYXN1cmVtZW50VHlwZSxcclxuICBNZWFzdXJlbWVudE1hc3RlcixcclxuICBNZWFzdXJlbWVudFJlc3VsdCxcclxuICBJbmRpdmlkdWFsUmVoYWJQbGFuLFxyXG4gIFF1aWNrQXNzZXNzbWVudFxyXG59ID0gcmVxdWlyZSgnLi4vbW9kZWxzL01lYXN1cmVtZW50TW9kZWxzJyk7XHJcblxyXG5jb25zdCB7XHJcbiAgUmVoYWJpbGl0YXRpb25Qcm9ncmFtLFxyXG4gIFByb2dyYW1Qcm9ncmVzcyxcclxuICBQcm9ncmFtQ2F0ZWdvcnksXHJcbiAgUHJvZ3JhbVNlc3Npb25cclxufSA9IHJlcXVpcmUoJy4uL21vZGVscy9SZWhhYmlsaXRhdGlvblByb2dyYW1Nb2RlbHMnKTtcclxuXHJcbmNvbnN0IG1lYXN1cmVtZW50U2VydmljZSA9IG5ldyBNZWFzdXJlbWVudFNlcnZpY2UoKTtcclxuXHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuLy8gMS4g2YXYs9in2LHYp9iqINij2YbZiNin2Lkg2KfZhNmF2YLYp9mK2YrYs1xyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblxyXG4vKipcclxuICog2KfZhNit2LXZiNmEINi52YTZiSDYrNmF2YrYuSDYo9mG2YjYp9i5INin2YTZhdmC2KfZitmK2LNcclxuICogR0VUIC9hcGkvbWVhc3VyZW1lbnRzL3R5cGVzXHJcbiAqL1xyXG5yb3V0ZXIuZ2V0KCcvdHlwZXMnLCBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgeyBjYXRlZ29yeSwgdGFyZ2V0RGlzYWJpbGl0eSB9ID0gcmVxLnF1ZXJ5O1xyXG4gICAgXHJcbiAgICBsZXQgcXVlcnkgPSB7IGlzQWN0aXZlOiB0cnVlIH07XHJcbiAgICBpZiAoY2F0ZWdvcnkpIHF1ZXJ5LmNhdGVnb3J5ID0gY2F0ZWdvcnk7XHJcbiAgICBpZiAodGFyZ2V0RGlzYWJpbGl0eSkgcXVlcnkudGFyZ2V0RGlzYWJpbGl0aWVzID0gdGFyZ2V0RGlzYWJpbGl0eTtcclxuXHJcbiAgICBjb25zdCB0eXBlcyA9IGF3YWl0IE1lYXN1cmVtZW50VHlwZS5maW5kKHF1ZXJ5KVxyXG4gICAgICAuc2VsZWN0KCdjb2RlIG5hbWVBciBuYW1lRW4gY2F0ZWdvcnkgZGVzY3JpcHRpb24gdGFyZ2V0RGlzYWJpbGl0aWVzJyk7XHJcblxyXG4gICAgcmVzLmpzb24oe1xyXG4gICAgICBzdWNjZXNzOiB0cnVlLFxyXG4gICAgICBjb3VudDogdHlwZXMubGVuZ3RoLFxyXG4gICAgICBkYXRhOiB0eXBlc1xyXG4gICAgfSk7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBlcnJvci5tZXNzYWdlIH0pO1xyXG4gIH1cclxufSk7XHJcblxyXG4vKipcclxuICog2KXZhti02KfYoSDZhtmI2Lkg2YXZgtmK2KfYsyDYrNiv2YrYr1xyXG4gKiBQT1NUIC9hcGkvbWVhc3VyZW1lbnRzL3R5cGVzXHJcbiAqL1xyXG5yb3V0ZXIucG9zdCgnL3R5cGVzJywgYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IG5ld1R5cGUgPSBhd2FpdCBtZWFzdXJlbWVudFNlcnZpY2UuY3JlYXRlTWVhc3VyZW1lbnRUeXBlKHJlcS5ib2R5KTtcclxuICAgIFxyXG4gICAgcmVzLnN0YXR1cygyMDEpLmpzb24oe1xyXG4gICAgICBzdWNjZXNzOiB0cnVlLFxyXG4gICAgICBtZXNzYWdlOiAn2KrZhSDYpdmG2LTYp9ihINmG2YjYuSDYp9mE2YXZgtmK2KfYsyDYqNmG2KzYp9itJyxcclxuICAgICAgZGF0YTogbmV3VHlwZVxyXG4gICAgfSk7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIHJlcy5zdGF0dXMoNDAwKS5qc29uKHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBlcnJvci5tZXNzYWdlIH0pO1xyXG4gIH1cclxufSk7XHJcblxyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbi8vIDIuINmF2LPYp9ix2KfYqiDYp9mE2YXZgtin2YrZitizINin2YTYsdim2YrYs9mK2KlcclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cclxuLyoqXHJcbiAqINin2YTYrdi12YjZhCDYudmE2Ykg2KzZhdmK2Lkg2KfZhNmF2YLYp9mK2YrYs1xyXG4gKiBHRVQgL2FwaS9tZWFzdXJlbWVudHMvbWFzdGVyc1xyXG4gKi9cclxucm91dGVyLmdldCgnL21hc3RlcnMnLCBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgeyB0eXBlSWQsIHRhcmdldERpc2FiaWxpdHkgfSA9IHJlcS5xdWVyeTtcclxuICAgIFxyXG4gICAgbGV0IHF1ZXJ5ID0geyBpc0FjdGl2ZTogdHJ1ZSB9O1xyXG4gICAgaWYgKHR5cGVJZCkgcXVlcnkudHlwZUlkID0gdHlwZUlkO1xyXG4gICAgaWYgKHRhcmdldERpc2FiaWxpdHkpIHF1ZXJ5LnRhcmdldERpc2FiaWxpdGllcyA9IHRhcmdldERpc2FiaWxpdHk7XHJcblxyXG4gICAgY29uc3QgbWFzdGVycyA9IGF3YWl0IE1lYXN1cmVtZW50TWFzdGVyLmZpbmQocXVlcnkpXHJcbiAgICAgIC5wb3B1bGF0ZSgndHlwZUlkJylcclxuICAgICAgLnNlbGVjdCgnY29kZSBuYW1lQXIgbmFtZUVuIHZlcnNpb24gYWdlUmFuZ2UgZXN0aW1hdGVkRHVyYXRpb24nKTtcclxuXHJcbiAgICByZXMuanNvbih7XHJcbiAgICAgIHN1Y2Nlc3M6IHRydWUsXHJcbiAgICAgIGNvdW50OiBtYXN0ZXJzLmxlbmd0aCxcclxuICAgICAgZGF0YTogbWFzdGVyc1xyXG4gICAgfSk7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBlcnJvci5tZXNzYWdlIH0pO1xyXG4gIH1cclxufSk7XHJcblxyXG4vKipcclxuICog2KXZhti02KfYoSDZhdmC2YrYp9izINix2KbZitiz2YpcclxuICogUE9TVCAvYXBpL21lYXN1cmVtZW50cy9tYXN0ZXJzXHJcbiAqL1xyXG5yb3V0ZXIucG9zdCgnL21hc3RlcnMnLCBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgbmV3TWFzdGVyID0gYXdhaXQgbWVhc3VyZW1lbnRTZXJ2aWNlLmNyZWF0ZU1lYXN1cmVtZW50TWFzdGVyKHJlcS5ib2R5KTtcclxuICAgIFxyXG4gICAgcmVzLnN0YXR1cygyMDEpLmpzb24oe1xyXG4gICAgICBzdWNjZXNzOiB0cnVlLFxyXG4gICAgICBtZXNzYWdlOiAn2KrZhSDYpdmG2LTYp9ihINin2YTZhdmC2YrYp9izINio2YbYrNin2K0nLFxyXG4gICAgICBkYXRhOiBuZXdNYXN0ZXJcclxuICAgIH0pO1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICByZXMuc3RhdHVzKDQwMCkuanNvbih7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogZXJyb3IubWVzc2FnZSB9KTtcclxuICB9XHJcbn0pO1xyXG5cclxuLyoqXHJcbiAqINin2YTYrdi12YjZhCDYudmE2Ykg2KrZgdin2LXZitmEINin2YTZhdmC2YrYp9izXHJcbiAqIEdFVCAvYXBpL21lYXN1cmVtZW50cy9tYXN0ZXJzLzppZFxyXG4gKi9cclxucm91dGVyLmdldCgnL21hc3RlcnMvOmlkJywgYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IG1hc3RlciA9IGF3YWl0IE1lYXN1cmVtZW50TWFzdGVyLmZpbmRCeUlkKHJlcS5wYXJhbXMuaWQpXHJcbiAgICAgIC5wb3B1bGF0ZSgndHlwZUlkJyk7XHJcblxyXG4gICAgaWYgKCFtYXN0ZXIpIHtcclxuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDA0KS5qc29uKHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiAn2KfZhNmF2YLZitin2LMg2LrZitixINmF2YjYrNmI2K8nIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHJlcy5qc29uKHtcclxuICAgICAgc3VjY2VzczogdHJ1ZSxcclxuICAgICAgZGF0YTogbWFzdGVyXHJcbiAgICB9KTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgcmVzLnN0YXR1cyg1MDApLmpzb24oeyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfSk7XHJcbiAgfVxyXG59KTtcclxuXHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuLy8gMy4g2YXYs9in2LHYp9iqINmG2KrYp9im2Kwg2KfZhNmC2YrYp9iz2KfYqlxyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblxyXG4vKipcclxuICog2KrYs9is2YrZhCDZhtiq2YrYrNipINmC2YrYp9izINis2K/Zitiv2KlcclxuICogUE9TVCAvYXBpL21lYXN1cmVtZW50cy9yZXN1bHRzLzpiZW5lZmljaWFyeUlkXHJcbiAqL1xyXG5yb3V0ZXIucG9zdCgnL3Jlc3VsdHMvOmJlbmVmaWNpYXJ5SWQnLCBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgeyBiZW5lZmljaWFyeUlkIH0gPSByZXEucGFyYW1zO1xyXG4gICAgXHJcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBtZWFzdXJlbWVudFNlcnZpY2UucmVjb3JkTWVhc3VyZW1lbnRSZXN1bHQoXHJcbiAgICAgIGJlbmVmaWNpYXJ5SWQsXHJcbiAgICAgIHJlcS5ib2R5XHJcbiAgICApO1xyXG5cclxuICAgIHJlcy5zdGF0dXMoMjAxKS5qc29uKHtcclxuICAgICAgc3VjY2VzczogdHJ1ZSxcclxuICAgICAgbWVzc2FnZTogJ9iq2YUg2KrYs9is2YrZhCDZhtiq2YrYrNipINin2YTZgtmK2KfYsyDYqNmG2KzYp9itINmI2KrZhSDYqtmB2LnZitmEINin2YTYqNix2KfZhdisINin2YTZhdmG2KfYs9io2KknLFxyXG4gICAgICBkYXRhOiByZXN1bHRcclxuICAgIH0pO1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICByZXMuc3RhdHVzKDQwMCkuanNvbih7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogZXJyb3IubWVzc2FnZSB9KTtcclxuICB9XHJcbn0pO1xyXG5cclxuLyoqXHJcbiAqINin2YTYrdi12YjZhCDYudmE2Ykg2YbYqtin2KbYrCDYp9mE2YXYs9iq2YHZitivXHJcbiAqIEdFVCAvYXBpL21lYXN1cmVtZW50cy9yZXN1bHRzLzpiZW5lZmljaWFyeUlkXHJcbiAqL1xyXG5yb3V0ZXIuZ2V0KCcvcmVzdWx0cy86YmVuZWZpY2lhcnlJZCcsIGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCByZXN1bHRzID0gYXdhaXQgbWVhc3VyZW1lbnRTZXJ2aWNlLmdldEJlbmVmaWNpYXJ5TGF0ZXN0UmVzdWx0cyhcclxuICAgICAgcmVxLnBhcmFtcy5iZW5lZmljaWFyeUlkXHJcbiAgICApO1xyXG5cclxuICAgIHJlcy5qc29uKHtcclxuICAgICAgc3VjY2VzczogdHJ1ZSxcclxuICAgICAgY291bnQ6IHJlc3VsdHMubGVuZ3RoLFxyXG4gICAgICBkYXRhOiByZXN1bHRzXHJcbiAgICB9KTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgcmVzLnN0YXR1cyg1MDApLmpzb24oeyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfSk7XHJcbiAgfVxyXG59KTtcclxuXHJcbi8qKlxyXG4gKiDZhdmC2KfYsdmG2Kkg2YbYqtin2KbYrCDYp9mE2YLZitin2LMg2LnYqNixINin2YTYstmF2YZcclxuICogR0VUIC9hcGkvbWVhc3VyZW1lbnRzL3Jlc3VsdHMvOmJlbmVmaWNpYXJ5SWQvY29tcGFyZS86dHlwZUlkXHJcbiAqL1xyXG5yb3V0ZXIuZ2V0KCcvcmVzdWx0cy86YmVuZWZpY2lhcnlJZC9jb21wYXJlLzp0eXBlSWQnLCBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgY29tcGFyaXNvbiA9IGF3YWl0IG1lYXN1cmVtZW50U2VydmljZS5jb21wYXJlTWVhc3VyZW1lbnRSZXN1bHRzKFxyXG4gICAgICByZXEucGFyYW1zLmJlbmVmaWNpYXJ5SWQsXHJcbiAgICAgIHJlcS5wYXJhbXMudHlwZUlkXHJcbiAgICApO1xyXG5cclxuICAgIHJlcy5qc29uKHtcclxuICAgICAgc3VjY2VzczogdHJ1ZSxcclxuICAgICAgZGF0YTogY29tcGFyaXNvblxyXG4gICAgfSk7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBlcnJvci5tZXNzYWdlIH0pO1xyXG4gIH1cclxufSk7XHJcblxyXG4vKipcclxuICog2KfZhNmF2YjYp9mB2YLYqSDYudmE2Ykg2YbYqtmK2KzYqSDZgtmK2KfYs1xyXG4gKiBQVVQgL2FwaS9tZWFzdXJlbWVudHMvcmVzdWx0cy86cmVzdWx0SWQvYXBwcm92ZVxyXG4gKi9cclxucm91dGVyLnB1dCgnL3Jlc3VsdHMvOnJlc3VsdElkL2FwcHJvdmUnLCBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgdXBkYXRlZCA9IGF3YWl0IE1lYXN1cmVtZW50UmVzdWx0LmZpbmRCeUlkQW5kVXBkYXRlKFxyXG4gICAgICByZXEucGFyYW1zLnJlc3VsdElkLFxyXG4gICAgICB7XHJcbiAgICAgICAgc3RhdHVzOiAnQVBQUk9WRUQnLFxyXG4gICAgICAgIGFwcHJvdmFsSW5mbzoge1xyXG4gICAgICAgICAgYXBwcm92ZWRCeTogcmVxLnVzZXIuX2lkLFxyXG4gICAgICAgICAgYXBwcm92YWxEYXRlOiBuZXcgRGF0ZSgpLFxyXG4gICAgICAgICAgYXBwcm92YWxOb3RlczogcmVxLmJvZHkuYXBwcm92YWxOb3Rlc1xyXG4gICAgICAgIH1cclxuICAgICAgfSxcclxuICAgICAgeyBuZXc6IHRydWUgfVxyXG4gICAgKTtcclxuXHJcbiAgICByZXMuanNvbih7XHJcbiAgICAgIHN1Y2Nlc3M6IHRydWUsXHJcbiAgICAgIG1lc3NhZ2U6ICfYqtmFINin2YTZhdmI2KfZgdmC2Kkg2LnZhNmJINmG2KrZitis2Kkg2KfZhNmC2YrYp9izJyxcclxuICAgICAgZGF0YTogdXBkYXRlZFxyXG4gICAgfSk7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBlcnJvci5tZXNzYWdlIH0pO1xyXG4gIH1cclxufSk7XHJcblxyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbi8vIDQuINmF2LPYp9ix2KfYqiDYp9mE2K7Yt9i3INin2YTYqtij2YfZitmE2YrYqSDYp9mE2YHYsdiv2YrYqVxyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblxyXG4vKipcclxuICog2KXZhti02KfYoSDYrti32Kkg2KrYo9mH2YrZhNmK2Kkg2YHYsdiv2YrYqVxyXG4gKiBQT1NUIC9hcGkvcmVoYWJpbGl0YXRpb24tcGxhbnMvOmJlbmVmaWNpYXJ5SWRcclxuICovXHJcbnJvdXRlci5wb3N0KCcvOmJlbmVmaWNpYXJ5SWQnLCBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgcGxhbiA9IGF3YWl0IG1lYXN1cmVtZW50U2VydmljZS5jcmVhdGVJbmRpdmlkdWFsUmVoYWJQbGFuKFxyXG4gICAgICByZXEucGFyYW1zLmJlbmVmaWNpYXJ5SWQsXHJcbiAgICAgIHJlcS5ib2R5XHJcbiAgICApO1xyXG5cclxuICAgIHJlcy5zdGF0dXMoMjAxKS5qc29uKHtcclxuICAgICAgc3VjY2VzczogdHJ1ZSxcclxuICAgICAgbWVzc2FnZTogJ9iq2YUg2KXZhti02KfYoSDYrti32Kkg2KfZhNiq2KPZh9mK2YQg2KfZhNmB2LHYr9mK2Kkg2KjZhtis2KfYrScsXHJcbiAgICAgIGRhdGE6IHBsYW5cclxuICAgIH0pO1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICByZXMuc3RhdHVzKDQwMCkuanNvbih7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogZXJyb3IubWVzc2FnZSB9KTtcclxuICB9XHJcbn0pO1xyXG5cclxuLyoqXHJcbiAqINin2YTYrdi12YjZhCDYudmE2Ykg2K7Yt9ipINin2YTYqtij2YfZitmEINin2YTZgdix2K/ZitipXHJcbiAqIEdFVCAvYXBpL3JlaGFiaWxpdGF0aW9uLXBsYW5zLzpiZW5lZmljaWFyeUlkXHJcbiAqL1xyXG5yb3V0ZXIuZ2V0KCcvOmJlbmVmaWNpYXJ5SWQnLCBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgcGxhbiA9IGF3YWl0IG1lYXN1cmVtZW50U2VydmljZS5nZXRJbmRpdmlkdWFsUmVoYWJQbGFuKFxyXG4gICAgICByZXEucGFyYW1zLmJlbmVmaWNpYXJ5SWRcclxuICAgICk7XHJcblxyXG4gICAgaWYgKCFwbGFuKSB7XHJcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwNCkuanNvbih7IFxyXG4gICAgICAgIHN1Y2Nlc3M6IGZhbHNlLCBcclxuICAgICAgICBlcnJvcjogJ9mE2YUg2YrYqtmFINin2YTYudir2YjYsSDYudmE2Ykg2K7Yt9ipINin2YTYqtij2YfZitmEJyBcclxuICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgcmVzLmpzb24oe1xyXG4gICAgICBzdWNjZXNzOiB0cnVlLFxyXG4gICAgICBkYXRhOiBwbGFuXHJcbiAgICB9KTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgcmVzLnN0YXR1cyg1MDApLmpzb24oeyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfSk7XHJcbiAgfVxyXG59KTtcclxuXHJcbi8qKlxyXG4gKiDYqtit2K/ZitirINiu2LfYqSDYp9mE2KrYo9mH2YrZhCDYp9mE2YHYsdiv2YrYqVxyXG4gKiBQVVQgL2FwaS9yZWhhYmlsaXRhdGlvbi1wbGFucy86cGxhbklkXHJcbiAqL1xyXG5yb3V0ZXIucHV0KCcvOnBsYW5JZCcsIGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCB1cGRhdGVkID0gYXdhaXQgbWVhc3VyZW1lbnRTZXJ2aWNlLnVwZGF0ZUluZGl2aWR1YWxSZWhhYlBsYW4oXHJcbiAgICAgIHJlcS5wYXJhbXMucGxhbklkLFxyXG4gICAgICByZXEuYm9keVxyXG4gICAgKTtcclxuXHJcbiAgICByZXMuanNvbih7XHJcbiAgICAgIHN1Y2Nlc3M6IHRydWUsXHJcbiAgICAgIG1lc3NhZ2U6ICfYqtmFINiq2K3Yr9mK2Ksg2K7Yt9ipINin2YTYqtij2YfZitmEINio2YbYrNin2K0nLFxyXG4gICAgICBkYXRhOiB1cGRhdGVkXHJcbiAgICB9KTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgcmVzLnN0YXR1cyg0MDApLmpzb24oeyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfSk7XHJcbiAgfVxyXG59KTtcclxuXHJcbi8qKlxyXG4gKiDYp9mE2YXZiNin2YHZgtipINi52YTZiSDYrti32Kkg2KfZhNiq2KPZh9mK2YRcclxuICogUFVUIC9hcGkvcmVoYWJpbGl0YXRpb24tcGxhbnMvOnBsYW5JZC9hcHByb3ZlXHJcbiAqL1xyXG5yb3V0ZXIucHV0KCcvOnBsYW5JZC9hcHByb3ZlJywgYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IHVwZGF0ZWQgPSBhd2FpdCBJbmRpdmlkdWFsUmVoYWJQbGFuLmZpbmRCeUlkQW5kVXBkYXRlKFxyXG4gICAgICByZXEucGFyYW1zLnBsYW5JZCxcclxuICAgICAge1xyXG4gICAgICAgIHN0YXR1czogJ0FDVElWRScsXHJcbiAgICAgICAgYXBwcm92YWxJbmZvOiB7XHJcbiAgICAgICAgICBhcHByb3ZlZEJ5OiByZXEudXNlci5faWQsXHJcbiAgICAgICAgICBhcHByb3ZhbERhdGU6IG5ldyBEYXRlKCksXHJcbiAgICAgICAgICBhcHByb3ZhbE5vdGVzOiByZXEuYm9keS5hcHByb3ZhbE5vdGVzXHJcbiAgICAgICAgfVxyXG4gICAgICB9LFxyXG4gICAgICB7IG5ldzogdHJ1ZSB9XHJcbiAgICApO1xyXG5cclxuICAgIHJlcy5qc29uKHtcclxuICAgICAgc3VjY2VzczogdHJ1ZSxcclxuICAgICAgbWVzc2FnZTogJ9iq2YUg2KfZhNmF2YjYp9mB2YLYqSDYudmE2Ykg2K7Yt9ipINin2YTYqtij2YfZitmEJyxcclxuICAgICAgZGF0YTogdXBkYXRlZFxyXG4gICAgfSk7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBlcnJvci5tZXNzYWdlIH0pO1xyXG4gIH1cclxufSk7XHJcblxyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbi8vIDUuINmF2LPYp9ix2KfYqiDYp9mE2KjYsdin2YXYrCDYp9mE2KrYo9mH2YrZhNmK2KlcclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cclxuLyoqXHJcbiAqINin2YTYrdi12YjZhCDYudmE2Ykg2KzZhdmK2Lkg2YHYptin2Kog2KfZhNio2LHYp9mF2KxcclxuICogR0VUIC9hcGkvcHJvZ3JhbXMvY2F0ZWdvcmllc1xyXG4gKi9cclxucm91dGVyLmdldCgnL2NhdGVnb3JpZXMnLCBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgY2F0ZWdvcmllcyA9IGF3YWl0IFByb2dyYW1DYXRlZ29yeS5maW5kKHsgaXNBY3RpdmU6IHRydWUgfSk7XHJcbiAgICBcclxuICAgIHJlcy5qc29uKHtcclxuICAgICAgc3VjY2VzczogdHJ1ZSxcclxuICAgICAgY291bnQ6IGNhdGVnb3JpZXMubGVuZ3RoLFxyXG4gICAgICBkYXRhOiBjYXRlZ29yaWVzXHJcbiAgICB9KTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgcmVzLnN0YXR1cyg1MDApLmpzb24oeyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfSk7XHJcbiAgfVxyXG59KTtcclxuXHJcbi8qKlxyXG4gKiDYp9mE2K3YtdmI2YQg2LnZhNmJINin2YTYqNix2KfZhdisINin2YTZhdiq2KfYrdipXHJcbiAqIEdFVCAvYXBpL3Byb2dyYW1zXHJcbiAqL1xyXG5yb3V0ZXIuZ2V0KCcvcHJvZ3JhbXMnLCBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgeyBjYXRlZ29yeSwgZGlzYWJpbGl0eSwgc2V2ZXJpdHkgfSA9IHJlcS5xdWVyeTtcclxuICAgIFxyXG4gICAgbGV0IHF1ZXJ5ID0geyBpc0FjdGl2ZTogdHJ1ZSwgc3RhdHVzOiAnQVBQUk9WRUQnIH07XHJcbiAgICBpZiAoY2F0ZWdvcnkpIHF1ZXJ5LmNhdGVnb3J5SWQgPSBjYXRlZ29yeTtcclxuICAgIGlmIChkaXNhYmlsaXR5KSBxdWVyeS50YXJnZXREaXNhYmlsaXRpZXMgPSBkaXNhYmlsaXR5O1xyXG4gICAgaWYgKHNldmVyaXR5KSBxdWVyeS5zdWl0YWJsZVNldmVyaXR5TGV2ZWxzID0gc2V2ZXJpdHk7XHJcblxyXG4gICAgY29uc3QgcHJvZ3JhbXMgPSBhd2FpdCBSZWhhYmlsaXRhdGlvblByb2dyYW0uZmluZChxdWVyeSlcclxuICAgICAgLnBvcHVsYXRlKCdjYXRlZ29yeUlkJylcclxuICAgICAgLnNlbGVjdCgnY29kZSBuYW1lQXIgbmFtZUVuIGNhdGVnb3J5SWQgdGFyZ2V0RGlzYWJpbGl0aWVzIG9iamVjdGl2ZXMnKTtcclxuXHJcbiAgICByZXMuanNvbih7XHJcbiAgICAgIHN1Y2Nlc3M6IHRydWUsXHJcbiAgICAgIGNvdW50OiBwcm9ncmFtcy5sZW5ndGgsXHJcbiAgICAgIGRhdGE6IHByb2dyYW1zXHJcbiAgICB9KTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgcmVzLnN0YXR1cyg1MDApLmpzb24oeyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfSk7XHJcbiAgfVxyXG59KTtcclxuXHJcbi8qKlxyXG4gKiDYp9mE2K3YtdmI2YQg2LnZhNmJINiq2YHYp9i12YrZhCDYqNix2YbYp9mF2KxcclxuICogR0VUIC9hcGkvcHJvZ3JhbXMvOnByb2dyYW1JZFxyXG4gKi9cclxucm91dGVyLmdldCgnL3Byb2dyYW1zLzpwcm9ncmFtSWQnLCBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgcHJvZ3JhbSA9IGF3YWl0IFJlaGFiaWxpdGF0aW9uUHJvZ3JhbS5maW5kQnlJZChyZXEucGFyYW1zLnByb2dyYW1JZClcclxuICAgICAgLnBvcHVsYXRlKCdjYXRlZ29yeUlkJyk7XHJcblxyXG4gICAgaWYgKCFwcm9ncmFtKSB7XHJcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwNCkuanNvbih7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogJ9in2YTYqNix2YbYp9mF2Kwg2LrZitixINmF2YjYrNmI2K8nIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHJlcy5qc29uKHtcclxuICAgICAgc3VjY2VzczogdHJ1ZSxcclxuICAgICAgZGF0YTogcHJvZ3JhbVxyXG4gICAgfSk7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBlcnJvci5tZXNzYWdlIH0pO1xyXG4gIH1cclxufSk7XHJcblxyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbi8vIDYuINmF2LPYp9ix2KfYqiDYrNmE2LPYp9iqINin2YTYqNix2KfZhdisXHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHJcbi8qKlxyXG4gKiDYqtiz2KzZitmEINis2YTYs9ipINio2LHZhtin2YXYrFxyXG4gKiBQT1NUIC9hcGkvcHJvZ3JhbXMvc2Vzc2lvbnMvOmJlbmVmaWNpYXJ5SWQvOnByb2dyYW1JZFxyXG4gKi9cclxucm91dGVyLnBvc3QoJy9zZXNzaW9ucy86YmVuZWZpY2lhcnlJZC86cHJvZ3JhbUlkJywgYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IHNlc3Npb24gPSBhd2FpdCBtZWFzdXJlbWVudFNlcnZpY2UucmVjb3JkUHJvZ3JhbVNlc3Npb24oXHJcbiAgICAgIHJlcS5wYXJhbXMuYmVuZWZpY2lhcnlJZCxcclxuICAgICAgcmVxLnBhcmFtcy5wcm9ncmFtSWQsXHJcbiAgICAgIHJlcS5ib2R5XHJcbiAgICApO1xyXG5cclxuICAgIHJlcy5zdGF0dXMoMjAxKS5qc29uKHtcclxuICAgICAgc3VjY2VzczogdHJ1ZSxcclxuICAgICAgbWVzc2FnZTogJ9iq2YUg2KrYs9is2YrZhCDYp9mE2KzZhNiz2Kkg2KjZhtis2KfYrScsXHJcbiAgICAgIGRhdGE6IHNlc3Npb25cclxuICAgIH0pO1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICByZXMuc3RhdHVzKDQwMCkuanNvbih7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogZXJyb3IubWVzc2FnZSB9KTtcclxuICB9XHJcbn0pO1xyXG5cclxuLyoqXHJcbiAqINin2YTYrdi12YjZhCDYudmE2Ykg2KzZhNiz2KfYqiDYqNix2YbYp9mF2KxcclxuICogR0VUIC9hcGkvcHJvZ3JhbXMvc2Vzc2lvbnMvOmJlbmVmaWNpYXJ5SWQvOnByb2dyYW1JZFxyXG4gKi9cclxucm91dGVyLmdldCgnL3Nlc3Npb25zLzpiZW5lZmljaWFyeUlkLzpwcm9ncmFtSWQnLCBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICB0cnkge1xyXG4gICAgY29uc3Qgc2Vzc2lvbnMgPSBhd2FpdCBQcm9ncmFtU2Vzc2lvbi5maW5kKHtcclxuICAgICAgYmVuZWZpY2lhcnlJZDogcmVxLnBhcmFtcy5iZW5lZmljaWFyeUlkLFxyXG4gICAgICBwcm9ncmFtSWQ6IHJlcS5wYXJhbXMucHJvZ3JhbUlkXHJcbiAgICB9KS5zb3J0KHsgc2NoZWR1bGVkRGF0ZTogLTEgfSk7XHJcblxyXG4gICAgcmVzLmpzb24oe1xyXG4gICAgICBzdWNjZXNzOiB0cnVlLFxyXG4gICAgICBjb3VudDogc2Vzc2lvbnMubGVuZ3RoLFxyXG4gICAgICBkYXRhOiBzZXNzaW9uc1xyXG4gICAgfSk7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBlcnJvci5tZXNzYWdlIH0pO1xyXG4gIH1cclxufSk7XHJcblxyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbi8vIDcuINmF2LPYp9ix2KfYqiDYp9mE2KrZgtin2LHZitixINin2YTYtNin2YXZhNipXHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHJcbi8qKlxyXG4gKiDYpdmG2LTYp9ihINiq2YLYsdmK2LEg2LTYp9mF2YQg2YTZhNmF2LPYqtmB2YrYr1xyXG4gKiBHRVQgL2FwaS9yZXBvcnRzLzpiZW5lZmljaWFyeUlkL2NvbXByZWhlbnNpdmVcclxuICovXHJcbnJvdXRlci5nZXQoJy9yZXBvcnRzLzpiZW5lZmljaWFyeUlkL2NvbXByZWhlbnNpdmUnLCBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgcmVwb3J0ID0gYXdhaXQgbWVhc3VyZW1lbnRTZXJ2aWNlLmdlbmVyYXRlQ29tcHJlaGVuc2l2ZVJlcG9ydChcclxuICAgICAgcmVxLnBhcmFtcy5iZW5lZmljaWFyeUlkXHJcbiAgICApO1xyXG5cclxuICAgIHJlcy5qc29uKHtcclxuICAgICAgc3VjY2VzczogdHJ1ZSxcclxuICAgICAgZGF0YTogcmVwb3J0XHJcbiAgICB9KTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgcmVzLnN0YXR1cyg1MDApLmpzb24oeyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfSk7XHJcbiAgfVxyXG59KTtcclxuXHJcbi8qKlxyXG4gKiDYqtiq2KjYuSDZgdi52KfZhNmK2Kkg2KfZhNio2LHZhtin2YXYrFxyXG4gKiBHRVQgL2FwaS9wcm9ncmFtcy9lZmZlY3RpdmVuZXNzLzpwcm9ncmVzc0lkXHJcbiAqL1xyXG5yb3V0ZXIuZ2V0KCcvcHJvZ3JhbXMvZWZmZWN0aXZlbmVzcy86cHJvZ3Jlc3NJZCcsIGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCBzbWFydEVuZ2luZSA9IG5ldyBTbWFydEVuZ2luZSgpO1xyXG4gICAgY29uc3QgZWZmZWN0aXZlbmVzcyA9IGF3YWl0IHNtYXJ0RW5naW5lLnRyYWNrUHJvZ3JhbUVmZmVjdGl2ZW5lc3MoXHJcbiAgICAgIHJlcS5wYXJhbXMucHJvZ3Jlc3NJZFxyXG4gICAgKTtcclxuXHJcbiAgICByZXMuanNvbih7XHJcbiAgICAgIHN1Y2Nlc3M6IHRydWUsXHJcbiAgICAgIGRhdGE6IGVmZmVjdGl2ZW5lc3NcclxuICAgIH0pO1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICByZXMuc3RhdHVzKDUwMCkuanNvbih7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogZXJyb3IubWVzc2FnZSB9KTtcclxuICB9XHJcbn0pO1xyXG5cclxuLyoqXHJcbiAqINin2YTYrdi12YjZhCDYudmE2Ykg2KfZhNio2LHYp9mF2Kwg2KfZhNmG2LTYt9ipINmE2YTZhdiz2KrZgdmK2K9cclxuICogR0VUIC9hcGkvcHJvZ3JhbXMvYWN0aXZlLzpiZW5lZmljaWFyeUlkXHJcbiAqL1xyXG5yb3V0ZXIuZ2V0KCcvYWN0aXZlLzpiZW5lZmljaWFyeUlkJywgYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IGFjdGl2ZVByb2dyYW1zID0gYXdhaXQgUHJvZ3JhbVByb2dyZXNzLmZpbmQoe1xyXG4gICAgICBiZW5lZmljaWFyeUlkOiByZXEucGFyYW1zLmJlbmVmaWNpYXJ5SWQsXHJcbiAgICAgIG92ZXJhbGxTdGF0dXM6ICdBQ1RJVkUnXHJcbiAgICB9KVxyXG4gICAgICAucG9wdWxhdGUoJ3Byb2dyYW1JZCcpXHJcbiAgICAgIC5zZWxlY3QoJ3Byb2dyYW1JZCBlbnJvbGxtZW50RGF0ZSBleHBlY3RlZENvbXBsZXRpb25EYXRlIGNvbXBsZXRlZFNlc3Npb25zIHRvdGFsUGxhbm5lZFNlc3Npb25zJyk7XHJcblxyXG4gICAgcmVzLmpzb24oe1xyXG4gICAgICBzdWNjZXNzOiB0cnVlLFxyXG4gICAgICBjb3VudDogYWN0aXZlUHJvZ3JhbXMubGVuZ3RoLFxyXG4gICAgICBkYXRhOiBhY3RpdmVQcm9ncmFtc1xyXG4gICAgfSk7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBlcnJvci5tZXNzYWdlIH0pO1xyXG4gIH1cclxufSk7XHJcblxyXG4vKipcclxuICog2KrZgtmK2YrZhSDYs9ix2YrYuSAoUXVpY2sgQXNzZXNzbWVudClcclxuICogUE9TVCAvYXBpL21lYXN1cmVtZW50cy9xdWljay1hc3Nlc3NtZW50LzpiZW5lZmljaWFyeUlkXHJcbiAqL1xyXG5yb3V0ZXIucG9zdCgnL3F1aWNrLWFzc2Vzc21lbnQvOmJlbmVmaWNpYXJ5SWQnLCBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgYXNzZXNzbWVudCA9IG5ldyBRdWlja0Fzc2Vzc21lbnQoe1xyXG4gICAgICBiZW5lZmljaWFyeUlkOiByZXEucGFyYW1zLmJlbmVmaWNpYXJ5SWQsXHJcbiAgICAgIGFzc2Vzc21lbnRUeXBlOiByZXEuYm9keS5hc3Nlc3NtZW50VHlwZSxcclxuICAgICAgaXRlbXM6IHJlcS5ib2R5Lml0ZW1zLFxyXG4gICAgICB0b3RhbFNjb3JlOiByZXEuYm9keS50b3RhbFNjb3JlLFxyXG4gICAgICBsZXZlbDogcmVxLmJvZHkubGV2ZWwsXHJcbiAgICAgIHBlcmZvcm1lZEJ5OiByZXEudXNlci5faWRcclxuICAgIH0pO1xyXG5cclxuICAgIGF3YWl0IGFzc2Vzc21lbnQuc2F2ZSgpO1xyXG5cclxuICAgIHJlcy5zdGF0dXMoMjAxKS5qc29uKHtcclxuICAgICAgc3VjY2VzczogdHJ1ZSxcclxuICAgICAgbWVzc2FnZTogJ9iq2YUg2K3Zgdi4INin2YTYqtmC2YrZitmFINin2YTYs9ix2YrYuScsXHJcbiAgICAgIGRhdGE6IGFzc2Vzc21lbnRcclxuICAgIH0pO1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICByZXMuc3RhdHVzKDQwMCkuanNvbih7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogZXJyb3IubWVzc2FnZSB9KTtcclxuICB9XHJcbn0pO1xyXG5cclxubW9kdWxlLmV4cG9ydHMgPSByb3V0ZXI7XHJcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxNQUFNQSxPQUFPLEdBQUdDLE9BQU8sQ0FBQyxTQUFTLENBQUM7QUFDbEMsTUFBTUMsTUFBTSxHQUFHRixPQUFPLENBQUNHLE1BQU0sQ0FBQyxDQUFDO0FBQy9CLE1BQU1DLGtCQUFrQixHQUFHSCxPQUFPLENBQUMsZ0NBQWdDLENBQUM7QUFDcEUsTUFBTUksV0FBVyxHQUFHSixPQUFPLENBQUMsMkNBQTJDLENBQUM7QUFDeEUsTUFBTTtFQUNKSyxlQUFlO0VBQ2ZDLGlCQUFpQjtFQUNqQkMsaUJBQWlCO0VBQ2pCQyxtQkFBbUI7RUFDbkJDO0FBQ0YsQ0FBQyxHQUFHVCxPQUFPLENBQUMsNkJBQTZCLENBQUM7QUFFMUMsTUFBTTtFQUNKVSxxQkFBcUI7RUFDckJDLGVBQWU7RUFDZkMsZUFBZTtFQUNmQztBQUNGLENBQUMsR0FBR2IsT0FBTyxDQUFDLHVDQUF1QyxDQUFDO0FBRXBELE1BQU1jLGtCQUFrQixHQUFHLElBQUlYLGtCQUFrQixDQUFDLENBQUM7O0FBRW5EO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBRixNQUFNLENBQUNjLEdBQUcsQ0FBQyxRQUFRLEVBQUUsT0FBT0MsR0FBRyxFQUFFQyxHQUFH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QUFNLENBQUMsd0ZBQXdGLENBQUM7SUFFbkdSLEdBQUcsQ0FBQ1MsSUFBSSxDQUFDO01BQ1BDLE9BQU8sRUFBRSxJQUFJO01BQ2JDLEtBQUssRUFBRThELGNBQWMsQ0FBQzdELE1BQU07TUFDNUJDLElBQUksRUFBRTREO0lBQ1IsQ0FBQyxDQUFDO0VBQ0osQ0FBQyxDQUFDLE9BQU8zRCxLQUFLLEVBQUU7SUFDZGQsR0FBRyxDQUFDZSxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNOLElBQUksQ0FBQztNQUFFQyxPQUFPLEVBQUUsS0FBSztNQUFFSSxLQUFLLEVBQUVBLEtBQUssQ0FBQ0U7SUFBUSxDQUFDLENBQUM7RUFDaEU7QUFDRixDQUFDLENBQUM7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQWhDLE1BQU0sQ0FBQ2lDLElBQUksQ0FBQyxrQ0FBa0MsRUFBRSxPQUFPbEIsR0FBRyxFQUFFQyxHQUFHLEtBQUs7RUFDbEUsSUFBSTtJQUNGLE1BQU0yRSxVQUFVLEdBQUcsSUFBSW5GLGVBQWUsQ0FBQztNQUNyQ3NDLGFBQWEsRUFBRS9CLEdBQUcsQ0FBQzZCLE1BQU0sQ0FBQ0UsYUFBYTtNQUN2QzhDLGNBQWMsRUFBRTdFLEdBQUcsQ0FBQ3FCLElBQUksQ0FBQ3dELGNBQWM7TUFDdkNDLEtBQUssRUFBRTlFLEdBQUcsQ0FBQ3FCLElBQUksQ0FBQ3lELEtBQUs7TUFDckJDLFVBQVUsRUFBRS9FLEdBQUcsQ0FBQ3FCLElBQUksQ0FBQzBELFVBQVU7TUFDL0JDLEtBQUssRUFBRWhGLEdBQUcsQ0FBQ3FCLElBQUksQ0FBQzJELEtBQUs7TUFDckJDLFdBQVcsRUFBRWpGLEdBQUcsQ0FBQzRDLElBQUksQ0FBQ0M7SUFDeEIsQ0FBQyxDQUFDO0lBRUYsTUFBTStCLFVBQVUsQ0FBQ00sSUFBSSxDQUFDLENBQUM7SUFFdkJqRixHQUFHLENBQUNlLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ04sSUFBSSxDQUFDO01BQ25CQyxPQUFPLEVBQUUsSUFBSTtNQUNiTSxPQUFPLEVBQUUsdUJBQXVCO01BQ2hDSCxJQUFJLEVBQUU4RDtJQUNSLENBQUMsQ0FBQztFQUNKLENBQUMsQ0FBQyxPQUFPN0QsS0FBSyxFQUFFO0lBQ2RkLEdBQUcsQ0FBQ2UsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDTixJQUFJLENBQUM7TUFBRUMsT0FBTyxFQUFFLEtBQUs7TUFBRUksS0FBSyxFQUFFQSxLQUFLLENBQUNFO0lBQVEsQ0FBQyxDQUFDO0VBQ2hFO0FBQ0YsQ0FBQyxDQUFDO0FBRUZrRSxNQUFNLENBQUNDLE9BQU8sR0FBR25HLE1BQU0iLCJpZ25vcmVMaXN0IjpbXX0=