d089825d4b021f0418e008cc38d63017
/**
 * üá∏üá¶ Qiwa Service - Testing Utilities & Test Suite
 * Comprehensive Unit and Integration Tests
 *
 * Test Coverage:
 * ‚úÖ Employee Verification Tests
 * ‚úÖ Contract Management Tests
 * ‚úÖ Wage Management Tests
 * ‚úÖ WPS Integration Tests
 * ‚úÖ Nitaqat Tracking Tests
 * ‚úÖ Batch Operations Tests
 * ‚úÖ Error Handling Tests
 * ‚úÖ Performance Tests
 *
 * @version 2.0.0
 * @author AI Integration Team
 * @date 2026-02-17
 */

const assert = require('assert');
const QiwaService = require('./qiwa.service');

// =====================================================
// TEST DATA FIXTURES
// =====================================================

const testData = {
  validIqama: '2345678901',
  validNationalId: '1234567890',
  invalidIqama: '12345',
  invalidNationalId: 'abc123',
  contractData: {
    employeeIqama: '2345678901',
    contractType: 'unlimited',
    jobTitle: 'Software Engineer',
    jobTitleArabic: 'ŸÖŸáŸÜÿØÿ≥ ÿ®ÿ±ŸÖÿ¨Ÿäÿßÿ™',
    basicSalary: 15000,
    housingAllowance: 5000,
    transportAllowance: 1000,
    startDate: new Date('2026-02-17'),
    workingHours: 8
  },
  wageData: {
    basicSalary: 18000,
    housingAllowance: 6000,
    transportAllowance: 1500,
    effectiveDate: new Date('2026-02-17')
  },
  payrollData: {
    period: '2026-02',
    submissionType: 'regular',
    employees: [{
      iqamaNumber: '2345678901',
      basicSalary: 15000,
      allowances: {
        housing: 5000
      },
      deductions: {
        gosi: 375
      },
      netSalary: 19625
    }, {
      iqamaNumber: '2345678902',
      basicSalary: 18000,
      allowances: {
        housing: 6000,
        transport: 1500
      },
      deductions: {
        gosi: 450
      },
      netSalary: 25050
    }]
  },
  nitataqatWorkforce: [{
    iqamaNumber: '2345678901',
    nationality: 'Saudi',
    position: 'Manager'
  }, {
    iqamaNumber: '2345678902',
    nationality: 'Non-Saudi',
    position: 'Specialist'
  }]
};

// =====================================================
// TEST SUITE
// =====================================================

class QiwaTestSuite {
  constructor() {
    this.service = new QiwaService();
    this.results = {
      passed: 0,
      failed: 0,
      skipped: 0,
      tests: []
    };
  }

  /**
   * Run all tests
   */
  async runAllTests() {
    console.log('\nüá∏üá¶ === Qiwa Service Test Suite ===\n');
    await this.runVerificationTests();
    await this.runContractTests();
    await this.runWageTests();
    await this.runWPSTests();
    await this.runNitaqatTests();
    await this.runBatchOperationTests();
    await this.runErrorHandlingTests();
    await this.runPerformanceTests();
    await this.runAdvancedFeatureTests();
    this.printResults();
  }

  /**
   * Employee Verification Tests
   */
  async runVerificationTests() {
    console.log('üìã Running Verification Tests...');
    await this.testCase('Valid Iqama Verification', async () => {
      // Mock the service method
      this.service.verifyEmployeeByIqama = async iqama => ({
        success: true,
        data: {
          iqama,
          verified: true
        }
      });
      const result = await this.service.verifyEmployeeByIqama(testData.validIqama);
      assert.strictEqual(result.success, true);
      assert.strictEqual(result.data.verified, true);
    });
    await this.testCase('Invalid Iqama Validation', async () => {
      try {
        this.service._validate('iqama', testData.invalidIqama);
        throw new Error('Should have thrown');
      } catch (error) {
        assert.strictEqual(error.message, 'Invalid iqama');
      }
    });
    await this.testCase('Valid National ID Verification', async () => {
      this.service.verifyEmployeeByNationalId = async nationalId => ({
        success: true,
        data: {
          nationalId,
          verified: true
        }
      });
      const result = await this.service.verifyEmployeeByNationalId(testData.validNationalId);
      assert.strictEqual(result.success, true);
    });
    await this.testCase('Labor Record Retrieval', async () => {
      this.service.getEmployeeLaborRecord = async iqama => ({
        success: true,
        data: {
          iqama,
          contracts: [{
            contractId: 'CNT001',
            status: 'active'
          }]
        }
      });
      const result = await this.service.getEmployeeLaborRecord(testData.validIqama);
      assert.strictEqual(result.data.contracts.length, 1);
    });
  }

  /**
   * Contract Management Tests
   */
  async runContractTests() {
    console.log('üìã Running Contract Tests...');
    await this.testCase('Register Valid Contract', async () => {
      this.service.registerContract = async data => ({
        success: true,
        data: {
          contractId: 'CNT001',
          iqama: data.employeeIqama,
          status: 'registered'
        }
      });
      const result = await this.service.registerContract(testData.contractData);
      assert.strictEqual(result.success, true);
      assert.strictEqual(result.data.status, 'registered');
    });
    await this.testCase('Contract Validation - Missing Required Fields', async () => {
      try {
        this.service._validateContract({
          employeeIqama: '2345678901'
          // Missing other required fields
        });
        throw new Error('Should have thrown');
      } catch (error) {
        assert(error.message.includes('Missing required field'));
      }
    });
    await this.testCase('Update Contract', async () => {
      this.service.updateContract = async (id, updates) => ({
        success: true,
        data: {
          contractId: id,
          status: 'updated',
          ...updates
        }
      });
      const result = await this.service.updateContract('CNT001', {
        jobTitle: 'Senior Engineer'
      });
      assert.strictEqual(result.data.status, 'updated');
      assert.strictEqual(result.data.jobTitle, 'Senior Engineer');
    });
    await this.testCase('Terminate Contract', async () => {
      this.service.terminateContract = async (id, reason) => ({
        success: true,
        data: {
          contractId: id,
          status: 'terminated',
          terminationReason: reason
        }
      });
      const result = await this.service.terminateContract('CNT001', 'resignation');
      assert.strictEqual(result.data.status, 'terminated');
    });
    await this.testCase('Get Contract Details', async () => {
      this.service.getContract = async id => ({
        success: true,
        data: {
          contractId: id,
          employeeIqama: testData.validIqama,
          status: 'active'
        }
      });
      const result = await this.service.getContract('CNT001');
      assert.strictEqual(result.data.status, 'active');
    });
    await this.testCase('List Contracts with Filters', async () => {
      this.service.listContracts = async filters => ({
        success: true,
        data: {
          contracts: [{
            contractId: 'CNT001',
            status: 'active'
          }, {
            contractId: 'CNT002',
            status: 'active'
          }],
          total: 2
        }
      });
      const result = await this.service.listContracts({
        status: 'active'
      });
      assert.strictEqual(result.data.contracts.length, 2);
    });
  }

  /**
   * Wage Management Tests
   */
  async runWageTests() {
    console.log('üìã Running Wage Management Tests...');
    await this.testCase('Update Employee Wage', async () => {
      this.service.updateEmployeeWage = async (iqama, wage) => ({
        success: true,
        data: {
          iqama,
          basicSalary: wage.basicSalary,
          status: 'updated'
        }
      });
      const result = await this.service.updateEmployeeWage(testData.validIqama, testData.wageData);
      assert.strictEqual(result.data.basicSalary, 18000);
    });
    await this.testCase('Wage Normalization', async () => {
      const normalized = this.service._normalizeWageData(testData.wageData);
      assert.strictEqual(normalized.basicSalary, 18000);
      assert.strictEqual(normalized.housingAllowance, 6000);
      assert.strictEqual(normalized.transportAllowance, 1500);
    });
    await this.testCase('Get Wage History', async () => {
      this.service.getWageHistory = async (iqama, months) => ({
        success: true,
        data: {
          iqama,
          history: [{
            basicSalary: 15000,
            effectiveDate: '2025-01-01'
          }, {
            basicSalary: 16000,
            effectiveDate: '2025-06-01'
          }, {
            basicSalary: 18000,
            effectiveDate: '2026-02-01'
          }]
        }
      });
      const result = await this.service.getWageHistory(testData.validIqama, 12);
      assert.strictEqual(result.data.history.length, 3);
    });
    await this.testCase('Wage Compliance Check', async () => {
      this.service.calculateWageCompliance = async (iqama, newWage) => ({
        success: true,
        data: {
          iqama,
          compliant: true,
          message: 'Wage change complies with regulations'
        }
      });
      const result = await this.service.calculateWageCompliance(testData.validIqama, {
        basicSalary: 20000
      });
      assert.strictEqual(result.data.compliant, true);
    });
  }

  /**
   * WPS Integration Tests
   */
  async runWPSTests() {
    console.log('üìã Running WPS Integration Tests...');
    await this.testCase('Submit Payroll to WPS', async () => {
      this.service.submitPayrollToWPS = async payroll => ({
        success: true,
        data: {
          id: 'WPS001',
          status: 'submitted',
          employees: payroll.employees.length
        }
      });
      const result = await this.service.submitPayrollToWPS(testData.payrollData);
      assert.strictEqual(result.data.status, 'submitted');
      assert.strictEqual(result.data.employees, 2);
    });
    await this.testCase('Payroll Normalization', async () => {
      const normalized = this.service._normalizePayrollData(testData.payrollData);
      assert.strictEqual(normalized.employees.length, 2);
      assert.strictEqual(normalized.period, '2026-02');
    });
    await this.testCase('Get WPS Status', async () => {
      this.service.getWPSStatus = async submissionId => ({
        success: true,
        data: {
          submissionId,
          status: 'accepted',
          confirmationNumber: 'CNF123456'
        }
      });
      const result = await this.service.getWPSStatus('WPS001');
      assert.strictEqual(result.data.status, 'accepted');
    });
    await this.testCase('Get WPS Compliance Report', async () => {
      this.service.getWPSComplianceReport = async period => ({
        success: true,
        data: {
          period,
          compliant: true,
          issues: []
        }
      });
      const result = await this.service.getWPSComplianceReport('2026-02');
      assert.strictEqual(result.data.compliant, true);
    });
  }

  /**
   * Nitaqat Tests
   */
  async runNitaqatTests() {
    console.log('üìã Running Nitaqat Tests...');
    await this.testCase('Get Nitaqat Status', async () => {
      this.service.getNitaqatStatus = async () => ({
        success: true,
        data: {
          status: 'green',
          points: 85,
          compliant: true
        }
      });
      const result = await this.service.getNitaqatStatus();
      assert.strictEqual(result.data.status, 'green');
    });
    await this.testCase('Get Nitaqat Compliance', async () => {
      this.service.getNitaqatCompliance = async () => ({
        success: true,
        data: {
          compliant: true,
          percentage: 42.5
        }
      });
      const result = await this.service.getNitaqatCompliance();
      assert.strictEqual(result.data.compliant, true);
    });
    await this.testCase('Calculate Nitaqat Points', async () => {
      this.service.calculateNitaqatPoints = async workforce => ({
        success: true,
        data: {
          totalPoints: 85,
          saudiPoints: 50,
          nonSaudiPoints: 35
        }
      });
      const result = await this.service.calculateNitaqatPoints(testData.nitataqatWorkforce);
      assert.strictEqual(result.data.totalPoints, 85);
    });
  }

  /**
   * Batch Operations Tests
   */
  async runBatchOperationTests() {
    console.log('üìã Running Batch Operations Tests...');
    await this.testCase('Batch Register Contracts', async () => {
      this.service.batchRegisterContracts = async contracts => ({
        results: contracts.map(c => ({
          success: true,
          data: {
            contractId: 'CNT_' + Math.random()
          }
        })),
        summary: {
          total: contracts.length,
          successful: contracts.length,
          failed: 0
        }
      });
      const contracts = [testData.contractData, testData.contractData];
      const result = await this.service.batchRegisterContracts(contracts);
      assert.strictEqual(result.summary.successful, 2);
    });
    await this.testCase('Batch Update Wages', async () => {
      this.service.batchUpdateWages = async updates => ({
        results: updates.map(u => ({
          success: true
        })),
        summary: {
          total: updates.length,
          successful: updates.length,
          failed: 0
        }
      });
      const updates = [{
        iqamaNumber: '2345678901',
        wageData: testData.wageData
      }, {
        iqamaNumber: '2345678902',
        wageData: testData.wageData
      }];
      const result = await this.service.batchUpdateWages(updates);
      assert.strictEqual(result.summary.successful, 2);
    });
  }

  /**
   * Error Handling Tests
   */
  async runErrorHandlingTests() {
    console.log('üìã Running Error Handling Tests...');
    await this.testCase('Invalid Salary', async () => {
      try {
        this.service._normalizeWageData({
          basicSalary: -1000,
          effectiveDate: new Date()
        });
        throw new Error('Should have thrown');
      } catch (error) {
        // Expected
      }
    });
    await this.testCase('Invalid Contract Type', async () => {
      try {
        this.service._validateContract({
          ...testData.contractData,
          contractType: 'invalid'
        });
        throw new Error('Should have thrown');
      } catch (error) {
        assert(error.message.includes('Invalid contract type'));
      }
    });
    await this.testCase('Error Formatting', async () => {
      const mockError = {
        response: {
          status: 400,
          data: {
            message: 'Bad request'
          }
        },
        message: 'HTTP Error'
      };
      const formatted = this.service._formatError(mockError);
      assert.strictEqual(formatted.statusCode, 400);
    });
  }

  /**
   * Performance Tests
   */
  async runPerformanceTests() {
    console.log('üìã Running Performance Tests...');
    await this.testCase('Cache Performance', async () => {
      const key = 'test_cache_key';
      const value = {
        data: 'test',
        timestamp: Date.now()
      };
      this.service._setCache(key, value, 3600);
      const cached = this.service._getCache(key);
      assert.deepStrictEqual(cached, value);
    });
    await this.testCase('Multiple Cache Operations', async () => {
      for (let i = 0; i < 100; i++) {
        this.service._setCache(`key_${i}`, {
          index: i
        }, 3600);
      }
      const metrics = this.service.getMetrics();
      assert(metrics.cachedResponses >= 0);
    });
    await this.testCase('Request History Tracking', async () => {
      const history = this.service.getRequestHistory({
        limit: 10
      });
      assert(Array.isArray(history));
    });
    await this.testCase('Metrics Collection', async () => {
      const metrics = this.service.getMetrics();
      assert(metrics.hasOwnProperty('totalRequests'));
      assert(metrics.hasOwnProperty('successfulRequests'));
      assert(metrics.hasOwnProperty('failedRequests'));
    });
  }

  /**
   * Advanced Feature Tests
   */
  async runAdvancedFeatureTests() {
    console.log('üìã Running Advanced Feature Tests...');
    await this.testCase('Contract Normalization', async () => {
      const normalized = this.service._normalizeContractData(testData.contractData);
      assert.strictEqual(normalized.contractType, 'unlimited');
      assert.strictEqual(normalized.startDate, '2026-02-17');
    });
    await this.testCase('Data Response Transformation', async () => {
      const mockResponse = {
        data: {
          id: '123',
          name: 'test'
        },
        statusCode: 200
      };
      const transformed = this.service._transformResponse(mockResponse, 'test');
      assert.strictEqual(transformed.success, true);
      assert.strictEqual(transformed.statusCode, 200);
    });
    await this.testCase('Health Check', async () => {
      this.service.healthCheck = async () => ({
        status: 'healthy',
        timestamp: new Date(),
        metrics: {
          totalRequests: 0
        }
      });
      const health = await this.service.healthCheck();
      assert.strictEqual(health.status, 'healthy');
    });
  }

  // =====================================================
  // TEST UTILITIES
  // =====================================================

  /**
   * Run single test case
   */
  async testCase(name, fn) {
    try {
      await fn();
      this.results.passed++;
      this.results.tests.push({
        name,
        status: 'PASSED',
        duration: 0
      });
      console.log(`  ‚úÖ ${name}`);
    } catch (error) {
      this.results.failed++;
      this.results.tests.push({
        name,
        status: 'FAILED',
        error: error.message
      });
      console.error(`  ‚ùå ${name}: ${error.message}`);
    }
  }

  /**
   * Print test results summary
   */
  printResults() {
    console.log('\nüìä === Test Results ===\n');
    console.log(`‚úÖ Passed:  ${this.results.passed}`);
    console.log(`‚ùå Failed:  ${this.results.failed}`);
    console.log(`‚è≠Ô∏è  Skipped: ${this.results.skipped}`);
    console.log(`üìà Total:   ${this.results.passed + this.results.failed}`);
    console.log(`üìä Success Rate: ${(this.results.passed / (this.results.passed + this.results.failed) * 100).toFixed(2)}%\n`);
  }
}

// =====================================================
// EXPORTS & CLI
// =====================================================

module.exports = QiwaTestSuite;

// Run tests if executed directly
if (require.main === module) {
  const suite = new QiwaTestSuite();
  suite.runAllTests().catch(console.error);
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJhc3NlcnQiLCJyZXF1aXJlIiwiUWl3YVNlcnZpY2UiLCJ0ZXN0RGF0YSIsInZhbGlkSXFhbWEiLCJ2YWxpZE5hdGlvbmFsSWQiLCJpbnZhbGlkSXFhbWEiLCJpbnZhbGlkTmF0aW9uYWxJZCIsImNvbnRyYWN0RGF0YSIsImVtcGxveWVlSXFhbWEiLCJjb250cmFjdFR5cGUiLCJqb2JUaXRsZSIsImpvYlRpdGxlQXJhYmljIiwiYmFzaWNTYWxhcnkiLCJob3VzaW5nQWxsb3dhbmNlIiwidHJhbnNwb3J0QWxsb3dhbmNlIiwic3RhcnREYXRlIiwiRGF0ZSIsIndvcmtpbmdIb3VycyIsIndhZ2VEYXRhIiwiZWZmZWN0aXZlRGF0ZSIsInBheXJvbGxEYXRhIiwicGVyaW9kIiwic3VibWlzc2lvblR5cGUiLCJlbXBsb3llZXMiLCJpcWFtYU51bWJlciIsImFsbG93YW5jZXMiLCJob3VzaW5nIiwiZGVkdWN0aW9ucyIsImdvc2kiLCJuZXRTYWxhcnkiLCJ0cmFuc3BvcnQiLCJuaXRhdGFxYXRXb3JrZm9yY2UiLCJuYXRpb25hbGl0eSIsInBvc2l0aW9uIiwiUWl3YVRlc3RTdWl0ZSIsImNvbnN0cnVjdG9yIiwic2VydmljZSIsInJlc3VsdHMiLCJwYXNzZWQiLCJmYWlsZWQiLCJza2lwcGVkIiwidGVzdHMiLCJydW5BbGxUZXN0cyIsImNvbnNvbGUiLCJsb2ciLCJydW5WZXJpZmljYXRpb25UZXN0cyIsInJ1bkNvbnRyYWN0VGVzdHMiLCJydW5XYWdlVGVzdHMiLCJydW5XUFNUZXN0cyIsInJ1bk5pdGFxYXRUZXN0cyIsInJ1bkJhdGNoT3BlcmF0aW9uVGVzdHMiLCJydW5FcnJvckhhbmRsaW5nVGVzdHMiLCJydW5QZXJmb3JtYW5jZVRlc3RzIiwicnVuQWR2YW5jZWRGZWF0dXJlVGVzdHMiLCJwcmludFJlc3VsdHMiLCJ0ZXN0Q2FzZSIsInZlcmlmeUVtcGxveWVlQnlJcWFtYSIsImlxYW1hIiwic3VjY2VzcyIsImRhdGEiLCJ2ZXJpZmllZCIsInJlc3VsdCIsInN0cmljdEVxdWFsIiwiX3ZhbGlkYXRlIiwiRXJyb3IiLCJlcnJvciIsIm1lc3NhZ2UiLCJ2ZXJpZnlFbXBsb3llZUJ5TmF0aW9uYWxJZCIsIm5hdGlvbmFsSWQiLCJnZXRFbXBsb3llZUxhYm9yUmVjb3JkIiwiY29udHJhY3RzIiwiY29udHJhY3RJZCIsInN0YXR1cyIsImxlbmd0aCIsInJlZ2lzdGVyQ29udHJhY3QiLCJfdmFsaWRhdGVDb250cmFjdCIsImluY2x1ZGVzIiwidXBkYXRlQ29udHJhY3QiLCJpZCIsInVwZGF0ZXMiLCJ0ZXJtaW5hdGVDb250cmFjdCIsInJlYXNvbiIsInRlcm1pbmF0aW9uUmVhc29uIiwiZ2V0Q29udHJhY3QiLCJsaXN0Q29udHJhY3RzIiwiZmlsdGVycyIsInRvdGFsIiwidXBkYXRlRW1wbG95ZWVXYWdlIiwid2FnZSIsIm5vcm1hbGl6ZWQiLCJfbm9ybWFsaXplV2FnZURhdGEiLCJnZXRXYWdlSGlzdG9yeSIsIm1vbnRocyIsImhpc3RvcnkiLCJjYWxjdWxhdGVXYWdlQ29tcGxpYW5jZSIsIm5ld1dhZ2UiLCJjb21wbGlhbnQiLCJzdWJtaXRQYXlyb2xsVG9XUFMiLCJwYXlyb2xsIiwiX25vcm1hbGl6ZVBheXJvbGxEYXRhIiwiZ2V0V1BTU3RhdHVzIiwic3VibWlzc2lvbklkIiwiY29uZmlybWF0aW9uTnVtYmVyIiwiZ2V0V1BTQ29tcGxpYW5jZVJlcG9ydCIsImlzc3VlcyIsImdldE5pdGFxYXRTdGF0dXMiLCJwb2ludHMiLCJnZXROaXRhcWF0Q29tcGxpYW5jZSIsInBlcmNlbnRhZ2UiLCJjYWxjdWxhdGVOaXRhcWF0UG9pbnRzIiwid29ya2ZvcmNlIiwidG90YWxQb2ludHMiLCJzYXVkaVBvaW50cyIsIm5vblNhdWRpUG9pbnRzIiwiYmF0Y2hSZWdpc3RlckNvbnRyYWN0cyIsIm1hcCIsImMiLCJNYXRoIiwicmFuZG9tIiwic3VtbWFyeSIsInN1Y2Nlc3NmdWwiLCJiYXRjaFVwZGF0ZVdhZ2VzIiwidSIsIm1vY2tFcnJvciIsInJlc3BvbnNlIiwiZm9ybWF0dGVkIiwiX2Zvcm1hdEVycm9yIiwic3RhdHVzQ29kZSIsImtleSIsInZhbHVlIiwidGltZXN0YW1wIiwibm93IiwiX3NldENhY2hlIiwiY2FjaGVkIiwiX2dldENhY2hlIiwiZGVlcFN0cmljdEVxdWFsIiwiaSIsImluZGV4IiwibWV0cmljcyIsImdldE1ldHJpY3MiLCJjYWNoZWRSZXNwb25zZXMiLCJnZXRSZXF1ZXN0SGlzdG9yeSIsImxpbWl0IiwiQXJyYXkiLCJpc0FycmF5IiwiaGFzT3duUHJvcGVydHkiLCJfbm9ybWFsaXplQ29udHJhY3REYXRhIiwibW9ja1Jlc3BvbnNlIiwibmFtZSIsInRyYW5zZm9ybWVkIiwiX3RyYW5zZm9ybVJlc3BvbnNlIiwiaGVhbHRoQ2hlY2siLCJ0b3RhbFJlcXVlc3RzIiwiaGVhbHRoIiwiZm4iLCJwdXNoIiwiZHVyYXRpb24iLCJ0b0ZpeGVkIiwibW9kdWxlIiwiZXhwb3J0cyIsIm1haW4iLCJzdWl0ZSIsImNhdGNoIl0sInNvdXJjZXMiOlsicWl3YS50ZXN0LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiDwn4e48J+HpiBRaXdhIFNlcnZpY2UgLSBUZXN0aW5nIFV0aWxpdGllcyAmIFRlc3QgU3VpdGVcclxuICogQ29tcHJlaGVuc2l2ZSBVbml0IGFuZCBJbnRlZ3JhdGlvbiBUZXN0c1xyXG4gKlxyXG4gKiBUZXN0IENvdmVyYWdlOlxyXG4gKiDinIUgRW1wbG95ZWUgVmVyaWZpY2F0aW9uIFRlc3RzXHJcbiAqIOKchSBDb250cmFjdCBNYW5hZ2VtZW50IFRlc3RzXHJcbiAqIOKchSBXYWdlIE1hbmFnZW1lbnQgVGVzdHNcclxuICog4pyFIFdQUyBJbnRlZ3JhdGlvbiBUZXN0c1xyXG4gKiDinIUgTml0YXFhdCBUcmFja2luZyBUZXN0c1xyXG4gKiDinIUgQmF0Y2ggT3BlcmF0aW9ucyBUZXN0c1xyXG4gKiDinIUgRXJyb3IgSGFuZGxpbmcgVGVzdHNcclxuICog4pyFIFBlcmZvcm1hbmNlIFRlc3RzXHJcbiAqXHJcbiAqIEB2ZXJzaW9uIDIuMC4wXHJcbiAqIEBhdXRob3IgQUkgSW50ZWdyYXRpb24gVGVhbVxyXG4gKiBAZGF0ZSAyMDI2LTAyLTE3XHJcbiAqL1xyXG5cclxuY29uc3QgYXNzZXJ0ID0gcmVxdWlyZSgnYXNzZXJ0Jyk7XHJcbmNvbnN0IFFpd2FTZXJ2aWNlID0gcmVxdWlyZSgnLi9xaXdhLnNlcnZpY2UnKTtcclxuXHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbi8vIFRFU1QgREFUQSBGSVhUVVJFU1xyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cclxuY29uc3QgdGVzdERhdGEgPSB7XHJcbiAgdmFsaWRJcWFtYTogJzIzNDU2Nzg5MDEnLFxyXG4gIHZhbGlkTmF0aW9uYWxJZDogJzEyMzQ1Njc4OTAnLFxyXG4gIGludmFsaWRJcWFtYTogJzEyMzQ1JyxcclxuICBpbnZhbGlkTmF0aW9uYWxJZDogJ2FiYzEyMycsXHJcblxyXG4gIGNvbnRyYWN0RGF0YToge1xyXG4gICAgZW1wbG95ZWVJcWFtYTogJzIzNDU2Nzg5MDEnLFxyXG4gICAgY29udHJhY3RUeXBlOiAndW5saW1pdGVkJyxcclxuICAgIGpvYlRpdGxlOiAnU29mdHdhcmUgRW5naW5lZXInLFxyXG4gICAgam9iVGl0bGVBcmFiaWM6ICfZhdmH2YbYr9izINio2LHZhdis2YrYp9iqJyxcclxuICAgIGJhc2ljU2FsYXJ5OiAxNTAwMCxcclxuICAgIGhvdXNpbmdBbGxvd2FuY2U6IDUwMDAsXHJcbiAgICB0cmFuc3BvcnRBbGxvd2FuY2U6IDEwMDAsXHJcbiAgICBzdGFydERhdGU6IG5ldyBEYXRlKCcyMDI2LTAyLTE3JyksXHJcbiAgICB3b3JraW5nSG91cnM6IDgsXHJcbiAgfSxcclxuXHJcbiAgd2FnZURhdGE6IHtcclxuICAgIGJhc2ljU2FsYXJ5OiAxODAwMCxcclxuICAgIGhvdXNpbmdBbGxvd2FuY2U6IDYwMDAsXHJcbiAgICB0cmFuc3BvcnRBbGxvd2FuY2U6IDE1MDAsXHJcbiAgICBlZmZlY3RpdmVEYXRlOiBuZXcgRGF0ZSgnMjAyNi0wMi0xNycpLFxyXG4gIH0sXHJcblxyXG4gIHBheXJvbGxEYXRhOiB7XHJcbiAgICBwZXJpb2Q6ICcyMDI2LTAyJyxcclxuICAgIHN1Ym1pc3Npb25UeXBlOiAncmVndWxhcicsXHJcbiAgICBlbXBsb3llZXM6IFtcclxuICAgICAge1xyXG4gICAgICAgIGlxYW1hTnVtYmVyOiAnMjM0NTY3ODkwMScsXHJcbiAgICAgICAgYmFzaWNTYWxhcnk6IDE1MDAwLFxyXG4gICAgICAgIGFsbG93YW5jZXM6IHsgaG91c2luZzogNTAwMCB9LFxyXG4gICAgICAgIGRlZHVjdGlvbnM6IHsgZ29zaTogMzc1IH0sXHJcbiAgICAgICAgbmV0U2FsYXJ5OiAxOTYyNSxcclxuICAgICAgfSxcclxuICAgICAge1xyXG4gICAgICAgIGlxYW1hTnVtYmVyOiAnMjM0NTY3ODkwMicsXHJcbiAgICAgICAgYmFzaWNTYWxhcnk6IDE4MDAwLFxyXG4gICAgICAgIGFsbG93YW5jZXM6IHsgaG91c2luZzogNjAwMCwgdHJhbnNwb3J0OiAxNTAwIH0sXHJcbiAgICAgICAgZGVkdWN0aW9uczogeyBnb3NpOiA0NTAgfSxcclxuICAgICAgICBuZXRTYWxhcnk6IDI1MDUwLFxyXG4gICAgICB9LFxyXG4gICAgXSxcclxuICB9LFxyXG5cclxuICBuaXRhdGFxYXRXb3JrZm9yY2U6IFtcclxuICAgIHtcclxuICAgICAgaXFhbWFOdW1iZXI6ICcyMzQ1Njc4OTAxJyxcclxuICAgICAgbmF0aW9uYWxpdHk6ICdTYXVkaScsXHJcbiAgICAgIHBvc2l0aW9uOiAnTWFuYWdlcicsXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICBpcWFtYU51bWJlcjogJzIzNDU2Nzg5MDInLFxyXG4gICAgICBuYXRpb25hbGl0eTogJ05vbi1TYXVkaScsXHJcbiAgICAgIHBvc2l0aW9uOiAnU3BlY2lhbGlzdCcsXHJcbiAgICB9LFxyXG4gIF0sXHJcbn07XHJcblxyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4vLyBURVNUIFNVSVRFXHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblxyXG5jbGFzcyBRaXdhVGVzdFN1aXRlIHtcclxuICBjb25zdHJ1Y3RvcigpIHtcclxuICAgIHRoaXMuc2VydmljZSA9IG5ldyBRaXdhU2VydmljZSgpO1xyXG4gICAgdGhpcy5yZXN1bHRzID0ge1xyXG4gICAgICBwYXNzZWQ6IDAsXHJcbiAgICAgIGZhaWxlZDogMCxcclxuICAgICAgc2tpcHBlZDogMCxcclxuICAgICAgdGVzdHM6IFtdLFxyXG4gICAgfTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFJ1biBhbGwgdGVzdHNcclxuICAgKi9cclxuICBhc3luYyBydW5BbGxUZXN0cygpIHtcclxuICAgIGNvbnNvbGUubG9nKCdcXG7wn4e48J+HpiA9PT0gUWl3YSBTZXJ2aWNlIFRlc3QgU3VpdGUgPT09XFxuJyk7XHJcblxyXG4gICAgYXdhaXQgdGhpcy5ydW5WZXJpZmljYXRpb25UZXN0cygpO1xyXG4gICAgYXdhaXQgdGhpcy5ydW5Db250cmFjdFRlc3RzKCk7XHJcbiAgICBhd2FpdCB0aGlzLnJ1bldhZ2VUZXN0cygpO1xyXG4gICAgYXdhaXQgdGhpcy5ydW5XUFNUZXN0cygpO1xyXG4gICAgYXdhaXQgdGhpcy5ydW5OaXRhcWF0VGVzdHMoKTtcclxuICAgIGF3YWl0IHRoaXMucnVuQmF0Y2hPcGVyYXRpb25UZXN0cygpO1xyXG4gICAgYXdhaXQgdGhpcy5ydW5FcnJvckhhbmRsaW5nVGVzdHMoKTtcclxuICAgIGF3YWl0IHRoaXMucnVuUGVyZm9ybWFuY2VUZXN0cygpO1xyXG4gICAgYXdhaXQgdGhpcy5ydW5BZHZhbmNlZEZlYXR1cmVUZXN0cygpO1xyXG5cclxuICAgIHRoaXMucHJpbnRSZXN1bHRzKCk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBFbXBsb3llZSBWZXJpZmljYXRpb24gVGVzdHNcclxuICAgKi9cclxuICBhc3luYyBydW5WZXJpZmljYXRpb25UZXN0cygpIHtcclxuICAgIGNvbnNvbGUubG9nKCfwn5OLIFJ1bm5pbmcgVmVyaWZpY2F0aW9uIFRlc3RzLi4uJyk7XHJcblxyXG4gICAgYXdhaXQgdGhpcy50ZXN0Q2FzZSgnVmFsaWQgSXFhbWEgVmVyaWZpY2F0aW9uJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICAvLyBNb2NrIHRoZSBzZXJ2aWNlIG1ldGhvZFxyXG4gICAgICB0aGlzLnNlcnZpY2UudmVyaWZ5RW1wbG95ZWVCeUlxYW1hID0gYXN5bmMgKGlxYW1hKSA9PiAoe1xyXG4gICAgICAgIHN1Y2Nlc3M6IHRydWUsXHJcbiAgICAgICAgZGF0YTogeyBpcWFtYSwgdmVyaWZpZWQ6IHRydWUgfSxcclxuICAgICAgfSk7XHJcblxyXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLnNlcnZpY2UudmVyaWZ5RW1wbG95ZWVCeUlxYW1hKFxyXG4gICAgICAgIHRlc3REYXRhLnZhbGlkSXFhbWFcclxuICAgICAgKTtcclxuICAgICAgYXNzZXJ0LnN0cmljdEVxdWFsKHJlc3VsdC5zdWNjZXNzLCB0cnVlKTtcclxuICAgICAgYXNzZXJ0LnN0cmljdEVxdWFsKHJlc3VsdC5kYXRhLnZlcmlmaWVkLCB0cnVlKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGF3YWl0IHRoaXMudGVzdENhc2UoJ0ludmFsaWQgSXFhbWEgVmFsaWRhdGlvbicsIGFzeW5jICgpID0+IHtcclxuICAgICAgdHJ5IHtcclxuICAgICAgICB0aGlzLnNlcnZpY2UuX3ZhbGlkYXRlKCdpcWFtYScsIHRlc3REYXRhLmludmFsaWRJcWFtYSk7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdTaG91bGQgaGF2ZSB0aHJvd24nKTtcclxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICBhc3NlcnQuc3RyaWN0RXF1YWwoZXJyb3IubWVzc2FnZSwgJ0ludmFsaWQgaXFhbWEnKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgYXdhaXQgdGhpcy50ZXN0Q2FzZSgnVmFsaWQgTmF0aW9uYWwgSUQgVmVyaWZpY2F0aW9uJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICB0aGlzLnNlcnZpY2UudmVyaWZ5RW1wbG95ZWVCeU5hdGlvbmFsSWQgPSBhc3luYyAobmF0aW9uYWxJZCkgPT4gKHtcclxuICAgICAgICBzdWNjZXNzOiB0cnVlLFxyXG4gICAgICAgIGRhdGE6IHsgbmF0aW9uYWxJZCwgdmVyaWZpZWQ6IHRydWUgfSxcclxuICAgICAgfSk7XHJcblxyXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLnNlcnZpY2UudmVyaWZ5RW1wbG95ZWVCeU5hdGlvbmFsSWQoXHJcbiAgICAgICAgdGVzdERhdGEudmFsaWROYXRpb25hbElkXHJcbiAgICAgICk7XHJcbiAgICAgIGFzc2VydC5zdHJpY3RFcXVhbChyZXN1bHQuc3VjY2VzcywgdHJ1ZSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBhd2FpdCB0aGlzLnRlc3RDYXNlKCdMYWJvciBSZWNvcmQgUmV0cmlldmFsJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICB0aGlzLnNlcnZpY2UuZ2V0RW1wbG95ZWVMYWJvclJlY29yZCA9IGFzeW5jIChpcWFtYSkgPT4gKHtcclxuICAgICAgICBzdWNjZXNzOiB0cnVlLFxyXG4gICAgICAgIGRhdGE6IHtcclxuICAgICAgICAgIGlxYW1hLFxyXG4gICAgICAgICAgY29udHJhY3RzOiBbXHJcbiAgICAgICAgICAgIHsgY29udHJhY3RJZDogJ0NOVDAwMScsIHN0YXR1czogJ2FjdGl2ZScgfSxcclxuICAgICAgICAgIF0sXHJcbiAgICAgICAgfSxcclxuICAgICAgfSk7XHJcblxyXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLnNlcnZpY2UuZ2V0RW1wbG95ZWVMYWJvclJlY29yZChcclxuICAgICAgICB0ZXN0RGF0YS52YWxpZElxYW1hXHJcbiAgICAgICk7XHJcbiAgICAgIGFzc2VydC5zdHJpY3RFcXVhbChyZXN1bHQuZGF0YS5jb250cmFjdHMubGVuZ3RoLCAxKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQ29udHJhY3QgTWFuYWdlbWVudCBUZXN0c1xyXG4gICAqL1xyXG4gIGFzeW5jIHJ1bkNvbnRyYWN0VGVzdHMoKSB7XHJcbiAgICBjb25zb2xlLmxvZygn8J+TiyBSdW5uaW5nIENvbnRyYWN0IFRlc3RzLi4uJyk7XHJcblxyXG4gICAgYXdhaXQgdGhpcy50ZXN0Q2FzZSgnUmVnaXN0ZXIgVmFsaWQgQ29udHJhY3QnLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIHRoaXMuc2VydmljZS5yZWdpc3RlckNvbnRyYWN0ID0gYXN5bmMgKGRhdGEpID0+ICh7XHJcbiAgICAgICAgc3VjY2VzczogdHJ1ZSxcclxuICAgICAgICBkYXRhOiB7XHJcbiAgICAgICAgICBjb250cmFjdElkOiAnQ05UMDAxJyxcclxuICAgICAgICAgIGlxYW1hOiBkYXRhLmVtcGxveWVlSXFhbWEsXHJcbiAgICAgICAgICBzdGF0dXM6ICdyZWdpc3RlcmVkJyxcclxuICAgICAgICB9LFxyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRoaXMuc2VydmljZS5yZWdpc3RlckNvbnRyYWN0KHRlc3REYXRhLmNvbnRyYWN0RGF0YSk7XHJcbiAgICAgIGFzc2VydC5zdHJpY3RFcXVhbChyZXN1bHQuc3VjY2VzcywgdHJ1ZSk7XHJcbiAgICAgIGFzc2VydC5zdHJpY3RFcXVhbChyZXN1bHQuZGF0YS5zdGF0dXMsICdyZWdpc3RlcmVkJyk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBhd2FpdCB0aGlzLnRlc3RDYXNlKCdDb250cmFjdCBWYWxpZGF0aW9uIC0gTWlzc2luZyBSZXF1aXJlZCBGaWVsZHMnLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIHRyeSB7XHJcbiAgICAgICAgdGhpcy5zZXJ2aWNlLl92YWxpZGF0ZUNvbnRyYWN0KHtcclxuICAgICAgICAgIGVtcGxveWVlSXFhbWE6ICcyMzQ1Njc4OTAxJyxcclxuICAgICAgICAgIC8vIE1pc3Npbmcgb3RoZXIgcmVxdWlyZWQgZmllbGRzXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdTaG91bGQgaGF2ZSB0aHJvd24nKTtcclxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICBhc3NlcnQoZXJyb3IubWVzc2FnZS5pbmNsdWRlcygnTWlzc2luZyByZXF1aXJlZCBmaWVsZCcpKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgYXdhaXQgdGhpcy50ZXN0Q2FzZSgnVXBkYXRlIENvbnRyYWN0JywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICB0aGlzLnNlcnZpY2UudXBkYXRlQ29udHJhY3QgPSBhc3luYyAoaWQsIHVwZGF0ZXMpID0+ICh7XHJcbiAgICAgICAgc3VjY2VzczogdHJ1ZSxcclxuICAgICAgICBkYXRhOiB7XHJcbiAgICAgICAgICBjb250cmFjdElkOiBpZCxcclxuICAgICAgICAgIHN0YXR1czogJ3VwZGF0ZWQnLFxyXG4gICAgICAgICAgLi4udXBkYXRlcyxcclxuICAgICAgICB9LFxyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRoaXMuc2VydmljZS51cGRhdGVDb250cmFjdCgnQ05UMDAxJywge1xyXG4gICAgICAgIGpvYlRpdGxlOiAnU2VuaW9yIEVuZ2luZWVyJyxcclxuICAgICAgfSk7XHJcbiAgICAgIGFzc2VydC5zdHJpY3RFcXVhbChyZXN1bHQuZGF0YS5zdGF0dXMsICd1cGRhdGVkJyk7XHJcbiAgICAgIGFzc2VydC5zdHJpY3RFcXVhbChyZXN1bHQuZGF0YS5qb2JUaXRsZSwgJ1NlbmlvciBFbmdpbmVlcicpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgYXdhaXQgdGhpcy50ZXN0Q2FzZSgnVGVybWluYXRlIENvbnRyYWN0JywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICB0aGlzLnNlcnZpY2UudGVybWluYXRlQ29udHJhY3QgPSBhc3luYyAoaWQsIHJlYXNvbikgPT4gKHtcclxuICAgICAgICBzdWNjZXNzOiB0cnVlLFxyXG4gICAgICAgIGRhdGE6IHtcclxuICAgICAgICAgIGNvbnRyYWN0SWQ6IGlkLFxyXG4gICAgICAgICAgc3RhdHVzOiAndGVybWluYXRlZCcsXHJcbiAgICAgICAgICB0ZXJtaW5hdGlvblJlYXNvbjogcmVhc29uLFxyXG4gICAgICAgIH0sXHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdGhpcy5zZXJ2aWNlLnRlcm1pbmF0ZUNvbnRyYWN0KCdDTlQwMDEnLCAncmVzaWduYXRpb24nKTtcclxuICAgICAgYXNzZXJ0LnN0cmljdEVxdWFsKHJlc3VsdC5kYXRhLnN0YXR1cywgJ3Rlcm1pbmF0ZWQnKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGF3YWl0IHRoaXMudGVzdENhc2UoJ0dldCBDb250cmFjdCBEZXRhaWxzJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICB0aGlzLnNlcnZpY2UuZ2V0Q29udHJhY3QgPSBhc3luYyAoaWQpID0+ICh7XHJcbiAgICAgICAgc3VjY2VzczogdHJ1ZSxcclxuICAgICAgICBkYXRhOiB7XHJcbiAgICAgICAgICBjb250cmFjdElkOiBpZCxcclxuICAgICAgICAgIGVtcGxveWVlSXFhbWE6IHRlc3REYXRhLnZhbGlkSXFhbWEsXHJcbiAgICAgICAgICBzdGF0dXM6ICdhY3RpdmUnLFxyXG4gICAgICAgIH0sXHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdGhpcy5zZXJ2aWNlLmdldENvbnRyYWN0KCdDTlQwMDEnKTtcclxuICAgICAgYXNzZXJ0LnN0cmljdEVxdWFsKHJlc3VsdC5kYXRhLnN0YXR1cywgJ2FjdGl2ZScpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgYXdhaXQgdGhpcy50ZXN0Q2FzZSgnTGlzdCBDb250cmFjdHMgd2l0aCBGaWx0ZXJzJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICB0aGlzLnNlcnZpY2UubGlzdENvbnRyYWN0cyA9IGFzeW5jIChmaWx0ZXJzKSA9PiAoe1xyXG4gICAgICAgIHN1Y2Nlc3M6IHRydWUsXHJcbiAgICAgICAgZGF0YToge1xyXG4gICAgICAgICAgY29udHJhY3RzOiBbXHJcbiAgICAgICAgICAgIHsgY29udHJhY3RJZDogJ0NOVDAwMScsIHN0YXR1czogJ2FjdGl2ZScgfSxcclxuICAgICAgICAgICAgeyBjb250cmFjdElkOiAnQ05UMDAyJywgc3RhdHVzOiAnYWN0aXZlJyB9LFxyXG4gICAgICAgICAgXSxcclxuICAgICAgICAgIHRvdGFsOiAyLFxyXG4gICAgICAgIH0sXHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdGhpcy5zZXJ2aWNlLmxpc3RDb250cmFjdHMoeyBzdGF0dXM6ICdhY3RpdmUnIH0pO1xyXG4gICAgICBhc3NlcnQuc3RyaWN0RXF1YWwocmVzdWx0LmRhdGEuY29udHJhY3RzLmxlbmd0aCwgMik7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFdhZ2UgTWFuYWdlbWVudCBUZXN0c1xyXG4gICAqL1xyXG4gIGFzeW5jIHJ1bldhZ2VUZXN0cygpIHtcclxuICAgIGNvbnNvbGUubG9nKCfwn5OLIFJ1bm5pbmcgV2FnZSBNYW5hZ2VtZW50IFRlc3RzLi4uJyk7XHJcblxyXG4gICAgYXdhaXQgdGhpcy50ZXN0Q2FzZSgnVXBkYXRlIEVtcGxveWVlIFdhZ2UnLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIHRoaXMuc2VydmljZS51cGRhdGVFbXBsb3llZVdhZ2UgPSBhc3luYyAoaXFhbWEsIHdhZ2UpID0+ICh7XHJcbiAgICAgICAgc3VjY2VzczogdHJ1ZSxcclxuICAgICAgICBkYXRhOiB7XHJcbiAgICAgICAgICBpcWFtYSxcclxuICAgICAgICAgIGJhc2ljU2FsYXJ5OiB3YWdlLmJhc2ljU2FsYXJ5LFxyXG4gICAgICAgICAgc3RhdHVzOiAndXBkYXRlZCcsXHJcbiAgICAgICAgfSxcclxuICAgICAgfSk7XHJcblxyXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLnNlcnZpY2UudXBkYXRlRW1wbG95ZWVXYWdlKFxyXG4gICAgICAgIHRlc3REYXRhLnZhbGlkSXFhbWEsXHJcbiAgICAgICAgdGVzdERhdGEud2FnZURhdGFcclxuICAgICAgKTtcclxuICAgICAgYXNzZXJ0LnN0cmljdEVxdWFsKHJlc3VsdC5kYXRhLmJhc2ljU2FsYXJ5LCAxODAwMCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBhd2FpdCB0aGlzLnRlc3RDYXNlKCdXYWdlIE5vcm1hbGl6YXRpb24nLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IG5vcm1hbGl6ZWQgPSB0aGlzLnNlcnZpY2UuX25vcm1hbGl6ZVdhZ2VEYXRhKHRlc3REYXRhLndhZ2VEYXRhKTtcclxuICAgICAgYXNzZXJ0LnN0cmljdEVxdWFsKG5vcm1hbGl6ZWQuYmFzaWNTYWxhcnksIDE4MDAwKTtcclxuICAgICAgYXNzZXJ0LnN0cmljdEVxdWFsKG5vcm1hbGl6ZWQuaG91c2luZ0FsbG93YW5jZSwgNjAwMCk7XHJcbiAgICAgIGFzc2VydC5zdHJpY3RFcXVhbChub3JtYWxpemVkLnRyYW5zcG9ydEFsbG93YW5jZSwgMTUwMCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBhd2FpdCB0aGlzLnRlc3RDYXNlKCdHZXQgV2FnZSBIaXN0b3J5JywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICB0aGlzLnNlcnZpY2UuZ2V0V2FnZUhpc3RvcnkgPSBhc3luYyAoaXFhbWEsIG1vbnRocykgPT4gKHtcclxuICAgICAgICBzdWNjZXNzOiB0cnVlLFxyXG4gICAgICAgIGRhdGE6IHtcclxuICAgICAgICAgIGlxYW1hLFxyXG4gICAgICAgICAgaGlzdG9yeTogW1xyXG4gICAgICAgICAgICB7IGJhc2ljU2FsYXJ5OiAxNTAwMCwgZWZmZWN0aXZlRGF0ZTogJzIwMjUtMDEtMDEnIH0sXHJcbiAgICAgICAgICAgIHsgYmFzaWNTYWxhcnk6IDE2MDAwLCBlZmZlY3RpdmVEYXRlOiAnMjAyNS0wNi0wMScgfSxcclxuICAgICAgICAgICAgeyBiYXNpY1NhbGFyeTogMTgwMDAsIGVmZmVjdGl2ZURhdGU6ICcyMDI2LTAyLTAxJyB9LFxyXG4gICAgICAgICAgXSxcclxuICAgICAgICB9LFxyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRoaXMuc2VydmljZS5nZXRXYWdlSGlzdG9yeSh0ZXN0RGF0YS52YWxpZElxYW1hLCAxMik7XHJcbiAgICAgIGFzc2VydC5zdHJpY3RFcXVhbChyZXN1bHQuZGF0YS5oaXN0b3J5Lmxlbmd0aCwgMyk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBhd2FpdCB0aGlzLnRlc3RDYXNlKCdXYWdlIENvbXBsaWFuY2UgQ2hlY2snLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIHRoaXMuc2VydmljZS5jYWxjdWxhdGVXYWdlQ29tcGxpYW5jZSA9IGFzeW5jIChpcWFtYSwgbmV3V2FnZSkgPT4gKHtcclxuICAgICAgICBzdWNjZXNzOiB0cnVlLFxyXG4gICAgICAgIGRhdGE6IHtcclxuICAgICAgICAgIGlxYW1hLFxyXG4gICAgICAgICAgY29tcGxpYW50OiB0cnVlLFxyXG4gICAgICAgICAgbWVzc2FnZTogJ1dhZ2UgY2hhbmdlIGNvbXBsaWVzIHdpdGggcmVndWxhdGlvbnMnLFxyXG4gICAgICAgIH0sXHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdGhpcy5zZXJ2aWNlLmNhbGN1bGF0ZVdhZ2VDb21wbGlhbmNlKFxyXG4gICAgICAgIHRlc3REYXRhLnZhbGlkSXFhbWEsXHJcbiAgICAgICAgeyBiYXNpY1NhbGFyeTogMjAwMDAgfVxyXG4gICAgICApO1xyXG4gICAgICBhc3NlcnQuc3RyaWN0RXF1YWwocmVzdWx0LmRhdGEuY29tcGxpYW50LCB0cnVlKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogV1BTIEludGVncmF0aW9uIFRlc3RzXHJcbiAgICovXHJcbiAgYXN5bmMgcnVuV1BTVGVzdHMoKSB7XHJcbiAgICBjb25zb2xlLmxvZygn8J+TiyBSdW5uaW5nIFdQUyBJbnRlZ3JhdGlvbiBUZXN0cy4uLicpO1xyXG5cclxuICAgIGF3YWl0IHRoaXMudGVzdENhc2UoJ1N1Ym1pdCBQYXlyb2xsIHRvIFdQUycsIGFzeW5jICgpID0+IHtcclxuICAgICAgdGhpcy5zZXJ2aWNlLnN1Ym1pdFBheXJvbGxUb1dQUyA9IGFzeW5jIChwYXlyb2xsKSA9PiAoe1xyXG4gICAgICAgIHN1Y2Nlc3M6IHRydWUsXHJcbiAgICAgICAgZGF0YToge1xyXG4gICAgICAgICAgaWQ6ICdXUFMwMDEnLFxyXG4gICAgICAgICAgc3RhdHVzOiAnc3VibWl0dGVkJyxcclxuICAgICAgICAgIGVtcGxveWVlczogcGF5cm9sbC5lbXBsb3llZXMubGVuZ3RoLFxyXG4gICAgICAgIH0sXHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdGhpcy5zZXJ2aWNlLnN1Ym1pdFBheXJvbGxUb1dQUyh0ZXN0RGF0YS5wYXlyb2xsRGF0YSk7XHJcbiAgICAgIGFzc2VydC5zdHJpY3RFcXVhbChyZXN1bHQuZGF0YS5zdGF0dXMsICdzdWJtaXR0ZWQnKTtcclxuICAgICAgYXNzZXJ0LnN0cmljdEVxdWFsKHJlc3VsdC5kYXRhLmVtcGxveWVlcywgMik7XHJcbiAgICB9KTtcclxuXHJcbiAgICBhd2FpdCB0aGlzLnRlc3RDYXNlKCdQYXlyb2xsIE5vcm1hbGl6YXRpb24nLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IG5vcm1hbGl6ZWQgPSB0aGlzLnNlcnZpY2UuX25vcm1hbGl6ZVBheXJvbGxEYXRhKHRlc3REYXRhLnBheXJvbGxEYXRhKTtcclxuICAgICAgYXNzZXJ0LnN0cmljdEVxdWFsKG5vcm1hbGl6ZWQuZW1wbG95ZWVzLmxlbmd0aCwgMik7XHJcbiAgICAgIGFzc2VydC5zdHJpY3RFcXVhbChub3JtYWxpemVkLnBlcmlvZCwgJzIwMjYtMDInKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGF3YWl0IHRoaXMudGVzdENhc2UoJ0dldCBXUFMgU3RhdHVzJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICB0aGlzLnNlcnZpY2UuZ2V0V1BTU3RhdHVzID0gYXN5bmMgKHN1Ym1pc3Npb25JZCkgPT4gKHtcclxuICAgICAgICBzdWNjZXNzOiB0cnVlLFxyXG4gICAgICAgIGRhdGE6IHtcclxuICAgICAgICAgIHN1Ym1pc3Npb25JZCxcclxuICAgICAgICAgIHN0YXR1czogJ2FjY2VwdGVkJyxcclxuICAgICAgICAgIGNvbmZpcm1hdGlvbk51bWJlcjogJ0NORjEyMzQ1NicsXHJcbiAgICAgICAgfSxcclxuICAgICAgfSk7XHJcblxyXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLnNlcnZpY2UuZ2V0V1BTU3RhdHVzKCdXUFMwMDEnKTtcclxuICAgICAgYXNzZXJ0LnN0cmljdEVxdWFsKHJlc3VsdC5kYXRhLnN0YXR1cywgJ2FjY2VwdGVkJyk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBhd2FpdCB0aGlzLnRlc3RDYXNlKCdHZXQgV1BTIENvbXBsaWFuY2UgUmVwb3J0JywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICB0aGlzLnNlcnZpY2UuZ2V0V1BTQ29tcGxpYW5jZVJlcG9ydCA9IGFzeW5jIChwZXJpb2QpID0+ICh7XHJcbiAgICAgICAgc3VjY2VzczogdHJ1ZSxcclxuICAgICAgICBkYXRhOiB7XHJcbiAgICAgICAgICBwZXJpb2QsXHJcbiAgICAgICAgICBjb21wbGlhbnQ6IHRydWUsXHJcbiAgICAgICAgICBpc3N1ZXM6IFtdLFxyXG4gICAgICAgIH0sXHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdGhpcy5zZXJ2aWNlLmdldFdQU0NvbXBsaWFuY2VSZXBvcnQoJzIwMjYtMDInKTtcclxuICAgICAgYXNzZXJ0LnN0cmljdEVxdWFsKHJlc3VsdC5kYXRhLmNvbXBsaWFudCwgdHJ1ZSk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIE5pdGFxYXQgVGVzdHNcclxuICAgKi9cclxuICBhc3luYyBydW5OaXRhcWF0VGVzdHMoKSB7XHJcbiAgICBjb25zb2xlLmxvZygn8J+TiyBSdW5uaW5nIE5pdGFxYXQgVGVzdHMuLi4nKTtcclxuXHJcbiAgICBhd2FpdCB0aGlzLnRlc3RDYXNlKCdHZXQgTml0YXFhdCBTdGF0dXMnLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIHRoaXMuc2VydmljZS5nZXROaXRhcWF0U3RhdHVzID0gYXN5bmMgKCkgPT4gKHtcclxuICAgICAgICBzdWNjZXNzOiB0cnVlLFxyXG4gICAgICAgIGRhdGE6IHtcclxuICAgICAgICAgIHN0YXR1czogJ2dyZWVuJyxcclxuICAgICAgICAgIHBvaW50czogODUsXHJcbiAgICAgICAgICBjb21wbGlhbnQ6IHRydWUsXHJcbiAgICAgICAgfSxcclxuICAgICAgfSk7XHJcblxyXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLnNlcnZpY2UuZ2V0Tml0YXFhdFN0YXR1cygpO1xyXG4gICAgICBhc3NlcnQuc3RyaWN0RXF1YWwocmVzdWx0LmRhdGEuc3RhdHVzLCAnZ3JlZW4nKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGF3YWl0IHRoaXMudGVzdENhc2UoJ0dldCBOaXRhcWF0IENvbXBsaWFuY2UnLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIHRoaXMuc2VydmljZS5nZXROaXRhcWF0Q29tcGxpYW5jZSA9IGFzeW5jICgpID0+ICh7XHJcbiAgICAgICAgc3VjY2VzczogdHJ1ZSxcclxuICAgICAgICBkYXRhOiB7XHJcbiAgICAgICAgICBjb21wbGlhbnQ6IHRydWUsXHJcbiAgICAgICAgICBwZXJjZW50YWdlOiA0Mi41LFxyXG4gICAgICAgIH0sXHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdGhpcy5zZXJ2aWNlLmdldE5pdGFxYXRDb21wbGlhbmNlKCk7XHJcbiAgICAgIGFzc2VydC5zdHJpY3RFcXVhbChyZXN1bHQuZGF0YS5jb21wbGlhbnQsIHRydWUpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgYXdhaXQgdGhpcy50ZXN0Q2FzZSgnQ2FsY3VsYXRlIE5pdGFxYXQgUG9pbnRzJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICB0aGlzLnNlcnZpY2UuY2FsY3VsYXRlTml0YXFhdFBvaW50cyA9IGFzeW5jICh3b3JrZm9yY2UpID0+ICh7XHJcbiAgICAgICAgc3VjY2VzczogdHJ1ZSxcclxuICAgICAgICBkYXRhOiB7XHJcbiAgICAgICAgICB0b3RhbFBvaW50czogODUsXHJcbiAgICAgICAgICBzYXVkaVBvaW50czogNTAsXHJcbiAgICAgICAgICBub25TYXVkaVBvaW50czogMzUsXHJcbiAgICAgICAgfSxcclxuICAgICAgfSk7XHJcblxyXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLnNlcnZpY2UuY2FsY3VsYXRlTml0YXFhdFBvaW50cyhcclxuICAgICAgICB0ZXN0RGF0YS5uaXRhdGFxYXRXb3JrZm9yY2VcclxuICAgICAgKTtcclxuICAgICAgYXNzZXJ0LnN0cmljdEVxdWFsKHJlc3VsdC5kYXRhLnRvdGFsUG9pbnRzLCA4NSk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEJhdGNoIE9wZXJhdGlvbnMgVGVzdHNcclxuICAgKi9cclxuICBhc3luYyBydW5CYXRjaE9wZXJhdGlvblRlc3RzKCkge1xyXG4gICAgY29uc29sZS5sb2coJ/Cfk4sgUnVubmluZyBCYXRjaCBPcGVyYXRpb25zIFRlc3RzLi4uJyk7XHJcblxyXG4gICAgYXdhaXQgdGhpcy50ZXN0Q2FzZSgnQmF0Y2ggUmVnaXN0ZXIgQ29udHJhY3RzJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICB0aGlzLnNlcnZpY2UuYmF0Y2hSZWdpc3RlckNvbnRyYWN0cyA9IGFzeW5jIChjb250cmFjdHMpID0+ICh7XHJcbiAgICAgICAgcmVzdWx0czogY29udHJhY3RzLm1hcCgoYykgPT4gKHtcclxuICAgICAgICAgIHN1Y2Nlc3M6IHRydWUsXHJcbiAgICAgICAgICBkYXRhOiB7IGNvbnRyYWN0SWQ6ICdDTlRfJyArIE1hdGgucmFuZG9tKCkgfSxcclxuICAgICAgICB9KSksXHJcbiAgICAgICAgc3VtbWFyeToge1xyXG4gICAgICAgICAgdG90YWw6IGNvbnRyYWN0cy5sZW5ndGgsXHJcbiAgICAgICAgICBzdWNjZXNzZnVsOiBjb250cmFjdHMubGVuZ3RoLFxyXG4gICAgICAgICAgZmFpbGVkOiAwLFxyXG4gICAgICAgIH0sXHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgY29uc3QgY29udHJhY3RzID0gW3Rlc3REYXRhLmNvbnRyYWN0RGF0YSwgdGVzdERhdGEuY29udHJhY3REYXRhXTtcclxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdGhpcy5zZXJ2aWNlLmJhdGNoUmVnaXN0ZXJDb250cmFjdHMoY29udHJhY3RzKTtcclxuICAgICAgYXNzZXJ0LnN0cmljdEVxdWFsKHJlc3VsdC5zdW1tYXJ5LnN1Y2Nlc3NmdWwsIDIpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgYXdhaXQgdGhpcy50ZXN0Q2FzZSgnQmF0Y2ggVXBkYXRlIFdhZ2VzJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICB0aGlzLnNlcnZpY2UuYmF0Y2hVcGRhdGVXYWdlcyA9IGFzeW5jICh1cGRhdGVzKSA9PiAoe1xyXG4gICAgICAgIHJlc3VsdHM6IHVwZGF0ZXMubWFwKCh1KSA9PiAoeyBzdWNjZXNzOiB0cnVlIH0pKSxcclxuICAgICAgICBzdW1tYXJ5OiB7XHJcbiAgICAgICAgICB0b3RhbDogdXBkYXRlcy5sZW5ndGgsXHJcbiAgICAgICAgICBzdWNjZXNzZnVsOiB1cGRhdGVzLmxlbmd0aCxcclxuICAgICAgICAgIGZhaWxlZDogMCxcclxuICAgICAgICB9LFxyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIGNvbnN0IHVwZGF0ZXMgPSBbXHJcbiAgICAgICAgeyBpcWFtYU51bWJlcjogJzIzNDU2Nzg5MDEnLCB3YWdlRGF0YTogdGVzdERhdGEud2FnZURhdGEgfSxcclxuICAgICAgICB7IGlxYW1hTnVtYmVyOiAnMjM0NTY3ODkwMicsIHdhZ2VEYXRhOiB0ZXN0RGF0YS53YWdlRGF0YSB9LFxyXG4gICAgICBdO1xyXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLnNlcnZpY2UuYmF0Y2hVcGRhdGVXYWdlcyh1cGRhdGVzKTtcclxuICAgICAgYXNzZXJ0LnN0cmljdEVxdWFsKHJlc3VsdC5zdW1tYXJ5LnN1Y2Nlc3NmdWwsIDIpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBFcnJvciBIYW5kbGluZyBUZXN0c1xyXG4gICAqL1xyXG4gIGFzeW5jIHJ1bkVycm9ySGFuZGxpbmdUZXN0cygpIHtcclxuICAgIGNvbnNvbGUubG9nKCfwn5OLIFJ1bm5pbmcgRXJyb3IgSGFuZGxpbmcgVGVzdHMuLi4nKTtcclxuXHJcbiAgICBhd2FpdCB0aGlzLnRlc3RDYXNlKCdJbnZhbGlkIFNhbGFyeScsIGFzeW5jICgpID0+IHtcclxuICAgICAgdHJ5IHtcclxuICAgICAgICB0aGlzLnNlcnZpY2UuX25vcm1hbGl6ZVdhZ2VEYXRhKHtcclxuICAgICAgICAgIGJhc2ljU2FsYXJ5OiAtMTAwMCxcclxuICAgICAgICAgIGVmZmVjdGl2ZURhdGU6IG5ldyBEYXRlKCksXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdTaG91bGQgaGF2ZSB0aHJvd24nKTtcclxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAvLyBFeHBlY3RlZFxyXG4gICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICBhd2FpdCB0aGlzLnRlc3RDYXNlKCdJbnZhbGlkIENvbnRyYWN0IFR5cGUnLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIHRyeSB7XHJcbiAgICAgICAgdGhpcy5zZXJ2aWNlLl92YWxpZGF0ZUNvbnRyYWN0KHtcclxuICAgICAgICAgIC4uLnRlc3REYXRhLmNvbnRyYWN0RGF0YSxcclxuICAgICAgICAgIGNvbnRyYWN0VHlwZTogJ2ludmFsaWQnLFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignU2hvdWxkIGhhdmUgdGhyb3duJyk7XHJcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgYXNzZXJ0KGVycm9yLm1lc3NhZ2UuaW5jbHVkZXMoJ0ludmFsaWQgY29udHJhY3QgdHlwZScpKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgYXdhaXQgdGhpcy50ZXN0Q2FzZSgnRXJyb3IgRm9ybWF0dGluZycsIGFzeW5jICgpID0+IHtcclxuICAgICAgY29uc3QgbW9ja0Vycm9yID0ge1xyXG4gICAgICAgIHJlc3BvbnNlOiB7XHJcbiAgICAgICAgICBzdGF0dXM6IDQwMCxcclxuICAgICAgICAgIGRhdGE6IHsgbWVzc2FnZTogJ0JhZCByZXF1ZXN0JyB9LFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgbWVzc2FnZTogJ0hUVFAgRXJyb3InLFxyXG4gICAgICB9O1xyXG5cclxuICAgICAgY29uc3QgZm9ybWF0dGVkID0gdGhpcy5zZXJ2aWNlLl9mb3JtYXRFcnJvcihtb2NrRXJyb3IpO1xyXG4gICAgICBhc3NlcnQuc3RyaWN0RXF1YWwoZm9ybWF0dGVkLnN0YXR1c0NvZGUsIDQwMCk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFBlcmZvcm1hbmNlIFRlc3RzXHJcbiAgICovXHJcbiAgYXN5bmMgcnVuUGVyZm9ybWFuY2VUZXN0cygpIHtcclxuICAgIGNvbnNvbGUubG9nKCfwn5OLIFJ1bm5pbmcgUGVyZm9ybWFuY2UgVGVzdHMuLi4nKTtcclxuXHJcbiAgICBhd2FpdCB0aGlzLnRlc3RDYXNlKCdDYWNoZSBQZXJmb3JtYW5jZScsIGFzeW5jICgpID0+IHtcclxuICAgICAgY29uc3Qga2V5ID0gJ3Rlc3RfY2FjaGVfa2V5JztcclxuICAgICAgY29uc3QgdmFsdWUgPSB7IGRhdGE6ICd0ZXN0JywgdGltZXN0YW1wOiBEYXRlLm5vdygpIH07XHJcblxyXG4gICAgICB0aGlzLnNlcnZpY2UuX3NldENhY2hlKGtleSwgdmFsdWUsIDM2MDApO1xyXG4gICAgICBjb25zdCBjYWNoZWQgPSB0aGlzLnNlcnZpY2UuX2dldENhY2hlKGtleSk7XHJcblxyXG4gICAgICBhc3NlcnQuZGVlcFN0cmljdEVxdWFsKGNhY2hlZCwgdmFsdWUpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgYXdhaXQgdGhpcy50ZXN0Q2FzZSgnTXVsdGlwbGUgQ2FjaGUgT3BlcmF0aW9ucycsIGFzeW5jICgpID0+IHtcclxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCAxMDA7IGkrKykge1xyXG4gICAgICAgIHRoaXMuc2VydmljZS5fc2V0Q2FjaGUoYGtleV8ke2l9YCwgeyBpbmRleDogaSB9LCAzNjAwKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgY29uc3QgbWV0cmljcyA9IHRoaXMuc2VydmljZS5nZXRNZXRyaWNzKCk7XHJcbiAgICAgIGFzc2VydChtZXRyaWNzLmNhY2hlZFJlc3BvbnNlcyA+PSAwKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGF3YWl0IHRoaXMudGVzdENhc2UoJ1JlcXVlc3QgSGlzdG9yeSBUcmFja2luZycsIGFzeW5jICgpID0+IHtcclxuICAgICAgY29uc3QgaGlzdG9yeSA9IHRoaXMuc2VydmljZS5nZXRSZXF1ZXN0SGlzdG9yeSh7IGxpbWl0OiAxMCB9KTtcclxuICAgICAgYXNzZXJ0KEFycmF5LmlzQXJyYXkoaGlzdG9yeSkpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgYXdhaXQgdGhpcy50ZXN0Q2FzZSgnTWV0cmljcyBDb2xsZWN0aW9uJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICBjb25zdCBtZXRyaWNzID0gdGhpcy5zZXJ2aWNlLmdldE1ldHJpY3MoKTtcclxuICAgICAgYXNzZXJ0KG1ldHJpY3MuaGFzT3duUHJvcGVydHkoJ3RvdGFsUmVxdWVzdHMnKSk7XHJcbiAgICAgIGFzc2VydChtZXRyaWNzLmhhc093blByb3BlcnR5KCdzdWNjZXNzZnVsUmVxdWVzdHMnKSk7XHJcbiAgICAgIGFzc2VydChtZXRyaWNzLmhhc093blByb3BlcnR5KCdmYWlsZWRSZXF1ZXN0cycpKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQWR2YW5jZWQgRmVhdHVyZSBUZXN0c1xyXG4gICAqL1xyXG4gIGFzeW5jIHJ1bkFkdmFuY2VkRmVhdHVyZVRlc3RzKCkge1xyXG4gICAgY29uc29sZS5sb2coJ/Cfk4sgUnVubmluZyBBZHZhbmNlZCBGZWF0dXJlIFRlc3RzLi4uJyk7XHJcblxyXG4gICAgYXdhaXQgdGhpcy50ZXN0Q2FzZSgnQ29udHJhY3QgTm9ybWFsaXphdGlvbicsIGFzeW5jICgpID0+IHtcclxuICAgICAgY29uc3Qgbm9ybWFsaXplZCA9IHRoaXMuc2VydmljZS5fbm9ybWFsaXplQ29udHJhY3REYXRhKHRlc3REYXRhLmNvbnRyYWN0RGF0YSk7XHJcbiAgICAgIGFzc2VydC5zdHJpY3RFcXVhbChub3JtYWxpemVkLmNvbnRyYWN0VHlwZSwgJ3VubGltaXRlZCcpO1xyXG4gICAgICBhc3NlcnQuc3RyaWN0RXF1YWwoXHJcbiAgICAgICAgbm9ybWFsaXplZC5zdGFydERhdGUsXHJcbiAgICAgICAgJzIwMjYtMDItMTcnXHJcbiAgICAgICk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBhd2FpdCB0aGlzLnRlc3RDYXNlKCdEYXRhIFJlc3BvbnNlIFRyYW5zZm9ybWF0aW9uJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICBjb25zdCBtb2NrUmVzcG9uc2UgPSB7XHJcbiAgICAgICAgZGF0YTogeyBpZDogJzEyMycsIG5hbWU6ICd0ZXN0JyB9LFxyXG4gICAgICAgIHN0YXR1c0NvZGU6IDIwMCxcclxuICAgICAgfTtcclxuXHJcbiAgICAgIGNvbnN0IHRyYW5zZm9ybWVkID0gdGhpcy5zZXJ2aWNlLl90cmFuc2Zvcm1SZXNwb25zZShcclxuICAgICAgICBtb2NrUmVzcG9uc2UsXHJcbiAgICAgICAgJ3Rlc3QnXHJcbiAgICAgICk7XHJcbiAgICAgIGFzc2VydC5zdHJpY3RFcXVhbCh0cmFuc2Zvcm1lZC5zdWNjZXNzLCB0cnVlKTtcclxuICAgICAgYXNzZXJ0LnN0cmljdEVxdWFsKHRyYW5zZm9ybWVkLnN0YXR1c0NvZGUsIDIwMCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBhd2FpdCB0aGlzLnRlc3RDYXNlKCdIZWFsdGggQ2hlY2snLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIHRoaXMuc2VydmljZS5oZWFsdGhDaGVjayA9IGFzeW5jICgpID0+ICh7XHJcbiAgICAgICAgc3RhdHVzOiAnaGVhbHRoeScsXHJcbiAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLFxyXG4gICAgICAgIG1ldHJpY3M6IHsgdG90YWxSZXF1ZXN0czogMCB9LFxyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIGNvbnN0IGhlYWx0aCA9IGF3YWl0IHRoaXMuc2VydmljZS5oZWFsdGhDaGVjaygpO1xyXG4gICAgICBhc3NlcnQuc3RyaWN0RXF1YWwoaGVhbHRoLnN0YXR1cywgJ2hlYWx0aHknKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuICAvLyBURVNUIFVUSUxJVElFU1xyXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblxyXG4gIC8qKlxyXG4gICAqIFJ1biBzaW5nbGUgdGVzdCBjYXNlXHJcbiAgICovXHJcbiAgYXN5bmMgdGVzdENhc2UobmFtZSwgZm4pIHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGF3YWl0IGZuKCk7XHJcbiAgICAgIHRoaXMucmVzdWx0cy5wYXNzZWQrKztcclxuICAgICAgdGhpcy5yZXN1bHRzLnRlc3RzLnB1c2goe1xyXG4gICAgICAgIG5hbWUsXHJcbiAgICAgICAgc3RhdHVzOiAnUEFTU0VEJyxcclxuICAgICAgICBkdXJhdGlvbjogMCxcclxuICAgICAgfSk7XHJcbiAgICAgIGNvbnNvbGUubG9nKGAgIOKchSAke25hbWV9YCk7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICB0aGlzLnJlc3VsdHMuZmFpbGVkKys7XHJcbiAgICAgIHRoaXMucmVzdWx0cy50ZXN0cy5wdXNoKHtcclxuICAgICAgICBuYW1lLFxyXG4gICAgICAgIHN0YXR1czogJ0ZBSUxFRCcsXHJcbiAgICAgICAgZXJyb3I6IGVycm9yLm1lc3NhZ2UsXHJcbiAgICAgIH0pO1xyXG4gICAgICBjb25zb2xlLmVycm9yKGAgIOKdjCAke25hbWV9OiAke2Vycm9yLm1lc3NhZ2V9YCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBQcmludCB0ZXN0IHJlc3VsdHMgc3VtbWFyeVxyXG4gICAqL1xyXG4gIHByaW50UmVzdWx0cygpIHtcclxuICAgIGNvbnNvbGUubG9nKCdcXG7wn5OKID09PSBUZXN0IFJlc3VsdHMgPT09XFxuJyk7XHJcbiAgICBjb25zb2xlLmxvZyhg4pyFIFBhc3NlZDogICR7dGhpcy5yZXN1bHRzLnBhc3NlZH1gKTtcclxuICAgIGNvbnNvbGUubG9nKGDinYwgRmFpbGVkOiAgJHt0aGlzLnJlc3VsdHMuZmFpbGVkfWApO1xyXG4gICAgY29uc29sZS5sb2coYOKPre+4jyAgU2tpcHBlZDogJHt0aGlzLnJlc3VsdHMuc2tpcHBlZH1gKTtcclxuICAgIGNvbnNvbGUubG9nKGDwn5OIIFRvdGFsOiAgICR7dGhpcy5yZXN1bHRzLnBhc3NlZCArIHRoaXMucmVzdWx0cy5mYWlsZWR9YCk7XHJcbiAgICBjb25zb2xlLmxvZyhg8J+TiiBTdWNjZXNzIFJhdGU6ICR7KCh0aGlzLnJlc3VsdHMucGFzc2VkIC8gKHRoaXMucmVzdWx0cy5wYXNzZWQgKyB0aGlzLnJlc3VsdHMuZmFpbGVkKSkgKiAxMDApLnRvRml4ZWQoMil9JVxcbmApO1xyXG4gIH1cclxufVxyXG5cclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuLy8gRVhQT1JUUyAmIENMSVxyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBRaXdhVGVzdFN1aXRlO1xyXG5cclxuLy8gUnVuIHRlc3RzIGlmIGV4ZWN1dGVkIGRpcmVjdGx5XHJcbmlmIChyZXF1aXJlLm1haW4gPT09IG1vZHVsZSkge1xyXG4gIGNvbnN0IHN1aXRlID0gbmV3IFFpd2FUZXN0U3VpdGUoKTtcclxuICBzdWl0ZS5ydW5BbGxUZXN0cygpLmNhdGNoKGNvbnNvbGUuZXJyb3IpO1xyXG59XHJcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLE1BQU1BLE1BQU0sR0FBR0MsT0FBTyxDQUFDLFFBQVEsQ0FBQztBQUNoQyxNQUFNQyxXQUFXLEdBQUdELE9BQU8sQ0FBQyxnQkFBZ0IsQ0FBQzs7QUFFN0M7QUFDQTtBQUNBOztBQUVBLE1BQU1FLFFBQVEsR0FBRztFQUNmQyxVQUFVLEVBQUUsWUFBWTtFQUN4QkMsZUFBZSxFQUFFLFlBQVk7RUFDN0JDLFlBQVksRUFBRSxPQUFPO0VBQ3JCQyxpQkFBaUIsRUFBRSxRQUFRO0VBRTNCQyxZQUFZLEVBQUU7SUFDWkMsYUFBYSxFQUFFLFlBQVk7SUFDM0JDLFlBQVksRUFBRSxXQUFXO0lBQ3pCQyxRQUFRLEVBQUUsbUJBQW1CO0lBQzdCQyxjQUFjLEVBQUUsZUFBZTtJQUMvQkMsV0FBVyxFQUFFLEtBQUs7SUFDbEJDLGdCQUFnQixFQUFFLElBQUk7SUFDdEJDLGtCQUFrQixFQUFFLElB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