{"version":3,"names":["notificationTemplateAuditController","require","router","get","listByTemplate","express","Router","notificationTemplateController","authenticateToken","checkPermission","use","post","create","put","update","delete","remove","list","module","exports"],"sources":["notificationTemplates.js"],"sourcesContent":["const notificationTemplateAuditController = require('../controllers/notificationTemplateAuditController');\r\n// سجل تغييرات القالب\r\nrouter.get('/:templateId/audit', notificationTemplateAuditController.listByTemplate);\r\n// backend/routes/notificationTemplates.js\r\nconst express = require('express');\r\nconst router = express.Router();\r\nconst notificationTemplateController = require('../controllers/notificationTemplateController');\r\nconst { authenticateToken } = require('../middleware/auth');\r\nconst { checkPermission } = require('../middleware/rbac');\r\n\r\n// جميع المسارات تتطلب مصادقة وصلاحية إدارة الإشعارات\r\nrouter.use(authenticateToken);\r\nrouter.use(checkPermission('notifications', 'manage'));\r\n\r\nrouter.post('/', notificationTemplateController.create);\r\nrouter.put('/:id', notificationTemplateController.update);\r\nrouter.delete('/:id', notificationTemplateController.remove);\r\nrouter.get('/', notificationTemplateController.list);\r\nrouter.get('/:id', notificationTemplateController.get);\r\n\r\nmodule.exports = router;\r\n"],"mappings":"AAAA,MAAMA,mCAAmC,GAAGC,OAAO,CAAC,oDAAoD,CAAC;AACzG;AACAC,MAAM,CAACC,GAAG,CAAC,oBAAoB,EAAEH,mCAAmC,CAACI,cAAc,CAAC;AACpF;AACA,MAAMC,OAAO,GAAGJ,OAAO,CAAC,SAAS,CAAC;AAClC,MAAMC,MAAM,GAAGG,OAAO,CAACC,MAAM,CAAC,CAAC;AAC/B,MAAMC,8BAA8B,GAAGN,OAAO,CAAC,+CAA+C,CAAC;AAC/F,MAAM;EAAEO;AAAkB,CAAC,GAAGP,OAAO,CAAC,oBAAoB,CAAC;AAC3D,MAAM;EAAEQ;AAAgB,CAAC,GAAGR,OAAO,CAAC,oBAAoB,CAAC;;AAEzD;AACAC,MAAM,CAACQ,GAAG,CAACF,iBAAiB,CAAC;AAC7BN,MAAM,CAACQ,GAAG,CAACD,eAAe,CAAC,eAAe,EAAE,QAAQ,CAAC,CAAC;AAEtDP,MAAM,CAACS,IAAI,CAAC,GAAG,EAAEJ,8BAA8B,CAACK,MAAM,CAAC;AACvDV,MAAM,CAACW,GAAG,CAAC,MAAM,EAAEN,8BAA8B,CAACO,MAAM,CAAC;AACzDZ,MAAM,CAACa,MAAM,CAAC,MAAM,EAAER,8BAA8B,CAACS,MAAM,CAAC;AAC5Dd,MAAM,CAACC,GAAG,CAAC,GAAG,EAAEI,8BAA8B,CAACU,IAAI,CAAC;AACpDf,MAAM,CAACC,GAAG,CAAC,MAAM,EAAEI,8BAA8B,CAACJ,GAAG,CAAC;AAEtDe,MAAM,CAACC,OAAO,GAAGjB,MAAM","ignoreList":[]}