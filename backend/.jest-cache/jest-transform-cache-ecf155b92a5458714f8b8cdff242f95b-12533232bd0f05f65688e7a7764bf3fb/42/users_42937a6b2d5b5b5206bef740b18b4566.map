{"version":3,"names":["express","require","router","Router","authenticate","authorize","get","req","res","page","limit","query","json","success","message","data","users","total","parseInt","timestamp","Date","toISOString","error","status","post","email","firstName","lastName","role","department","body","id","now","createdAt","params","patch","updateData","updatedAt","delete","deletedAt","Array","isArray","length","created","map","user","module","exports"],"sources":["users.js"],"sourcesContent":["/**\n * Users Routes\n * User Management API Endpoints\n *\n * Routes:\n * - GET  /api/users              - Get all users with pagination\n * - POST /api/users              - Create new user\n * - GET  /api/users/:id          - Get user by ID\n * - PATCH /api/users/:id         - Update user\n * - DELETE /api/users/:id        - Delete user\n * - POST /api/users/batch        - Batch create users\n */\n\nconst express = require('express');\nconst router = express.Router();\nconst { authenticate, authorize } = require('../middleware/auth');\n\n/**\n * @route   GET /api/users\n * @access  Private\n * @param   {Number} page - Page number (default: 1)\n * @param   {Number} limit - Items per page (default: 20)\n * @param   {String} role - Filter by role\n * @param   {String} status - Filter by status (active/inactive)\n * @returns {Object} { users: Array, total: Number, page: Number, limit: Number }\n */\nrouter.get('/', authenticate, authorize(['admin', 'manager']), (req, res) => {\n  try {\n    const { page = 1, limit = 20 } = req.query;\n\n    // TODO: Implement user retrieval with filters\n    res.json({\n      success: true,\n      message: 'Users retrieved successfully',\n      data: {\n        users: [],\n        total: 0,\n        page: parseInt(page),\n        limit: parseInt(limit)\n      },\n      timestamp: new Date().toISOString()\n    });\n  } catch (error) {\n    res.status(500).json({\n      success: false,\n      message: 'Error retrieving users',\n      error: error.message\n    });\n  }\n});\n\n/**\n * @route   POST /api/users\n * @access  Private\n * @body    {String} email - User email\n * @body    {String} firstName - First name\n * @body    {String} lastName - Last name\n * @body    {String} role - User role\n * @body    {String} department - Department\n * @returns {Object} Created user\n */\nrouter.post('/', authenticate, authorize(['admin']), (req, res) => {\n  try {\n    const { email, firstName, lastName, role, department } = req.body;\n\n    // Validate required fields\n    if (!email || !firstName || !lastName) {\n      return res.status(400).json({\n        success: false,\n        message: 'Missing required fields: email, firstName, lastName'\n      });\n    }\n\n    // TODO: Implement user creation with validation\n    res.status(201).json({\n      success: true,\n      message: 'User created successfully',\n      data: {\n        id: 'user_' + Date.now(),\n        email,\n        firstName,\n        lastName,\n        role: role || 'user',\n        department,\n        createdAt: new Date().toISOString()\n      }\n    });\n  } catch (error) {\n    res.status(500).json({\n      success: false,\n      message: 'Error creating user',\n      error: error.message\n    });\n  }\n});\n\n/**\n * @route   GET /api/users/:id\n * @access  Private\n * @param   {String} id - User ID\n * @returns {Object} User details\n */\nrouter.get('/:id', authenticate, authorize(['admin', 'manager']), (req, res) => {\n  try {\n    const { id } = req.params;\n\n    if (!id) {\n      return res.status(400).json({\n        success: false,\n        message: 'User ID is required'\n      });\n    }\n\n    // TODO: Implement user retrieval by ID\n    res.json({\n      success: true,\n      message: 'User retrieved successfully',\n      data: {\n        id,\n        email: 'user@example.com',\n        firstName: 'John',\n        lastName: 'Doe',\n        role: 'user',\n        status: 'active'\n      }\n    });\n  } catch (error) {\n    res.status(500).json({\n      success: false,\n      message: 'Error retrieving user',\n      error: error.message\n    });\n  }\n});\n\n/**\n * @route   PATCH /api/users/:id\n * @access  Private\n * @param   {String} id - User ID\n * @body    {Object} updateData - Fields to update\n * @returns {Object} Updated user\n */\nrouter.patch('/:id', authenticate, authorize(['admin']), (req, res) => {\n  try {\n    const { id } = req.params;\n    const updateData = req.body;\n\n    if (!id) {\n      return res.status(400).json({\n        success: false,\n        message: 'User ID is required'\n      });\n    }\n\n    // TODO: Implement user update\n    res.json({\n      success: true,\n      message: 'User updated successfully',\n      data: {\n        id,\n        ...updateData,\n        updatedAt: new Date().toISOString()\n      }\n    });\n  } catch (error) {\n    res.status(500).json({\n      success: false,\n      message: 'Error updating user',\n      error: error.message\n    });\n  }\n});\n\n/**\n * @route   DELETE /api/users/:id\n * @access  Private\n * @param   {String} id - User ID\n * @returns {Object} Deletion confirmation\n */\nrouter.delete('/:id', authenticate, authorize(['admin']), (req, res) => {\n  try {\n    const { id } = req.params;\n\n    if (!id) {\n      return res.status(400).json({\n        success: false,\n        message: 'User ID is required'\n      });\n    }\n\n    // TODO: Implement user deletion with soft delete\n    res.json({\n      success: true,\n      message: 'User deleted successfully',\n      data: {\n        id,\n        deletedAt: new Date().toISOString()\n      }\n    });\n  } catch (error) {\n    res.status(500).json({\n      success: false,\n      message: 'Error deleting user',\n      error: error.message\n    });\n  }\n});\n\n/**\n * @route   POST /api/users/batch\n * @access  Private\n * @body    {Array} users - Array of user objects\n * @returns {Object} Creation results\n */\nrouter.post('/batch', authenticate, authorize(['admin']), (req, res) => {\n  try {\n    const { users } = req.body;\n\n    if (!Array.isArray(users) || users.length === 0) {\n      return res.status(400).json({\n        success: false,\n        message: 'Users array is required and cannot be empty'\n      });\n    }\n\n    // TODO: Implement batch user creation\n    const created = users.map(user => ({\n      ...user,\n      id: 'user_' + Date.now(),\n      createdAt: new Date().toISOString()\n    }));\n\n    res.status(201).json({\n      success: true,\n      message: `${created.length} users created successfully`,\n      data: {\n        created: created.length,\n        users: created,\n        timestamp: new Date().toISOString()\n      }\n    });\n  } catch (error) {\n    res.status(500).json({\n      success: false,\n      message: 'Error creating users',\n      error: error.message\n    });\n  }\n});\n\nmodule.exports = router;\n"],"mappings":"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","ignoreList":[]}