08c22dd873f2f376fbcda4e57fc3375b
/**
 * Smart Notifications Routes - Phase 31
 * مسارات نظام الإشعارات المتقدم
 */

const express = require('express');
const SmartNotificationController = require('../controllers/smartNotification.controller');
const router = express.Router();

/**
 * ===== إرسال الإشعارات =====
 */

/**
 * إرسال إشعار فوري
 * POST /api/notifications/send
 */
router.post('/send', SmartNotificationController.sendNotification);

/**
 * إرسال تنبيه انتهاك
 * POST /api/notifications/violation-alert
 */
router.post('/violation-alert', SmartNotificationController.sendViolationAlert);

/**
 * إرسال تقرير الأداء
 * POST /api/notifications/performance-report
 */
router.post('/performance-report', SmartNotificationController.sendPerformanceReport);

/**
 * إرسال إشعارات جماعية
 * POST /api/notifications/bulk-send
 */
router.post('/bulk-send', SmartNotificationController.sendBulkNotification);

/**
 * جدولة إشعار
 * POST /api/notifications/schedule
 */
router.post('/schedule', SmartNotificationController.scheduleNotification);

/**
 * ===== الجلب والقراءة =====
 */

/**
 * الحصول على الإشعارات غير المقروءة
 * GET /api/notifications/unread?limit=20
 */
router.get('/unread', SmartNotificationController.getUnreadNotifications);

/**
 * عد الإشعارات غير المقروءة
 * GET /api/notifications/unread-count
 */
router.get('/unread-count', SmartNotificationController.getUnreadCount);

/**
 * الحصول على جميع الإشعارات
 * GET /api/notifications?skip=0&limit=20&status=all
 */
router.get('/', SmartNotificationController.getAllNotifications);

/**
 * الحصول على إحصائيات
 * GET /api/notifications/stats?timeRange=week
 */
router.get('/stats', SmartNotificationController.getStats);

/**
 * ===== معالجة =====
 */

/**
 * تحديد الإشعار كمقروء
 * PUT /api/notifications/:id/read
 */
router.put('/:id/read', SmartNotificationController.markAsRead);

/**
 * حذف الإشعار
 * DELETE /api/notifications/:id
 */
router.delete('/:id', SmartNotificationController.deleteNotification);

/**
 * ===== أدوات =====
 */

/**
 * معاينة الإشعار
 * POST /api/notifications/preview
 */
router.post('/preview', SmartNotificationController.previewNotification);
module.exports = router;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJleHByZXNzIiwicmVxdWlyZSIsIlNtYXJ0Tm90aWZpY2F0aW9uQ29udHJvbGxlciIsInJvdXRlciIsIlJvdXRlciIsInBvc3QiLCJzZW5kTm90aWZpY2F0aW9uIiwic2VuZFZpb2xhdGlvbkFsZXJ0Iiwic2VuZFBlcmZvcm1hbmNlUmVwb3J0Iiwic2VuZEJ1bGtOb3RpZmljYXRpb24iLCJzY2hlZHVsZU5vdGlmaWNhdGlvbiIsImdldCIsImdldFVucmVhZE5vdGlmaWNhdGlvbnMiLCJnZXRVbnJlYWRDb3VudCIsImdldEFsbE5vdGlmaWNhdGlvbnMiLCJnZXRTdGF0cyIsInB1dCIsIm1hcmtBc1JlYWQiLCJkZWxldGUiLCJkZWxldGVOb3RpZmljYXRpb24iLCJwcmV2aWV3Tm90aWZpY2F0aW9uIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VzIjpbInNtYXJ0Tm90aWZpY2F0aW9ucy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICogU21hcnQgTm90aWZpY2F0aW9ucyBSb3V0ZXMgLSBQaGFzZSAzMVxyXG4gKiDZhdiz2KfYsdin2Kog2YbYuNin2YUg2KfZhNil2LTYudin2LHYp9iqINin2YTZhdiq2YLYr9mFXHJcbiAqL1xyXG5cclxuY29uc3QgZXhwcmVzcyA9IHJlcXVpcmUoJ2V4cHJlc3MnKTtcclxuY29uc3QgU21hcnROb3RpZmljYXRpb25Db250cm9sbGVyID0gcmVxdWlyZSgnLi4vY29udHJvbGxlcnMvc21hcnROb3RpZmljYXRpb24uY29udHJvbGxlcicpO1xyXG5cclxuY29uc3Qgcm91dGVyID0gZXhwcmVzcy5Sb3V0ZXIoKTtcclxuXHJcbi8qKlxyXG4gKiA9PT09PSDYpdix2LPYp9mEINin2YTYpdi02LnYp9ix2KfYqiA9PT09PVxyXG4gKi9cclxuXHJcbi8qKlxyXG4gKiDYpdix2LPYp9mEINil2LTYudin2LEg2YHZiNix2YpcclxuICogUE9TVCAvYXBpL25vdGlmaWNhdGlvbnMvc2VuZFxyXG4gKi9cclxucm91dGVyLnBvc3QoJy9zZW5kJywgU21hcnROb3RpZmljYXRpb25Db250cm9sbGVyLnNlbmROb3RpZmljYXRpb24pO1xyXG5cclxuLyoqXHJcbiAqINil2LHYs9in2YQg2KrZhtio2YrZhyDYp9mG2KrZh9in2YNcclxuICogUE9TVCAvYXBpL25vdGlmaWNhdGlvbnMvdmlvbGF0aW9uLWFsZXJ0XHJcbiAqL1xyXG5yb3V0ZXIucG9zdCgnL3Zpb2xhdGlvbi1hbGVydCcsIFNtYXJ0Tm90aWZpY2F0aW9uQ29udHJvbGxlci5zZW5kVmlvbGF0aW9uQWxlcnQpO1xyXG5cclxuLyoqXHJcbiAqINil2LHYs9in2YQg2KrZgtix2YrYsSDYp9mE2KPYr9in2KFcclxuICogUE9TVCAvYXBpL25vdGlmaWNhdGlvbnMvcGVyZm9ybWFuY2UtcmVwb3J0XHJcbiAqL1xyXG5yb3V0ZXIucG9zdCgnL3BlcmZvcm1hbmNlLXJlcG9ydCcsIFNtYXJ0Tm90aWZpY2F0aW9uQ29udHJvbGxlci5zZW5kUGVyZm9ybWFuY2VSZXBvcnQpO1xyXG5cclxuLyoqXHJcbiAqINil2LHYs9in2YQg2KXYtNi52KfYsdin2Kog2KzZhdin2LnZitipXHJcbiAqIFBPU1QgL2FwaS9ub3RpZmljYXRpb25zL2J1bGstc2VuZFxyXG4gKi9cclxucm91dGVyLnBvc3QoJy9idWxrLXNlbmQnLCBTbWFydE5vdGlmaWNhdGlvbkNvbnRyb2xsZXIuc2VuZEJ1bGtOb3RpZmljYXRpb24pO1xyXG5cclxuLyoqXHJcbiAqINis2K/ZiNmE2Kkg2KXYtNi52KfYsVxyXG4gKiBQT1NUIC9hcGkvbm90aWZpY2F0aW9ucy9zY2hlZHVsZVxyXG4gKi9cclxucm91dGVyLnBvc3QoJy9zY2hlZHVsZScsIFNtYXJ0Tm90aWZpY2F0aW9uQ29udHJvbGxlci5zY2hlZHVsZU5vdGlmaWNhdGlvbik7XHJcblxyXG4vKipcclxuICogPT09PT0g2KfZhNis2YTYqCDZiNin2YTZgtix2KfYodipID09PT09XHJcbiAqL1xyXG5cclxuLyoqXHJcbiAqINin2YTYrdi12YjZhCDYudmE2Ykg2KfZhNil2LTYudin2LHYp9iqINi62YrYsSDYp9mE2YXZgtix2YjYodipXHJcbiAqIEdFVCAvYXBpL25vdGlmaWNhdGlvbnMvdW5yZWFkP2xpbWl0PTIwXHJcbiAqL1xyXG5yb3V0ZXIuZ2V0KCcvdW5yZWFkJywgU21hcnROb3RpZmljYXRpb25Db250cm9sbGVyLmdldFVucmVhZE5vdGlmaWNhdGlvbnMpO1xyXG5cclxuLyoqXHJcbiAqINi52K8g2KfZhNil2LTYudin2LHYp9iqINi62YrYsSDYp9mE2YXZgtix2YjYodipXHJcbiAqIEdFVCAvYXBpL25vdGlmaWNhdGlvbnMvdW5yZWFkLWNvdW50XHJcbiAqL1xyXG5yb3V0ZXIuZ2V0KCcvdW5yZWFkLWNvdW50JywgU21hcnROb3RpZmljYXRpb25Db250cm9sbGVyLmdldFVucmVhZENvdW50KTtcclxuXHJcbi8qKlxyXG4gKiDYp9mE2K3YtdmI2YQg2LnZhNmJINis2YXZiti5INin2YTYpdi02LnYp9ix2KfYqlxyXG4gKiBHRVQgL2FwaS9ub3RpZmljYXRpb25zP3NraXA9MCZsaW1pdD0yMCZzdGF0dXM9YWxsXHJcbiAqL1xyXG5yb3V0ZXIuZ2V0KCcvJywgU21hcnROb3RpZmljYXRpb25Db250cm9sbGVyLmdldEFsbE5vdGlmaWNhdGlvbnMpO1xyXG5cclxuLyoqXHJcbiAqINin2YTYrdi12YjZhCDYudmE2Ykg2KXYrdi12KfYptmK2KfYqlxyXG4gKiBHRVQgL2FwaS9ub3RpZmljYXRpb25zL3N0YXRzP3RpbWVSYW5nZT13ZWVrXHJcbiAqL1xyXG5yb3V0ZXIuZ2V0KCcvc3RhdHMnLCBTbWFydE5vdGlmaWNhdGlvbkNvbnRyb2xsZXIuZ2V0U3RhdHMpO1xyXG5cclxuLyoqXHJcbiAqID09PT09INmF2LnYp9mE2KzYqSA9PT09PVxyXG4gKi9cclxuXHJcbi8qKlxyXG4gKiDYqtit2K/ZitivINin2YTYpdi02LnYp9ixINmD2YXZgtix2YjYoVxyXG4gKiBQVVQgL2FwaS9ub3RpZmljYXRpb25zLzppZC9yZWFkXHJcbiAqL1xyXG5yb3V0ZXIucHV0KCcvOmlkL3JlYWQnLCBTbWFydE5vdGlmaWNhdGlvbkNvbnRyb2xsZXIubWFya0FzUmVhZCk7XHJcblxyXG4vKipcclxuICog2K3YsNmBINin2YTYpdi02LnYp9ixXHJcbiAqIERFTEVURSAvYXBpL25vdGlmaWNhdGlvbnMvOmlkXHJcbiAqL1xyXG5yb3V0ZXIuZGVsZXRlKCcvOmlkJywgU21hcnROb3RpZmljYXRpb25Db250cm9sbGVyLmRlbGV0ZU5vdGlmaWNhdGlvbik7XHJcblxyXG4vKipcclxuICogPT09PT0g2KPYr9mI2KfYqiA9PT09PVxyXG4gKi9cclxuXHJcbi8qKlxyXG4gKiDZhdi52KfZitmG2Kkg2KfZhNil2LTYudin2LFcclxuICogUE9TVCAvYXBpL25vdGlmaWNhdGlvbnMvcHJldmlld1xyXG4gKi9cclxucm91dGVyLnBvc3QoJy9wcmV2aWV3JywgU21hcnROb3RpZmljYXRpb25Db250cm9sbGVyLnByZXZpZXdOb3RpZmljYXRpb24pO1xyXG5cclxubW9kdWxlLmV4cG9ydHMgPSByb3V0ZXI7XHJcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsTUFBTUEsT0FBTyxHQUFHQyxPQUFPLENBQUMsU0FBUyxDQUFDO0FBQ2xDLE1BQU1DLDJCQUEyQixHQUFHRCxPQUFPLENBQUMsNkNBQTZDLENBQUM7QUFFMUYsTUFBTUUsTUFBTSxHQUFHSCxPQUFPLENBQUNJLE1BQU0sQ0FBQyxDQUFDOztBQUUvQjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQUQsTUFBTSxDQUFDRSxJQUFJLENBQUMsT0FBTyxFQUFFSCwyQkFBMkIsQ0FBQ0ksZ0JBQWdCLENBQUM7O0FBRWxFO0FBQ0E7QUFDQTtBQUNBO0FBQ0FILE1BQU0sQ0FBQ0UsSUFBSSxDQUFDLGtCQUFrQixFQUFFSCwyQkFBMkIsQ0FBQ0ssa0JBQWtCLENBQUM7O0FBRS9FO0FBQ0E7QUFDQTtBQUNBO0FBQ0FKLE1BQU0sQ0FBQ0UsSUFBSSxDQUFDLHFCQUFxQixFQUFFSCwyQkFBMkIsQ0FBQ00scUJBQXFCLENBQUM7O0FBRXJGO0FBQ0E7QUFDQTtBQUNBO0FBQ0FMLE1BQU0sQ0FBQ0UsSUFBSSxDQUFDLFlBQVksRUFBRUgsMkJBQTJCLENBQUNPLG9CQUFvQixDQUFDOztBQUUzRTtBQUNBO0FBQ0E7QUFDQTtBQUNBTixNQUFNLENBQUNFLElBQUksQ0FBQyxXQUFXLEVBQUVILDJCQUEyQixDQUFDUSxvQkFBb0IsQ0FBQzs7QUFFMUU7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0FQLE1BQU0sQ0FBQ1EsR0FBRyxDQUFDLFNBQVMsRUFBRVQsMkJBQTJCLENBQUNVLHNCQUFzQixDQUFDOztBQUV6RTtBQUNBO0FBQ0E7QUFDQTtBQUNBVCxNQUFNLENBQUNRLEdBQUcsQ0FBQyxlQUFlLEVBQUVULDJCQUEyQixDQUFDVyxjQUFjLENBQUM7O0FBRXZFO0FBQ0E7QUFDQTtBQUNBO0FBQ0FWLE1BQU0sQ0FBQ1EsR0FBRyxDQUFDLEdBQUcsRUFBRVQsMkJBQTJCLENBQUNZLG1CQUFtQixDQUFDOztBQUVoRTtBQUNBO0FBQ0E7QUFDQTtBQUNBWCxNQUFNLENBQUNRLEdBQUcsQ0FBQyxRQUFRLEVBQUVULDJCQUEyQixDQUFDYSxRQUFRLENBQUM7O0FBRTFEO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBWixNQUFNLENBQUNhLEdBQUcsQ0FBQyxXQUFXLEVBQUVkLDJCQUEyQixDQUFDZSxVQUFVLENBQUM7O0FBRS9EO0FBQ0E7QUFDQTtBQUNBO0FBQ0FkLE1BQU0sQ0FBQ2UsTUFBTSxDQUFDLE1BQU0sRUFBRWhCLDJCQUEyQixDQUFDaUIsa0JBQWtCLENBQUM7O0FBRXJFO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBaEIsTUFBTSxDQUFDRSxJQUFJLENBQUMsVUFBVSxFQUFFSCwyQkFBMkIsQ0FBQ2tCLG1CQUFtQixDQUFDO0FBRXhFQyxNQUFNLENBQUNDLE9BQU8sR0FBR25CLE1BQU0iLCJpZ25vcmVMaXN0IjpbXX0=