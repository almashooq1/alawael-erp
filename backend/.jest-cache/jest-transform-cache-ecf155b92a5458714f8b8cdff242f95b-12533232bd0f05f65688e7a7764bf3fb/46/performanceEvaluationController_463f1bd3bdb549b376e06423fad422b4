4e7eb222fdd2740898ebb21d108d8eb4
// HR Performance Evaluation Controller
const PerformanceEvaluation = require('../../models/HR/PerformanceEvaluation');

// Create new evaluation
exports.createEvaluation = async (req, res) => {
  try {
    const evaluation = new PerformanceEvaluation(req.body);
    await evaluation.save();
    res.status(201).json(evaluation);
  } catch (err) {
    res.status(400).json({
      error: err.message
    });
  }
};

// Get all evaluations
exports.getEvaluations = async (req, res) => {
  try {
    const evaluations = await PerformanceEvaluation.find();
    res.json(evaluations);
  } catch (err) {
    res.status(500).json({
      error: err.message
    });
  }
};

// Get evaluation by ID
exports.getEvaluationById = async (req, res) => {
  try {
    const evaluation = await PerformanceEvaluation.findById(req.params.id);
    if (!evaluation) return res.status(404).json({
      error: 'Not found'
    });
    res.json(evaluation);
  } catch (err) {
    res.status(500).json({
      error: err.message
    });
  }
};

// Update evaluation
exports.updateEvaluation = async (req, res) => {
  try {
    const evaluation = await PerformanceEvaluation.findByIdAndUpdate(req.params.id, req.body, {
      new: true
    });
    if (!evaluation) return res.status(404).json({
      error: 'Not found'
    });
    res.json(evaluation);
  } catch (err) {
    res.status(400).json({
      error: err.message
    });
  }
};

// Delete evaluation
exports.deleteEvaluation = async (req, res) => {
  try {
    const evaluation = await PerformanceEvaluation.findByIdAndDelete(req.params.id);
    if (!evaluation) return res.status(404).json({
      error: 'Not found'
    });
    res.json({
      message: 'Deleted'
    });
  } catch (err) {
    res.status(500).json({
      error: err.message
    });
  }
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJQZXJmb3JtYW5jZUV2YWx1YXRpb24iLCJyZXF1aXJlIiwiZXhwb3J0cyIsImNyZWF0ZUV2YWx1YXRpb24iLCJyZXEiLCJyZXMiLCJldmFsdWF0aW9uIiwiYm9keSIsInNhdmUiLCJzdGF0dXMiLCJqc29uIiwiZXJyIiwiZXJyb3IiLCJtZXNzYWdlIiwiZ2V0RXZhbHVhdGlvbnMiLCJldmFsdWF0aW9ucyIsImZpbmQiLCJnZXRFdmFsdWF0aW9uQnlJZCIsImZpbmRCeUlkIiwicGFyYW1zIiwiaWQiLCJ1cGRhdGVFdmFsdWF0aW9uIiwiZmluZEJ5SWRBbmRVcGRhdGUiLCJuZXciLCJkZWxldGVFdmFsdWF0aW9uIiwiZmluZEJ5SWRBbmREZWxldGUiXSwic291cmNlcyI6WyJwZXJmb3JtYW5jZUV2YWx1YXRpb25Db250cm9sbGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIEhSIFBlcmZvcm1hbmNlIEV2YWx1YXRpb24gQ29udHJvbGxlclxyXG5jb25zdCBQZXJmb3JtYW5jZUV2YWx1YXRpb24gPSByZXF1aXJlKCcuLi8uLi9tb2RlbHMvSFIvUGVyZm9ybWFuY2VFdmFsdWF0aW9uJyk7XHJcblxyXG4vLyBDcmVhdGUgbmV3IGV2YWx1YXRpb25cclxuZXhwb3J0cy5jcmVhdGVFdmFsdWF0aW9uID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IGV2YWx1YXRpb24gPSBuZXcgUGVyZm9ybWFuY2VFdmFsdWF0aW9uKHJlcS5ib2R5KTtcclxuICAgIGF3YWl0IGV2YWx1YXRpb24uc2F2ZSgpO1xyXG4gICAgcmVzLnN0YXR1cygyMDEpLmpzb24oZXZhbHVhdGlvbik7XHJcbiAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICByZXMuc3RhdHVzKDQwMCkuanNvbih7IGVycm9yOiBlcnIubWVzc2FnZSB9KTtcclxuICB9XHJcbn07XHJcblxyXG4vLyBHZXQgYWxsIGV2YWx1YXRpb25zXHJcbmV4cG9ydHMuZ2V0RXZhbHVhdGlvbnMgPSBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgZXZhbHVhdGlvbnMgPSBhd2FpdCBQZXJmb3JtYW5jZUV2YWx1YXRpb24uZmluZCgpO1xyXG4gICAgcmVzLmpzb24oZXZhbHVhdGlvbnMpO1xyXG4gIH0gY2F0Y2ggKGVycikge1xyXG4gICAgcmVzLnN0YXR1cyg1MDApLmpzb24oeyBlcnJvcjogZXJyLm1lc3NhZ2UgfSk7XHJcbiAgfVxyXG59O1xyXG5cclxuLy8gR2V0IGV2YWx1YXRpb24gYnkgSURcclxuZXhwb3J0cy5nZXRFdmFsdWF0aW9uQnlJZCA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCBldmFsdWF0aW9uID0gYXdhaXQgUGVyZm9ybWFuY2VFdmFsdWF0aW9uLmZpbmRCeUlkKHJlcS5wYXJhbXMuaWQpO1xyXG4gICAgaWYgKCFldmFsdWF0aW9uKSByZXR1cm4gcmVzLnN0YXR1cyg0MDQpLmpzb24oeyBlcnJvcjogJ05vdCBmb3VuZCcgfSk7XHJcbiAgICByZXMuanNvbihldmFsdWF0aW9uKTtcclxuICB9IGNhdGNoIChlcnIpIHtcclxuICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgZXJyb3I6IGVyci5tZXNzYWdlIH0pO1xyXG4gIH1cclxufTtcclxuXHJcbi8vIFVwZGF0ZSBldmFsdWF0aW9uXHJcbmV4cG9ydHMudXBkYXRlRXZhbHVhdGlvbiA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCBldmFsdWF0aW9uID0gYXdhaXQgUGVyZm9ybWFuY2VFdmFsdWF0aW9uLmZpbmRCeUlkQW5kVXBkYXRlKHJlcS5wYXJhbXMuaWQsIHJlcS5ib2R5LCB7XHJcbiAgICAgIG5ldzogdHJ1ZSxcclxuICAgIH0pO1xyXG4gICAgaWYgKCFldmFsdWF0aW9uKSByZXR1cm4gcmVzLnN0YXR1cyg0MDQpLmpzb24oeyBlcnJvcjogJ05vdCBmb3VuZCcgfSk7XHJcbiAgICByZXMuanNvbihldmFsdWF0aW9uKTtcclxuICB9IGNhdGNoIChlcnIpIHtcclxuICAgIHJlcy5zdGF0dXMoNDAwKS5qc29uKHsgZXJyb3I6IGVyci5tZXNzYWdlIH0pO1xyXG4gIH1cclxufTtcclxuXHJcbi8vIERlbGV0ZSBldmFsdWF0aW9uXHJcbmV4cG9ydHMuZGVsZXRlRXZhbHVhdGlvbiA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCBldmFsdWF0aW9uID0gYXdhaXQgUGVyZm9ybWFuY2VFdmFsdWF0aW9uLmZpbmRCeUlkQW5kRGVsZXRlKHJlcS5wYXJhbXMuaWQpO1xyXG4gICAgaWYgKCFldmFsdWF0aW9uKSByZXR1cm4gcmVzLnN0YXR1cyg0MDQpLmpzb24oeyBlcnJvcjogJ05vdCBmb3VuZCcgfSk7XHJcbiAgICByZXMuanNvbih7IG1lc3NhZ2U6ICdEZWxldGVkJyB9KTtcclxuICB9IGNhdGNoIChlcnIpIHtcclxuICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgZXJyb3I6IGVyci5tZXNzYWdlIH0pO1xyXG4gIH1cclxufTtcclxuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBLE1BQU1BLHFCQUFxQixHQUFHQyxPQUFPLENBQUMsdUNBQXVDLENBQUM7O0FBRTlFO0FBQ0FDLE9BQU8sQ0FBQ0MsZ0JBQWdCLEdBQUcsT0FBT0MsR0FBRyxFQUFFQyxHQUFHLEtBQUs7RUFDN0MsSUFBSTtJQUNGLE1BQU1DLFVBQVUsR0FBRyxJQUFJTixxQkFBcUIsQ0FBQ0ksR0FBRyxDQUFDRyxJQUFJLENBQUM7SUFDdEQsTUFBTUQsVUFBVSxDQUFDRSxJQUFJLENBQUMsQ0FBQztJQUN2QkgsR0FBRyxDQUFDSSxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQ0osVUFBVSxDQUFDO0VBQ2xDLENBQUMsQ0FBQyxPQUFPSyxHQUFHLEVBQUU7SUFDWk4sR0FBRyxDQUFDSSxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQztNQUFFRSxLQUFLLEVBQUVELEdBQUcsQ0FBQ0U7SUFB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