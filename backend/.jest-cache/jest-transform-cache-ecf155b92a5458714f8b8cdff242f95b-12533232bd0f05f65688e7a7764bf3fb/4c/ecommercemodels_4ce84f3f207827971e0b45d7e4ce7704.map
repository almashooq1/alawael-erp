{"version":3,"names":["mongoose","require","variantSchema","Schema","size","String","color","sku","quantity","type","Number","default","price","productSchema","name","required","trim","description","category","enum","subCategory","min","originalPrice","discount","max","finalPrice","totalStock","lowStockThreshold","variants","images","url","alt","isMain","Boolean","thumbnail","unique","sparse","weight","dimensions","length","width","height","rating","average","count","reviews","userId","Types","ObjectId","title","comment","helpful","createdAt","Date","now","isActive","isFeatured","isNew","slug","metaTitle","metaDescription","vendorId","vendorName","updatedAt","timestamps","index","virtual","get","pre","next","cartItemSchema","productId","ref","variant","addedAt","cartSchema","items","subtotal","tax","shipping","total","coupon","notes","reduce","sum","item","checkoutSchema","sessionId","shippingAddress","fullName","email","phone","street","city","state","zipCode","country","billingAddress","paymentMethod","paymentStatus","couponCode","couponDiscount","status","expiresAt","expireAfterSeconds","couponSchema","code","uppercase","discountType","discountValue","maxDiscount","minPurchaseAmount","maxUses","usedCount","applicableCategories","applicableProducts","excludedProducts","validFrom","validUntil","usedBy","wishlistSchema","inventoryLogSchema","action","reference","createdBy","module","exports","Product","model","Cart","Checkout","Coupon","Wishlist","InventoryLog"],"sources":["ecommerce.models.js"],"sourcesContent":["/**\r\n * E-Commerce Models\r\n * Product, Cart, and Order management for e-commerce functionality\r\n */\r\n\r\nconst mongoose = require('mongoose');\r\n\r\n// ============================================\r\n// PRODUCT VARIANT SCHEMA\r\n// ============================================\r\n\r\nconst variantSchema = new mongoose.Schema({\r\n  size: String,\r\n  color: String,\r\n  sku: String,\r\n  quantity: { type: Number, default: 0 },\r\n  price: Number,\r\n});\r\n\r\n// ============================================\r\n// PRODUCT SCHEMA\r\n// ============================================\r\n\r\nconst productSchema = new mongoose.Schema(\r\n  {\r\n    // Basic Info\r\n    name: {\r\n      type: String,\r\n      required: true,\r\n      trim: true,\r\n    },\r\n    description: String,\r\n    category: {\r\n      type: String,\r\n      enum: [\r\n        'Electronics',\r\n        'Clothing',\r\n        'Food',\r\n        'Books',\r\n        'Home',\r\n        'Sports',\r\n        'Tools',\r\n        'Other',\r\n      ],\r\n      default: 'Other',\r\n    },\r\n    subCategory: String,\r\n\r\n    // Pricing\r\n    price: {\r\n      type: Number,\r\n      required: true,\r\n      min: 0,\r\n    },\r\n    originalPrice: Number,\r\n    discount: {\r\n      type: Number,\r\n      default: 0,\r\n      min: 0,\r\n      max: 100,\r\n    },\r\n    finalPrice: Number, // Computed: price - (price * discount / 100)\r\n\r\n    // Inventory\r\n    totalStock: {\r\n      type: Number,\r\n      default: 0,\r\n      min: 0,\r\n    },\r\n    lowStockThreshold: {\r\n      type: Number,\r\n      default: 10,\r\n    },\r\n    variants: [variantSchema],\r\n\r\n    // Media\r\n    images: [\r\n      {\r\n        url: String,\r\n        alt: String,\r\n        isMain: { type: Boolean, default: false },\r\n      },\r\n    ],\r\n    thumbnail: String,\r\n\r\n    // Details\r\n    sku: {\r\n      type: String,\r\n      unique: true,\r\n      sparse: true,\r\n    },\r\n    weight: Number, // in kg\r\n    dimensions: {\r\n      length: Number,\r\n      width: Number,\r\n      height: Number,\r\n    },\r\n\r\n    // Ratings & Reviews\r\n    rating: {\r\n      average: { type: Number, default: 0 },\r\n      count: { type: Number, default: 0 },\r\n    },\r\n    reviews: [\r\n      {\r\n        userId: mongoose.Schema.Types.ObjectId,\r\n        rating: { type: Number, min: 1, max: 5 },\r\n        title: String,\r\n        comment: String,\r\n        helpful: { type: Number, default: 0 },\r\n        createdAt: { type: Date, default: Date.now },\r\n      },\r\n    ],\r\n\r\n    // Status\r\n    isActive: { type: Boolean, default: true },\r\n    isFeatured: { type: Boolean, default: false },\r\n    isNew: { type: Boolean, default: false },\r\n\r\n    // SEO\r\n    slug: String,\r\n    metaTitle: String,\r\n    metaDescription: String,\r\n\r\n    // Seller/Supplier\r\n    vendorId: mongoose.Schema.Types.ObjectId,\r\n    vendorName: String,\r\n\r\n    // Timestamps\r\n    createdAt: { type: Date, default: Date.now },\r\n    updatedAt: { type: Date, default: Date.now },\r\n  },\r\n  {\r\n    timestamps: true,\r\n  }\r\n);\r\n\r\n// Indexes\r\nproductSchema.index({ category: 1, isActive: 1 });\r\nproductSchema.index({ price: 1 });\r\nproductSchema.index({ rating: 1 });\r\nproductSchema.index({ slug: 1 });\r\nproductSchema.index({ sku: 1 });\r\n\r\n// Virtual for low stock\r\nproductSchema.virtual('isLowStock').get(function () {\r\n  return this.totalStock <= this.lowStockThreshold;\r\n});\r\n\r\n// Pre-save hook to calculate final price\r\nproductSchema.pre('save', function (next) {\r\n  this.finalPrice = this.price - (this.price * this.discount) / 100;\r\n  this.updatedAt = new Date();\r\n  next();\r\n});\r\n\r\n// ============================================\r\n// SHOPPING CART SCHEMA\r\n// ============================================\r\n\r\nconst cartItemSchema = new mongoose.Schema({\r\n  productId: {\r\n    type: mongoose.Schema.Types.ObjectId,\r\n    ref: 'Product',\r\n    required: true,\r\n  },\r\n  quantity: {\r\n    type: Number,\r\n    required: true,\r\n    min: 1,\r\n    max: 9999,\r\n  },\r\n  price: Number, // Price at time of adding to cart\r\n  variant: {\r\n    size: String,\r\n    color: String,\r\n  },\r\n  addedAt: { type: Date, default: Date.now },\r\n});\r\n\r\nconst cartSchema = new mongoose.Schema(\r\n  {\r\n    userId: {\r\n      type: mongoose.Schema.Types.ObjectId,\r\n      ref: 'Customer',\r\n      required: true,\r\n      unique: true,\r\n    },\r\n    items: [cartItemSchema],\r\n    subtotal: { type: Number, default: 0 },\r\n    tax: { type: Number, default: 0 },\r\n    shipping: { type: Number, default: 0 },\r\n    discount: { type: Number, default: 0 },\r\n    total: { type: Number, default: 0 },\r\n    coupon: String,\r\n    notes: String,\r\n    updatedAt: { type: Date, default: Date.now },\r\n  },\r\n  {\r\n    timestamps: true,\r\n  }\r\n);\r\n\r\n// Pre-save hook to recalculate totals\r\ncartSchema.pre('save', function (next) {\r\n  this.subtotal = this.items.reduce(\r\n    (sum, item) => sum + item.price * item.quantity,\r\n    0\r\n  );\r\n  this.tax = this.subtotal * 0.1; // 10% tax\r\n  this.shipping = this.subtotal > 100 ? 0 : 10; // Free shipping > $100\r\n  this.total = this.subtotal + this.tax + this.shipping - this.discount;\r\n  this.updatedAt = new Date();\r\n  next();\r\n});\r\n\r\n// ============================================\r\n// CHECKOUT SESSION SCHEMA\r\n// ============================================\r\n\r\nconst checkoutSchema = new mongoose.Schema(\r\n  {\r\n    userId: {\r\n      type: mongoose.Schema.Types.ObjectId,\r\n      ref: 'Customer',\r\n      required: true,\r\n    },\r\n    sessionId: {\r\n      type: String,\r\n      unique: true,\r\n    },\r\n    items: [\r\n      {\r\n        productId: mongoose.Schema.Types.ObjectId,\r\n        quantity: Number,\r\n        price: Number,\r\n      },\r\n    ],\r\n\r\n    // Shipping Address\r\n    shippingAddress: {\r\n      fullName: String,\r\n      email: String,\r\n      phone: String,\r\n      street: String,\r\n      city: String,\r\n      state: String,\r\n      zipCode: String,\r\n      country: String,\r\n    },\r\n\r\n    // Billing Address\r\n    billingAddress: {\r\n      fullName: String,\r\n      street: String,\r\n      city: String,\r\n      state: String,\r\n      zipCode: String,\r\n      country: String,\r\n    },\r\n\r\n    // Pricing\r\n    subtotal: Number,\r\n    tax: Number,\r\n    shipping: Number,\r\n    discount: Number,\r\n    total: Number,\r\n\r\n    // Payment Method\r\n    paymentMethod: {\r\n      type: String,\r\n      enum: ['credit_card', 'debit_card', 'paypal', 'stripe', 'bank_transfer'],\r\n      required: true,\r\n    },\r\n    paymentStatus: {\r\n      type: String,\r\n      enum: ['pending', 'processing', 'completed', 'failed'],\r\n      default: 'pending',\r\n    },\r\n\r\n    // Coupon\r\n    couponCode: String,\r\n    couponDiscount: { type: Number, default: 0 },\r\n\r\n    // Status\r\n    status: {\r\n      type: String,\r\n      enum: ['cart', 'checkout', 'payment_pending', 'confirmed', 'cancelled'],\r\n      default: 'checkout',\r\n    },\r\n\r\n    // Timestamps\r\n    expiresAt: Date, // Session expiry\r\n    createdAt: { type: Date, default: Date.now },\r\n    updatedAt: { type: Date, default: Date.now },\r\n  },\r\n  {\r\n    timestamps: true,\r\n  }\r\n);\r\n\r\n// Index for expiring sessions\r\ncheckoutSchema.index({ expiresAt: 1 }, { expireAfterSeconds: 0 });\r\n\r\n// ============================================\r\n// COUPON/DISCOUNT SCHEMA\r\n// ============================================\r\n\r\nconst couponSchema = new mongoose.Schema(\r\n  {\r\n    code: {\r\n      type: String,\r\n      required: true,\r\n      unique: true,\r\n      uppercase: true,\r\n      trim: true,\r\n    },\r\n    description: String,\r\n    discountType: {\r\n      type: String,\r\n      enum: ['percentage', 'fixed_amount'],\r\n      required: true,\r\n    },\r\n    discountValue: {\r\n      type: Number,\r\n      required: true,\r\n      min: 0,\r\n    },\r\n    maxDiscount: Number, // Max discount amount for percentage coupons\r\n    minPurchaseAmount: { type: Number, default: 0 },\r\n    maxUses: Number,\r\n    usedCount: { type: Number, default: 0 },\r\n\r\n    // Applicable to\r\n    applicableCategories: [String], // Empty = all categories\r\n    applicableProducts: [mongoose.Schema.Types.ObjectId],\r\n    excludedProducts: [mongoose.Schema.Types.ObjectId],\r\n\r\n    // Validity\r\n    validFrom: Date,\r\n    validUntil: Date,\r\n    isActive: { type: Boolean, default: true },\r\n\r\n    // Usage tracking\r\n    usedBy: [mongoose.Schema.Types.ObjectId],\r\n\r\n    createdAt: { type: Date, default: Date.now },\r\n  },\r\n  {\r\n    timestamps: true,\r\n  }\r\n);\r\n\r\n// Index\r\ncouponSchema.index({ code: 1 });\r\ncouponSchema.index({ validUntil: 1 });\r\n\r\n// ============================================\r\n// WISH LIST SCHEMA\r\n// ============================================\r\n\r\nconst wishlistSchema = new mongoose.Schema(\r\n  {\r\n    userId: {\r\n      type: mongoose.Schema.Types.ObjectId,\r\n      ref: 'Customer',\r\n      required: true,\r\n      unique: true,\r\n    },\r\n    items: [\r\n      {\r\n        productId: {\r\n          type: mongoose.Schema.Types.ObjectId,\r\n          ref: 'Product',\r\n        },\r\n        addedAt: { type: Date, default: Date.now },\r\n      },\r\n    ],\r\n    createdAt: { type: Date, default: Date.now },\r\n    updatedAt: { type: Date, default: Date.now },\r\n  },\r\n  {\r\n    timestamps: true,\r\n  }\r\n);\r\n\r\n// ============================================\r\n// INVENTORY LOG SCHEMA\r\n// ============================================\r\n\r\nconst inventoryLogSchema = new mongoose.Schema({\r\n  productId: {\r\n    type: mongoose.Schema.Types.ObjectId,\r\n    ref: 'Product',\r\n    required: true,\r\n  },\r\n  action: {\r\n    type: String,\r\n    enum: ['stock_in', 'stock_out', 'adjustment', 'damage', 'return'],\r\n  },\r\n  quantity: Number,\r\n  reference: String, // Order ID or Supplier ID\r\n  notes: String,\r\n  createdBy: mongoose.Schema.Types.ObjectId,\r\n  createdAt: { type: Date, default: Date.now },\r\n});\r\n\r\ninventoryLogSchema.index({ productId: 1, createdAt: -1 });\r\n\r\n// ============================================\r\n// EXPORT MODELS\r\n// ============================================\r\n\r\nmodule.exports = {\r\n  Product: mongoose.model('Product', productSchema),\r\n  Cart: mongoose.model('Cart', cartSchema),\r\n  Checkout: mongoose.model('Checkout', checkoutSchema),\r\n  Coupon: mongoose.model('Coupon', couponSchema),\r\n  Wishlist: mongoose.model('Wishlist', wishlistSchema),\r\n  InventoryLog: mongoose.model('InventoryLog', inventoryLogSchema),\r\n\r\n  // Schemas export for reference\r\n  productSchema,\r\n  cartSchema,\r\n  checkoutSchema,\r\n  couponSchema,\r\n  wishlistSchema,\r\n  inventoryLogSchema,\r\n};\r\n"],"mappings":"AAAA;AACA;AACA;AACA;;AAEA,MAAMA,QAAQ,GAAGC,OAAO,CAAC,UAAU,CAAC;;AAEpC;AACA;AACA;;AAEA,MAAMC,aAAa,GAAG,IAAIF,QAAQ,CAACG,MAAM,CAAC;EACxCC,IAAI,EAAEC,MAAM;EACZC,KAAK,EAAED,MAAM;EACbE,GAAG,EAAEF,MAAM;EACXG,QAAQ,EAAE;IAAEC,IAAI,EAAEC,MAAM;IAAEC,OAAO,EAAE;EAAE,CAAC;EACtCC,KAAK,EAAEF;AACT,CAAC,CAAC;;AAEF;AACA;AACA;;AAEA,MAAMG,aAAa,GAAG,IAAIb,QAAQ,CAACG,MAAM,CACvC;EACE;EACAW,IAAI,EAAE;IACJL,IAAI,EAAEJ,MAAM;IACZU,QAAQ,EAAE,IAAI;IACdC,IAAI,EAAE;EACR,CAAC;EACDC,WAAW,EAAEZ,MAAM;EACnBa,QAAQ,EAAE;IACRT,IAAI,EAAEJ,MAAM;IACZc,IAAI,EAAE,CACJ,aAAa,EACb,UAAU,EACV,MAAM,EACN,OAAO,EACP,MAAM,EACN,QAAQ,EACR,OAAO,EACP,OAAO,CACR;IACDR,OAAO,EAAE;EACX,CAAC;EACDS,WAAW,EAAEf,MAAM;EAEnB;EACAO,KAAK,EAAE;IACLH,IAAI,EAAEC,MAAM;IACZK,QAAQ,EAAE,IAAI;IACdM,GAAG,EAAE;EACP,CAAC;EACDC,aAAa,EAAEZ,MAAM;EACrBa,QAAQ,EAAE;IACRd,IAAI,EAAEC,MAAM;IACZC,OAAO,EAAE,CAAC;IACVU,GAAG,EAAE,CAAC;IACNG,GAAG,EAAE;EACP,CAAC;EACDC,UAAU,EAAEf,MAAM;EAAE;;EAEpB;EACAgB,UAAU,EAAE;IACVjB,IAAI,EAAEC,MAAM;IACZC,OAAO,EAAE,CAAC;IACVU,GAAG,EAAE;EACP,CAAC;EACDM,iBAAiB,EAAE;IACjBlB,IAAI,EAAEC,MAAM;IACZC,OAAO,EAAE;EACX,CAAC;EACDiB,QAAQ,EAAE,CAAC1B,aAAa,CAAC;EAEzB;EACA2B,MAAM,EAAE,CACN;IACEC,GAAG,EAAEzB,MAAM;IACX0B,GAAG,EAAE1B,MAAM;IACX2B,MAAM,EAAE;MAAEvB,IAAI,EAAEwB,OAAO;MAAEtB,OAAO,EAAE;IAAM;EAC1C,CAAC,CACF;EACDuB,SAAS,EAAE7B,MAAM;EAEjB;EACAE,GAAG,EAAE;IACHE,IAAI,EAAEJ,MAAM;IACZ8B,MAAM,EAAE,IAAI;IACZC,MAAM,EAAE;EACV,CAAC;EACDC,MAAM,EAAE3B,MAAM;EAAE;EAChB4B,UAAU,EAAE;IACVC,MAAM,EAAE7B,MAAM;IACd8B,KAAK,EAAE9B,MAAM;IACb+B,MAAM,EAAE/B;EACV,CAAC;EAED;EACAgC,MAAM,EAAE;IACNC,OAAO,EAAE;MAAElC,IAAI,EAAEC,MAAM;MAAEC,OAAO,EAAE;IAAE,CAAC;IACrCiC,KAAK,EAAE;MAAEnC,IAAI,EAAEC,MAAM;MAAEC,OAAO,EAAE;IAAE;EACpC,CAAC;EACDkC,OAAO,EAAE,CACP;IACEC,MAAM,EAAE9C,QAAQ,CAACG,MAAM,CAAC4C,KAAK,CAACC,QAAQ;IACtCN,MAAM,EAAE;MAAEjC,IAAI,EAAEC,MAAM;MAAEW,GAAG,EAAE,CAAC;MAAEG,GAAG,EAAE;IAAE,CAAC;IACxCyB,KAAK,EAAE5C,MAAM;IACb6C,OAAO,EAAE7C,MAAM;IACf8C,OAAO,EAAE;MAAE1C,IAAI,EAAEC,MAAM;MAAEC,OAAO,EAAE;IAAE,CAAC;IACrCyC,SAAS,EAAE;MAAE3C,IAAI,EAAE4C,IAAI;MAAE1C,OAAO,EAAE0C,IAAI,CAACC;IAAI;EAC7C,CAAC,CACF;EAED;EACAC,QAAQ,EAAE;IAAE9C,IAAI,EAAEwB,OAAO;IAAEtB,OAAO,EAAE;EAAK,CAAC;EAC1C6C,UAAU,EAAE;IAAE/C,IAAI,EAAEwB,OAAO;IAAEtB,OAAO,EAAE;EAAM,CAAC;EAC7C8C,KAAK,EAAE;IAAEhD,IAAI,EAAEwB,OAAO;IAAEtB,OAAO,EAAE;EAAM,CAAC;EAExC;EACA+C,IAAI,EAAErD,MAAM;EACZsD,SAAS,EAAEtD,MAAM;EACjBuD,eAAe,EAAEvD,MAAM;EAEvB;EACAwD,QAAQ,EAAE7D,QAAQ,CAACG,MAAM,CAAC4C,KAAK,CAACC,QAAQ;EACxCc,UAAU,EAAEzD,MAAM;EAElB;EACA+C,SAAS,EAAE;IAAE3C,IAAI,EAAE4C,IAAI;IAAE1C,OAAO,EAAE0C,IAAI,CAACC;EAAI,CAAC;EAC5CS,SAAS,EAAE;IAAEtD,IAAI,EAAE4C,IAAI;IAAE1C,OAAO,EAAE0C,IAAI,CAACC;EAAI;AAC7C,CAAC,EACD;EACEU,UAAU,EAAE;AACd,CACF,CAAC;;AAED;AACAnD,aAAa,CAACoD,KAAK,CAAC;EAAE/C,QAAQ,EAAE,CAAC;EAAEqC,QAAQ,EAAE;AAAE,CAAC,CAAC;AACjD1C,aAAa,CAACoD,KAAK,CAAC;EAAErD,KAAK,EAAE;AAAE,CAAC,CAAC;AACjCC,aAAa,CAACoD,KAAK,CAAC;EAAEvB,MAAM,EAAE;AAAE,CAAC,CAAC;AAClC7B,aAAa,CAACoD,KAAK,CAAC;EAAEP,IAAI,EAAE;AAAE,CAAC,CAAC;AAChC7C,aAAa,CAACoD,KAAK,CAAC;EAAE1D,GAAG,EAAE;AAAE,CAAC,CAAC;;AAE/B;AACAM,aAAa,CAACqD,OAAO,CAAC,YAAY,CAAC,CAACC,GAAG,CAAC,YAAY;EAClD,OAAO,IAAI,CAACzC,UAAU,IAAI,IAAI,CAACC,iBAAiB;AAClD,CAAC,CAAC;;AAEF;AACAd,aAAa,CAACuD,GAAG,CAAC,MAAM,EAAE,UAAUC,IAAI,EAAE;EACxC,IAAI,CAAC5C,UAAU,GAAG,IAAI,CAACb,KAAK,GAAI,IAAI,CAACA,KAAK,GAAG,IAAI,CAACW,QAAQ,GAAI,GAAG;EACjE,IAAI,CAACwC,SAAS,GAAG,IAAIV,IAAI,CAAC,CAAC;EAC3BgB,IAAI,CAAC,CAAC;AACR,CAAC,CAAC;;AAEF;AACA;AACA;;AAEA,MAAMC,cAAc,GAAG,IAAItE,QAAQ,CAACG,MAAM,CAAC;EACzCoE,SAAS,EAAE;IACT9D,IAAI,EAAET,QAAQ,CAACG,MAAM,CAAC4C,KAAK,CAACC,QAAQ;IACpCwB,GAAG,EAAE,SAAS;IACdzD,QAAQ,EAAE;EACZ,CAAC;EACDP,QAAQ,EAAE;IACRC,IAAI,EAAEC,MAAM;IACZK,QAAQ,EAAE,IAAI;IACdM,GAAG,EAAE,CAAC;IACNG,GAAG,EAAE;EACP,CAAC;EACDZ,KAAK,EAAEF,MAAM;EAAE;EACf+D,OAAO,EAAE;IACPrE,IAAI,EAAEC,MAAM;IACZC,KAAK,EAAED;EACT,CAAC;EACDqE,OAAO,EAAE;IAAEjE,IAAI,EAAE4C,IAAI;IAAE1C,OAAO,EAAE0C,IAAI,CAACC;EAAI;AAC3C,CAAC,CAAC;AAEF,MAAMqB,UAAU,GAAG,IAAI3E,QAAQ,CAACG,MAAM,CACpC;EACE2C,MAAM,EAAE;IACNrC,IAAI,EAAET,QAAQ,CAACG,MAAM,CAAC4C,KAAK,CAACC,QAAQ;IACpCwB,GAAG,EAAE,UAAU;IACfzD,QAAQ,EAAE,IAAI;IACdoB,MAAM,EAAE;EACV,CAAC;EACDyC,KAAK,EAAE,CAACN,cAAc,CAAC;EACvBO,QAAQ,EAAE;IAAEpE,IAAI,EAAEC,MAAM;IAAEC,OAAO,EAAE;EAAE,CAAC;EACtCmE,GAAG,EAAE;IAAErE,IAAI,EAAEC,MAAM;IAAEC,OAAO,EAAE;EAAE,CAAC;EACjCoE,QAAQ,EAAE;IAAEtE,IAAI,EAAEC,MAAM;IAAEC,OAAO,EAAE;EAAE,CAAC;EACtCY,QAAQ,EAAE;IAAEd,IAAI,EAAEC,MAAM;IAAEC,OAAO,EAAE;EAAE,CAAC;EACtCqE,KAAK,EAAE;IAAEvE,IAAI,EAAEC,MAAM;IAAEC,OAAO,EAAE;EAAE,CAAC;EACnCsE,MAAM,EAAE5E,MAAM;EACd6E,KAAK,EAAE7E,MAAM;EACb0D,SAAS,EAAE;IAAEtD,IAAI,EAAE4C,IAAI;IAAE1C,OAAO,EAAE0C,IAAI,CAACC;EAAI;AAC7C,CAAC,EACD;EACEU,UAAU,EAAE;AACd,CACF,CAAC;;AAED;AACAW,UAAU,CAACP,GAAG,CAAC,MAAM,EAAE,UAAUC,IAAI,EAAE;EACrC,IAAI,CAACQ,QAAQ,GAAG,IAAI,CAACD,KAAK,CAACO,MAAM,CAC/B,CAACC,GAAG,EAAEC,IAAI,KAAKD,GAAG,GAAGC,IAAI,CAACzE,KAAK,GAAGyE,IAAI,CAAC7E,QAAQ,EAC/C,CACF,CAAC;EACD,IAAI,CAACsE,GAAG,GAAG,IAAI,CAACD,QAAQ,GAAG,GAAG,CAAC,CAAC;EAChC,IAAI,CAACE,QAAQ,GAAG,IAAI,CAACF,QAAQ,GAAG,GAAG,GAAG,CAAC,GAAG,EAAE,CAAC,CAAC;EAC9C,IAAI,CAACG,KAAK,GAAG,IAAI,CAACH,QAAQ,GAAG,IAAI,CAACC,GAAG,GAAG,IAAI,CAACC,QAAQ,GAAG,IAAI,CAACxD,QAAQ;EACrE,IAAI,CAACwC,SAAS,GAAG,IAAIV,IAAI,CAAC,CAAC;EAC3BgB,IAAI,CAAC,CAAC;AACR,CAAC,CAAC;;AAEF;AACA;AACA;;AAEA,MAAMiB,cAAc,GAAG,IAAItF,QAAQ,CAACG,MAAM,CACxC;EACE2C,MAAM,EAAE;IACNrC,IAAI,EAAET,QAAQ,CAACG,MAAM,CAAC4C,KAAK,CAACC,QAAQ;IACpCwB,GAAG,EAAE,UAAU;IACfzD,QAAQ,EAAE;EACZ,CAAC;EACDwE,SAAS,EAAE;IACT9E,IAAI,EAAEJ,MAAM;IACZ8B,MAAM,EAAE;EACV,CAAC;EACDyC,KAAK,EAAE,CACL;IACEL,SAAS,EAAEvE,QAAQ,CAACG,MAAM,CAAC4C,KAAK,CAACC,QAAQ;IACzCxC,QAAQ,EAAEE,MAAM;IAChBE,KAAK,EAAEF;EACT,CAAC,CACF;EAED;EACA8E,eAAe,EAAE;IACfC,QAAQ,EAAEpF,MAAM;IAChBqF,KAAK,EAAErF,MAAM;IACbsF,KAAK,EAAEtF,MAAM;IACbuF,MAAM,EAAEvF,MAAM;IACdwF,IAAI,EAAExF,MAAM;IACZyF,KAAK,EAAEzF,MAAM;IACb0F,OAAO,EAAE1F,MAAM;IACf2F,OAAO,EAAE3F;EACX,CAAC;EAED;EACA4F,cAAc,EAAE;IACdR,QAAQ,EAAEpF,MAAM;IAChBuF,MAAM,EAAEvF,MAAM;IACdwF,IAAI,EAAExF,MAAM;IACZyF,KAAK,EAAEzF,MAAM;IACb0F,OAAO,EAAE1F,MAAM;IACf2F,OAAO,EAAE3F;EACX,CAAC;EAED;EACAwE,QAAQ,EAAEnE,MAAM;EAChBoE,GAAG,EAAEpE,MAAM;EACXqE,QAAQ,EAAErE,MAAM;EAChBa,QAAQ,EAAEb,MAAM;EAChBsE,KAAK,EAAEtE,MAAM;EAEb;EACAwF,aAAa,EAAE;IACbzF,IAAI,EAAEJ,MAAM;IACZc,IAAI,EAAE,CAAC,aAAa,EAAE,YAAY,EAAE,QAAQ,EAAE,QAAQ,EAAE,eAAe,CAAC;IACxEJ,QAAQ,EAAE;EACZ,CAAC;EACDoF,aAAa,EAAE;IACb1F,IAAI,EAAEJ,MAAM;IACZc,IAAI,EAAE,CAAC,SAAS,EAAE,YAAY,EAAE,WAAW,EAAE,QAAQ,CAAC;IACtDR,OAAO,EAAE;EACX,CAAC;EAED;EACAyF,UAAU,EAAE/F,MAAM;EAClBgG,cAAc,EAAE;IAAE5F,IAAI,EAAEC,MAAM;IAAEC,OAAO,EAAE;EAAE,CAAC;EAE5C;EACA2F,MAAM,EAAE;IACN7F,IAAI,EAAEJ,MAAM;IACZc,IAAI,EAAE,CAAC,MAAM,EAAE,UAAU,EAAE,iBAAiB,EAAE,WAAW,EAAE,WAAW,CAAC;IACvER,OAAO,EAAE;EACX,CAAC;EAED;EACA4F,SAAS,EAAElD,IAAI;EAAE;EACjBD,SAAS,EAAE;IAAE3C,IAAI,EAAE4C,IAAI;IAAE1C,OAAO,EAAE0C,IAAI,CAACC;EAAI,CAAC;EAC5CS,SAAS,EAAE;IAAEtD,IAAI,EAAE4C,IAAI;IAAE1C,OAAO,EAAE0C,IAAI,CAACC;EAAI;AAC7C,CAAC,EACD;EACEU,UAAU,EAAE;AACd,CACF,CAAC;;AAED;AACAsB,cAAc,CAACrB,KAAK,CAAC;EAAEsC,SAAS,EAAE;AAAE,CAAC,EAAE;EAAEC,kBAAkB,EAAE;AAAE,CAAC,CAAC;;AAEjE;AACA;AACA;;AAEA,MAAMC,YAAY,GAAG,IAAIzG,QAAQ,CAACG,MAAM,CACtC;EACEuG,IAAI,EAAE;IACJjG,IAAI,EAAEJ,MAAM;IACZU,QAAQ,EAAE,IAAI;IACdoB,MAAM,EAAE,IAAI;IACZwE,SAAS,EAAE,IAAI;IACf3F,IAAI,EAAE;EACR,CAAC;EACDC,WAAW,EAAEZ,MAAM;EACnBuG,YAAY,EAAE;IACZnG,IAAI,EAAEJ,MAAM;IACZc,IAAI,EAAE,CAAC,YAAY,EAAE,cAAc,CAAC;IACpCJ,QAAQ,EAAE;EACZ,CAAC;EACD8F,aAAa,EAAE;IACbpG,IAAI,EAAEC,MAAM;IACZK,QAAQ,EAAE,IAAI;IACdM,GAAG,EAAE;EACP,CAAC;EACDyF,WAAW,EAAEpG,MAAM;EAAE;EACrBqG,iBAAiB,EAAE;IAAEtG,IAAI,EAAEC,MAAM;IAAEC,OAAO,EAAE;EAAE,CAAC;EAC/CqG,OAAO,EAAEtG,MAAM;EACfuG,SAAS,EAAE;IAAExG,IAAI,EAAEC,MAAM;IAAEC,OAAO,EAAE;EAAE,CAAC;EAEvC;EACAuG,oBAAoB,EAAE,CAAC7G,MAAM,CAAC;EAAE;EAChC8G,kBAAkB,EAAE,CAACnH,QAAQ,CAACG,MAAM,CAAC4C,KAAK,CAACC,QAAQ,CAAC;EACpDoE,gBAAgB,EAAE,CAACpH,QAAQ,CAACG,MAAM,CAAC4C,KAAK,CAACC,QAAQ,CAAC;EAElD;EACAqE,SAAS,EAAEhE,IAAI;EACfiE,UAAU,EAAEjE,IAAI;EAChBE,QAAQ,EAAE;IAAE9C,IAAI,EAAEwB,OAAO;IAAEtB,OAAO,EAAE;EAAK,CAAC;EAE1C;EACA4G,MAAM,EAAE,CAACvH,QAAQ,CAACG,MAAM,CAAC4C,KAAK,CAACC,QAAQ,CAAC;EAExCI,SAAS,EAAE;IAAE3C,IAAI,EAAE4C,IAAI;IAAE1C,OAAO,EAAE0C,IAAI,CAACC;EAAI;AAC7C,CAAC,EACD;EACEU,UAAU,EAAE;AACd,CACF,CAAC;;AAED;AACAyC,YAAY,CAACxC,KAAK,CAAC;EAAEyC,IAAI,EAAE;AAAE,CAAC,CAAC;AAC/BD,YAAY,CAACxC,KAAK,CAAC;EAAEqD,UAAU,EAAE;AAAE,CAAC,CAAC;;AAErC;AACA;AACA;;AAEA,MAAME,cAAc,GAAG,IAAIxH,QAAQ,CAACG,MAAM,CACxC;EACE2C,MAAM,EAAE;IACNrC,IAAI,EAAET,QAAQ,CAACG,MAAM,CAAC4C,KAAK,CAACC,QAAQ;IACpCwB,GAAG,EAAE,UAAU;IACfzD,QAAQ,EAAE,IAAI;IACdoB,MAAM,EAAE;EACV,CAAC;EACDyC,KAAK,EAAE,CACL;IACEL,SAAS,EAAE;MACT9D,IAAI,EAAET,QAAQ,CAACG,MAAM,CAAC4C,KAAK,CAACC,QAAQ;MACpCwB,GAAG,EAAE;IACP,CAAC;IACDE,OAAO,EAAE;MAAEjE,IAAI,EAAE4C,IAAI;MAAE1C,OAAO,EAAE0C,IAAI,CAACC;IAAI;EAC3C,CAAC,CACF;EACDF,SAAS,EAAE;IAAE3C,IAAI,EAAE4C,IAAI;IAAE1C,OAAO,EAAE0C,IAAI,CAACC;EAAI,CAAC;EAC5CS,SAAS,EAAE;IAAEtD,IAAI,EAAE4C,IAAI;IAAE1C,OAAO,EAAE0C,IAAI,CAACC;EAAI;AAC7C,CAAC,EACD;EACEU,UAAU,EAAE;AACd,CACF,CAAC;;AAED;AACA;AACA;;AAEA,MAAMyD,kBAAkB,GAAG,IAAIzH,QAAQ,CAACG,MAAM,CAAC;EAC7CoE,SAAS,EAAE;IACT9D,IAAI,EAAET,QAAQ,CAACG,MAAM,CAAC4C,KAAK,CAACC,QAAQ;IACpCwB,GAAG,EAAE,SAAS;IACdzD,QAAQ,EAAE;EACZ,CAAC;EACD2G,MAAM,EAAE;IACNjH,IAAI,EAAEJ,MAAM;IACZc,IAAI,EAAE,CAAC,UAAU,EAAE,WAAW,EAAE,YAAY,EAAE,QAAQ,EAAE,QAAQ;EAClE,CAAC;EACDX,QAAQ,EAAEE,MAAM;EAChBiH,SAAS,EAAEtH,MAAM;EAAE;EACnB6E,KAAK,EAAE7E,MAAM;EACbuH,SAAS,EAAE5H,QAAQ,CAACG,MAAM,CAAC4C,KAAK,CAACC,QAAQ;EACzCI,SAAS,EAAE;IAAE3C,IAAI,EAAE4C,IAAI;IAAE1C,OAAO,EAAE0C,IAAI,CAACC;EAAI;AAC7C,CAAC,CAAC;AAEFmE,kBAAkB,CAACxD,KAAK,CAAC;EAAEM,SAAS,EAAE,CAAC;EAAEnB,SAAS,EAAE,CAAC;AAAE,CAAC,CAAC;;AAEzD;AACA;AACA;;AAEAyE,MAAM,CAACC,OAAO,GAAG;EACfC,OAAO,EAAE/H,QAAQ,CAACgI,KAAK,CAAC,SAAS,EAAEnH,aAAa,CAAC;EACjDoH,IAAI,EAAEjI,QAAQ,CAACgI,KAAK,CAAC,MAAM,EAAErD,UAAU,CAAC;EACxCuD,QAAQ,EAAElI,QAAQ,CAACgI,KAAK,CAAC,UAAU,EAAE1C,cAAc,CAAC;EACpD6C,MAAM,EAAEnI,QAAQ,CAACgI,KAAK,CAAC,QAAQ,EAAEvB,YAAY,CAAC;EAC9C2B,QAAQ,EAAEpI,QAAQ,CAACgI,KAAK,CAAC,UAAU,EAAER,cAAc,CAAC;EACpDa,YAAY,EAAErI,QAAQ,CAACgI,KAAK,CAAC,cAAc,EAAEP,kBAAkB,CAAC;EAEhE;EACA5G,aAAa;EACb8D,UAAU;EACVW,cAAc;EACdmB,YAAY;EACZe,cAAc;EACdC;AACF,CAAC","ignoreList":[]}