76635200380f910cd54bb12a2545c112
/**
 * SSO Comprehensive Testing Suite
 * مجموعة اختبارات شاملة لنظام SSO
 */

const request = require('supertest');
const express = require('express');
const SSOService = require('../services/sso.service');
const OAuthService = require('../services/oauth.service');
const SSOSecurityService = require('../services/sso-security.service');
const ssoRoutes = require('../routes/sso.routes');
const {
  verifySSOToken,
  requireRole
} = require('../middleware/sso-auth.middleware');

// Setup test app
const app = express();
app.use(express.json());
app.use('/api/sso', ssoRoutes);

// Initialize services
const ssoService = new SSOService();
const oAuthService = new OAuthService();
const securityService = new SSOSecurityService();
describe('SSO Core Service Tests', () => {
  describe('Session Management', () => {
    it('should create a new SSO session', async () => {
      const session = await ssoService.createSession('user123', {
        email: 'user@example.com',
        role: 'user'
      });
      expect(session).toBeDefined();
      expect(session.sessionId).toBeDefined();
      expect(session.accessToken).toBeDefined();
      expect(session.refreshToken).toBeDefined();
      expect(session.idToken).toBeDefined();
      expect(session.expiresIn).toBe(3600000);
    });
    it('should verify a valid session', async () => {
      const session = await ssoService.createSession('user123', {
        email: 'user@example.com'
      });
      const verification = await ssoService.verifySession(session.sessionId, session.accessToken);
      expect(verification.valid).toBe(true);
      expect(verification.user.userId).toBe('user123');
      expect(verification.session).toBeDefined();
    });
    it('should reject invalid session', async () => {
      const verification = await ssoService.verifySession('invalid-session-id', 'invalid-token');
      expect(verification.valid).toBe(false);
      expect(verification.error).toBeDefined();
    });
    it('should end a session', async () => {
      const session = await ssoService.createSession('user123', {});
      const result = await ssoService.endSession(session.sessionId);
      expect(result.success).toBe(true);

      // Verify session is ended
      const verification = await ssoService.verifySession(session.sessionId, session.accessToken);
      expect(verification.valid).toBe(false);
    });
    it('should get user active sessions', async () => {
      const userId = 'user123';

      // Create multiple sessions
      const session1 = await ssoService.createSession(userId, {});
      const session2 = await ssoService.createSession(userId, {});
      const sessions = await ssoService.getUserActiveSessions(userId);
      expect(sessions.length).toBeGreaterThanOrEqual(2);
      expect(sessions.some(s => s.sessionId === session1.sessionId)).toBe(true);
      expect(sessions.some(s => s.sessionId === session2.sessionId)).toBe(true);
    });
    it('should end all user sessions', async () => {
      const userId = 'user123';

      // Create multiple sessions
      await ssoService.createSession(userId, {});
      await ssoService.createSession(userId, {});
      const result = await ssoService.endAllUserSessions(userId);
      expect(result.success).toBe(true);
      expect(result.sessionsEnded).toBeGreaterThanOrEqual(2);
      const sessions = await ssoService.getUserActiveSessions(userId);
      expect(sessions.length).toBe(0);
    });
  });
  describe('Token Management', () => {
    it('should refresh access token', async () => {
      const session = await ssoService.createSession('user123', {});
      const refreshed = await ssoService.refreshAccessToken(session.sessionId, session.refreshToken);
      expect(refreshed.accessToken).toBeDefined();
      expect(refreshed.accessToken).not.toBe(session.accessToken);
      expect(refreshed.expiresIn).toBe(3600000);
    });
    it('should reject expired refresh token', async () => {
      try {
        await ssoService.refreshAccessToken('invalid-session', 'invalid-token');
        expect(true).toBe(false); // Should throw error
      } catch (error) {
        expect(error.message).toBeDefined();
      }
    });
    it('should generate all token types', async () => {
      const tokens = ssoService.generateTokens('user123', {}, 'session123');
      expect(tokens.accessToken).toBeDefined();
      expect(tokens.refreshToken).toBeDefined();
      expect(tokens.idToken).toBeDefined();
    });
    it('should introspect token', async () => {
      const session = await ssoService.createSession('user123', {});
      const introspection = await ssoService.introspectToken(session.accessToken);
      expect(introspection.active).toBe(true);
      expect(introspection.sub).toBe('user123');
    });
  });
});
describe('OAuth 2.0 Service Tests', () => {
  describe('Authorization Code Flow', () => {
    it('should initiate authorization code flow', async () => {
      const result = await oAuthService.initiateAuthorizationCodeFlow('client123', 'https://app.example.com/callback', 'openid profile email', 'state123', 'nonce123');
      expect(result.authCode).toBeDefined();
      expect(result.state).toBeDefined();
      expect(result.redirectUri).toContain('code=');
      expect(result.redirectUri).toContain('state=');
    });
    it('should exchange authorization code for tokens', async () => {
      const authCode = await ssoService.generateAuthorizationCode('user123', 'client123', 'openid profile', 'https://app.example.com/callback');
      const tokens = await oAuthService.exchangeAuthorizationCode(authCode, 'client123', process.env.OAUTH_CLIENT_SECRET || 'oauth-secret', 'https://app.example.com/callback');
      expect(tokens.accessToken).toBeDefined();
      expect(tokens.refreshToken).toBeDefined();
      expect(tokens.idToken).toBeDefined();
    });
  });
  describe('Client Credentials Flow', () => {
    it('should initiate client credentials flow', async () => {
      const tokens = await oAuthService.initiateClientCredentialsFlow('client123', process.env.OAUTH_CLIENT_SECRET || 'oauth-secret', 'api');
      expect(tokens.accessToken).toBeDefined();
      expect(tokens.tokenType).toBe('Bearer');
      expect(tokens.expiresIn).toBe(3600);
    });
  });
  describe('OpenID Connect', () => {
    it('should return OpenID configuration', () => {
      const config = oAuthService.getOpenIDConfiguration();
      expect(config.issuer).toBeDefined();
      expect(config.authorization_endpoint).toBeDefined();
      expect(config.token_endpoint).toBeDefined();
      expect(config.userinfo_endpoint).toBeDefined();
      expect(config.response_types_supported).toContain('code');
      expect(config.grant_types_supported).toContain('authorization_code');
    });
    it('should get user info', async () => {
      const session = await ssoService.createSession('user123', {});
      const userInfo = await oAuthService.getUserInfo(session.accessToken);
      expect(userInfo.sub).toBeDefined();
      expect(userInfo.name).toBeDefined();
      expect(userInfo.email).toBeDefined();
    });
    it('should register OAuth client', async () => {
      const {
        client,
        clientSecret
      } = await oAuthService.registerClient({
        clientName: 'Test App',
        redirectUris: ['https://app.example.com/callback'],
        responseTypes: ['code'],
        grantTypes: ['authorization_code']
      });
      expect(client.clientId).toBeDefined();
      expect(clientSecret).toBeDefined();
      expect(client.clientName).toBe('Test App');
    });
  });
});
describe('Security Service Tests', () => {
  describe('Account Locking', () => {
    it('should track failed login attempts', async () => {
      const email = 'test@example.com';

      // First 4 attempts should succeed
      for (let i = 0; i < 4; i++) {
        const result = await securityService.trackLoginAttempt(email, false);
        expect(result.blocked).toBe(false);
        expect(result.attemptsRemaining).toBe(5 - i - 1);
      }

      // 5th attempt should trigger block
      const result = await securityService.trackLoginAttempt(email, false);
      expect(result.blocked).toBe(true);
    });
    it('should lock account after max attempts', async () => {
      const email = 'lock@example.com';

      // Trigger multiple failed attempts
      for (let i = 0; i < 5; i++) {
        await securityService.trackLoginAttempt(email, false);
      }
      const locked = await securityService.isAccountLocked(email);
      expect(locked.locked).toBe(true);
      expect(locked.remainingTime).toBeGreaterThan(0);
    });
    it('should clear lock on successful login', async () => {
      const email = 'clear@example.com';
      await securityService.trackLoginAttempt(email, false);
      const result = await securityService.trackLoginAttempt(email, true);
      expect(result.blocked).toBe(false);
      const locked = await securityService.isAccountLocked(email);
      expect(locked.locked).toBe(false);
    });
  });
  describe('Suspicious Activity Detection', () => {
    it('should detect suspicious activity patterns', async () => {
      const userId = 'user123';

      // Simulate multiple failed attempts
      for (let i = 0; i < 4; i++) {
        await securityService.detectSuspiciousActivity(userId, {
          type: 'failed',
          ipAddress: '192.168.1.1'
        });
      }
      const activity = await securityService.detectSuspiciousActivity(userId, {
        type: 'failed',
        ipAddress: '192.168.1.1'
      });
      expect(activity.suspicious).toBe(true);
    });
    it('should calculate suspicion score', async () => {
      const activities = [{
        type: 'failed',
        ipAddress: '192.168.1.1'
      }, {
        type: 'failed',
        ipAddress: '192.168.1.2'
      }, {
        type: 'failed',
        ipAddress: '192.168.1.3'
      }];
      const score = securityService.calculateSuspicionScore('user123', activities);
      expect(score).toBeGreaterThan(0);
      expect(score).toBeLessThanOrEqual(100);
    });
  });
  describe('Session Fingerprinting', () => {
    it('should generate session fingerprint', () => {
      const fingerprint = securityService.generateSessionFingerprint({
        userAgent: 'Mozilla/5.0...',
        acceptLanguage: 'en-US,en;q=0.9',
        screenResolution: '1920x1080',
        timezone: 'UTC+3'
      });
      expect(fingerprint.fingerprint).toBeDefined();
      expect(fingerprint.fingerprintData).toBeDefined();
      expect(fingerprint.fingerprint.length).toBeGreaterThan(0);
    });
  });
  describe('IP Whitelisting', () => {
    it('should whitelist IP address', async () => {
      const userId = 'user123';
      const ipAddress = '192.168.1.1';
      const whitelist = await securityService.whitelistIP(userId, ipAddress, 'My Laptop');
      expect(whitelist).toBeDefined();
      expect(whitelist.length).toBeGreaterThan(0);
    });
    it('should check IP whitelist', async () => {
      const userId = 'user123';
      const ipAddress = '192.168.1.1';
      await securityService.whitelistIP(userId, ipAddress);
      const isWhitelisted = await securityService.isIPWhitelisted(userId, ipAddress);
      expect(isWhitelisted).toBe(true);
    });
    it('should return false for non-whitelisted IP', async () => {
      const userId = 'user123';
      const isWhitelisted = await securityService.isIPWhitelisted(userId, '999.999.999.999');
      expect(isWhitelisted).toBe(false);
    });
  });
  describe('Audit Logging', () => {
    it('should log audit events', async () => {
      const event = await securityService.logAuditEvent('LOGIN_SUCCESS', {
        email: 'user@example.com',
        timestamp: Date.now()
      });
      expect(event).toBeDefined();
      expect(event.eventType).toBe('LOGIN_SUCCESS');
      expect(event.severity).toBe('INFO');
    });
    it('should get audit logs', async () => {
      await securityService.logAuditEvent('LOGIN_FAILED', {
        email: 'user@example.com'
      });
      const logs = await securityService.getAuditLog({
        eventType: 'LOGIN_FAILED',
        limit: 10
      });
      expect(logs).toBeDefined();
      expect(Array.isArray(logs)).toBe(true);
    });
  });
});
describe('SSO API Routes Tests', () => {
  describe('Login/Logout Endpoints', () => {
    it('should login user', async () => {
      const response = await request(app).post('/api/sso/login').send({
        email: 'user@example.com',
        password: 'password123'
      });
      expect(response.status).toBe(200);
      expect(response.body.success).toBe(true);
      expect(response.body.data.sessionId).toBeDefined();
      expect(response.body.data.accessToken).toBeDefined();
    });
    it('should reject login without credentials', async () => {
      const response = await request(app).post('/api/sso/login').send({});
      expect(response.status).toBe(400);
      expect(response.body.success).toBe(false);
    });
  });
  describe('Token Endpoints', () => {
    it('should verify token', async () => {
      // First login
      const loginRes = await request(app).post('/api/sso/login').send({
        email: 'user@example.com',
        password: 'password123'
      });

      // Then verify
      const verifyRes = await request(app).post('/api/sso/verify-token').send({
        token: loginRes.body.data.accessToken,
        sessionId: loginRes.body.data.sessionId
      });
      expect(verifyRes.status).toBe(200);
      expect(verifyRes.body.success).toBe(true);
      expect(verifyRes.body.data.valid).toBe(true);
    });
    it('should refresh token', async () => {
      const loginRes = await request(app).post('/api/sso/login').send({
        email: 'user@example.com',
        password: 'password123'
      });
      const refreshRes = await request(app).post('/api/sso/refresh-token').send({
        sessionId: loginRes.body.data.sessionId,
        refreshToken: loginRes.body.data.refreshToken
      });
      expect(refreshRes.status).toBe(200);
      expect(refreshRes.body.data.accessToken).toBeDefined();
    });
  });
});
describe('Integration Tests', () => {
  it('should complete full login -> verify -> refresh -> logout flow', async () => {
    // 1. Login
    const loginRes = await request(app).post('/api/sso/login').send({
      email: 'integration@example.com',
      password: 'password123'
    });
    expect(loginRes.status).toBe(200);
    const {
      sessionId,
      accessToken,
      refreshToken
    } = loginRes.body.data;

    // 2. Verify token
    const verifyRes = await request(app).post('/api/sso/verify-token').send({
      token: accessToken,
      sessionId
    });
    expect(verifyRes.body.data.valid).toBe(true);

    // 3. Refresh token
    const refreshRes = await request(app).post('/api/sso/refresh-token').send({
      sessionId,
      refreshToken
    });
    expect(refreshRes.status).toBe(200);
    const newAccessToken = refreshRes.body.data.accessToken;

    // 4. Logout
    const logoutRes = await request(app).post('/api/sso/logout').set('Authorization', `Bearer ${newAccessToken}`).set('X-Session-Id', sessionId);
    expect(logoutRes.status).toBe(200);
    expect(logoutRes.body.success).toBe(true);
  });
});
module.exports = {
  ssoService,
  oAuthService,
  securityService
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJyZXF1ZXN0IiwicmVxdWlyZSIsImV4cHJlc3MiLCJTU09TZXJ2aWNlIiwiT0F1dGhTZXJ2aWNlIiwiU1NPU2VjdXJpdHlTZXJ2aWNlIiwic3NvUm91dGVzIiwidmVyaWZ5U1NPVG9rZW4iLCJyZXF1aXJlUm9sZSIsImFwcCIsInVzZSIsImpzb24iLCJzc29TZXJ2aWNlIiwib0F1dGhTZXJ2aWNlIiwic2VjdXJpdHlTZXJ2aWNlIiwiZGVzY3JpYmUiLCJpdCIsInNlc3Npb24iLCJjcmVhdGVTZXNzaW9uIiwiZW1haWwiLCJyb2xlIiwiZXhwZWN0IiwidG9CZURlZmluZWQiLCJzZXNzaW9uSWQiLCJhY2Nlc3NUb2tlbiIsInJlZnJlc2hUb2tlbiIsImlkVG9rZW4iLCJleHBpcmVzSW4iLCJ0b0JlIiwidmVyaWZpY2F0aW9uIiwidmVyaWZ5U2Vzc2lvbiIsInZhbGlkIiwidXNlciIsInVzZXJJZCIsImVycm9yIiwicmVzdWx0IiwiZW5kU2Vzc2lvbiIsInN1Y2Nlc3MiLCJzZXNzaW9uMSIsInNlc3Npb24yIiwic2Vzc2lvbnMiLCJnZXRVc2VyQWN0aXZlU2Vzc2lvbnMiLCJsZW5ndGgiLCJ0b0JlR3JlYXRlclRoYW5PckVxdWFsIiwic29tZSIsInMiLCJlbmRBbGxVc2VyU2Vzc2lvbnMiLCJzZXNzaW9uc0VuZGVkIiwicmVmcmVzaGVkIiwicmVmcmVzaEFjY2Vzc1Rva2VuIiwibm90IiwibWVzc2FnZSIsInRva2VucyIsImdlbmVyYXRlVG9rZW5zIiwiaW50cm9zcGVjdGlvbiIsImludHJvc3BlY3RUb2tlbiIsImFjdGl2ZSIsInN1YiIsImluaXRpYXRlQXV0aG9yaXphdGlvbkNvZGVGbG93IiwiYXV0aENvZGUiLCJzdGF0ZSIsInJlZGlyZWN0VXJpIiwidG9Db250YWluIiwiZ2VuZXJhdGVBdXRob3JpemF0aW9uQ29kZSIsImV4Y2hhbmdlQXV0aG9yaXphdGlvbkNvZGUiLCJwcm9jZXNzIiwiZW52IiwiT0FVVEhfQ0xJRU5UX1NFQ1JFVCIsImluaXRpYXRlQ2xpZW50Q3JlZGVudGlhbHNGbG93IiwidG9rZW5UeXBlIiwiY29uZmlnIiwiZ2V0T3BlbklEQ29uZmlndXJhdGlvbiIsImlzc3VlciIsImF1dGhvcml6YXRpb25fZW5kcG9pbnQiLCJ0b2tlbl9lbmRwb2ludCIsInVzZXJpbmZvX2VuZHBvaW50IiwicmVzcG9uc2VfdHlwZXNfc3VwcG9ydGVkIiwiZ3JhbnRfdHlwZXNfc3VwcG9ydGVkIiwidXNlckluZm8iLCJnZXRVc2VySW5mbyIsIm5hbWUiLCJjbGllbnQiLCJjbGllbnRTZWNyZXQiLCJyZWdpc3RlckNsaWVudCIsImNsaWVudE5hbWUiLCJyZWRpcmVjdFVyaXMiLCJyZXNwb25zZVR5cGVzIiwiZ3JhbnRUeXBlcyIsImNsaWVudElkIiwiaSIsInRyYWNrTG9naW5BdHRlbXB0IiwiYmxvY2tlZCIsImF0dGVtcHRzUmVtYWluaW5nIiwibG9ja2VkIiwiaXNBY2NvdW50TG9ja2VkIiwicmVtYWluaW5nVGltZSIsInRvQmVHcmVhdGVyVGhhbiIsImRldGVjdFN1c3BpY2lvdXNBY3Rpdml0eSIsInR5cGUiLCJpcEFkZHJlc3MiLCJhY3Rpdml0eSIsInN1c3BpY2lvdXMiLCJhY3Rpdml0aWVzIiwic2NvcmUiLCJjYWxjdWxhdGVTdXNwaWNpb25TY29yZSIsInRvQmVMZXNzVGhhbk9yRXF1YWwiLCJmaW5nZXJwcmludCIsImdlbmVyYXRlU2Vzc2lvbkZpbmdlcnByaW50IiwidXNlckFnZW50IiwiYWNjZXB0TGFuZ3VhZ2UiLCJzY3JlZW5SZXNvbHV0aW9uIiwidGltZXpvbmUiLCJmaW5nZXJwcmludERhdGEiLCJ3aGl0ZWxpc3QiLCJ3aGl0ZWxpc3RJUCIsImlzV2hpdGVsaXN0ZWQiLCJpc0lQV2hpdGVsaXN0ZWQiLCJldmVudCIsImxvZ0F1ZGl0RXZlbnQiLCJ0aW1lc3RhbXAiLCJEYXRlIiwibm93IiwiZXZlbnRUeXBlIiwic2V2ZXJpdHkiLCJsb2dzIiwiZ2V0QXVkaXRMb2ciLCJsaW1pdCIsIkFycmF5IiwiaXNBcnJheSIsInJlc3BvbnNlIiwicG9zdCIsInNlbmQiLCJwYXNzd29yZCIsInN0YXR1cyIsImJvZHkiLCJkYXRhIiwibG9naW5SZXMiLCJ2ZXJpZnlSZXMiLCJ0b2tlbiIsInJlZnJlc2hSZXMiLCJuZXdBY2Nlc3NUb2tlbiIsImxvZ291dFJlcyIsInNldCIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlcyI6WyJzc28uY29tcHJlaGVuc2l2ZS50ZXN0LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiBTU08gQ29tcHJlaGVuc2l2ZSBUZXN0aW5nIFN1aXRlXHJcbiAqINmF2KzZhdmI2LnYqSDYp9iu2KrYqNin2LHYp9iqINi02KfZhdmE2Kkg2YTZhti42KfZhSBTU09cclxuICovXHJcblxyXG5jb25zdCByZXF1ZXN0ID0gcmVxdWlyZSgnc3VwZXJ0ZXN0Jyk7XHJcbmNvbnN0IGV4cHJlc3MgPSByZXF1aXJlKCdleHByZXNzJyk7XHJcbmNvbnN0IFNTT1NlcnZpY2UgPSByZXF1aXJlKCcuLi9zZXJ2aWNlcy9zc28uc2VydmljZScpO1xyXG5jb25zdCBPQXV0aFNlcnZpY2UgPSByZXF1aXJlKCcuLi9zZXJ2aWNlcy9vYXV0aC5zZXJ2aWNlJyk7XHJcbmNvbnN0IFNTT1NlY3VyaXR5U2VydmljZSA9IHJlcXVpcmUoJy4uL3NlcnZpY2VzL3Nzby1zZWN1cml0eS5zZXJ2aWNlJyk7XHJcbmNvbnN0IHNzb1JvdXRlcyA9IHJlcXVpcmUoJy4uL3JvdXRlcy9zc28ucm91dGVzJyk7XHJcbmNvbnN0IHsgdmVyaWZ5U1NPVG9rZW4sIHJlcXVpcmVSb2xlIH0gPSByZXF1aXJlKCcuLi9taWRkbGV3YXJlL3Nzby1hdXRoLm1pZGRsZXdhcmUnKTtcclxuXHJcbi8vIFNldHVwIHRlc3QgYXBwXHJcbmNvbnN0IGFwcCA9IGV4cHJlc3MoKTtcclxuYXBwLnVzZShleHByZXNzLmpzb24oKSk7XHJcbmFwcC51c2UoJy9hcGkvc3NvJywgc3NvUm91dGVzKTtcclxuXHJcbi8vIEluaXRpYWxpemUgc2VydmljZXNcclxuY29uc3Qgc3NvU2VydmljZSA9IG5ldyBTU09TZXJ2aWNlKCk7XHJcbmNvbnN0IG9BdXRoU2VydmljZSA9IG5ldyBPQXV0aFNlcnZpY2UoKTtcclxuY29uc3Qgc2VjdXJpdHlTZXJ2aWNlID0gbmV3IFNTT1NlY3VyaXR5U2VydmljZSgpO1xyXG5cclxuZGVzY3JpYmUoJ1NTTyBDb3JlIFNlcnZpY2UgVGVzdHMnLCAoKSA9PiB7XHJcbiAgZGVzY3JpYmUoJ1Nlc3Npb24gTWFuYWdlbWVudCcsICgpID0+IHtcclxuICAgIGl0KCdzaG91bGQgY3JlYXRlIGEgbmV3IFNTTyBzZXNzaW9uJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICBjb25zdCBzZXNzaW9uID0gYXdhaXQgc3NvU2VydmljZS5jcmVhdGVTZXNzaW9uKCd1c2VyMTIzJywge1xyXG4gICAgICAgIGVtYWlsOiAndXNlckBleGFtcGxlLmNvbScsXHJcbiAgICAgICAgcm9sZTogJ3VzZXInXHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgZXhwZWN0KHNlc3Npb24pLnRvQmVEZWZpbmVkKCk7XHJcbiAgICAgIGV4cGVjdChzZXNzaW9uLnNlc3Npb25JZCkudG9CZURlZmluZWQoKTtcclxuICAgICAgZXhwZWN0KHNlc3Npb24uYWNjZXNzVG9rZW4pLnRvQmVEZWZpbmVkKCk7XHJcbiAgICAgIGV4cGVjdChzZXNzaW9uLnJlZnJlc2hUb2tlbikudG9CZURlZmluZWQoKTtcclxuICAgICAgZXhwZWN0KHNlc3Npb24uaWRUb2tlbikudG9CZURlZmluZWQoKTtcclxuICAgICAgZXhwZWN0KHNlc3Npb24uZXhwaXJlc0luKS50b0JlKDM2MDAwMDApO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaXQoJ3Nob3VsZCB2ZXJpZnkgYSB2YWxpZCBzZXNzaW9uJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICBjb25zdCBzZXNzaW9uID0gYXdhaXQgc3NvU2VydmljZS5jcmVhdGVTZXNzaW9uKCd1c2VyMTIzJywge1xyXG4gICAgICAgIGVtYWlsOiAndXNlckBleGFtcGxlLmNvbSdcclxuICAgICAgfSk7XHJcblxyXG4gICAgICBjb25zdCB2ZXJpZmljYXRpb24gPSBhd2FpdCBzc29TZXJ2aWNlLnZlcmlmeVNlc3Npb24oXHJcbiAgICAgICAgc2Vzc2lvbi5zZXNzaW9uSWQsXHJcbiAgICAgICAgc2Vzc2lvbi5hY2Nlc3NUb2tlblxyXG4gICAgICApO1xyXG5cclxuICAgICAgZXhwZWN0KHZlcmlmaWNhdGlvbi52YWxpZCkudG9CZSh0cnVlKTtcclxuICAgICAgZXhwZWN0KHZlcmlmaWNhdGlvbi51c2VyLnVzZXJJZCkudG9CZSgndXNlcjEyMycpO1xyXG4gICAgICBleHBlY3QodmVyaWZpY2F0aW9uLnNlc3Npb24pLnRvQmVEZWZpbmVkKCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgnc2hvdWxkIHJlamVjdCBpbnZhbGlkIHNlc3Npb24nLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IHZlcmlmaWNhdGlvbiA9IGF3YWl0IHNzb1NlcnZpY2UudmVyaWZ5U2Vzc2lvbihcclxuICAgICAgICAnaW52YWxpZC1zZXNzaW9uLWlkJyxcclxuICAgICAgICAnaW52YWxpZC10b2tlbidcclxuICAgICAgKTtcclxuXHJcbiAgICAgIGV4cGVjdCh2ZXJpZmljYXRpb24udmFsaWQpLnRvQmUoZmFsc2UpO1xyXG4gICAgICBleHBlY3QodmVyaWZpY2F0aW9uLmVycm9yKS50b0JlRGVmaW5lZCgpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaXQoJ3Nob3VsZCBlbmQgYSBzZXNzaW9uJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICBjb25zdCBzZXNzaW9uID0gYXdhaXQgc3NvU2VydmljZS5jcmVhdGVTZXNzaW9uKCd1c2VyMTIzJywge30pO1xyXG4gICAgICBcclxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgc3NvU2VydmljZS5lbmRTZXNzaW9uKHNlc3Npb24uc2Vzc2lvbklkKTtcclxuICAgICAgZXhwZWN0KHJlc3VsdC5zdWNjZXNzKS50b0JlKHRydWUpO1xyXG5cclxuICAgICAgLy8gVmVyaWZ5IHNlc3Npb24gaXMgZW5kZWRcclxuICAgICAgY29uc3QgdmVyaWZpY2F0aW9uID0gYXdhaXQgc3NvU2VydmljZS52ZXJpZnlTZXNzaW9uKFxyXG4gICAgICAgIHNlc3Npb24uc2Vzc2lvbklkLFxyXG4gICAgICAgIHNlc3Npb24uYWNjZXNzVG9rZW5cclxuICAgICAgKTtcclxuICAgICAgZXhwZWN0KHZlcmlmaWNhdGlvbi52YWxpZCkudG9CZShmYWxzZSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgnc2hvdWxkIGdldCB1c2VyIGFjdGl2ZSBzZXNzaW9ucycsIGFzeW5jICgpID0+IHtcclxuICAgICAgY29uc3QgdXNlcklkID0gJ3VzZXIxMjMnO1xyXG4gICAgICBcclxuICAgICAgLy8gQ3JlYXRlIG11bHRpcGxlIHNlc3Npb25zXHJcbiAgICAgIGNvbnN0IHNlc3Npb24xID0gYXdhaXQgc3NvU2VydmljZS5jcmVhdGVTZXNzaW9uKHVzZXJJZCwge30pO1xyXG4gICAgICBjb25zdCBzZXNzaW9uMiA9IGF3YWl0IHNzb1NlcnZpY2UuY3JlYXRlU2Vzc2lvbih1c2VySWQsIHt9KTtcclxuXHJcbiAgICAgIGNvbnN0IHNlc3Npb25zID0gYXdhaXQgc3NvU2VydmljZS5nZXRVc2VyQWN0aXZlU2Vzc2lvbnModXNlcklkKTtcclxuXHJcbiAgICAgIGV4cGVjdChzZXNzaW9ucy5sZW5ndGgpLnRvQmVHcmVhdGVyVGhhbk9yRXF1YWwoMik7XHJcbiAgICAgIGV4cGVjdChzZXNzaW9ucy5zb21lKHMgPT4gcy5zZXNzaW9uSWQgPT09IHNlc3Npb24xLnNlc3Npb25JZCkpLnRvQmUodHJ1ZSk7XHJcbiAgICAgIGV4cGVjdChzZXNzaW9ucy5zb21lKHMgPT4gcy5zZXNzaW9uSWQgPT09IHNlc3Npb24yLnNlc3Npb25JZCkpLnRvQmUodHJ1ZSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgnc2hvdWxkIGVuZCBhbGwgdXNlciBzZXNzaW9ucycsIGFzeW5jICgpID0+IHtcclxuICAgICAgY29uc3QgdXNlcklkID0gJ3VzZXIxMjMnO1xyXG4gICAgICBcclxuICAgICAgLy8gQ3JlYXRlIG11bHRpcGxlIHNlc3Npb25zXHJcbiAgICAgIGF3YWl0IHNzb1NlcnZpY2UuY3JlYXRlU2Vzc2lvbih1c2VySWQsIHt9KTtcclxuICAgICAgYXdhaXQgc3NvU2VydmljZS5jcmVhdGVTZXNzaW9uKHVzZXJJZCwge30pO1xyXG5cclxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgc3NvU2VydmljZS5lbmRBbGxVc2VyU2Vzc2lvbnModXNlcklkKTtcclxuXHJcbiAgICAgIGV4cGVjdChyZXN1bHQuc3VjY2VzcykudG9CZSh0cnVlKTtcclxuICAgICAgZXhwZWN0KHJlc3VsdC5zZXNzaW9uc0VuZGVkKS50b0JlR3JlYXRlclRoYW5PckVxdWFsKDIpO1xyXG5cclxuICAgICAgY29uc3Qgc2Vzc2lvbnMgPSBhd2FpdCBzc29TZXJ2aWNlLmdldFVzZXJBY3RpdmVTZXNzaW9ucyh1c2VySWQpO1xyXG4gICAgICBleHBlY3Qoc2Vzc2lvbnMubGVuZ3RoKS50b0JlKDApO1xyXG4gICAgfSk7XHJcbiAgfSk7XHJcblxyXG4gIGRlc2NyaWJlKCdUb2tlbiBNYW5hZ2VtZW50JywgKCkgPT4ge1xyXG4gICAgaXQoJ3Nob3VsZCByZWZyZXNoIGFjY2VzcyB0b2tlbicsIGFzeW5jICgpID0+IHtcclxuICAgICAgY29uc3Qgc2Vzc2lvbiA9IGF3YWl0IHNzb1NlcnZpY2UuY3JlYXRlU2Vzc2lvbigndXNlcjEyMycsIHt9KTtcclxuICAgICAgXHJcbiAgICAgIGNvbnN0IHJlZnJlc2hlZCA9IGF3YWl0IHNzb1NlcnZpY2UucmVmcmVzaEFjY2Vzc1Rva2VuKFxyXG4gICAgICAgIHNlc3Npb24uc2Vzc2lvbklkLFxyXG4gICAgICAgIHNlc3Npb24ucmVmcmVzaFRva2VuXHJcbiAgICAgICk7XHJcblxyXG4gICAgICBleHBlY3QocmVmcmVzaGVkLmFjY2Vzc1Rva2VuKS50b0JlRGVmaW5lZCgpO1xyXG4gICAgICBleHBlY3QocmVmcmVzaGVkLmFjY2Vzc1Rva2VuKS5ub3QudG9CZShzZXNzaW9uLmFjY2Vzc1Rva2VuKTtcclxuICAgICAgZXhwZWN0KHJlZnJlc2hlZC5leHBpcmVzSW4pLnRvQmUoMzYwMDAwMCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgnc2hvdWxkIHJlamVjdCBleHBpcmVkIHJlZnJlc2ggdG9rZW4nLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIHRyeSB7XHJcbiAgICAgICAgYXdhaXQgc3NvU2VydmljZS5yZWZyZXNoQWNjZXNzVG9rZW4oXHJcbiAgICAgICAgICAnaW52YWxpZC1zZXNzaW9uJyxcclxuICAgICAgICAgICdpbnZhbGlkLXRva2VuJ1xyXG4gICAgICAgICk7XHJcbiAgICAgICAgZXhwZWN0KHRydWUpLnRvQmUoZmFsc2UpOyAvLyBTaG91bGQgdGhyb3cgZXJyb3JcclxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICBleHBlY3QoZXJyb3IubWVzc2FnZSkudG9CZURlZmluZWQoKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgaXQoJ3Nob3VsZCBnZW5lcmF0ZSBhbGwgdG9rZW4gdHlwZXMnLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IHRva2VucyA9IHNzb1NlcnZpY2UuZ2VuZXJhdGVUb2tlbnMoJ3VzZXIxMjMnLCB7fSwgJ3Nlc3Npb24xMjMnKTtcclxuXHJcbiAgICAgIGV4cGVjdCh0b2tlbnMuYWNjZXNzVG9rZW4pLnRvQmVEZWZpbmVkKCk7XHJcbiAgICAgIGV4cGVjdCh0b2tlbnMucmVmcmVzaFRva2VuKS50b0JlRGVmaW5lZCgpO1xyXG4gICAgICBleHBlY3QodG9rZW5zLmlkVG9rZW4pLnRvQmVEZWZpbmVkKCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgnc2hvdWxkIGludHJvc3BlY3QgdG9rZW4nLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IHNlc3Npb24gPSBhd2FpdCBzc29TZXJ2aWNlLmNyZWF0ZVNlc3Npb24oJ3VzZXIxMjMnLCB7fSk7XHJcbiAgICAgIGNvbnN0IGludHJvc3BlY3Rpb24gPSBhd2FpdCBzc29TZXJ2aWNlLmludHJvc3BlY3RUb2tlbihzZXNzaW9uLmFjY2Vzc1Rva2VuKTtcclxuXHJcbiAgICAgIGV4cGVjdChpbnRyb3NwZWN0aW9uLmFjdGl2ZSkudG9CZSh0cnVlKTtcclxuICAgICAgZXhwZWN0KGludHJvc3BlY3Rpb24uc3ViKS50b0JlKCd1c2VyMTIzJyk7XHJcbiAgICB9KTtcclxuICB9KTtcclxufSk7XHJcblxyXG5kZXNjcmliZSgnT0F1dGggMi4wIFNlcnZpY2UgVGVzdHMnLCAoKSA9PiB7XHJcbiAgZGVzY3JpYmUoJ0F1dGhvcml6YXRpb24gQ29kZSBGbG93JywgKCkgPT4ge1xyXG4gICAgaXQoJ3Nob3VsZCBpbml0aWF0ZSBhdXRob3JpemF0aW9uIGNvZGUgZmxvdycsIGFzeW5jICgpID0+IHtcclxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgb0F1dGhTZXJ2aWNlLmluaXRpYXRlQXV0aG9yaXphdGlvbkNvZGVGbG93KFxyXG4gICAgICAgICdjbGllbnQxMjMnLFxyXG4gICAgICAgICdodHRwczovL2FwcC5leGFtcGxlLmNvbS9jYWxsYmFjaycsXHJcbiAgICAgICAgJ29wZW5pZCBwcm9maWxlIGVtYWlsJyxcclxuICAgICAgICAnc3RhdGUxMjMnLFxyXG4gICAgICAgICdub25jZTEyMydcclxuICAgICAgKTtcclxuXHJcbiAgICAgIGV4cGVjdChyZXN1bHQuYXV0aENvZGUpLnRvQmVEZWZpbmVkKCk7XHJcbiAgICAgIGV4cGVjdChyZXN1bHQuc3RhdGUpLnRvQmVEZWZpbmVkKCk7XHJcbiAgICAgIGV4cGVjdChyZXN1bHQucmVkaXJlY3RVcmkpLnRvQ29udGFpbignY29kZT0nKTtcclxuICAgICAgZXhwZWN0KHJlc3VsdC5yZWRpcmVjdFVyaSkudG9Db250YWluKCdzdGF0ZT0nKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGl0KCdzaG91bGQgZXhjaGFuZ2UgYXV0aG9yaXphdGlvbiBjb2RlIGZvciB0b2tlbnMnLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IGF1dGhDb2RlID0gYXdhaXQgc3NvU2VydmljZS5nZW5lcmF0ZUF1dGhvcml6YXRpb25Db2RlKFxyXG4gICAgICAgICd1c2VyMTIzJyxcclxuICAgICAgICAnY2xpZW50MTIzJyxcclxuICAgICAgICAnb3BlbmlkIHByb2ZpbGUnLFxyXG4gICAgICAgICdodHRwczovL2FwcC5leGFtcGxlLmNvbS9jYWxsYmFjaydcclxuICAgICAgKTtcclxuXHJcbiAgICAgIGNvbnN0IHRva2VucyA9IGF3YWl0IG9BdXRoU2VydmljZS5leGNoYW5nZUF1dGhvcml6YXRpb25Db2RlKFxyXG4gICAgICAgIGF1dGhDb2RlLFxyXG4gICAgICAgICdjbGllbnQxMjMnLFxyXG4gICAgICAgIHByb2Nlc3MuZW52Lk9BVVRIX0NMSUVOVF9TRUNSRVQgfHwgJ29hdXRoLXNlY3JldCcsXHJcbiAgICAgICAgJ2h0dHBzOi8vYXBwLmV4YW1wbGUuY29tL2NhbGxiYWNrJ1xyXG4gICAgICApO1xyXG5cclxuICAgICAgZXhwZWN0KHRva2Vucy5hY2Nlc3NUb2tlbikudG9CZURlZmluZWQoKTtcclxuICAgICAgZXhwZWN0KHRva2Vucy5yZWZyZXNoVG9rZW4pLnRvQmVEZWZpbmVkKCk7XHJcbiAgICAgIGV4cGVjdCh0b2tlbnMuaWRUb2tlbikudG9CZURlZmluZWQoKTtcclxuICAgIH0pO1xyXG4gIH0pO1xyXG5cclxuICBkZXNjcmliZSgnQ2xpZW50IENyZWRlbnRpYWxzIEZsb3cnLCAoKSA9PiB7XHJcbiAgICBpdCgnc2hvdWxkIGluaXRpYXRlIGNsaWVudCBjcmVkZW50aWFscyBmbG93JywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICBjb25zdCB0b2tlbnMgPSBhd2FpdCBvQXV0aFNlcnZpY2UuaW5pdGlhdGVDbGllbnRDcmVkZW50aWFsc0Zsb3coXHJcbiAgICAgICAgJ2NsaWVudDEyMycsXHJcbiAgICAgICAgcHJvY2Vzcy5lbnYuT0FVVEhfQ0xJRU5UX1NFQ1JFVCB8fCAnb2F1dGgtc2VjcmV0JyxcclxuICAgICAgICAnYXBpJ1xyXG4gICAgICApO1xyXG5cclxuICAgICAgZXhwZWN0KHRva2Vucy5hY2Nlc3NUb2tlbikudG9CZURlZmluZWQoKTtcclxuICAgICAgZXhwZWN0KHRva2Vucy50b2tlblR5cGUpLnRvQmUoJ0JlYXJlcicpO1xyXG4gICAgICBleHBlY3QodG9rZW5zLmV4cGlyZXNJbikudG9CZSgzNjAwKTtcclxuICAgIH0pO1xyXG4gIH0pO1xyXG5cclxuICBkZXNjcmliZSgnT3BlbklEIENvbm5lY3QnLCAoKSA9PiB7XHJcbiAgICBpdCgnc2hvdWxkIHJldHVybiBPcGVuSUQgY29uZmlndXJhdGlvbicsICgpID0+IHtcclxuICAgICAgY29uc3QgY29uZmlnID0gb0F1dGhTZXJ2aWNlLmdldE9wZW5JRENvbmZpZ3VyYXRpb24oKTtcclxuXHJcbiAgICAgIGV4cGVjdChjb25maWcuaXNzdWVyKS50b0JlRGVmaW5lZCgpO1xyXG4gICAgICBleHBlY3QoY29uZmlnLmF1dGhvcml6YXRpb25fZW5kcG9pbnQpLnRvQmVEZWZpbmVkKCk7XHJcbiAgICAgIGV4cGVjdChjb25maWcudG9rZW5fZW5kcG9pbnQpLnRvQmVEZWZpbmVkKCk7XHJcbiAgICAgIGV4cGVjdChjb25maWcudXNlcmluZm9fZW5kcG9pbnQpLnRvQmVEZWZpbmVkKCk7XHJcbiAgICAgIGV4cGVjdChjb25maWcucmVzcG9uc2VfdHlwZXNfc3VwcG9ydGVkKS50b0NvbnRhaW4oJ2NvZGUnKTtcclxuICAgICAgZXhwZWN0KGNvbmZpZy5ncmFudF90eXBlc19zdXBwb3J0ZWQpLnRvQ29udGFpbignYXV0aG9yaXphdGlvbl9jb2RlJyk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgnc2hvdWxkIGdldCB1c2VyIGluZm8nLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IHNlc3Npb24gPSBhd2FpdCBzc29TZXJ2aWNlLmNyZWF0ZVNlc3Npb24oJ3VzZXIxMjMnLCB7fSk7XHJcbiAgICAgIGNvbnN0IHVzZXJJbmZvID0gYXdhaXQgb0F1dGhTZXJ2aWNlLmdldFVzZXJJbmZvKHNlc3Npb24uYWNjZXNzVG9rZW4pO1xyXG5cclxuICAgICAgZXhwZWN0KHVzZXJJbmZvLnN1YikudG9CZURlZmluZWQoKTtcclxuICAgICAgZXhwZWN0KHVzZXJJbmZvLm5hbWUpLnRvQmVEZWZpbmVkKCk7XHJcbiAgICAgIGV4cGVjdCh1c2VySW5mby5lbWFpbCkudG9CZURlZmluZWQoKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGl0KCdzaG91bGQgcmVnaXN0ZXIgT0F1dGggY2xpZW50JywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICBjb25zdCB7IGNsaWVudCwgY2xpZW50U2VjcmV0IH0gPSBhd2FpdCBvQXV0aFNlcnZpY2UucmVnaXN0ZXJDbGllbnQoe1xyXG4gICAgICAgIGNsaWVudE5hbWU6ICdUZXN0IEFwcCcsXHJcbiAgICAgICAgcmVkaXJlY3RVcmlzOiBbJ2h0dHBzOi8vYXBwLmV4YW1wbGUuY29tL2NhbGxiYWNrJ10sXHJcbiAgICAgICAgcmVzcG9uc2VUeXBlczogWydjb2RlJ10sXHJcbiAgICAgICAgZ3JhbnRUeXBlczogWydhdXRob3JpemF0aW9uX2NvZGUnXVxyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIGV4cGVjdChjbGllbnQuY2xpZW50SWQpLnRvQmVEZWZpbmVkKCk7XHJcbiAgICAgIGV4cGVjdChjbGllbnRTZWNyZXQpLnRvQmVEZWZpbmVkKCk7XHJcbiAgICAgIGV4cGVjdChjbGllbnQuY2xpZW50TmFtZSkudG9CZSgnVGVzdCBBcHAnKTtcclxuICAgIH0pO1xyXG4gIH0pO1xyXG59KTtcclxuXHJcbmRlc2NyaWJlKCdTZWN1cml0eSBTZXJ2aWNlIFRlc3RzJywgKCkgPT4ge1xyXG4gIGRlc2NyaWJlKCdBY2NvdW50IExvY2tpbmcnLCAoKSA9PiB7XHJcbiAgICBpdCgnc2hvdWxkIHRyYWNrIGZhaWxlZCBsb2dpbiBhdHRlbXB0cycsIGFzeW5jICgpID0+IHtcclxuICAgICAgY29uc3QgZW1haWwgPSAndGVzdEBleGFtcGxlLmNvbSc7XHJcbiAgICAgIFxyXG4gICAgICAvLyBGaXJzdCA0IGF0dGVtcHRzIHNob3VsZCBzdWNjZWVkXHJcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgNDsgaSsrKSB7XHJcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgc2VjdXJpdHlTZXJ2aWNlLnRyYWNrTG9naW5BdHRlbXB0KGVtYWlsLCBmYWxzZSk7XHJcbiAgICAgICAgZXhwZWN0KHJlc3VsdC5ibG9ja2VkKS50b0JlKGZhbHNlKTtcclxuICAgICAgICBleHBlY3QocmVzdWx0LmF0dGVtcHRzUmVtYWluaW5nKS50b0JlKDUgLSBpIC0gMSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIDV0aCBhdHRlbXB0IHNob3VsZCB0cmlnZ2VyIGJsb2NrXHJcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHNlY3VyaXR5U2VydmljZS50cmFja0xvZ2luQXR0ZW1wdChlbWFpbCwgZmFsc2UpO1xyXG4gICAgICBleHBlY3QocmVzdWx0LmJsb2NrZWQpLnRvQmUodHJ1ZSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgnc2hvdWxkIGxvY2sgYWNjb3VudCBhZnRlciBtYXggYXR0ZW1wdHMnLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IGVtYWlsID0gJ2xvY2tAZXhhbXBsZS5jb20nO1xyXG4gICAgICBcclxuICAgICAgLy8gVHJpZ2dlciBtdWx0aXBsZSBmYWlsZWQgYXR0ZW1wdHNcclxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCA1OyBpKyspIHtcclxuICAgICAgICBhd2FpdCBzZWN1cml0eVNlcnZpY2UudHJhY2tMb2dpbkF0dGVtcHQoZW1haWwsIGZhbHNlKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgY29uc3QgbG9ja2VkID0gYXdhaXQgc2VjdXJpdHlTZXJ2aWNlLmlzQWNjb3VudExvY2tlZChlbWFpbCk7XHJcbiAgICAgIGV4cGVjdChsb2NrZWQubG9ja2VkKS50b0JlKHRydWUpO1xyXG4gICAgICBleHBlY3QobG9ja2VkLnJlbWFpbmluZ1RpbWUpLnRvQmVHcmVhdGVyVGhhbigwKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGl0KCdzaG91bGQgY2xlYXIgbG9jayBvbiBzdWNjZXNzZnVsIGxvZ2luJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICBjb25zdCBlbWFpbCA9ICdjbGVhckBleGFtcGxlLmNvbSc7XHJcbiAgICAgIFxyXG4gICAgICBhd2FpdCBzZWN1cml0eVNlcnZpY2UudHJhY2tMb2dpbkF0dGVtcHQoZW1haWwsIGZhbHNlKTtcclxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgc2VjdXJpdHlTZXJ2aWNlLnRyYWNrTG9naW5BdHRlbXB0KGVtYWlsLCB0cnVlKTtcclxuICAgICAgXHJcbiAgICAgIGV4cGVjdChyZXN1bHQuYmxvY2tlZCkudG9CZShmYWxzZSk7XHJcbiAgICAgIFxyXG4gICAgICBjb25zdCBsb2NrZWQgPSBhd2FpdCBzZWN1cml0eVNlcnZpY2UuaXNBY2NvdW50TG9ja2VkKGVtYWlsKTtcclxuICAgICAgZXhwZWN0KGxvY2tlZC5sb2NrZWQpLnRvQmUoZmFsc2UpO1xyXG4gICAgfSk7XHJcbiAgfSk7XHJcblxyXG4gIGRlc2NyaWJlKCdTdXNwaWNpb3VzIEFjdGl2aXR5IERldGVjdGlvbicsICgpID0+IHtcclxuICAgIGl0KCdzaG91bGQgZGV0ZWN0IHN1c3BpY2lvdXMgYWN0aXZpdHkgcGF0dGVybnMnLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IHVzZXJJZCA9ICd1c2VyMTIzJztcclxuICAgICAgXHJcbiAgICAgIC8vIFNpbXVsYXRlIG11bHRpcGxlIGZhaWxlZCBhdHRlbXB0c1xyXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDQ7IGkrKykge1xyXG4gICAgICAgIGF3YWl0IHNlY3VyaXR5U2VydmljZS5kZXRlY3RTdXNwaWNpb3VzQWN0aXZpdHkodXNlcklkLCB7XHJcbiAgICAgICAgICB0eXBlOiAnZmFpbGVkJyxcclxuICAgICAgICAgIGlwQWRkcmVzczogJzE5Mi4xNjguMS4xJ1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBjb25zdCBhY3Rpdml0eSA9IGF3YWl0IHNlY3VyaXR5U2VydmljZS5kZXRlY3RTdXNwaWNpb3VzQWN0aXZpdHkodXNlcklkLCB7XHJcbiAgICAgICAgdHlwZTogJ2ZhaWxlZCcsXHJcbiAgICAgICAgaXBBZGRyZXNzOiAnMTkyLjE2OC4xLjEnXHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgZXhwZWN0KGFjdGl2aXR5LnN1c3BpY2lvdXMpLnRvQmUodHJ1ZSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgnc2hvdWxkIGNhbGN1bGF0ZSBzdXNwaWNpb24gc2NvcmUnLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IGFjdGl2aXRpZXMgPSBbXHJcbiAgICAgICAgeyB0eXBlOiAnZmFpbGVkJywgaXBBZGRyZXNzOiAnMTkyLjE2OC4xLjEnIH0sXHJcbiAgICAgICAgeyB0eXBlOiAnZmFpbGVkJywgaXBBZGRyZXNzOiAnMTkyLjE2OC4xLjInIH0sXHJcbiAgICAgICAgeyB0eXBlOiAnZmFpbGVkJywgaXBBZGRyZXNzOiAnMTkyLjE2OC4xLjMnIH1cclxuICAgICAgXTtcclxuXHJcbiAgICAgIGNvbnN0IHNjb3JlID0gc2VjdXJpdHlTZXJ2aWNlLmNhbGN1bGF0ZVN1c3BpY2lvblNjb3JlKCd1c2VyMTIzJywgYWN0aXZpdGllcyk7XHJcblxyXG4gICAgICBleHBlY3Qoc2NvcmUpLnRvQmVHcmVhdGVyVGhhbigwKTtcclxuICAgICAgZXhwZWN0KHNjb3JlKS50b0JlTGVzc1RoYW5PckVxdWFsKDEwMCk7XHJcbiAgICB9KTtcclxuICB9KTtcclxuXHJcbiAgZGVzY3JpYmUoJ1Nlc3Npb24gRmluZ2VycHJpbnRpbmcnLCAoKSA9PiB7XHJcbiAgICBpdCgnc2hvdWxkIGdlbmVyYXRlIHNlc3Npb24gZmluZ2VycHJpbnQnLCAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IGZpbmdlcnByaW50ID0gc2VjdXJpdHlTZXJ2aWNlLmdlbmVyYXRlU2Vzc2lvbkZpbmdlcnByaW50KHtcclxuICAgICAgICB1c2VyQWdlbnQ6ICdNb3ppbGxhLzUuMC4uLicsXHJcbiAgICAgICAgYWNjZXB0TGFuZ3VhZ2U6ICdlbi1VUyxlbjtxPTAuOScsXHJcbiAgICAgICAgc2NyZWVuUmVzb2x1dGlvbjogJzE5MjB4MTA4MCcsXHJcbiAgICAgICAgdGltZXpvbmU6ICdVVEMrMydcclxuICAgICAgfSk7XHJcblxyXG4gICAgICBleHBlY3QoZmluZ2VycHJpbnQuZmluZ2VycHJpbnQpLnRvQmVEZWZpbmVkKCk7XHJcbiAgICAgIGV4cGVjdChmaW5nZXJwcmludC5maW5nZXJwcmludERhdGEpLnRvQmVEZWZpbmVkKCk7XHJcbiAgICAgIGV4cGVjdChmaW5nZXJwcmludC5maW5nZXJwcmludC5sZW5ndGgpLnRvQmVHcmVhdGVyVGhhbigwKTtcclxuICAgIH0pO1xyXG4gIH0pO1xyXG5cclxuICBkZXNjcmliZSgnSVAgV2hpdGVsaXN0aW5nJywgKCkgPT4ge1xyXG4gICAgaXQoJ3Nob3VsZCB3aGl0ZWxpc3QgSVAgYWRkcmVzcycsIGFzeW5jICgpID0+IHtcclxuICAgICAgY29uc3QgdXNlcklkID0gJ3VzZXIxMjMnO1xyXG4gICAgICBjb25zdCBpcEFkZHJlc3MgPSAnMTkyLjE2OC4xLjEnO1xyXG5cclxuICAgICAgY29uc3Qgd2hpdGVsaXN0ID0gYXdhaXQgc2VjdXJpdHlTZXJ2aWNlLndoaXRlbGlzdElQKFxyXG4gICAgICAgIHVzZXJJZCxcclxuICAgICAgICBpcEFkZHJlc3MsXHJcbiAgICAgICAgJ015IExhcHRvcCdcclxuICAgICAgKTtcclxuXHJcbiAgICAgIGV4cGVjdCh3aGl0ZWxpc3QpLnRvQmVEZWZpbmVkKCk7XHJcbiAgICAgIGV4cGVjdCh3aGl0ZWxpc3QubGVuZ3RoKS50b0JlR3JlYXRlclRoYW4oMCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgnc2hvdWxkIGNoZWNrIElQIHdoaXRlbGlzdCcsIGFzeW5jICgpID0+IHtcclxuICAgICAgY29uc3QgdXNlcklkID0gJ3VzZXIxMjMnO1xyXG4gICAgICBjb25zdCBpcEFkZHJlc3MgPSAnMTkyLjE2OC4xLjEnO1xyXG5cclxuICAgICAgYXdhaXQgc2VjdXJpdHlTZXJ2aWNlLndoaXRlbGlzdElQKHVzZXJJZCwgaXBBZGRyZXNzKTtcclxuICAgICAgY29uc3QgaXNXaGl0ZWxpc3RlZCA9IGF3YWl0IHNlY3VyaXR5U2VydmljZS5pc0lQV2hpdGVsaXN0ZWQodXNlcklkLCBpcEFkZHJlc3MpO1xyXG5cclxuICAgICAgZXhwZWN0KGlzV2hpdGVsaXN0ZWQpLnRvQmUodHJ1ZSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgnc2hvdWxkIHJldHVybiBmYWxzZSBmb3Igbm9uLXdoaXRlbGlzdGVkIElQJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICBjb25zdCB1c2VySWQgPSAndXNlcjEyMyc7XHJcbiAgICAgIGNvbnN0IGlzV2hpdGVsaXN0ZWQgPSBhd2FpdCBzZWN1cml0eVNlcnZpY2UuaXNJUFdoaXRlbGlzdGVkKFxyXG4gICAgICAgIHVzZXJJZCxcclxuICAgICAgICAnOTk5Ljk5OS45OTkuOTk5J1xyXG4gICAgICApO1xyXG5cclxuICAgICAgZXhwZWN0KGlzV2hpdGVsaXN0ZWQpLnRvQmUoZmFsc2UpO1xyXG4gICAgfSk7XHJcbiAgfSk7XHJcblxyXG4gIGRlc2NyaWJlKCdBdWRpdCBMb2dnaW5nJywgKCkgPT4ge1xyXG4gICAgaXQoJ3Nob3VsZCBsb2cgYXVkaXQgZXZlbnRzJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICBjb25zdCBldmVudCA9IGF3YWl0IHNlY3VyaXR5U2VydmljZS5sb2dBdWRpdEV2ZW50KCdMT0dJTl9TVUNDRVNTJywge1xyXG4gICAgICAgIGVtYWlsOiAndXNlckBleGFtcGxlLmNvbScsXHJcbiAgICAgICAgdGltZXN0YW1wOiBEYXRlLm5vdygpXHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgZXhwZWN0KGV2ZW50KS50b0JlRGVmaW5lZCgpO1xyXG4gICAgICBleHBlY3QoZXZlbnQuZXZlbnRUeXBlKS50b0JlKCdMT0dJTl9TVUNDRVNTJyk7XHJcbiAgICAgIGV4cGVjdChldmVudC5zZXZlcml0eSkudG9CZSgnSU5GTycpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaXQoJ3Nob3VsZCBnZXQgYXVkaXQgbG9ncycsIGFzeW5jICgpID0+IHtcclxuICAgICAgYXdhaXQgc2VjdXJpdHlTZXJ2aWNlLmxvZ0F1ZGl0RXZlbnQoJ0xPR0lOX0ZBSUxFRCcsIHtcclxuICAgICAgICBlbWFpbDogJ3VzZXJAZXhhbXBsZS5jb20nXHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgY29uc3QgbG9ncyA9IGF3YWl0IHNlY3VyaXR5U2VydmljZS5nZXRBdWRpdExvZyh7XHJcbiAgICAgICAgZXZlbnRUeXBlOiAnTE9HSU5fRkFJTEVEJyxcclxuICAgICAgICBsaW1pdDogMTBcclxuICAgICAgfSk7XHJcblxyXG4gICAgICBleHBlY3QobG9ncykudG9CZURlZmluZWQoKTtcclxuICAgICAgZXhwZWN0KEFycmF5LmlzQXJyYXkobG9ncykpLnRvQmUodHJ1ZSk7XHJcbiAgICB9KTtcclxuICB9KTtcclxufSk7XHJcblxyXG5kZXNjcmliZSgnU1NPIEFQSSBSb3V0ZXMgVGVzdHMnLCAoKSA9PiB7XHJcbiAgZGVzY3JpYmUoJ0xvZ2luL0xvZ291dCBFbmRwb2ludHMnLCAoKSA9PiB7XHJcbiAgICBpdCgnc2hvdWxkIGxvZ2luIHVzZXInLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgcmVxdWVzdChhcHApXHJcbiAgICAgICAgLnBvc3QoJy9hcGkvc3NvL2xvZ2luJylcclxuICAgICAgICAuc2VuZCh7XHJcbiAgICAgICAgICBlbWFpbDogJ3VzZXJAZXhhbXBsZS5jb20nLFxyXG4gICAgICAgICAgcGFzc3dvcmQ6ICdwYXNzd29yZDEyMydcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgIGV4cGVjdChyZXNwb25zZS5zdGF0dXMpLnRvQmUoMjAwKTtcclxuICAgICAgZXhwZWN0KHJlc3BvbnNlLmJvZHkuc3VjY2VzcykudG9CZSh0cnVlKTtcclxuICAgICAgZXhwZWN0KHJlc3BvbnNlLmJvZHkuZGF0YS5zZXNzaW9uSWQpLnRvQmVEZWZpbmVkKCk7XHJcbiAgICAgIGV4cGVjdChyZXNwb25zZS5ib2R5LmRhdGEuYWNjZXNzVG9rZW4pLnRvQmVEZWZpbmVkKCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgnc2hvdWxkIHJlamVjdCBsb2dpbiB3aXRob3V0IGNyZWRlbnRpYWxzJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHJlcXVlc3QoYXBwKVxyXG4gICAgICAgIC5wb3N0KCcvYXBpL3Nzby9sb2dpbicpXHJcbiAgICAgICAgLnNlbmQoe30pO1xyXG5cclxuICAgICAgZXhwZWN0KHJlc3BvbnNlLnN0YXR1cykudG9CZSg0MDApO1xyXG4gICAgICBleHBlY3QocmVzcG9uc2UuYm9keS5zdWNjZXNzKS50b0JlKGZhbHNlKTtcclxuICAgIH0pO1xyXG4gIH0pO1xyXG5cclxuICBkZXNjcmliZSgnVG9rZW4gRW5kcG9pbnRzJywgKCkgPT4ge1xyXG4gICAgaXQoJ3Nob3VsZCB2ZXJpZnkgdG9rZW4nLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIC8vIEZpcnN0IGxvZ2luXHJcbiAgICAgIGNvbnN0IGxvZ2luUmVzID0gYXdhaXQgcmVxdWVzdChhcHApXHJcbiAgICAgICAgLnBvc3QoJy9hcGkvc3NvL2xvZ2luJylcclxuICAgICAgICAuc2VuZCh7XHJcbiAgICAgICAgICBlbWFpbDogJ3VzZXJAZXhhbXBsZS5jb20nLFxyXG4gICAgICAgICAgcGFzc3dvcmQ6ICdwYXNzd29yZDEyMydcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgIC8vIFRoZW4gdmVyaWZ5XHJcbiAgICAgIGNvbnN0IHZlcmlmeVJlcyA9IGF3YWl0IHJlcXVlc3QoYXBwKVxyXG4gICAgICAgIC5wb3N0KCcvYXBpL3Nzby92ZXJpZnktdG9rZW4nKVxyXG4gICAgICAgIC5zZW5kKHtcclxuICAgICAgICAgIHRva2VuOiBsb2dpblJlcy5ib2R5LmRhdGEuYWNjZXNzVG9rZW4sXHJcbiAgICAgICAgICBzZXNzaW9uSWQ6IGxvZ2luUmVzLmJvZHkuZGF0YS5zZXNzaW9uSWRcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgIGV4cGVjdCh2ZXJpZnlSZXMuc3RhdHVzKS50b0JlKDIwMCk7XHJcbiAgICAgIGV4cGVjdCh2ZXJpZnlSZXMuYm9keS5zdWNjZXNzKS50b0JlKHRydWUpO1xyXG4gICAgICBleHBlY3QodmVyaWZ5UmVzLmJvZHkuZGF0YS52YWxpZCkudG9CZSh0cnVlKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGl0KCdzaG91bGQgcmVmcmVzaCB0b2tlbicsIGFzeW5jICgpID0+IHtcclxuICAgICAgY29uc3QgbG9naW5SZXMgPSBhd2FpdCByZXF1ZXN0KGFwcClcclxuICAgICAgICAucG9zdCgnL2FwaS9zc28vbG9naW4nKVxyXG4gICAgICAgIC5zZW5kKHtcclxuICAgICAgICAgIGVtYWlsOiAndXNlckBleGFtcGxlLmNvbScsXHJcbiAgICAgICAgICBwYXNzd29yZDogJ3Bhc3N3b3JkMTIzJ1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgY29uc3QgcmVmcmVzaFJlcyA9IGF3YWl0IHJlcXVlc3QoYXBwKVxyXG4gICAgICAgIC5wb3N0KCcvYXBpL3Nzby9yZWZyZXNoLXRva2VuJylcclxuICAgICAgICAuc2VuZCh7XHJcbiAgICAgICAgICBzZXNzaW9uSWQ6IGxvZ2luUmVzLmJvZHkuZGF0YS5zZXNzaW9uSWQsXHJcbiAgICAgICAgICByZWZyZXNoVG9rZW46IGxvZ2luUmVzLmJvZHkuZGF0YS5yZWZyZXNoVG9rZW5cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgIGV4cGVjdChyZWZyZXNoUmVzLnN0YXR1cykudG9CZSgyMDApO1xyXG4gICAgICBleHBlY3QocmVmcmVzaFJlcy5ib2R5LmRhdGEuYWNjZXNzVG9rZW4pLnRvQmVEZWZpbmVkKCk7XHJcbiAgICB9KTtcclxuICB9KTtcclxufSk7XHJcblxyXG5kZXNjcmliZSgnSW50ZWdyYXRpb24gVGVzdHMnLCAoKSA9PiB7XHJcbiAgaXQoJ3Nob3VsZCBjb21wbGV0ZSBmdWxsIGxvZ2luIC0+IHZlcmlmeSAtPiByZWZyZXNoIC0+IGxvZ291dCBmbG93JywgYXN5bmMgKCkgPT4ge1xyXG4gICAgLy8gMS4gTG9naW5cclxuICAgIGNvbnN0IGxvZ2luUmVzID0gYXdhaXQgcmVxdWVzdChhcHApXHJcbiAgICAgIC5wb3N0KCcvYXBpL3Nzby9sb2dpbicpXHJcbiAgICAgIC5zZW5kKHtcclxuICAgICAgICBlbWFpbDogJ2ludGVncmF0aW9uQGV4YW1wbGUuY29tJyxcclxuICAgICAgICBwYXNzd29yZDogJ3Bhc3N3b3JkMTIzJ1xyXG4gICAgICB9KTtcclxuXHJcbiAgICBleHBlY3QobG9naW5SZXMuc3RhdHVzKS50b0JlKDIwMCk7XHJcbiAgICBjb25zdCB7IHNlc3Npb25JZCwgYWNjZXNzVG9rZW4sIHJlZnJlc2hUb2tlbiB9ID0gbG9naW5SZXMuYm9keS5kYXRhO1xyXG5cclxuICAgIC8vIDIuIFZlcmlmeSB0b2tlblxyXG4gICAgY29uc3QgdmVyaWZ5UmVzID0gYXdhaXQgcmVxdWVzdChhcHApXHJcbiAgICAgIC5wb3N0KCcvYXBpL3Nzby92ZXJpZnktdG9rZW4nKVxyXG4gICAgICAuc2VuZCh7IHRva2VuOiBhY2Nlc3NUb2tlbiwgc2Vzc2lvbklkIH0pO1xyXG5cclxuICAgIGV4cGVjdCh2ZXJpZnlSZXMuYm9keS5kYXRhLnZhbGlkKS50b0JlKHRydWUpO1xyXG5cclxuICAgIC8vIDMuIFJlZnJlc2ggdG9rZW5cclxuICAgIGNvbnN0IHJlZnJlc2hSZXMgPSBhd2FpdCByZXF1ZXN0KGFwcClcclxuICAgICAgLnBvc3QoJy9hcGkvc3NvL3JlZnJlc2gtdG9rZW4nKVxyXG4gICAgICAuc2VuZCh7IHNlc3Npb25JZCwgcmVmcmVzaFRva2VuIH0pO1xyXG5cclxuICAgIGV4cGVjdChyZWZyZXNoUmVzLnN0YXR1cykudG9CZSgyMDApO1xyXG4gICAgY29uc3QgbmV3QWNjZXNzVG9rZW4gPSByZWZyZXNoUmVzLmJvZHkuZGF0YS5hY2Nlc3NUb2tlbjtcclxuXHJcbiAgICAvLyA0LiBMb2dvdXRcclxuICAgIGNvbnN0IGxvZ291dFJlcyA9IGF3YWl0IHJlcXVlc3QoYXBwKVxyXG4gICAgICAucG9zdCgnL2FwaS9zc28vbG9nb3V0JylcclxuICAgICAgLnNldCgnQXV0aG9yaXphdGlvbicsIGBCZWFyZXIgJHtuZXdBY2Nlc3NUb2tlbn1gKVxyXG4gICAgICAuc2V0KCdYLVNlc3Npb24tSWQnLCBzZXNzaW9uSWQpO1xyXG5cclxuICAgIGV4cGVjdChsb2dvdXRSZXMuc3RhdHVzKS50b0JlKDIwMCk7XHJcbiAgICBleHBlY3QobG9nb3V0UmVzLmJvZHkuc3VjY2VzcykudG9CZSh0cnVlKTtcclxuICB9KTtcclxufSk7XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IHtcclxuICBzc29TZXJ2aWNlLFxyXG4gIG9BdXRoU2VydmljZSxcclxuICBzZWN1cml0eVNlcnZpY2VcclxufTtcclxuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxNQUFNQSxPQUFPLEdBQUdDLE9BQU8sQ0FBQyxXQUFXLENBQUM7QUFDcEMsTUFBTUMsT0FBTyxHQUFHRCxPQUFPLENBQUMsU0FBUyxDQUFDO0FBQ2xDLE1BQU1FLFVBQVUsR0FBR0YsT0FBTyxDQUFDLHlCQUF5QixDQUFDO0FBQ3JELE1BQU1HLFlBQVksR0FBR0gsT0FBTyxDQUFDLDJCQUEyQixDQUFDO0FBQ3pELE1BQU1JLGtCQUFrQixHQUFHSixPQUFPLENBQUMsa0NBQWtDLENBQUM7QUFDdEUsTUFBTUssU0FBUyxHQUFHTCxPQUFPLENBQUMsc0JBQXNCLENBQUM7QUFDakQsTUFBTTtFQUFFTSxjQUFjO0VBQUVDO0FBQVksQ0FBQyxHQUFHUCxPQUFPLENBQUMsbUNBQW1DLENBQUM7O0FBRXBGO0FBQ0EsTUFBTVEsR0FBRyxH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