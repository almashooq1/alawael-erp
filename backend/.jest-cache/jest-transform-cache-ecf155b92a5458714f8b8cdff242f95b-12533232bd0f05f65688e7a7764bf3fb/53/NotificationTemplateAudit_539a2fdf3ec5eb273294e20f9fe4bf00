77bdee2bca8ac42894f06c8a8e358996
const mongoose = require('mongoose');
const notificationTemplateAuditSchema = new mongoose.Schema({
  template: {
    type: mongoose.Schema.Types.ObjectId,
    ref: 'NotificationTemplate',
    required: true
  },
  action: {
    type: String,
    enum: ['create', 'update', 'delete'],
    required: true
  },
  changes: {
    type: Object
  },
  // diff or full snapshot
  performedBy: {
    type: mongoose.Schema.Types.ObjectId,
    ref: 'User'
  },
  performedAt: {
    type: Date,
    default: Date.now
  }
}, {
  timestamps: true
});
const NotificationTemplateAudit = mongoose.model('NotificationTemplateAudit', notificationTemplateAuditSchema);
module.exports = NotificationTemplateAudit;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJtb25nb29zZSIsInJlcXVpcmUiLCJub3RpZmljYXRpb25UZW1wbGF0ZUF1ZGl0U2NoZW1hIiwiU2NoZW1hIiwidGVtcGxhdGUiLCJ0eXBlIiwiVHlwZXMiLCJPYmplY3RJZCIsInJlZiIsInJlcXVpcmVkIiwiYWN0aW9uIiwiU3RyaW5nIiwiZW51bSIsImNoYW5nZXMiLCJPYmplY3QiLCJwZXJmb3JtZWRCeSIsInBlcmZvcm1lZEF0IiwiRGF0ZSIsImRlZmF1bHQiLCJub3ciLCJ0aW1lc3RhbXBzIiwiTm90aWZpY2F0aW9uVGVtcGxhdGVBdWRpdCIsIm1vZGVsIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VzIjpbIk5vdGlmaWNhdGlvblRlbXBsYXRlQXVkaXQuanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgbW9uZ29vc2UgPSByZXF1aXJlKCdtb25nb29zZScpO1xyXG5cclxuY29uc3Qgbm90aWZpY2F0aW9uVGVtcGxhdGVBdWRpdFNjaGVtYSA9IG5ldyBtb25nb29zZS5TY2hlbWEoXHJcbiAge1xyXG4gICAgdGVtcGxhdGU6IHsgdHlwZTogbW9uZ29vc2UuU2NoZW1hLlR5cGVzLk9iamVjdElkLCByZWY6ICdOb3RpZmljYXRpb25UZW1wbGF0ZScsIHJlcXVpcmVkOiB0cnVlIH0sXHJcbiAgICBhY3Rpb246IHsgdHlwZTogU3RyaW5nLCBlbnVtOiBbJ2NyZWF0ZScsICd1cGRhdGUnLCAnZGVsZXRlJ10sIHJlcXVpcmVkOiB0cnVlIH0sXHJcbiAgICBjaGFuZ2VzOiB7IHR5cGU6IE9iamVjdCB9LCAvLyBkaWZmIG9yIGZ1bGwgc25hcHNob3RcclxuICAgIHBlcmZvcm1lZEJ5OiB7IHR5cGU6IG1vbmdvb3NlLlNjaGVtYS5UeXBlcy5PYmplY3RJZCwgcmVmOiAnVXNlcicgfSxcclxuICAgIHBlcmZvcm1lZEF0OiB7IHR5cGU6IERhdGUsIGRlZmF1bHQ6IERhdGUubm93IH0sXHJcbiAgfSxcclxuICB7IHRpbWVzdGFtcHM6IHRydWUgfVxyXG4pO1xyXG5cclxuY29uc3QgTm90aWZpY2F0aW9uVGVtcGxhdGVBdWRpdCA9IG1vbmdvb3NlLm1vZGVsKFxyXG4gICdOb3RpZmljYXRpb25UZW1wbGF0ZUF1ZGl0JyxcclxuICBub3RpZmljYXRpb25UZW1wbGF0ZUF1ZGl0U2NoZW1hXHJcbik7XHJcbm1vZHVsZS5leHBvcnRzID0gTm90aWZpY2F0aW9uVGVtcGxhdGVBdWRpdDtcclxuIl0sIm1hcHBpbmdzIjoiQUFBQSxNQUFNQSxRQUFRLEdBQUdDLE9BQU8sQ0FBQyxVQUFVLENBQUM7QUFFcEMsTUFBTUMsK0JBQStCLEdBQUcsSUFBSUYsUUFBUSxDQUFDRyxNQUFNLENBQ3pEO0VBQ0VDLFFBQVEsRUFBRTtJQUFFQyxJQUFJLEVBQUVMLFFBQVEsQ0FBQ0csTUFBTSxDQUFDRyxLQUFLLENBQUNDLFFBQVE7SUFBRUMsR0FBRyxFQUFFLHNCQUFzQjtJQUFFQyxRQUFRLEVBQUU7RUFBSyxDQUFDO0VBQy9GQyxNQUFNLEVBQUU7SUFBRUwsSUFBSSxFQUFFTSxNQUFNO0lBQUVDLElBQUksRUFBRSxDQUFDLFFBQVEsRUFBRSxRQUFRLEVBQUUsUUFBUSxDQUFDO0lBQUVILFFBQVEsRUFBRTtFQUFLLENBQUM7RUFDOUVJLE9BQU8sRUFBRTtJQUFFUixJQUFJLEVBQUVTO0VBQU8sQ0FBQztFQUFFO0VBQzNCQyxXQUFXLEVBQUU7SUFBRVYsSUFBSSxFQUFFTCxRQUFRLENBQUNHLE1BQU0sQ0FBQ0csS0FBSyxDQUFDQyxRQUFRO0lBQUVDLEdBQUcsRUFBRTtFQUFPLENBQUM7RUFDbEVRLFdBQVcsRUFBRTtJQUFFWCxJQUFJLEVBQUVZLElBQUk7SUFBRUMsT0FBTyxFQUFFRCxJQUFJLENBQUNFO0VBQUk7QUFDL0MsQ0FBQyxFQUNEO0VBQUVDLFVBQVUsRUFBRTtBQUFLLENBQ3JCLENBQUM7QUFFRCxNQUFNQyx5QkFBeUIsR0FBR3JCLFFBQVEsQ0FBQ3NCLEtBQUssQ0FDOUMsMkJBQTJCLEVBQzNCcEIsK0JBQ0YsQ0FBQztBQUNEcUIsTUFBTSxDQUFDQyxPQUFPLEdBQUdILHlCQUF5QiIsImlnbm9yZUxpc3QiOltdfQ==