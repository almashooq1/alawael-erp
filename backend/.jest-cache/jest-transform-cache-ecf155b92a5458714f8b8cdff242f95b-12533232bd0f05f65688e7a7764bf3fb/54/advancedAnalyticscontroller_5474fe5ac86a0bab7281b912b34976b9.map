{"version":3,"names":["AdvancedAnalyticsService","require","Logger","AdvancedAnalyticsController","logEvent","req","res","category","action","label","value","metadata","body","event","userId","user","id","status","json","success","message","en","data","error","trackMetric","name","tags","undefined","metric","generateReport","type","dateRange","metrics","groupBy","filters","length","report","info","predictValues","metricName","periods","predictions","getAnomalies","severity","limit","query","anomalies","parseInt","count","getEvents","events","createDashboard","description","widgets","refreshInterval","isPublic","dashboard","getDashboard","dashboardId","params","getDashboardData","addWidget","title","config","addWidgetToDashboard","getComparativeAnalysis","Array","isArray","analysis","start","Date","now","end","exportReport","reportId","format","exportData","contentTypes","csv","pdf","setHeader","send","getStatistics","stats","module","exports"],"sources":["advancedAnalytics.controller.js"],"sourcesContent":["/**\r\n * متحكم التحليلات والتقارير المتقدم\r\n * Advanced Analytics Controller\r\n */\r\n\r\nconst AdvancedAnalyticsService = require('../services/advancedAnalytics.service');\r\nconst Logger = require('../utils/logger');\r\n\r\nclass AdvancedAnalyticsController {\r\n  /**\r\n   * تسجيل حدث تحليلي\r\n   * POST /api/analytics/events\r\n   */\r\n  static async logEvent(req, res) {\r\n    try {\r\n      const {\r\n        category,\r\n        action,\r\n        label,\r\n        value = 0,\r\n        metadata = {},\r\n      } = req.body;\r\n\r\n      const event = AdvancedAnalyticsService.logEvent({\r\n        userId: req.user?.id,\r\n        category,\r\n        action,\r\n        label,\r\n        value,\r\n        metadata,\r\n      });\r\n\r\n      res.status(201).json({\r\n        success: true,\r\n        message: 'تم تسجيل الحدث',\r\n        en: 'Event logged',\r\n        data: event,\r\n      });\r\n    } catch (error) {\r\n      Logger.error(`Log event error: ${error.message}`);\r\n      res.status(500).json({\r\n        success: false,\r\n        message: 'فشل تسجيل الحدث',\r\n        en: 'Failed to log event',\r\n        error: error.message,\r\n      });\r\n    }\r\n  }\r\n\r\n  /**\r\n   * تتبع المقياس\r\n   * POST /api/analytics/metrics\r\n   */\r\n  static async trackMetric(req, res) {\r\n    try {\r\n      const { name, value, tags = {} } = req.body;\r\n\r\n      if (!name || value === undefined) {\r\n        return res.status(400).json({\r\n          success: false,\r\n          message: 'اسم المقياس والقيمة مطلوبة',\r\n          en: 'Metric name and value are required',\r\n        });\r\n      }\r\n\r\n      const metric = AdvancedAnalyticsService.trackMetric(name, value, tags);\r\n\r\n      res.status(201).json({\r\n        success: true,\r\n        message: 'تم تتبع المقياس',\r\n        en: 'Metric tracked',\r\n        data: metric,\r\n      });\r\n    } catch (error) {\r\n      Logger.error(`Track metric error: ${error.message}`);\r\n      res.status(500).json({\r\n        success: false,\r\n        message: 'فشل تتبع المقياس',\r\n        en: 'Failed to track metric',\r\n        error: error.message,\r\n      });\r\n    }\r\n  }\r\n\r\n  /**\r\n   * إنشاء تقرير مخصص\r\n   * POST /api/analytics/reports\r\n   */\r\n  static async generateReport(req, res) {\r\n    try {\r\n      const {\r\n        name,\r\n        type = 'summary',\r\n        dateRange,\r\n        metrics = [],\r\n        groupBy = 'day',\r\n        filters = {},\r\n      } = req.body;\r\n\r\n      if (!name || metrics.length === 0) {\r\n        return res.status(400).json({\r\n          success: false,\r\n          message: 'الاسم والمقاييس مطلوبة',\r\n          en: 'Name and metrics are required',\r\n        });\r\n      }\r\n\r\n      const report = AdvancedAnalyticsService.generateReport({\r\n        name,\r\n        type,\r\n        dateRange,\r\n        metrics,\r\n        groupBy,\r\n        filters,\r\n      });\r\n\r\n      Logger.info(`Report generated: ${report.id}`);\r\n\r\n      res.status(201).json({\r\n        success: true,\r\n        message: 'تم إنشاء التقرير',\r\n        en: 'Report generated',\r\n        data: report,\r\n      });\r\n    } catch (error) {\r\n      Logger.error(`Generate report error: ${error.message}`);\r\n      res.status(500).json({\r\n        success: false,\r\n        message: 'فشل إنشاء التقرير',\r\n        en: 'Failed to generate report',\r\n        error: error.message,\r\n      });\r\n    }\r\n  }\r\n\r\n  /**\r\n   * التنبؤ بالقيم المستقبلية\r\n   * POST /api/analytics/predict\r\n   */\r\n  static async predictValues(req, res) {\r\n    try {\r\n      const { metricName, periods = 7 } = req.body;\r\n\r\n      if (!metricName) {\r\n        return res.status(400).json({\r\n          success: false,\r\n          message: 'اسم المقياس مطلوب',\r\n          en: 'Metric name is required',\r\n        });\r\n      }\r\n\r\n      const predictions = AdvancedAnalyticsService.predictValues(\r\n        metricName,\r\n        periods\r\n      );\r\n\r\n      res.json({\r\n        success: true,\r\n        message: 'تم التنبؤ بالقيم',\r\n        en: 'Values predicted',\r\n        data: {\r\n          metric: metricName,\r\n          periods,\r\n          predictions,\r\n        },\r\n      });\r\n    } catch (error) {\r\n      Logger.error(`Predict values error: ${error.message}`);\r\n      res.status(500).json({\r\n        success: false,\r\n        message: 'فشل التنبؤ',\r\n        en: 'Failed to predict',\r\n        error: error.message,\r\n      });\r\n    }\r\n  }\r\n\r\n  /**\r\n   * جلب الشذوذ\r\n   * GET /api/analytics/anomalies\r\n   */\r\n  static async getAnomalies(req, res) {\r\n    try {\r\n      const { severity = null, limit = 50 } = req.query;\r\n\r\n      const anomalies = AdvancedAnalyticsService.getAnomalies({\r\n        severity,\r\n        limit: parseInt(limit),\r\n      });\r\n\r\n      res.json({\r\n        success: true,\r\n        message: 'تم جلب الشذوذ',\r\n        en: 'Anomalies retrieved',\r\n        data: {\r\n          count: anomalies.length,\r\n          anomalies,\r\n        },\r\n      });\r\n    } catch (error) {\r\n      Logger.error(`Get anomalies error: ${error.message}`);\r\n      res.status(500).json({\r\n        success: false,\r\n        message: 'فشل جلب الشذوذ',\r\n        en: 'Failed to get anomalies',\r\n        error: error.message,\r\n      });\r\n    }\r\n  }\r\n\r\n  /**\r\n   * جلب الأحداث\r\n   * GET /api/analytics/events\r\n   */\r\n  static async getEvents(req, res) {\r\n    try {\r\n      const { category = null, userId = null, limit = 100 } = req.query;\r\n\r\n      const events = AdvancedAnalyticsService.getEvents({\r\n        category,\r\n        userId,\r\n        limit: parseInt(limit),\r\n      });\r\n\r\n      res.json({\r\n        success: true,\r\n        message: 'تم جلب الأحداث',\r\n        en: 'Events retrieved',\r\n        data: {\r\n          count: events.length,\r\n          events,\r\n        },\r\n      });\r\n    } catch (error) {\r\n      Logger.error(`Get events error: ${error.message}`);\r\n      res.status(500).json({\r\n        success: false,\r\n        message: 'فشل جلب الأحداث',\r\n        en: 'Failed to get events',\r\n        error: error.message,\r\n      });\r\n    }\r\n  }\r\n\r\n  /**\r\n   * إنشاء لوحة معلومات\r\n   * POST /api/analytics/dashboards\r\n   */\r\n  static async createDashboard(req, res) {\r\n    try {\r\n      const {\r\n        name,\r\n        description,\r\n        widgets = [],\r\n        refreshInterval = 60000,\r\n        isPublic = false,\r\n      } = req.body;\r\n\r\n      if (!name) {\r\n        return res.status(400).json({\r\n          success: false,\r\n          message: 'اسم لوحة المعلومات مطلوب',\r\n          en: 'Dashboard name is required',\r\n        });\r\n      }\r\n\r\n      const dashboard = AdvancedAnalyticsService.createDashboard({\r\n        name,\r\n        description,\r\n        widgets,\r\n        refreshInterval,\r\n        isPublic,\r\n      });\r\n\r\n      Logger.info(`Dashboard created: ${dashboard.id}`);\r\n\r\n      res.status(201).json({\r\n        success: true,\r\n        message: 'تم إنشاء لوحة المعلومات',\r\n        en: 'Dashboard created',\r\n        data: dashboard,\r\n      });\r\n    } catch (error) {\r\n      Logger.error(`Create dashboard error: ${error.message}`);\r\n      res.status(500).json({\r\n        success: false,\r\n        message: 'فشل إنشاء لوحة المعلومات',\r\n        en: 'Failed to create dashboard',\r\n        error: error.message,\r\n      });\r\n    }\r\n  }\r\n\r\n  /**\r\n   * جلب بيانات لوحة المعلومات\r\n   * GET /api/analytics/dashboards/:dashboardId\r\n   */\r\n  static async getDashboard(req, res) {\r\n    try {\r\n      const { dashboardId } = req.params;\r\n\r\n      const dashboard = AdvancedAnalyticsService.getDashboardData(dashboardId);\r\n\r\n      if (!dashboard) {\r\n        return res.status(404).json({\r\n          success: false,\r\n          message: 'لوحة المعلومات غير موجودة',\r\n          en: 'Dashboard not found',\r\n        });\r\n      }\r\n\r\n      res.json({\r\n        success: true,\r\n        message: 'تم جلب لوحة المعلومات',\r\n        en: 'Dashboard retrieved',\r\n        data: dashboard,\r\n      });\r\n    } catch (error) {\r\n      Logger.error(`Get dashboard error: ${error.message}`);\r\n      res.status(500).json({\r\n        success: false,\r\n        message: 'فشل جلب لوحة المعلومات',\r\n        en: 'Failed to get dashboard',\r\n        error: error.message,\r\n      });\r\n    }\r\n  }\r\n\r\n  /**\r\n   * إضافة widget\r\n   * POST /api/analytics/dashboards/:dashboardId/widgets\r\n   */\r\n  static async addWidget(req, res) {\r\n    try {\r\n      const { dashboardId } = req.params;\r\n      const { title, metric, type, config = {} } = req.body;\r\n\r\n      if (!title || !metric || !type) {\r\n        return res.status(400).json({\r\n          success: false,\r\n          message: 'العنوان والمقياس والنوع مطلوبة',\r\n          en: 'Title, metric, and type are required',\r\n        });\r\n      }\r\n\r\n      const dashboard = AdvancedAnalyticsService.addWidgetToDashboard(\r\n        dashboardId,\r\n        {\r\n          title,\r\n          metric,\r\n          type,\r\n          config,\r\n        }\r\n      );\r\n\r\n      res.status(201).json({\r\n        success: true,\r\n        message: 'تم إضافة الـ widget',\r\n        en: 'Widget added',\r\n        data: dashboard,\r\n      });\r\n    } catch (error) {\r\n      Logger.error(`Add widget error: ${error.message}`);\r\n      res.status(500).json({\r\n        success: false,\r\n        message: 'فشل إضافة الـ widget',\r\n        en: 'Failed to add widget',\r\n        error: error.message,\r\n      });\r\n    }\r\n  }\r\n\r\n  /**\r\n   * جلب التحليل المقارن\r\n   * POST /api/analytics/compare\r\n   */\r\n  static async getComparativeAnalysis(req, res) {\r\n    try {\r\n      const { metrics, dateRange } = req.body;\r\n\r\n      if (!metrics || !Array.isArray(metrics) || metrics.length === 0) {\r\n        return res.status(400).json({\r\n          success: false,\r\n          message: 'المقاييس مطلوبة',\r\n          en: 'Metrics array is required',\r\n        });\r\n      }\r\n\r\n      const analysis = AdvancedAnalyticsService.getComparativeAnalysis(\r\n        metrics,\r\n        dateRange || {\r\n          start: new Date(Date.now() - 30 * 24 * 60 * 60 * 1000),\r\n          end: new Date(),\r\n        }\r\n      );\r\n\r\n      res.json({\r\n        success: true,\r\n        message: 'تم جلب التحليل',\r\n        en: 'Analysis retrieved',\r\n        data: analysis,\r\n      });\r\n    } catch (error) {\r\n      Logger.error(`Comparative analysis error: ${error.message}`);\r\n      res.status(500).json({\r\n        success: false,\r\n        message: 'فشل جلب التحليل',\r\n        en: 'Failed to get analysis',\r\n        error: error.message,\r\n      });\r\n    }\r\n  }\r\n\r\n  /**\r\n   * تصدير التقرير\r\n   * GET /api/analytics/reports/:reportId/export\r\n   */\r\n  static async exportReport(req, res) {\r\n    try {\r\n      const { reportId } = req.params;\r\n      const { format = 'json' } = req.query;\r\n\r\n      const exportData = AdvancedAnalyticsService.exportReport(\r\n        reportId,\r\n        format\r\n      );\r\n\r\n      if (!exportData) {\r\n        return res.status(404).json({\r\n          success: false,\r\n          message: 'التقرير غير موجود',\r\n          en: 'Report not found',\r\n        });\r\n      }\r\n\r\n      // Set appropriate content type based on format\r\n      const contentTypes = {\r\n        json: 'application/json',\r\n        csv: 'text/csv',\r\n        pdf: 'application/pdf',\r\n      };\r\n\r\n      res.setHeader('Content-Type', contentTypes[format] || 'application/json');\r\n      res.send(exportData);\r\n    } catch (error) {\r\n      Logger.error(`Export report error: ${error.message}`);\r\n      res.status(500).json({\r\n        success: false,\r\n        message: 'فشل تصدير التقرير',\r\n        en: 'Failed to export report',\r\n        error: error.message,\r\n      });\r\n    }\r\n  }\r\n\r\n  /**\r\n   * جلب الإحصائيات العامة\r\n   * GET /api/analytics/stats\r\n   */\r\n  static async getStatistics(req, res) {\r\n    try {\r\n      const stats = AdvancedAnalyticsService.getStatistics();\r\n\r\n      res.json({\r\n        success: true,\r\n        message: 'تم جلب الإحصائيات',\r\n        en: 'Statistics retrieved',\r\n        data: stats,\r\n      });\r\n    } catch (error) {\r\n      Logger.error(`Get statistics error: ${error.message}`);\r\n      res.status(500).json({\r\n        success: false,\r\n        message: 'فشل جلب الإحصائيات',\r\n        en: 'Failed to get statistics',\r\n        error: error.message,\r\n      });\r\n    }\r\n  }\r\n}\r\n\r\nmodule.exports = AdvancedAnalyticsController;\r\n"],"mappings":"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","ignoreList":[]}