ec67eee90da18cd3c3c1db25c07fd47a
/**
 * Jest Test Setup File
 * Initialize test environment and global configuration
 */

// =============================================
// ENVIRONMENT SETUP
// =============================================

// Set test environment
process.env.NODE_ENV = 'test';

// Configure environment variables for tests
process.env.BRANCH_API_URL = process.env.BRANCH_API_URL || 'http://localhost:5000/api/v2';
process.env.BRANCH_API_KEY = process.env.BRANCH_API_KEY || 'test-api-key-123';
process.env.SYNC_INTERVAL = process.env.SYNC_INTERVAL || '60000';
process.env.ENABLE_CONTINUOUS_SYNC = process.env.ENABLE_CONTINUOUS_SYNC || 'false';

// =============================================
// GLOBAL TEST TIMEOUT
// =============================================

jest.setTimeout(30000);

// =============================================
// GLOBAL FETCH MOCK
// =============================================

global.fetch = jest.fn();

// Default fetch mock implementation
global.fetch.mockImplementation(() => Promise.resolve({
  ok: true,
  status: 200,
  json: async () => ({})
}));

// =============================================
// GLOBAL ERROR HANDLING
// =============================================

// Suppress console errors in tests (comment out to see errors)
const originalConsoleError = console.error;
const originalConsoleWarn = console.warn;

// Only suppress specific patterns
console.error = (...args) => {
  const message = args[0]?.toString?.() || '';

  // Allow test-related errors
  if (message.includes('Error') || message.includes('Test')) {
    originalConsoleError(...args);
  }
  // Suppress specific known warnings
  else if (message.includes('ExperimentalWarning')) {
    // Suppress experimental warnings
  }
  // Log everything else
  else {
    originalConsoleError(...args);
  }
};
console.warn = (...args) => {
  const message = args[0]?.toString?.() || '';

  // Log all warnings
  originalConsoleWarn(...args);
};

// =============================================
// GLOBAL TEST UTILITIES
// =============================================

/**
 * Create a mock successful response
 */
global.mockSuccessResponse = (data = {}, status = 200) => ({
  ok: status < 400,
  status,
  json: async () => ({
    success: true,
    ...data
  })
});

/**
 * Create a mock error response
 */
global.mockErrorResponse = (error = 'Error', status = 500) => ({
  ok: false,
  status,
  json: async () => ({
    success: false,
    error
  })
});

/**
 * Create a mock timeout
 */
global.mockTimeout = () => Promise.reject(new Error('Timeout'));

/**
 * Reset all mocks
 */
global.resetMocks = () => {
  jest.clearAllMocks();
};

// =============================================
// GLOBAL TEST MATCHERS
// =============================================

expect.extend({
  /**
   * Custom matcher for checking if response is in valid ERP format
   */
  toBeValidERPResponse(received) {
    const pass = received && typeof received === 'object' && 'success' in received && 'timestamp' in received;
    return {
      pass,
      message: () => pass ? `Expected response not to be valid ERP format` : `Expected response to be valid ERP format with 'success' and 'timestamp' properties`
    };
  },
  /**
   * Custom matcher for checking if value is within range
   */
  toBeWithinRange(received, floor, ceiling) {
    const pass = received >= floor && received <= ceiling;
    return {
      pass,
      message: () => pass ? `Expected ${received} not to be within range ${floor} - ${ceiling}` : `Expected ${received} to be within range ${floor} - ${ceiling}`
    };
  },
  /**
   * Custom matcher for branch status validation
   */
  toBeValidBranchStatus(received) {
    const validStatuses = ['ACTIVE', 'INACTIVE', 'CLOSED', 'SUSPENDED', 'PLANNED'];
    const pass = validStatuses.includes(received);
    return {
      pass,
      message: () => pass ? `Expected status not to be valid` : `Expected status to be one of: ${validStatuses.join(', ')}, but got: ${received}`
    };
  }
});

// =============================================
// ASSERTION HELPERS
// =============================================

/**
 * Assert response structure
 */
global.assertResponseStructure = (response, expectedFields = []) => {
  expect(response).toBeDefined();
  expect(response).toHaveProperty('timestamp');
  expectedFields.forEach(field => {
    expect(response).toHaveProperty(field);
  });
};

/**
 * Assert error structure
 */
global.assertErrorStructure = response => {
  expect(response).toBeDefined();
  expect(response).toHaveProperty('error');
  expect(response).toHaveProperty('timestamp');
};

/**
 * Assert performance within SLA
 */
global.assertPerformanceSLA = (duration, slaMs, operation = 'Operation') => {
  expect(duration).toBeLessThan(slaMs);
  console.log(`‚úì ${operation} completed in ${duration}ms (SLA: ${slaMs}ms)`);
};

// =============================================
// MEMORY AND CLEANUP
// =============================================

// Track registered cleanup functions
const cleanupFunctions = [];

/**
 * Register cleanup function
 */
global.registerCleanup = fn => {
  cleanupFunctions.push(fn);
};

// Run cleanup after each test
afterEach(() => {
  cleanupFunctions.forEach(fn => {
    try {
      fn();
    } catch (error) {
      console.warn('Cleanup error:', error);
    }
  });
  cleanupFunctions.length = 0;
  jest.clearAllMocks();
});

// =============================================
// PERFORMANCE MONITORING
// =============================================

let testStartTime;
beforeEach(() => {
  testStartTime = performance.now();
});
afterEach(() => {
  const testDuration = performance.now() - testStartTime;
  const testName = expect.getState().currentTestName;
  if (testDuration > 1000) {
    console.warn(`‚ö†Ô∏è Slow test "${testName}": ${testDuration.toFixed(2)}ms`);
  }
});

// =============================================
// LOGGING
// =============================================

// Log test suite information
console.log('');
console.log('‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê');
console.log('üß™ Jest Test Suite Initialized');
console.log('‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê');
console.log(`Environment: ${process.env.NODE_ENV}`);
console.log(`Branch API: ${process.env.BRANCH_API_URL}`);
console.log('Timeout: 30000ms');
console.log('‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê');
console.log('');

// =============================================
// ERROR TRACKING
// =============================================

// Track uncaught exceptions
process.on('uncaughtException', error => {
  console.error('Uncaught Exception:', error);
});

// Track unhandled promise rejections
process.on('unhandledRejection', (reason, promise) => {
  console.error('Unhandled Rejection at:', promise, 'reason:', reason);
});

// =============================================
// CLEANUP ON EXIT
// =============================================

// Ensure proper cleanup on process exit
afterAll(async () => {
  // Clear all timeouts
  jest.clearAllTimers();

  // Clear all intervals
  jest.clearAllTimers();

  // Reset mocks
  jest.resetAllMocks();
  console.log('');
  console.log('‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê');
  console.log('‚úì Test suite cleanup completed');
  console.log('‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê');
  console.log('');
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJwcm9jZXNzIiwiZW52IiwiTk9ERV9FTlYiLCJCUkFOQ0hfQVBJX1VSTCIsIkJSQU5DSF9BUElfS0VZIiwiU1lOQ19JTlRFUlZBTCIsIkVOQUJMRV9DT05USU5VT1VTX1NZTkMiLCJqZXN0Iiwic2V0VGltZW91dCIsImdsb2JhbCIsImZldGNoIiwiZm4iLCJtb2NrSW1wbGVtZW50YXRpb24iLCJQcm9taXNlIiwicmVzb2x2ZSIsIm9rIiwic3RhdHVzIiwianNvbiIsIm9yaWdpbmFsQ29uc29sZUVycm9yIiwiY29uc29sZSIsImVycm9yIiwib3JpZ2luYWxDb25zb2xlV2FybiIsIndhcm4iLCJhcmdzIiwibWVzc2FnZSIsInRvU3RyaW5nIiwiaW5jbHVkZXMiLCJtb2NrU3VjY2Vzc1Jlc3BvbnNlIiwiZGF0YSIsInN1Y2Nlc3MiLCJtb2NrRXJyb3JSZXNwb25zZSIsIm1vY2tUaW1lb3V0IiwicmVqZWN0IiwiRXJyb3IiLCJyZXNldE1vY2tzIiwiY2xlYXJBbGxNb2NrcyIsImV4cGVjdCIsImV4dGVuZCIsInRvQmVWYWxpZEVSUFJlc3BvbnNlIiwicmVjZWl2ZWQiLCJwYXNzIiwidG9CZVdpdGhpblJhbmdlIiwiZmxvb3IiLCJjZWlsaW5nIiwidG9CZVZhbGlkQnJhbmNoU3RhdHVzIiwidmFsaWRTdGF0dXNlcyIsImpvaW4iLCJhc3NlcnRSZXNwb25zZVN0cnVjdHVyZSIsInJlc3BvbnNlIiwiZXhwZWN0ZWRGaWVsZHMiLCJ0b0JlRGVmaW5lZCIsInRvSGF2ZVByb3BlcnR5IiwiZm9yRWFjaCIsImZpZWxkIiwiYXNzZXJ0RXJyb3JTdHJ1Y3R1cmUiLCJhc3NlcnRQZXJmb3JtYW5jZVNMQSIsImR1cmF0aW9uIiwic2xhTXMiLCJvcGVyYXRpb24iLCJ0b0JlTGVzc1RoYW4iLCJsb2ciLCJjbGVhbnVwRnVuY3Rpb25zIiwicmVnaXN0ZXJDbGVhbnVwIiwicHVzaCIsImFmdGVyRWFjaCIsImxlbmd0aCIsInRlc3RTdGFydFRpbWUiLCJiZWZvcmVFYWNoIiwicGVyZm9ybWFuY2UiLCJub3ciLCJ0ZXN0RHVyYXRpb24iLCJ0ZXN0TmFtZSIsImdldFN0YXRlIiwiY3VycmVudFRlc3ROYW1lIiwidG9GaXhlZCIsIm9uIiwicmVhc29uIiwicHJvbWlzZSIsImFmdGVyQWxsIiwiY2xlYXJBbGxUaW1lcnMiLCJyZXNldEFsbE1vY2tzIl0sInNvdXJjZXMiOlsic2V0dXAuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXHJcbiAqIEplc3QgVGVzdCBTZXR1cCBGaWxlXHJcbiAqIEluaXRpYWxpemUgdGVzdCBlbnZpcm9ubWVudCBhbmQgZ2xvYmFsIGNvbmZpZ3VyYXRpb25cclxuICovXHJcblxyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuLy8gRU5WSVJPTk1FTlQgU0VUVVBcclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblxyXG4vLyBTZXQgdGVzdCBlbnZpcm9ubWVudFxyXG5wcm9jZXNzLmVudi5OT0RFX0VOViA9ICd0ZXN0JztcclxuXHJcbi8vIENvbmZpZ3VyZSBlbnZpcm9ubWVudCB2YXJpYWJsZXMgZm9yIHRlc3RzXHJcbnByb2Nlc3MuZW52LkJSQU5DSF9BUElfVVJMID0gcHJvY2Vzcy5lbnYuQlJBTkNIX0FQSV9VUkwgfHwgJ2h0dHA6Ly9sb2NhbGhvc3Q6NTAwMC9hcGkvdjInO1xyXG5wcm9jZXNzLmVudi5CUkFOQ0hfQVBJX0tFWSA9IHByb2Nlc3MuZW52LkJSQU5DSF9BUElfS0VZIHx8ICd0ZXN0LWFwaS1rZXktMTIzJztcclxucHJvY2Vzcy5lbnYuU1lOQ19JTlRFUlZBTCA9IHByb2Nlc3MuZW52LlNZTkNfSU5URVJWQUwgfHwgJzYwMDAwJztcclxucHJvY2Vzcy5lbnYuRU5BQkxFX0NPTlRJTlVPVVNfU1lOQyA9IHByb2Nlc3MuZW52LkVOQUJMRV9DT05USU5VT1VTX1NZTkMgfHwgJ2ZhbHNlJztcclxuXHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4vLyBHTE9CQUwgVEVTVCBUSU1FT1VUXHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cclxuamVzdC5zZXRUaW1lb3V0KDMwMDAwKTtcclxuXHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4vLyBHTE9CQUwgRkVUQ0ggTU9DS1xyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHJcbmdsb2JhbC5mZXRjaCA9IGplc3QuZm4oKTtcclxuXHJcbi8vIERlZmF1bHQgZmV0Y2ggbW9jayBpbXBsZW1lbnRhdGlvblxyXG5nbG9iYWwuZmV0Y2gubW9ja0ltcGxlbWVudGF0aW9uKCgpID0+XHJcbiAgUHJvbWlzZS5yZXNvbHZlKHtcclxuICAgIG9rOiB0cnVlLFxyXG4gICAgc3RhdHVzOiAyMDAsXHJcbiAgICBqc29uOiBhc3luYyAoKSA9PiAoe30pXHJcbiAgfSlcclxuKTtcclxuXHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4vLyBHTE9CQUwgRVJST1IgSEFORExJTkdcclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblxyXG4vLyBTdXBwcmVzcyBjb25zb2xlIGVycm9ycyBpbiB0ZXN0cyAoY29tbWVudCBvdXQgdG8gc2VlIGVycm9ycylcclxuY29uc3Qgb3JpZ2luYWxDb25zb2xlRXJyb3IgPSBjb25zb2xlLmVycm9yO1xyXG5jb25zdCBvcmlnaW5hbENvbnNvbGVXYXJuID0gY29uc29sZS53YXJuO1xyXG5cclxuLy8gT25seSBzdXBwcmVzcyBzcGVjaWZpYyBwYXR0ZXJuc1xyXG5jb25zb2xlLmVycm9yID0gKC4uLmFyZ3MpID0+IHtcclxuICBjb25zdCBtZXNzYWdlID0gYXJnc1swXT8udG9TdHJpbmc/LigpIHx8ICcnO1xyXG4gIFxyXG4gIC8vIEFsbG93IHRlc3QtcmVsYXRlZCBlcnJvcnNcclxuICBpZiAobWVzc2FnZS5pbmNsdWRlcygnRXJyb3InKSB8fCBtZXNzYWdlLmluY2x1ZGVzKCdUZXN0JykpIHtcclxuICAgIG9yaWdpbmFsQ29uc29sZUVycm9yKC4uLmFyZ3MpO1xyXG4gIH1cclxuICAvLyBTdXBwcmVzcyBzcGVjaWZpYyBrbm93biB3YXJuaW5nc1xyXG4gIGVsc2UgaWYgKG1lc3NhZ2UuaW5jbHVkZXMoJ0V4cGVyaW1lbnRhbFdhcm5pbmcnKSkge1xyXG4gICAgLy8gU3VwcHJlc3MgZXhwZXJpbWVudGFsIHdhcm5pbmdzXHJcbiAgfVxyXG4gIC8vIExvZyBldmVyeXRoaW5nIGVsc2VcclxuICBlbHNlIHtcclxuICAgIG9yaWdpbmFsQ29uc29sZUVycm9yKC4uLmFyZ3MpO1xyXG4gIH1cclxufTtcclxuXHJcbmNvbnNvbGUud2FybiA9ICguLi5hcmdzKSA9PiB7XHJcbiAgY29uc3QgbWVzc2FnZSA9IGFyZ3NbMF0/LnRvU3RyaW5nPy4oKSB8fCAnJztcclxuICBcclxuICAvLyBMb2cgYWxsIHdhcm5pbmdzXHJcbiAgb3JpZ2luYWxDb25zb2xlV2FybiguLi5hcmdzKTtcclxufTtcclxuXHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4vLyBHTE9CQUwgVEVTVCBVVElMSVRJRVNcclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblxyXG4vKipcclxuICogQ3JlYXRlIGEgbW9jayBzdWNjZXNzZnVsIHJlc3BvbnNlXHJcbiAqL1xyXG5nbG9iYWwubW9ja1N1Y2Nlc3NSZXNwb25zZSA9IChkYXRhID0ge30sIHN0YXR1cyA9IDIwMCkgPT4gKHtcclxuICBvazogc3RhdHVzIDwgNDAwLFxyXG4gIHN0YXR1cyxcclxuICBqc29uOiBhc3luYyAoKSA9PiAoeyBzdWNjZXNzOiB0cnVlLCAuLi5kYXRhIH0pXHJcbn0pO1xyXG5cclxuLyoqXHJcbiAqIENyZWF0ZSBhIG1vY2sgZXJyb3IgcmVzcG9uc2VcclxuICovXHJcbmdsb2JhbC5tb2NrRXJyb3JSZXNwb25zZSA9IChlcnJvciA9ICdFcnJvcicsIHN0YXR1cyA9IDUwMCkgPT4gKHtcclxuICBvazogZmFsc2UsXHJcbiAgc3RhdHVzLFxyXG4gIGpzb246IGFzeW5jICgpID0+ICh7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvciB9KVxyXG59KTtcclxuXHJcbi8qKlxyXG4gKiBDcmVhdGUgYSBtb2NrIHRpbWVvdXRcclxuICovXHJcbmdsb2JhbC5tb2NrVGltZW91dCA9ICgpID0+XHJcbiAgUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKCdUaW1lb3V0JykpO1xyXG5cclxuLyoqXHJcbiAqIFJlc2V0IGFsbCBtb2Nrc1xyXG4gKi9cclxuZ2xvYmFsLnJlc2V0TW9ja3MgPSAoKSA9PiB7XHJcbiAgamVzdC5jbGVhckFsbE1vY2tzKCk7XHJcbn07XHJcblxyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuLy8gR0xPQkFMIFRFU1QgTUFUQ0hFUlNcclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblxyXG5leHBlY3QuZXh0ZW5kKHtcclxuICAvKipcclxuICAgKiBDdXN0b20gbWF0Y2hlciBmb3IgY2hlY2tpbmcgaWYgcmVzcG9uc2UgaXMgaW4gdmFsaWQgRVJQIGZvcm1hdFxyXG4gICAqL1xyXG4gIHRvQmVWYWxpZEVSUFJlc3BvbnNlKHJlY2VpdmVkKSB7XHJcbiAgICBjb25zdCBwYXNzID1cclxuICAgICAgcmVjZWl2ZWQgJiZcclxuICAgICAgdHlwZW9mIHJlY2VpdmVkID09PSAnb2JqZWN0JyAmJlxyXG4gICAgICAnc3VjY2VzcycgaW4gcmVjZWl2ZWQgJiZcclxuICAgICAgJ3RpbWVzdGFtcCcgaW4gcmVjZWl2ZWQ7XHJcblxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgcGFzcyxcclxuICAgICAgbWVzc2FnZTogKCkgPT5cclxuICAgICAgICBwYXNzXHJcbiAgICAgICAgICA/IGBFeHBlY3RlZCByZXNwb25zZSBub3QgdG8gYmUgdmFsaWQgRVJQIGZvcm1hdGBcclxuICAgICAgICAgIDogYEV4cGVjdGVkIHJlc3BvbnNlIHRvIGJlIHZhbGlkIEVSUCBmb3JtYXQgd2l0aCAnc3VjY2VzcycgYW5kICd0aW1lc3RhbXAnIHByb3BlcnRpZXNgXHJcbiAgICB9O1xyXG4gIH0sXHJcblxyXG4gIC8qKlxyXG4gICAqIEN1c3RvbSBtYXRjaGVyIGZvciBjaGVja2luZyBpZiB2YWx1ZSBpcyB3aXRoaW4gcmFuZ2VcclxuICAgKi9cclxuICB0b0JlV2l0aGluUmFuZ2UocmVjZWl2ZWQsIGZsb29yLCBjZWlsaW5nKSB7XHJcbiAgICBjb25zdCBwYXNzID0gcmVjZWl2ZWQgPj0gZmxvb3IgJiYgcmVjZWl2ZWQgPD0gY2VpbGluZztcclxuXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBwYXNzLFxyXG4gICAgICBtZXNzYWdlOiAoKSA9PlxyXG4gICAgICAgIHBhc3NcclxuICAgICAgICAgID8gYEV4cGVjdGVkICR7cmVjZWl2ZWR9IG5vdCB0byBiZSB3aXRoaW4gcmFuZ2UgJHtmbG9vcn0gLSAke2NlaWxpbmd9YFxyXG4gICAgICAgICAgOiBgRXhwZWN0ZWQgJHtyZWNlaXZlZH0gdG8gYmUgd2l0aGluIHJhbmdlICR7Zmxvb3J9IC0gJHtjZWlsaW5nfWBcclxuICAgIH07XHJcbiAgfSxcclxuXHJcbiAgLyoqXHJcbiAgICogQ3VzdG9tIG1hdGNoZXIgZm9yIGJyYW5jaCBzdGF0dXMgdmFsaWRhdGlvblxyXG4gICAqL1xyXG4gIHRvQmVWYWxpZEJyYW5jaFN0YXR1cyhyZWNlaXZlZCkge1xyXG4gICAgY29uc3QgdmFsaWRTdGF0dXNlcyA9IFsnQUNUSVZFJywgJ0lOQUNUSVZFJywgJ0NMT1NFRCcsICdTVVNQRU5ERUQnLCAnUExBTk5FRCddO1xyXG4gICAgY29uc3QgcGFzcyA9IHZhbGlkU3RhdHVzZXMuaW5jbHVkZXMocmVjZWl2ZWQpO1xyXG5cclxuICAgIHJldHVybiB7XHJcbiAgICAgIHBhc3MsXHJcbiAgICAgIG1lc3NhZ2U6ICgpID0+XHJcbiAgICAgICAgcGFzc1xyXG4gICAgICAgICAgPyBgRXhwZWN0ZWQgc3RhdHVzIG5vdCB0byBiZSB2YWxpZGBcclxuICAgICAgICAgIDogYEV4cGVjdGVkIHN0YXR1cyB0byBiZSBvbmUgb2Y6ICR7dmFsaWRTdGF0dXNlcy5qb2luKCcsICcpfSwgYnV0IGdvdDogJHtyZWNlaXZlZH1gXHJcbiAgICB9O1xyXG4gIH1cclxufSk7XHJcblxyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuLy8gQVNTRVJUSU9OIEhFTFBFUlNcclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblxyXG4vKipcclxuICogQXNzZXJ0IHJlc3BvbnNlIHN0cnVjdHVyZVxyXG4gKi9cclxuZ2xvYmFsLmFzc2VydFJlc3BvbnNlU3RydWN0dXJlID0gKHJlc3BvbnNlLCBleHBlY3RlZEZpZWxkcyA9IFtdKSA9PiB7XHJcbiAgZXhwZWN0KHJlc3BvbnNlKS50b0JlRGVmaW5lZCgpO1xyXG4gIGV4cGVjdChyZXNwb25zZSkudG9IYXZlUHJvcGVydHkoJ3RpbWVzdGFtcCcpO1xyXG4gIFxyXG4gIGV4cGVjdGVkRmllbGRzLmZvckVhY2goZmllbGQgPT4ge1xyXG4gICAgZXhwZWN0KHJlc3BvbnNlKS50b0hhdmVQcm9wZXJ0eShmaWVsZCk7XHJcbiAgfSk7XHJcbn07XHJcblxyXG4vKipcclxuICogQXNzZXJ0IGVycm9yIHN0cnVjdHVyZVxyXG4gKi9cclxuZ2xvYmFsLmFzc2VydEVycm9yU3RydWN0dXJlID0gKHJlc3BvbnNlKSA9PiB7XHJcbiAgZXhwZWN0KHJlc3BvbnNlKS50b0JlRGVmaW5lZCgpO1xyXG4gIGV4cGVjdChyZXNwb25zZSkudG9IYXZlUHJvcGVydHkoJ2Vycm9yJyk7XHJcbiAgZXhwZWN0KHJlc3BvbnNlKS50b0hhdmVQcm9wZXJ0eSgndGltZXN0YW1wJyk7XHJcbn07XHJcblxyXG4vKipcclxuICogQXNzZXJ0IHBlcmZvcm1hbmNlIHdpdGhpbiBTTEFcclxuICovXHJcbmdsb2JhbC5hc3NlcnRQZXJmb3JtYW5jZVNMQSA9IChkdXJhdGlvbiwgc2xhTXMsIG9wZXJhdGlvbiA9ICdPcGVyYXRpb24nKSA9PiB7XHJcbiAgZXhwZWN0KGR1cmF0aW9uKS50b0JlTGVzc1RoYW4oc2xhTXMpO1xyXG4gIGNvbnNvbGUubG9nKGDinJMgJHtvcGVyYXRpb259IGNvbXBsZXRlZCBpbiAke2R1cmF0aW9ufW1zIChTTEE6ICR7c2xhTXN9bXMpYCk7XHJcbn07XHJcblxyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuLy8gTUVNT1JZIEFORCBDTEVBTlVQXHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cclxuLy8gVHJhY2sgcmVnaXN0ZXJlZCBjbGVhbnVwIGZ1bmN0aW9uc1xyXG5jb25zdCBjbGVhbnVwRnVuY3Rpb25zID0gW107XHJcblxyXG4vKipcclxuICogUmVnaXN0ZXIgY2xlYW51cCBmdW5jdGlvblxyXG4gKi9cclxuZ2xvYmFsLnJlZ2lzdGVyQ2xlYW51cCA9IChmbikgPT4ge1xyXG4gIGNsZWFudXBGdW5jdGlvbnMucHVzaChmbik7XHJcbn07XHJcblxyXG4vLyBSdW4gY2xlYW51cCBhZnRlciBlYWNoIHRlc3RcclxuYWZ0ZXJFYWNoKCgpID0+IHtcclxuICBjbGVhbnVwRnVuY3Rpb25zLmZvckVhY2goZm4gPT4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgZm4oKTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUud2FybignQ2xlYW51cCBlcnJvcjonLCBlcnJvcik7XHJcbiAgICB9XHJcbiAgfSk7XHJcbiAgXHJcbiAgY2xlYW51cEZ1bmN0aW9ucy5sZW5ndGggPSAwO1xyXG4gIGplc3QuY2xlYXJBbGxNb2NrcygpO1xyXG59KTtcclxuXHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4vLyBQRVJGT1JNQU5DRSBNT05JVE9SSU5HXHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cclxubGV0IHRlc3RTdGFydFRpbWU7XHJcblxyXG5iZWZvcmVFYWNoKCgpID0+IHtcclxuICB0ZXN0U3RhcnRUaW1lID0gcGVyZm9ybWFuY2Uubm93KCk7XHJcbn0pO1xyXG5cclxuYWZ0ZXJFYWNoKCgpID0+IHtcclxuICBjb25zdCB0ZXN0RHVyYXRpb24gPSBwZXJmb3JtYW5jZS5ub3coKSAtIHRlc3RTdGFydFRpbWU7XHJcbiAgY29uc3QgdGVzdE5hbWUgPSBleHBlY3QuZ2V0U3RhdGUoKS5jdXJyZW50VGVzdE5hbWU7XHJcbiAgXHJcbiAgaWYgKHRlc3REdXJhdGlvbiA+IDEwMDApIHtcclxuICAgIGNvbnNvbGUud2Fybihg4pqg77iPIFNsb3cgdGVzdCBcIiR7dGVzdE5hbWV9XCI6ICR7dGVzdER1cmF0aW9uLnRvRml4ZWQoMil9bXNgKTtcclxuICB9XHJcbn0pO1xyXG5cclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbi8vIExPR0dJTkdcclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblxyXG4vLyBMb2cgdGVzdCBzdWl0ZSBpbmZvcm1hdGlvblxyXG5jb25zb2xlLmxvZygnJyk7XHJcbmNvbnNvbGUubG9nKCfilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZAnKTtcclxuY29uc29sZS5sb2coJ/Cfp6ogSmVzdCBUZXN0IFN1aXRlIEluaXRpYWxpemVkJyk7XHJcbmNvbnNvbGUubG9nKCfilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZAnKTtcclxuY29uc29sZS5sb2coYEVudmlyb25tZW50OiAke3Byb2Nlc3MuZW52Lk5PREVfRU5WfWApO1xyXG5jb25zb2xlLmxvZyhgQnJhbmNoIEFQSTogJHtwcm9jZXNzLmVudi5CUkFOQ0hfQVBJX1VSTH1gKTtcclxuY29uc29sZS5sb2coJ1RpbWVvdXQ6IDMwMDAwbXMnKTtcclxuY29uc29sZS5sb2coJ+KVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkCcpO1xyXG5jb25zb2xlLmxvZygnJyk7XHJcblxyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuLy8gRVJST1IgVFJBQ0tJTkdcclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblxyXG4vLyBUcmFjayB1bmNhdWdodCBleGNlcHRpb25zXHJcbnByb2Nlc3Mub24oJ3VuY2F1Z2h0RXhjZXB0aW9uJywgKGVycm9yKSA9PiB7XHJcbiAgY29uc29sZS5lcnJvcignVW5jYXVnaHQgRXhjZXB0aW9uOicsIGVycm9yKTtcclxufSk7XHJcblxyXG4vLyBUcmFjayB1bmhhbmRsZWQgcHJvbWlzZSByZWplY3Rpb25zXHJcbnByb2Nlc3Mub24oJ3VuaGFuZGxlZFJlamVjdGlvbicsIChyZWFzb24sIHByb21pc2UpID0+IHtcclxuICBjb25zb2xlLmVycm9yKCdVbmhhbmRsZWQgUmVqZWN0aW9uIGF0OicsIHByb21pc2UsICdyZWFzb246JywgcmVhc29uKTtcclxufSk7XHJcblxyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuLy8gQ0xFQU5VUCBPTiBFWElUXHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cclxuLy8gRW5zdXJlIHByb3BlciBjbGVhbnVwIG9uIHByb2Nlc3MgZXhpdFxyXG5hZnRlckFsbChhc3luYyAoKSA9PiB7XHJcbiAgLy8gQ2xlYXIgYWxsIHRpbWVvdXRzXHJcbiAgamVzdC5jbGVhckFsbFRpbWVycygpO1xyXG4gIFxyXG4gIC8vIENsZWFyIGFsbCBpbnRlcnZhbHNcclxuICBqZXN0LmNsZWFyQWxsVGltZXJzKCk7XHJcbiAgXHJcbiAgLy8gUmVzZXQgbW9ja3NcclxuICBqZXN0LnJlc2V0QWxsTW9ja3MoKTtcclxuICBcclxuICBjb25zb2xlLmxvZygnJyk7XHJcbiAgY29uc29sZS5sb2coJ+KVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkCcpO1xyXG4gIGNvbnNvbGUubG9nKCfinJMgVGVzdCBzdWl0ZSBjbGVhbnVwIGNvbXBsZXRlZCcpO1xyXG4gIGNvbnNvbGUubG9nKCfilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZAnKTtcclxuICBjb25zb2xlLmxvZygnJyk7XHJcbn0pO1xyXG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBQSxPQUFPLENBQUNDLEdBQUcsQ0FBQ0MsUUFBUSxHQUFHLE1BQU07O0FBRTdCO0FBQ0FGLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDRSxjQUFjLEdBQUdILE9BQU8sQ0FBQ0MsR0FBRyxDQUFDRSxjQUFjLElBQUksOEJBQThCO0FBQ3pGSCxPQUFPLENBQUNDLEdBQUcsQ0FBQ0csY0FBYyxHQUFHSixPQUFPLENBQUNDLEdBQUcsQ0FBQ0csY0FBYyxJQUFJLGtCQUFrQjtBQUM3RUosT0FBTyxDQUFDQyxHQUFHLENBQUNJLGFBQWEsR0FBR0wsT0FBTyxDQUFDQyxHQUFHLENBQUNJLGFBQWEsSUFBSSxPQUFPO0FBQ2hFTCxPQUFPLENBQUNDLEdBQUcsQ0FBQ0ssc0JBQXNCLEdBQUdOLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDSyxzQkFBc0IsSUFBSSxPQUFPOztBQUVsRjtBQUNBO0FBQ0E7O0FBRUFDLElBQUksQ0FBQ0MsVUFBVSxDQUFDLEtBQUssQ0FBQzs7QUFFdEI7QUFDQTtBQUNBOztBQUVBQyxNQUFNLENBQUNDLEtBQUssR0FBR0gsSUFBSSxDQUFDSSxFQUFFLENBQUMsQ0FBQzs7QUFFeEI7QUFDQUYsTUFBTSxDQUFDQyxLQUFLLENBQUNFLGtCQUFrQixDQUFDLE1BQzlCQyxPQUFPLENBQUNDLE9BQU8sQ0FBQztFQUNkQyxFQUFFLEVBQUUsSUFBSTtFQUNSQyxNQUFNLEVBQUUsR0FBRztFQUNYQyxJQUFJLEVBQUUsTUFB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