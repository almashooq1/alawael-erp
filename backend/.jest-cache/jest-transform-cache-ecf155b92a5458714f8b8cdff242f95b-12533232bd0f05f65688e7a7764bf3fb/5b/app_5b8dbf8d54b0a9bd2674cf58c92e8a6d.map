{"version":3,"names":["express","require","cors","config","app","console","log","safeRequire","filePath","_performanceEvaluationsRouter","_aiNotificationsRouter","_approvalRequestsRouter","_montessoriAuthRouter","_montessoriRouter","_notificationTemplatesRouter","_fcmRouter","_templatesRouter","_orgBrandingRouter","_aiRouter","_ssoRouter","supplyChainRouter","branchIntegrationRoutes","notificationRoutes","_requestLogger","errorHandler","cache","_cacheMiddleware","limiters","analytics","_performanceMonitor","systemDashboard","use","json","req","res","next","method","path","get","status","timestamp","Date","toISOString","uptime","process","environment","env","NODE_ENV","port","PORT","mongodb","USE_MOCK_DB","success","Math","floor","services","api","database","USE_MOCK_CACHE","MOIPassportService","moiHealthHandler","service","version","routeStack","_router","stack","moiRoute","find","r","route","e","message","hrEmployeeRouter","hrAttendanceRouter","hrLeaveRouter","hrPayrollRouter","hrPerformanceEvaluationRouter","docsRouter","predictionsRouter","reportsRouter","notificationsRouter","monitoringRouter","supportRouter","integrationsRouter","performanceRouter","authRouter","usersRouter","rbacRouter","rbacAdvancedRouter","mfaRouter","analyticsRouter","cmsRouter","uploadRouter","exportRouter","searchRouter","validateRouter","dashboardRouter","executiveDashboardRouter","beneficiaryPortalRouter","communityRouter","specializedProgramsRouter","advancedSessionsRouter","smartSchedulerRouter","equipmentRouter","qualityRouter","internalAuditRouter","vehiclesRouter","transportRoutesRouter","tripsRouter","realtimeCollaborationRouter","smartNotificationsRouter","advancedAnalyticsRouter","mobileAppRouter","dashboardWidgetRouter","tenantRouter","aiRecommendationsRouter","integrationHubRouter","qiwaRouter","measurementsRouter","moiPassportRouter","migrationRouter","initialize","then","driversRouter","gpsRouter","trafficAccidentsRouter","trafficAccidentAnalyticsRouter","MigrationService","CSVProcessor","migrationManager","post","sourceDB","targetDB","body","error","csvProcessor","logger","plan","getCurrentPlan","summary","getSummary","clear","stats","getStatus","err","router","module","exports"],"sources":["app.js"],"sourcesContent":["const express = require('express');\r\nconst cors = require('cors');\r\nrequire('dotenv').config();\r\n\r\nconst app = express();\r\n\r\nconsole.log('[APP-INIT] Express app created');\r\n\r\n// Safe require function\r\nconst safeRequire = (filePath) => {\r\n  try {\r\n    return require(filePath);\r\n  } catch {\r\n    console.log(`âš ï¸  Router not found: ${filePath}`);\r\n    return null;\r\n  }\r\n};\r\n\r\n// Load all routers safely\r\nconst _performanceEvaluationsRouter = safeRequire('./routes/performanceEvaluations');\r\nconst _aiNotificationsRouter = safeRequire('./routes/aiNotifications');\r\nconst _approvalRequestsRouter = safeRequire('./routes/approvalRequests');\r\nconst _montessoriAuthRouter = safeRequire('./routes/montessoriAuth');\r\nconst _montessoriRouter = safeRequire('./routes/montessori');\r\nconst _notificationTemplatesRouter = safeRequire('./routes/notificationTemplates');\r\nconst _fcmRouter = safeRequire('./routes/fcm');\r\nconst _templatesRouter = safeRequire('./routes/templates');\r\nconst _orgBrandingRouter = safeRequire('./routes/orgBranding');\r\nconst _aiRouter = safeRequire('./routes/ai');\r\nconst _ssoRouter = safeRequire('./routes/sso.routes');\r\nconst supplyChainRouter = safeRequire('./routes/supplyChain.routes');\r\nconst branchIntegrationRoutes = safeRequire('./routes/branch-integration.routes');\r\nconst notificationRoutes = safeRequire('./routes/notificationRoutes'); // ðŸŽ¯ Advanced Notification System\r\n\r\n// Custom middleware\r\nconst _requestLogger = require('./middleware/requestLogger');\r\nconst errorHandler = require('./middleware/errorHandler');\r\nconst { cache, _cacheMiddleware } = require('./config/redis');\r\nconst { limiters } = require('./middleware/rateLimit');\r\nconst analytics = require('./middleware/analytics');\r\nconst _performanceMonitor = require('./middleware/performanceMonitor');\r\nconst systemDashboard = require('./services/systemDashboard');\r\n\r\n// Middleware\r\napp.use(cors());\r\napp.use(express.json());\r\n\r\n// TEMPORARILY DISABLED - Testing if these cause 404 issue\r\n/*\r\n// Register SSO Routes FIRST (before any logging middleware)\r\nif (ssoRouter) {\r\n  app.use('/api/sso', ssoRouter);\r\n  console.log('âœ… SSO Routes loaded and registered on /api/sso');\r\n} else {\r\n  console.log('âš ï¸  SSO Router not loaded');\r\n  // Fallback SSO status endpoint if router failed\r\n  app.get('/api/sso/status', (req, res) => {\r\n    console.log('[FALLBACK] /api/sso/status called');\r\n    res.json({\r\n      success: true,\r\n      status: 'operational (fallback)',\r\n      message: 'SSO system is operational'\r\n    });\r\n  });\r\n  console.log('âœ… Fallback SSO status endpoint registered');\r\n}\r\n\r\n// Test direct route - should work and prove Express is functioning\r\napp.get('/api/test/sso', (req, res) => {\r\n  console.log('[DIRECT] /api/test/sso endpoint hit');\r\n  res.json({\r\n    test: 'direct endpoint in app.js',\r\n    status: 200\r\n  });\r\n});\r\nconsole.log('âœ… Test endpoint /api/test/sso registered');\r\n\r\n// Debug middleware to see what's happening with requests\r\napp.use((req, res, next) => {\r\n  if (req.path.includes('/sso')) {\r\n    console.log(`[DEBUG] Request to ${req.method} ${req.originalUrl}, path: ${req.path}, baseUrl: ${req.baseUrl}`);\r\n  }\r\n  next();\r\n});\r\n\r\n// Then apply middleware\r\napp.use(requestLogger);\r\napp.use(performanceMonitor.middleware());\r\n\r\n// Rate limiting (Skip for SSO)\r\napp.use('/api/', (req, res, next) => {\r\n  // Bypass rate limiting for SSO and health check routes\r\n  if (req.path.startsWith('/sso') || req.path === '/health' || req.path === '/api/health') {\r\n    return next();\r\n  }\r\n  // Skip rate limiting for now - test if it's the source of 404\r\n  // TODO: Fix async middleware issue\r\n  next();\r\n});\r\napp.use('/api/auth/login', limiters.login.middleware);\r\napp.use('/api/auth/register', limiters.login.middleware);\r\n\r\n// Analytics middleware\r\napp.use((req, res, next) => {\r\n  const startTime = Date.now();\r\n\r\n  res.on('finish', () => {\r\n    const duration = Date.now() - startTime;\r\n    analytics.trackRequest(req, res, duration);\r\n  });\r\n\r\n  next();\r\n});\r\nif (performanceEvaluationsRouter) app.use('/api/performance-evaluations', performanceEvaluationsRouter);\r\nif (aiNotificationsRouter) app.use('/api/ai-notifications', aiNotificationsRouter);\r\nif (approvalRequestsRouter) app.use('/api/approval-requests', approvalRequestsRouter);\r\nif (montessoriAuthRouter) app.use('/api/montessori-auth', montessoriAuthRouter);\r\nif (montessoriRouter) app.use('/api/montessori', montessoriRouter);\r\nif (notificationTemplatesRouter) app.use('/api/notification-templates', notificationTemplatesRouter);\r\nif (fcmRouter) app.use('/api/fcm', fcmRouter);\r\nif (templatesRouter) {\r\n  app.use('/api/templates', templatesRouter);\r\n  app.use('/api/templates/attachments', express.static(path.join(__dirname, 'uploads')));\r\n}\r\nif (orgBrandingRouter) app.use('/api/org-branding', orgBrandingRouter);\r\nif (aiRouter) app.use('/api/ai', aiRouter);\r\n*/\r\n\r\n// Supply chain ONLY - for testing\r\nif (supplyChainRouter) {\r\n  // Debug: Log all supply-chain requests\r\n  app.use('/api/supply-chain', (req, res, next) => {\r\n    console.log(`[SUPPLY-CHAIN] ${req.method} ${req.path} - Routing to handler...`);\r\n    next();\r\n  });\r\n  app.use('/api/supply-chain', supplyChainRouter);\r\n  console.log('âœ… Supply Chain Management Routes loaded');\r\n}\r\n\r\n// Health Check\r\napp.get('/health', (req, res) => {\r\n  res.json({\r\n    status: 'healthy',\r\n    timestamp: new Date().toISOString(),\r\n    uptime: process.uptime(),\r\n    environment: process.env.NODE_ENV,\r\n    port: process.env.PORT,\r\n    mongodb: process.env.USE_MOCK_DB === 'true' ? 'mock' : 'connected',\r\n  });\r\n});\r\n\r\n// Enhanced health check\r\napp.get('/api/health', (req, res) => {\r\n  res.json({\r\n    success: true,\r\n    status: 'healthy',\r\n    timestamp: new Date().toISOString(),\r\n    uptime: Math.floor(process.uptime()),\r\n    environment: process.env.NODE_ENV || 'development',\r\n    services: {\r\n      api: 'operational',\r\n      database: process.env.USE_MOCK_DB === 'true' ? 'mock' : 'checking',\r\n      cache: process.env.USE_MOCK_CACHE === 'true' ? 'mock' : 'configured',\r\n    },\r\n  });\r\n});\r\n\r\n// Log middleware\r\napp.use((req, res, next) => {\r\n  console.log(`${new Date().toISOString()} - ${req.method} ${req.path}`);\r\n  next();\r\n});\r\n\r\n// ðŸ‡¸ðŸ‡¦ Direct MOI Passport Route Registration (Placed Early)\r\nconsole.log('[APP-INIT] === Starting MOI route registration ===');\r\nconst MOIPassportService = require('./services/moi-passport.service');\r\nconsole.log('[APP-INIT] MOIPassportService loaded');\r\n\r\nconst moiHealthHandler = (req, res) => {\r\n  console.log('[MOI-ENDPOINT] /api/moi/health called');\r\n  res.json({\r\n    success: true,\r\n    status: 'healthy',\r\n    service: 'MOI Passport Integration Service',\r\n    version: '3.0.0',\r\n    timestamp: new Date().toISOString(),\r\n  });\r\n};\r\n\r\napp.get('/api/moi/health', moiHealthHandler);\r\nconsole.log('[APP-INIT] MOI health route registered using app.get()');\r\n\r\n// Verify route was added\r\ntry {\r\n  const routeStack = app._router.stack;\r\n  const moiRoute = routeStack.find(r => r.route && r.route.path === '/api/moi/health');\r\n  console.log('[APP-INIT] MOI route in stack:', moiRoute ? 'YES' : 'NO');\r\n} catch (e) {\r\n  console.log('[APP-INIT] Could not verify route:', e.message);\r\n}\r\n\r\nconsole.log('[APP-INIT] === MOI route registration complete ===');\r\n\r\n// API Routes\r\ntry {\r\n  // HR Routers\r\n  const hrEmployeeRouter = safeRequire('./routes/hr/employee');\r\n  const hrAttendanceRouter = safeRequire('./routes/hr/attendance');\r\n  const hrLeaveRouter = safeRequire('./routes/hr/leave');\r\n  const hrPayrollRouter = safeRequire('./routes/hr/payroll');\r\n  const hrPerformanceEvaluationRouter = safeRequire('./routes/hr/performanceEvaluation');\r\n\r\n  // Documentation\r\n  const docsRouter = safeRequire('./routes/docs');\r\n\r\n  // Original Systems\r\n  const predictionsRouter = safeRequire('./routes/predictions');\r\n  const reportsRouter = safeRequire('./routes/reports');\r\n  const notificationsRouter = safeRequire('./routes/notifications');\r\n\r\n  // Advanced Systems (Phase 3)\r\n  const monitoringRouter = safeRequire('./routes/monitoring');\r\n  const supportRouter = safeRequire('./routes/support');\r\n  const integrationsRouter = safeRequire('./routes/integrations');\r\n  const performanceRouter = safeRequire('./routes/performance');\r\n\r\n  // Authentication & User Management (Phase 4)\r\n  const authRouter = safeRequire('./routes/auth');\r\n  const usersRouter = safeRequire('./routes/users');\r\n  console.log('[DEBUG] usersRouter loaded:', usersRouter ? 'SUCCESS' : 'FAILED');\r\n  const rbacRouter = safeRequire('./routes/rbac');\r\n  const rbacAdvancedRouter = safeRequire('./routes/rbac-advanced.routes');\r\n  const mfaRouter = safeRequire('./routes/mfa');\r\n\r\n  // Analytics & CMS (Phase 4)\r\n  const analyticsRouter = safeRequire('./routes/analytics');\r\n  const cmsRouter = safeRequire('./routes/cms');\r\n\r\n  // Phase 8: Advanced Features\r\n  const uploadRouter = safeRequire('./routes/upload');\r\n  const exportRouter = safeRequire('./routes/export');\r\n\r\n  // Phase 10: Advanced Features (Search, Validation, Response)\r\n  const searchRouter = safeRequire('./routes/search');\r\n  const validateRouter = safeRequire('./routes/validate');\r\n\r\n  // Phase 11: System Integration\r\n  const dashboardRouter = safeRequire('./routes/dashboard');\r\n\r\n  // Executive Intelligence Dashboard\r\n  const executiveDashboardRouter = safeRequire('./routes/executive-dashboard');\r\n\r\n  // Beneficiary Portal (Communication & Awareness)\r\n  const beneficiaryPortalRouter = safeRequire('./routes/beneficiaryPortal');\r\n\r\n  // Community Awareness System\r\n  const communityRouter = safeRequire('./routes/community');\r\n\r\n  // Phase 13: Specialized Programs & Sessions\r\n  const specializedProgramsRouter = safeRequire('./routes/specializedPrograms');\r\n  const advancedSessionsRouter = safeRequire('./routes/advancedSessions');\r\n  const smartSchedulerRouter = safeRequire('./routes/smartScheduler');\r\n\r\n  // Phase 14: Equipment Management System\r\n  const equipmentRouter = safeRequire('./routes/equipment');\r\n\r\n  // Phase 15: Quality Management & Accreditations\r\n  const qualityRouter = safeRequire('./routes/quality');\r\n\r\n  // Phase 16: Internal Audit Management System\r\n  const internalAuditRouter = safeRequire('./routes/internalAudit');\r\n\r\n  // Phase 17: Vehicle & Transport Management System\r\n  const vehiclesRouter = safeRequire('./routes/vehicles');\r\n  const transportRoutesRouter = safeRequire('./routes/transportRoutes');\r\n  const tripsRouter = safeRequire('./routes/trips');\r\n\r\n  // Phase 18: Real-Time Collaboration System\r\n  const realtimeCollaborationRouter = safeRequire('./routes/realtimeCollaboration');\r\n\r\n  // Phase 19: Smart Notifications System\r\n  const smartNotificationsRouter = safeRequire('./routes/smartNotifications');\r\n\r\n  // Phase 20: Advanced Analytics & Reporting\r\n  const advancedAnalyticsRouter = safeRequire('./routes/advancedAnalytics');\r\n\r\n  // Phase 21: Mobile App Backend Support\r\n  const mobileAppRouter = safeRequire('./routes/mobileApp');\r\n\r\n  // Phase 22: Custom Dashboard Widget Builder\r\n  const dashboardWidgetRouter = safeRequire('./routes/dashboardWidget');\r\n\r\n  // Phase 24: Multi-Tenant Support\r\n  const tenantRouter = safeRequire('./routes/tenant.routes');\r\n\r\n  // Phase 25: AI Recommendations Engine\r\n  const aiRecommendationsRouter = safeRequire('./routes/ai.recommendations.routes');\r\n\r\n  // Phase 26: Advanced Integrations Hub\r\n  const integrationHubRouter = safeRequire('./routes/integrationHub.routes');\r\n\r\n  // Phase 27: Qiwa (Ministry of Labor) Integration\r\n  const qiwaRouter = safeRequire('./routes/qiwa.routes');\r\n\r\n  // Phase 28: Measurement & Rehabilitation Program System\r\n  const measurementsRouter = safeRequire('./routes/measurements.routes');\r\n\r\n  // ðŸ‡¸ï¿½ MOI Passport Integration System\r\n  console.log('[MOI-DEBUG] Attempting to load MOI Passport routes...');\r\n  const moiPassportRouter = safeRequire('./routes/moi-passport.routes');\r\n  console.log('[MOI-DEBUG] moiPassportRouter loaded:', typeof moiPassportRouter, moiPassportRouter ? 'SUCCESS' : 'FAILED');\r\n\r\n  // Data Migration System\r\n  const migrationRouter = safeRequire('./routes/migrations');\r\n  systemDashboard.initialize().then(success => {\r\n    if (success) {\r\n      console.log('âœ… System Dashboard Initialized');\r\n    }\r\n  });\r\n\r\n  // Register available routes\r\n  // HR API endpoints\r\n  if (hrEmployeeRouter) app.use('/api/hr/employees', hrEmployeeRouter);\r\n  if (hrAttendanceRouter) app.use('/api/hr/attendance', hrAttendanceRouter);\r\n  if (hrLeaveRouter) app.use('/api/hr/leaves', hrLeaveRouter);\r\n  if (hrPayrollRouter) app.use('/api/hr/payroll', hrPayrollRouter);\r\n  if (hrPerformanceEvaluationRouter)\r\n    app.use('/api/hr/performance-evaluations', hrPerformanceEvaluationRouter);\r\n  if (predictionsRouter) app.use('/api/predictions', predictionsRouter);\r\n  if (reportsRouter) app.use('/api/reports', reportsRouter);\r\n  if (notificationsRouter) app.use('/api/notifications', notificationsRouter);\r\n  // ðŸŽ¯ Advanced Notification System (WhatsApp, Templates, Analytics, Rules)\r\n  if (notificationRoutes) {\r\n    app.use('/api/notifications/advanced', notificationRoutes);\r\n    console.log('âœ… Advanced Notification System Routes loaded on /api/notifications/advanced');\r\n  } else {\r\n    console.log('âš ï¸  Advanced Notification System routes not loaded');\r\n  }\r\n  if (monitoringRouter) app.use('/api/monitoring', monitoringRouter);\r\n  if (supportRouter) app.use('/api/support', supportRouter);\r\n  if (integrationsRouter) app.use('/api/integrations', integrationsRouter);\r\n  if (performanceRouter) app.use('/api/performance', performanceRouter);\r\n  if (authRouter) app.use('/api/auth', authRouter);\r\n  if (usersRouter) {\r\n    app.use('/api/users', usersRouter);\r\n    console.log('âœ… Users Routes loaded on /api/users');\r\n  } else {\r\n    console.log('âš ï¸  Users router failed to load');\r\n  }\r\n  if (rbacRouter) app.use('/api/rbac', rbacRouter);\r\n  if (mfaRouter) {\r\n    app.use('/api/mfa', mfaRouter);\r\n    console.log('âœ… MFA Routes loaded');\r\n  }\r\n  if (rbacAdvancedRouter) {\r\n    app.use('/api/rbac-advanced', rbacAdvancedRouter);\r\n    console.log('âœ… Advanced RBAC Routes loaded');\r\n  }\r\n  if (analyticsRouter) app.use('/api/analytics', analyticsRouter);\r\n  if (cmsRouter) app.use('/api/cms', cmsRouter);\r\n  if (uploadRouter) app.use('/api/upload', uploadRouter);\r\n  if (exportRouter) app.use('/api/export', exportRouter);\r\n  if (searchRouter) app.use('/api/search', searchRouter);\r\n  if (validateRouter) app.use('/api/validate', validateRouter);\r\n  if (dashboardRouter) app.use('/api/dashboard', dashboardRouter);\r\n  if (executiveDashboardRouter) app.use('/api/executive-dashboard', executiveDashboardRouter);\r\n  if (beneficiaryPortalRouter) app.use('/api/beneficiary', beneficiaryPortalRouter);\r\n  if (communityRouter) app.use('/api/community', communityRouter);\r\n  if (specializedProgramsRouter) app.use('/api/programs', specializedProgramsRouter);\r\n  if (advancedSessionsRouter) app.use('/api/sessions', advancedSessionsRouter);\r\n  if (smartSchedulerRouter) app.use('/api/scheduler', smartSchedulerRouter);\r\n\r\n  // Equipment routes - all in one file\r\n  if (equipmentRouter) {\r\n    app.use('/api/equipment', equipmentRouter);\r\n    app.use('/api/maintenance-schedules', equipmentRouter);\r\n    app.use('/api/lending', equipmentRouter);\r\n    app.use('/api/faults', equipmentRouter);\r\n    app.use('/api/calibration', equipmentRouter);\r\n    app.use('/api/alerts', equipmentRouter);\r\n  }\r\n\r\n  // Quality Management routes\r\n  if (qualityRouter) {\r\n    app.use('/api/quality/standards', qualityRouter);\r\n    app.use('/api/quality/accreditations', qualityRouter);\r\n    app.use('/api/quality/audits', qualityRouter);\r\n    app.use('/api/quality/compliance', qualityRouter);\r\n    app.use('/api/quality/indicators', qualityRouter);\r\n    app.use('/api/quality/dashboard', qualityRouter);\r\n    app.use('/api/quality/reports', qualityRouter);\r\n  }\r\n\r\n  // Internal Audit Management routes\r\n  if (internalAuditRouter) {\r\n    app.use('/api/internal-audits', internalAuditRouter);\r\n  }\r\n\r\n  // Vehicle & Transport Management routes (Phase 17)\r\n  if (vehiclesRouter) app.use('/api/vehicles', vehiclesRouter);\r\n  else console.log('âš ï¸  Router not found: ./routes/vehicles');\r\n\r\n  if (transportRoutesRouter) app.use('/api/transport-routes', transportRoutesRouter);\r\n  else console.log('âš ï¸  Router not found: ./routes/transportRoutes');\r\n\r\n  if (tripsRouter) app.use('/api/trips', tripsRouter);\r\n  else console.log('âš ï¸  Router not found: ./routes/trips');\r\n\r\n  // Driver Management routes (Phase 29 - AI-Powered Driver Management)\r\n  const driversRouter = safeRequire('./routes/drivers');\r\n  if (driversRouter) app.use('/api/drivers', driversRouter);\r\n  else console.log('âš ï¸  Router not found: ./routes/drivers');\r\n\r\n  // GPS Tracking routes (Phase 30 - Real-time Tracking)\r\n  const gpsRouter = safeRequire('./routes/gps');\r\n  if (gpsRouter) app.use('/api/gps', gpsRouter);\r\n  else console.log('âš ï¸  Router not found: ./routes/gps');\r\n\r\n  // Traffic Accident Reporting System (Phase 31 - Comprehensive Accident Management)\r\n  const trafficAccidentsRouter = safeRequire('./routes/trafficAccidents');\r\n  const trafficAccidentAnalyticsRouter = safeRequire('./routes/trafficAccidentAnalytics');\r\n  if (trafficAccidentsRouter) app.use('/api/traffic-accidents', trafficAccidentsRouter);\r\n  else console.log('âš ï¸  Router not found: ./routes/trafficAccidents');\r\n  if (trafficAccidentAnalyticsRouter) app.use('/api/traffic-accidents/analytics', trafficAccidentAnalyticsRouter);\r\n  else console.log('âš ï¸  Router not found: ./routes/trafficAccidentAnalytics');\r\n\r\n  // ðŸ‡¸ï¿½ MOI Passport Integration (Phase: Government Integration)\r\n  console.log(`[APP-ROUTES] MOI router value: ${moiPassportRouter ? 'READY' : 'NULL'}`);\r\n  if (moiPassportRouter) {\r\n    console.log('[APP-ROUTES] Registering MOI routes at /api/moi');\r\n    app.use('/api/moi', moiPassportRouter);\r\n    console.log('âœ… MOI Passport Integration routes loaded on /api/moi');\r\n  } else {\r\n    console.log('âš ï¸  MOI Passport Router not found: ./routes/moi-passport.routes');\r\n  }\r\n\r\n  if (uploadRouter) app.use('/api/upload', uploadRouter);\r\n  else console.log('âš ï¸  Router not found: ./routes/upload');\r\n\r\n  if (exportRouter) app.use('/api/export', exportRouter);\r\n  else console.log('âš ï¸  Router not found: ./routes/export');\r\n\r\n  if (docsRouter) app.use('/api-docs', docsRouter);\r\n  if (docsRouter) app.use('/docs', docsRouter);\r\n\r\n  // Real-Time Collaboration routes (Phase 18)\r\n  if (realtimeCollaborationRouter) app.use('/api/collaboration', realtimeCollaborationRouter);\r\n  else console.log('âš ï¸  Router not found: ./routes/realtimeCollaboration');\r\n\r\n  // Smart Notifications routes (Phase 19)\r\n  if (smartNotificationsRouter) app.use('/api/notifications/smart', smartNotificationsRouter);\r\n  else console.log('âš ï¸  Router not found: ./routes/smartNotifications');\r\n\r\n  // Advanced Analytics routes (Phase 20)\r\n  if (advancedAnalyticsRouter) app.use('/api/analytics', advancedAnalyticsRouter);\r\n  else console.log('âš ï¸  Router not found: ./routes/advancedAnalytics');\r\n\r\n  // Mobile App Backend routes (Phase 21)\r\n  if (mobileAppRouter) app.use('/api/mobile', mobileAppRouter);\r\n  else console.log('âš ï¸  Router not found: ./routes/mobileApp');\r\n\r\n  // Dashboard Widget Builder routes (Phase 22)\r\n  if (dashboardWidgetRouter) app.use('/api/dashboard', dashboardWidgetRouter);\r\n  else console.log('âš ï¸  Router not found: ./routes/dashboardWidget');\r\n\r\n  // Multi-Tenant Support routes (Phase 24)\r\n  if (tenantRouter) app.use('/api/tenants', tenantRouter);\r\n  else console.log('âš ï¸  Router not found: ./routes/tenant.routes');\r\n\r\n  // AI Recommendations Engine routes (Phase 25)\r\n  if (aiRecommendationsRouter) app.use('/api/ai', aiRecommendationsRouter);\r\n  else console.log('âš ï¸  Router not found: ./routes/ai.recommendations.routes');\r\n\r\n  // Advanced Integrations Hub routes (Phase 26)\r\n  if (integrationHubRouter) app.use('/api/integrations-hub', integrationHubRouter);\r\n  else console.log('âš ï¸  Router not found: ./routes/integrationHub.routes');\r\n\r\n  // Qiwa (Ministry of Labor) Integration routes (Phase 27)\r\n  if (qiwaRouter) app.use('/api/qiwa', qiwaRouter);\r\n  else console.log('âš ï¸  Router not found: ./routes/qiwa.routes');\r\n\r\n  // Measurement & Rehabilitation Program System routes (Phase 28)\r\n  if (measurementsRouter) app.use('/api/measurements', measurementsRouter);\r\n  else console.log('âš ï¸  Router not found: ./routes/measurements.routes');\r\n\r\n  // Data Migration System routes\r\n  console.log('[MIGRATION-DEBUG] About to register migrations router...');\r\n  console.log('[MIGRATION-DEBUG] migrationRouter type:', typeof migrationRouter);\r\n  console.log('[MIGRATION-DEBUG] migrationRouter.stack exists:', migrationRouter && migrationRouter.stack ? 'YES' : 'NO');\r\n  if (migrationRouter) {\r\n    console.log('[MIGRATION-DEBUG] Calling app.use for /api/migrations');\r\n    app.use('/api/migrations', migrationRouter);\r\n    console.log('âœ… Migration Routes loaded successfully on /api/migrations');\r\n    console.log('[MIGRATION-DEBUG] Registered successfully');\r\n  } else {\r\n    console.log('âš ï¸  Router not found: ./routes/migrations');\r\n  }\r\n  console.log('[MIGRATION-DEBUG] Migration router registration complete');\r\n\r\n  console.log('âœ… Routes loaded successfully');\r\n\r\n  // === DIRECT MIGRATION ENDPOINTS (Workaround for Router Issue) ===\r\n  // These are added directly to app as a workaround for router mounting issues\r\n  const MigrationService = require('./services/migration/MigrationManager');\r\n  const CSVProcessor = require('./services/migration/CSVProcessor');\r\n  \r\n  let migrationManager = null;\r\n  \r\n  // Direct endpoint: Initialize\r\n  app.post('/api/migrations/initialize', (req, res) => {\r\n    try {\r\n      const { sourceDB, targetDB } = req.body;\r\n      if (!sourceDB || !targetDB) {\r\n        return res.status(400).json({\r\n          success: false,\r\n          error: 'Source and target databases are required',\r\n        });\r\n      }\r\n      migrationManager = new MigrationService({\r\n        sourceDB,\r\n        targetDB,\r\n        csvProcessor: new CSVProcessor(),\r\n        logger: console,\r\n      });\r\n      console.log('[MIGRATION] Manager initialized');\r\n      res.json({\r\n        success: true,\r\n        message: 'Migration manager initialized',\r\n      });\r\n    } catch (error) {\r\n      res.status(500).json({\r\n        success: false,\r\n        error: error.message,\r\n      });\r\n    }\r\n  });\r\n  \r\n  // Direct endpoint: Get/Create Plan\r\n  app.get('/api/migrations/plan', (req, res) => {\r\n    try {\r\n      if (!migrationManager) {\r\n        return res.status(400).json({\r\n          success: false,\r\n          error: 'No migration plan created'\r\n        });\r\n      }\r\n      res.json({\r\n        success: true,\r\n        plan: migrationManager.getCurrentPlan ? migrationManager.getCurrentPlan() : null\r\n      });\r\n    } catch (error) {\r\n      res.status(500).json({\r\n        success: false,\r\n        error: error.message,\r\n      });\r\n    }\r\n  });\r\n  \r\n  console.log('âœ… Direct Migration Endpoints Registered (Workaround)');\r\n\r\n  // Phase 10: Analytics & Optimization endpoints\r\n  app.get('/api/admin/analytics', (req, res) => {\r\n    try {\r\n      const summary = analytics.getSummary();\r\n      res.json(summary);\r\n    } catch (error) {\r\n      res.status(500).json({ error: error.message });\r\n    }\r\n  });\r\n\r\n  // Cache management endpoint\r\n  app.post('/api/admin/cache/clear', async (req, res) => {\r\n    try {\r\n      await cache.clear();\r\n      res.json({ message: 'Cache cleared successfully' });\r\n    } catch (error) {\r\n      res.status(500).json({ error: error.message });\r\n    }\r\n  });\r\n\r\n  // Cache status endpoint\r\n  app.get('/api/admin/cache/stats', async (req, res) => {\r\n    try {\r\n      const stats = await cache.stats();\r\n      res.json({ stats });\r\n    } catch (error) {\r\n      res.status(500).json({ error: error.message });\r\n    }\r\n  });\r\n\r\n  // Rate limit status endpoint\r\n  app.get('/api/admin/ratelimit/status', async (req, res) => {\r\n    try {\r\n      const status = await limiters.api.getStatus(req);\r\n      res.json(status);\r\n    } catch (error) {\r\n      res.status(500).json({ error: error.message });\r\n    }\r\n  });\r\n  console.log('   - Enterprise: auth, users, rbac, analytics, cms');\r\n  console.log('   - Phase 8: upload, export');\r\n  console.log('   - Phase 13: programs, sessions, scheduler');\r\n  console.log('   - Phase 29-31: drivers, gps, traffic-accidents');\r\n} catch (err) {\r\n  console.error('âŒ Error loading routes:', err.message);\r\n}\r\n\r\n// Branch-ERP Integration routes (Advanced Branch Management)\r\n// Registered outside try block to ensure it always loads\r\nconsole.log('[INTEGRATION-DEBUG] Starting integration routes registration...');\r\nconsole.log('[INTEGRATION-DEBUG] branchIntegrationRoutes type:', typeof branchIntegrationRoutes);\r\nif (branchIntegrationRoutes) {\r\n  console.log('[INTEGRATION-DEBUG] branchIntegrationRoutes.router type:', typeof branchIntegrationRoutes.router);\r\n}\r\n\r\nif (branchIntegrationRoutes && branchIntegrationRoutes.router) {\r\n  console.log('[INTEGRATION-DEBUG] Registering integration routes...');\r\n  app.use('/api/integration', branchIntegrationRoutes.router);\r\n  console.log('âœ… Branch-ERP Integration routes loaded on /api/integration');\r\n} else {\r\n  console.log('âš ï¸  Branch-ERP Integration router failed to load');\r\n}\r\n\r\n// Test direct integration route\r\napp.get('/api/integration-test', (req, res) => {\r\n  res.json({ message: 'Direct integration test route works' });\r\n});\r\n\r\n// 404 handler\r\napp.use((req, res) => {\r\n  console.log(`[404-DEBUG] Unmatched route: ${req.method} ${req.path}`);\r\n  res.status(404).json({\r\n    error: 'Not Found',\r\n    path: req.path,\r\n    method: req.method,\r\n  });\r\n});\r\n\r\n// Error Handler\r\napp.use(errorHandler);\r\n\r\n// Start scheduled notifications job\r\ntry {\r\n  require('./services/scheduledNotificationsJob')();\r\n  console.log('Scheduled notifications job started.');\r\n} catch (err) {\r\n  console.error('Failed to start scheduled notifications job:', err);\r\n}\r\n\r\nmodule.exports = app;\r\n"],"mappings":"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","ignoreList":[]}