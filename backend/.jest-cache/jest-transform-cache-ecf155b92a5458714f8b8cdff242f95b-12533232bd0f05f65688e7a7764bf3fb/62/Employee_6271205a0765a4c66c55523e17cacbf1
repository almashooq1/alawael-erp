40ce031f0d1818fa6a3d9f5b56a78595
/**
 * Employee Model (HR)
 * Modular, extensible employee profile for HR system
 */
const mongoose = require('mongoose');
const EmployeeSchema = new mongoose.Schema({
  userId: {
    type: mongoose.Schema.Types.ObjectId,
    ref: 'User',
    required: true,
    unique: true,
    index: true
  },
  personalInfo: {
    firstName: String,
    lastName: String,
    dateOfBirth: Date,
    nationality: String,
    nationalId: String,
    email: String,
    phone: String,
    address: String,
    city: String,
    emergencyContact: {
      name: String,
      relationship: String,
      phone: String
    }
  },
  jobInfo: {
    department: String,
    position: String,
    employmentType: {
      type: String,
      enum: ['دائم', 'عقد', 'متدرب', 'جزئي']
    },
    joinDate: Date,
    reportingTo: {
      type: mongoose.Schema.Types.ObjectId,
      ref: 'Employee'
    },
    salary: Number,
    salaryGrade: String,
    workLocation: String
  },
  status: {
    type: String,
    enum: ['active', 'inactive', 'on_leave', 'terminated'],
    default: 'active'
  },
  terminationReason: String,
  terminationDate: Date,
  createdAt: {
    type: Date,
    default: Date.now
  },
  updatedAt: {
    type: Date,
    default: Date.now
  },
  createdBy: mongoose.Schema.Types.ObjectId,
  updatedBy: mongoose.Schema.Types.ObjectId
});
EmployeeSchema.index({
  userId: 1
});
EmployeeSchema.index({
  'personalInfo.email': 1
});
EmployeeSchema.index({
  'jobInfo.department': 1
});
EmployeeSchema.index({
  'jobInfo.position': 1
});
EmployeeSchema.index({
  status: 1
});
module.exports = mongoose.model('Employee', EmployeeSchema);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJtb25nb29zZSIsInJlcXVpcmUiLCJFbXBsb3llZVNjaGVtYSIsIlNjaGVtYSIsInVzZXJJZCIsInR5cGUiLCJUeXBlcyIsIk9iamVjdElkIiwicmVmIiwicmVxdWlyZWQiLCJ1bmlxdWUiLCJpbmRleCIsInBlcnNvbmFsSW5mbyIsImZpcnN0TmFtZSIsIlN0cmluZyIsImxhc3ROYW1lIiwiZGF0ZU9mQmlydGgiLCJEYXRlIiwibmF0aW9uYWxpdHkiLCJuYXRpb25hbElkIiwiZW1haWwiLCJwaG9uZSIsImFkZHJlc3MiLCJjaXR5IiwiZW1lcmdlbmN5Q29udGFjdCIsIm5hbWUiLCJyZWxhdGlvbnNoaXAiLCJqb2JJbmZvIiwiZGVwYXJ0bWVudCIsInBvc2l0aW9uIiwiZW1wbG95bWVudFR5cGUiLCJlbnVtIiwiam9pbkRhdGUiLCJyZXBvcnRpbmdUbyIsInNhbGFyeSIsIk51bWJlciIsInNhbGFyeUdyYWRlIiwid29ya0xvY2F0aW9uIiwic3RhdHVzIiwiZGVmYXVsdCIsInRlcm1pbmF0aW9uUmVhc29uIiwidGVybWluYXRpb25EYXRlIiwiY3JlYXRlZEF0Iiwibm93IiwidXBkYXRlZEF0IiwiY3JlYXRlZEJ5IiwidXBkYXRlZEJ5IiwibW9kdWxlIiwiZXhwb3J0cyIsIm1vZGVsIl0sInNvdXJjZXMiOlsiRW1wbG95ZWUuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXHJcbiAqIEVtcGxveWVlIE1vZGVsIChIUilcclxuICogTW9kdWxhciwgZXh0ZW5zaWJsZSBlbXBsb3llZSBwcm9maWxlIGZvciBIUiBzeXN0ZW1cclxuICovXHJcbmNvbnN0IG1vbmdvb3NlID0gcmVxdWlyZSgnbW9uZ29vc2UnKTtcclxuXHJcbmNvbnN0IEVtcGxveWVlU2NoZW1hID0gbmV3IG1vbmdvb3NlLlNjaGVtYSh7XHJcbiAgdXNlcklkOiB7XHJcbiAgICB0eXBlOiBtb25nb29zZS5TY2hlbWEuVHlwZXMuT2JqZWN0SWQsXHJcbiAgICByZWY6ICdVc2VyJyxcclxuICAgIHJlcXVpcmVkOiB0cnVlLFxyXG4gICAgdW5pcXVlOiB0cnVlLFxyXG4gICAgaW5kZXg6IHRydWUsXHJcbiAgfSxcclxuICBwZXJzb25hbEluZm86IHtcclxuICAgIGZpcnN0TmFtZTogU3RyaW5nLFxyXG4gICAgbGFzdE5hbWU6IFN0cmluZyxcclxuICAgIGRhdGVPZkJpcnRoOiBEYXRlLFxyXG4gICAgbmF0aW9uYWxpdHk6IFN0cmluZyxcclxuICAgIG5hdGlvbmFsSWQ6IFN0cmluZyxcclxuICAgIGVtYWlsOiBTdHJpbmcsXHJcbiAgICBwaG9uZTogU3RyaW5nLFxyXG4gICAgYWRkcmVzczogU3RyaW5nLFxyXG4gICAgY2l0eTogU3RyaW5nLFxyXG4gICAgZW1lcmdlbmN5Q29udGFjdDoge1xyXG4gICAgICBuYW1lOiBTdHJpbmcsXHJcbiAgICAgIHJlbGF0aW9uc2hpcDogU3RyaW5nLFxyXG4gICAgICBwaG9uZTogU3RyaW5nLFxyXG4gICAgfSxcclxuICB9LFxyXG4gIGpvYkluZm86IHtcclxuICAgIGRlcGFydG1lbnQ6IFN0cmluZyxcclxuICAgIHBvc2l0aW9uOiBTdHJpbmcsXHJcbiAgICBlbXBsb3ltZW50VHlwZTogeyB0eXBlOiBTdHJpbmcsIGVudW06IFsn2K/Yp9im2YUnLCAn2LnZgtivJywgJ9mF2KrYr9ix2KgnLCAn2KzYstim2YonXSB9LFxyXG4gICAgam9pbkRhdGU6IERhdGUsXHJcbiAgICByZXBvcnRpbmdUbzogeyB0eXBlOiBtb25nb29zZS5TY2hlbWEuVHlwZXMuT2JqZWN0SWQsIHJlZjogJ0VtcGxveWVlJyB9LFxyXG4gICAgc2FsYXJ5OiBOdW1iZXIsXHJcbiAgICBzYWxhcnlHcmFkZTogU3RyaW5nLFxyXG4gICAgd29ya0xvY2F0aW9uOiBTdHJpbmcsXHJcbiAgfSxcclxuICBzdGF0dXM6IHtcclxuICAgIHR5cGU6IFN0cmluZyxcclxuICAgIGVudW06IFsnYWN0aXZlJywgJ2luYWN0aXZlJywgJ29uX2xlYXZlJywgJ3Rlcm1pbmF0ZWQnXSxcclxuICAgIGRlZmF1bHQ6ICdhY3RpdmUnLFxyXG4gIH0sXHJcbiAgdGVybWluYXRpb25SZWFzb246IFN0cmluZyxcclxuICB0ZXJtaW5hdGlvbkRhdGU6IERhdGUsXHJcbiAgY3JlYXRlZEF0OiB7IHR5cGU6IERhdGUsIGRlZmF1bHQ6IERhdGUubm93IH0sXHJcbiAgdXBkYXRlZEF0OiB7IHR5cGU6IERhdGUsIGRlZmF1bHQ6IERhdGUubm93IH0sXHJcbiAgY3JlYXRlZEJ5OiBtb25nb29zZS5TY2hlbWEuVHlwZXMuT2JqZWN0SWQsXHJcbiAgdXBkYXRlZEJ5OiBtb25nb29zZS5TY2hlbWEuVHlwZXMuT2JqZWN0SWQsXHJcbn0pO1xyXG5cclxuRW1wbG95ZWVTY2hlbWEuaW5kZXgoeyB1c2VySWQ6IDEgfSk7XHJcbkVtcGxveWVlU2NoZW1hLmluZGV4KHsgJ3BlcnNvbmFsSW5mby5lbWFpbCc6IDEgfSk7XHJcbkVtcGxveWVlU2NoZW1hLmluZGV4KHsgJ2pvYkluZm8uZGVwYXJ0bWVudCc6IDEgfSk7XHJcbkVtcGxveWVlU2NoZW1hLmluZGV4KHsgJ2pvYkluZm8ucG9zaXRpb24nOiAxIH0pO1xyXG5FbXBsb3llZVNjaGVtYS5pbmRleCh7IHN0YXR1czogMSB9KTtcclxuXHJcbm1vZHVsZS5leHBvcnRzID0gbW9uZ29vc2UubW9kZWwoJ0VtcGxveWVlJywgRW1wbG95ZWVTY2hlbWEpO1xyXG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTUEsUUFBUSxHQUFHQyxPQUFPLENBQUMsVUFBVSxDQUFDO0FBRXBDLE1BQU1DLGNBQWMsR0FBRyxJQUFJRixRQUFRLENBQUNHLE1BQU0sQ0FBQztFQUN6Q0MsTUFBTSxFQUFFO0lBQ05DLElBQUksRUFBRUwsUUFBUSxDQUFDRyxNQUFNLENBQUNHLEtBQUssQ0FBQ0MsUUFBUTtJQUNwQ0MsR0FBRyxFQUFFLE1BQU07SUFDWEMsUUFBUSxFQUFFLElBQUk7SUFDZEMsTUFBTSxFQUFFLElBQUk7SUFDWkMsS0FBSyxFQUFFO0VBQ1QsQ0FBQztFQUNEQyxZQUFZLEVBQUU7SUFD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