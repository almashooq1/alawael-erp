5c5f6cb186ff205e7aa9a4cd675ff697
const mongoose = require('mongoose');
const vehicleSchema = new mongoose.Schema({
  // معلومات أساسية
  vehicleNumber: {
    type: String,
    required: true,
    unique: true
  },
  plateNumber: {
    type: String,
    required: true,
    unique: true
  },
  type: {
    type: String,
    enum: ['bus', 'van', 'car', 'truck'],
    required: true
  },
  brand: String,
  model: String,
  year: Number,
  color: String,
  capacity: {
    type: Number,
    required: true,
    min: 1
  },
  // مستوى الوقود (للتوافق مع الاختبارات)
  fuelLevel: {
    type: Number,
    default: 100
  },
  // حالة المركبة
  status: {
    type: String,
    enum: ['active', 'maintenance', 'inactive', 'emergency'],
    default: 'active'
  },
  // معلومات GPS والموقع
  gpsDevice: {
    deviceId: String,
    lastUpdate: Date,
    currentLocation: {
      type: {
        type: String,
        enum: ['Point'],
        default: 'Point'
      },
      coordinates: {
        type: [Number] // [longitude, latitude]
      },
      address: String,
      speed: Number,
      // km/h
      heading: Number // اتجاه الحركة (0-360)
    }
  },
  // السائق الحالي
  currentDriver: {
    type: mongoose.Schema.Types.ObjectId,
    ref: 'User'
  },
  // حقل مستعار للسائق (للتوافق مع الاختبارات)
  driver: {
    type: mongoose.Schema.Types.ObjectId,
    ref: 'User'
  },
  // المسار الحالي
  currentRoute: {
    type: mongoose.Schema.Types.ObjectId,
    ref: 'TransportRoute'
  },
  // مسافة المركبة
  mileage: {
    type: Number,
    default: 0
  },
  // استهلاك الوقود
  fuelConsumption: {
    fuelType: {
      type: String,
      enum: ['petrol', 'diesel', 'electric', 'hybrid']
    },
    tankCapacity: Number,
    // لتر
    currentFuelLevel: Number,
    // لتر
    averageConsumption: Number,
    // لتر/100كم
    lastRefill: {
      date: Date,
      amount: Number,
      cost: Number,
      station: String
    }
  },
  // صيانة المركبة
  maintenance: {
    lastMaintenanceDate: Date,
    nextMaintenanceDate: Date,
    nextMaintenanceKm: Number,
    currentOdometer: Number,
    // كم
    maintenanceHistory: [{
      date: Date,
      type: String,
      description: String,
      cost: Number,
      workshop: String
    }]
  },
  // سجل الصيانة (للتوافق مع الاختبارات)
  maintenanceHistory: [{
    date: Date,
    type: String,
    description: String,
    cost: Number,
    workshop: String
  }],
  // تأمين المركبة
  insurance: {
    company: String,
    policyNumber: String,
    startDate: Date,
    expiryDate: Date,
    coverageAmount: Number,
    annualCost: Number
  },
  // مراقبة السلامة
  safety: {
    lastInspectionDate: Date,
    nextInspectionDate: Date,
    emergencyAlerts: [{
      timestamp: Date,
      type: {
        type: String,
        enum: ['accident', 'breakdown', 'speeding', 'harsh_braking', 'deviation']
      },
      location: {
        type: {
          type: String,
          default: 'Point'
        },
        coordinates: [Number]
      },
      severity: {
        type: String,
        enum: ['low', 'medium', 'high', 'critical']
      },
      resolved: {
        type: Boolean,
        default: false
      },
      resolvedAt: Date
    }],
    speedingIncidents: {
      type: Number,
      default: 0
    },
    harshBrakingIncidents: {
      type: Number,
      default: 0
    }
  },
  // الركاب المعينين
  assignedPassengers: [{
    type: mongoose.Schema.Types.ObjectId,
    ref: 'User'
  }],
  // إحصائيات
  statistics: {
    totalDistanceCovered: {
      type: Number,
      default: 0
    },
    // كم
    totalFuelConsumed: {
      type: Number,
      default: 0
    },
    // لتر
    totalMaintenanceCost: {
      type: Number,
      default: 0
    },
    // ريال
    averageSpeed: Number,
    // km/h
    tripCount: {
      type: Number,
      default: 0
    }
  },
  // معلومات إضافية
  notes: String,
  documents: [{
    name: String,
    type: String,
    url: String,
    uploadDate: Date
  }],
  isActive: {
    type: Boolean,
    default: true
  }
}, {
  timestamps: true
});

// Indexes للبحث والأداء
vehicleSchema.index({
  status: 1,
  isActive: 1
});
vehicleSchema.index({
  currentDriver: 1
});
vehicleSchema.index({
  'gpsDevice.currentLocation.coordinates': '2dsphere'
});

// Virtual للحصول على حالة الوقود
vehicleSchema.virtual('fuelStatus').get(function () {
  if (!this.fuelConsumption.currentFuelLevel || !this.fuelConsumption.tankCapacity) {
    return 'unknown';
  }
  const percentage = this.fuelConsumption.currentFuelLevel / this.fuelConsumption.tankCapacity * 100;
  if (percentage < 20) return 'critical';
  if (percentage < 40) return 'low';
  if (percentage < 70) return 'medium';
  return 'good';
});

// Virtual للحصول على حالة الصيانة
vehicleSchema.virtual('maintenanceStatus').get(function () {
  if (!this.maintenance.nextMaintenanceDate) return 'unknown';
  const daysUntilMaintenance = Math.ceil((this.maintenance.nextMaintenanceDate - new Date()) / (1000 * 60 * 60 * 24));
  if (daysUntilMaintenance < 0) return 'overdue';
  if (daysUntilMaintenance <= 7) return 'urgent';
  if (daysUntilMaintenance <= 30) return 'soon';
  return 'good';
});

// Method لتحديث موقع GPS
vehicleSchema.methods.updateGPSLocation = function (location, speed, heading) {
  this.gpsDevice.currentLocation = {
    type: 'Point',
    coordinates: location.coordinates || [location.longitude, location.latitude]
  };
  if (speed !== undefined) this.currentSpeed = speed;
  if (heading !== undefined) this.gpsDevice.heading = heading;
  this.gpsDevice.lastUpdate = new Date();
  return this.save();
};

// Method لإضافة تنبيه طوارئ
vehicleSchema.methods.addEmergencyAlert = function (alert) {
  this.safety.emergencyAlerts.push({
    timestamp: new Date(),
    type: alert.type,
    location: alert.location,
    severity: alert.severity
  });

  // تحديث حالة المركبة للطوارئ الحرجة
  if (alert.severity === 'critical') {
    this.status = 'emergency';
  }
  return this.save();
};

// Method لتحديث استهلاك الوقود
vehicleSchema.methods.updateFuelConsumption = function (distance) {
  if (this.fuelConsumption.averageConsumption) {
    const consumed = distance / 100 * this.fuelConsumption.averageConsumption;
    this.fuelConsumption.currentFuelLevel -= consumed;
    this.statistics.totalFuelConsumed += consumed;
    this.statistics.totalDistanceCovered += distance;
  }
  return this.save();
};

// Static method للبحث عن مركبات قريبة
vehicleSchema.statics.findNearby = function (longitude, latitude, maxDistance = 5000) {
  return this.find({
    'gpsDevice.currentLocation.coordinates': {
      $near: {
        $geometry: {
          type: 'Point',
          coordinates: [longitude, latitude]
        },
        $maxDistance: maxDistance
      }
    },
    status: 'active',
    isActive: true
  });
};

// Static method للحصول على المركبات المتاحة
vehicleSchema.statics.findAvailable = function (capacity) {
  return this.find({
    status: 'active',
    isActive: true,
    capacity: {
      $gte: capacity
    },
    currentDriver: {
      $exists: true
    }
  });
};
module.exports = mongoose.model('Vehicle', vehicleSchema);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJtb25nb29zZSIsInJlcXVpcmUiLCJ2ZWhpY2xlU2NoZW1hIiwiU2NoZW1hIiwidmVoaWNsZU51bWJlciIsInR5cGUiLCJTdHJpbmciLCJyZXF1aXJlZCIsInVuaXF1ZSIsInBsYXRlTnVtYmVyIiwiZW51bSIsImJyYW5kIiwibW9kZWwiLCJ5ZWFyIiwiTnVtYmVyIiwiY29sb3IiLCJjYXBhY2l0eSIsIm1pbiIsImZ1ZWxMZXZlbCIsImRlZmF1bHQiLCJzdGF0dXMiLCJncHNEZXZpY2UiLCJkZXZpY2VJZCIsImxhc3RVcGRhdGUiLCJEYXRlIiwiY3VycmVudExvY2F0aW9uIiwiY29vcmRpbmF0ZXMiLCJhZGRyZXNzIiwic3BlZWQiLCJoZWFkaW5nIiwiY3VycmVudERyaXZlciIsIlR5cGVzIiwiT2JqZWN0SWQiLCJyZWYiLCJkcml2ZXIiLCJjdXJyZW50Um91dGUiLCJtaWxlYWdlIiwiZnVlbENvbnN1bXB0aW9uIiwiZnVlbFR5cGUiLCJ0YW5rQ2FwYWNpdHkiLCJjdXJyZW50RnVlbExldmVsIiwiYXZlcmFnZUNvbnN1bXB0aW9uIiwibGFzdFJlZmlsbCIsImRhdGUiLCJhbW91bnQiLCJjb3N0Iiwic3RhdGlvbiIsIm1haW50ZW5hbmNlIiwibGFzdE1haW50ZW5hbmNlRGF0ZSIsIm5leHRNYWludGVuYW5jZURhdGUiLCJuZXh0TWFpbnRlbmFuY2VLbSIsImN1cnJlbnRPZG9tZXRlciIsIm1haW50ZW5hbmNlSGlzdG9yeSIsImRlc2NyaXB0aW9uIiwid29ya3Nob3AiLCJpbnN1cmFuY2UiLCJjb21wYW55IiwicG9saWN5TnVtYmVyIiwic3RhcnREYXRlIiwiZXhwaXJ5RGF0ZSIsImNvdmVyYWdlQW1vdW50IiwiYW5udWFsQ29zdCIsInNhZmV0eSIsImxhc3RJbnNwZWN0aW9uRGF0ZSIsIm5leHRJbnNwZWN0aW9uRGF0ZSIsImVtZXJnZW5jeUFsZXJ0cyIsInRpbWVzdGFtcCIsImxvY2F0aW9uIiwic2V2ZXJpdHkiLCJyZXNvbHZlZCIsIkJvb2xlYW4iLCJyZXNvbHZlZEF0Iiwic3BlZWRpbmdJbmNpZGVudHMiLCJoYXJzaEJyYWtpbmdJbmNpZGVudHMiLCJhc3NpZ25lZFBhc3NlbmdlcnMiLCJzdGF0aXN0aWNzIiwidG90YWxEaXN0YW5jZUNvdmVyZWQiLCJ0b3RhbEZ1ZWxDb25zdW1lZCIsInRvdGFsTWFpbnRlbmFuY2VDb3N0IiwiYXZlcmFnZVNwZWVkIiwidHJpcENvdW50Iiwibm90ZXMiLCJkb2N1bWVudHMiLCJuYW1lIiwidXJsIiwidXBsb2FkRGF0ZSIsImlzQWN0aXZlIiwidGltZXN0YW1wcyIsImluZGV4IiwidmlydHVhbCIsImdldCIsInBlcmNlbnRhZ2UiLCJkYXlzVW50aWxNYWludGVuYW5jZSIsIk1hdGgiLCJjZWlsIiwibWV0aG9kcyIsInVwZGF0ZUdQU0xvY2F0aW9uIiwibG9uZ2l0dWRlIiwibGF0aXR1ZGUiLCJ1bmRlZmluZWQiLCJjdXJyZW50U3BlZWQiLCJzYXZlIiwiYWRkRW1lcmdlbmN5QWxlcnQiLCJhbGVydCIsInB1c2giLCJ1cGRhdGVGdWVsQ29uc3VtcHRpb24iLCJkaXN0YW5jZSIsImNvbnN1bWVkIiwic3RhdGljcyIsImZpbmROZWFyYnkiLCJtYXhEaXN0YW5jZSIsImZpbmQiLCIkbmVhciIsIiRnZW9tZXRyeSIsIiRtYXhEaXN0YW5jZSIsImZpbmRBdmFpbGFibGUiLCIkZ3RlIiwiJGV4aXN0cyIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlcyI6WyJWZWhpY2xlLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IG1vbmdvb3NlID0gcmVxdWlyZSgnbW9uZ29vc2UnKTtcclxuXHJcbmNvbnN0IHZlaGljbGVTY2hlbWEgPSBuZXcgbW9uZ29vc2UuU2NoZW1hKFxyXG4gIHtcclxuICAgIC8vINmF2LnZhNmI2YXYp9iqINij2LPYp9iz2YrYqVxyXG4gICAgdmVoaWNsZU51bWJlcjoge1xyXG4gICAgICB0eXBlOiBTdHJpbmcsXHJcbiAgICAgIHJlcXVpcmVkOiB0cnVlLFxyXG4gICAgICB1bmlxdWU6IHRydWVcclxuICAgIH0sXHJcbiAgICBwbGF0ZU51bWJlcjoge1xyXG4gICAgICB0eXBlOiBTdHJpbmcsXHJcbiAgICAgIHJlcXVpcmVkOiB0cnVlLFxyXG4gICAgICB1bmlxdWU6IHRydWUsXHJcbiAgICB9LFxyXG4gICAgdHlwZToge1xyXG4gICAgICB0eXBlOiBTdHJpbmcsXHJcbiAgICAgIGVudW06IFsnYnVzJywgJ3ZhbicsICdjYXInLCAndHJ1Y2snXSxcclxuICAgICAgcmVxdWlyZWQ6IHRydWUsXHJcbiAgICB9LFxyXG4gICAgYnJhbmQ6IFN0cmluZyxcclxuICAgIG1vZGVsOiBTdHJpbmcsXHJcbiAgICB5ZWFyOiBOdW1iZXIsXHJcbiAgICBjb2xvcjogU3RyaW5nLFxyXG4gICAgY2FwYWNpdHk6IHtcclxuICAgICAgdHlwZTogTnVtYmVyLFxyXG4gICAgICByZXF1aXJlZDogdHJ1ZSxcclxuICAgICAgbWluOiAxLFxyXG4gICAgfSxcclxuXHJcbiAgICAvLyDZhdiz2KrZiNmJINin2YTZiNmC2YjYryAo2YTZhNiq2YjYp9mB2YIg2YXYuSDYp9mE2KfYrtiq2KjYp9ix2KfYqilcclxuICAgIGZ1ZWxMZXZlbDoge1xyXG4gICAgICB0eXBlOiBOdW1iZXIsXHJcbiAgICAgIGRlZmF1bHQ6IDEwMCxcclxuICAgIH0sXHJcblxyXG4gICAgLy8g2K3Yp9mE2Kkg2KfZhNmF2LHZg9io2KlcclxuICAgIHN0YXR1czoge1xyXG4gICAgICB0eXBlOiBTdHJpbmcsXHJcbiAgICAgIGVudW06IFsnYWN0aXZlJywgJ21haW50ZW5hbmNlJywgJ2luYWN0aXZlJywgJ2VtZXJnZW5jeSddLFxyXG4gICAgICBkZWZhdWx0OiAnYWN0aXZlJyxcclxuICAgIH0sXHJcblxyXG4gICAgLy8g2YXYudmE2YjZhdin2KogR1BTINmI2KfZhNmF2YjZgti5XHJcbiAgICBncHNEZXZpY2U6IHtcclxuICAgICAgZGV2aWNlSWQ6IFN0cmluZyxcclxuICAgICAgbGFzdFVwZGF0ZTogRGF0ZSxcclxuICAgICAgY3VycmVudExvY2F0aW9uOiB7XHJcbiAgICAgICAgdHlwZToge1xyXG4gICAgICAgICAgdHlwZTogU3RyaW5nLFxyXG4gICAgICAgICAgZW51bTogWydQb2ludCddLFxyXG4gICAgICAgICAgZGVmYXVsdDogJ1BvaW50JyxcclxuICAgICAgICB9LFxyXG4gICAgICAgIGNvb3JkaW5hdGVzOiB7XHJcbiAgICAgICAgICB0eXBlOiBbTnVtYmVyXSwgLy8gW2xvbmdpdHVkZSwgbGF0aXR1ZGVdXHJcbiAgICAgICAgfSxcclxuICAgICAgICBhZGRyZXNzOiBTdHJpbmcsXHJcbiAgICAgICAgc3BlZWQ6IE51bWJlciwgLy8ga20vaFxyXG4gICAgICAgIGhlYWRpbmc6IE51bWJlciwgLy8g2KfYqtis2KfZhyDYp9mE2K3YsdmD2KkgKDAtMzYwKVxyXG4gICAgICB9LFxyXG4gICAgfSxcclxuXHJcbiAgICAvLyDYp9mE2LPYp9im2YIg2KfZhNit2KfZhNmKXHJcbiAgICBjdXJyZW50RHJpdmVyOiB7XHJcbiAgICAgIHR5cGU6IG1vbmdvb3NlLlNjaGVtYS5UeXBlcy5PYmplY3RJZCxcclxuICAgICAgcmVmOiAnVXNlcicsXHJcbiAgICB9LFxyXG5cclxuICAgIC8vINit2YLZhCDZhdiz2KrYudin2LEg2YTZhNiz2KfYptmCICjZhNmE2KrZiNin2YHZgiDZhdi5INin2YTYp9iu2KrYqNin2LHYp9iqKVxyXG4gICAgZHJpdmVyOiB7XHJcbiAgICAgIHR5cGU6IG1vbmdvb3NlLlNjaGVtYS5UeXBlcy5PYmplY3RJZCxcclxuICAgICAgcmVmOiAnVXNlcicsXHJcbiAgICB9LFxyXG5cclxuICAgIC8vINin2YTZhdiz2KfYsSDYp9mE2K3Yp9mE2YpcclxuICAgIGN1cnJlbnRSb3V0ZToge1xyXG4gICAgICB0eXBlOiBtb25nb29zZS5TY2hlbWEuVHlwZXMuT2JqZWN0SWQsXHJcbiAgICAgIHJlZjogJ1RyYW5zcG9ydFJvdXRlJyxcclxuICAgIH0sXHJcblxyXG4gICAgLy8g2YXYs9in2YHYqSDYp9mE2YXYsdmD2KjYqVxyXG4gICAgbWlsZWFnZToge1xyXG4gICAgICB0eXBlOiBOdW1iZXIsXHJcbiAgICAgIGRlZmF1bHQ6IDAsXHJcbiAgICB9LFxyXG5cclxuICAgIC8vINin2LPYqtmH2YTYp9mDINin2YTZiNmC2YjYr1xyXG4gICAgZnVlbENvbnN1bXB0aW9uOiB7XHJcbiAgICAgIGZ1ZWxUeXBlOiB7XHJcbiAgICAgICAgdHlwZTogU3RyaW5nLFxyXG4gICAgICAgIGVudW06IFsncGV0cm9sJywgJ2RpZXNlbCcsICdlbGVjdHJpYycsICdoeWJyaWQnXSxcclxuICAgICAgfSxcclxuICAgICAgdGFua0NhcGFjaXR5OiBOdW1iZXIsIC8vINmE2KrYsVxyXG4gICAgICBjdXJyZW50RnVlbExldmVsOiBOdW1iZXIsIC8vINmE2KrYsVxyXG4gICAgICBhdmVyYWdlQ29uc3VtcHRpb246IE51bWJlciwgLy8g2YTYqtixLzEwMNmD2YVcclxuICAgICAgbGFzdFJlZmlsbDoge1xyXG4gICAgICAgIGRhdGU6IERhdGUsXHJcbiAgICAgICAgYW1vdW50OiBOdW1iZXIsXHJcbiAgICAgICAgY29zdDogTnVtYmVyLFxyXG4gICAgICAgIHN0YXRpb246IFN0cmluZyxcclxuICAgICAgfSxcclxuICAgIH0sXHJcblxyXG4gICAgLy8g2LXZitin2YbYqSDYp9mE2YXYsdmD2KjYqVxyXG4gICAgbWFpbnRlbmFuY2U6IHtcclxuICAgICAgbGFzdE1haW50ZW5hbmNlRGF0ZTogRGF0ZSxcclxuICAgICAgbmV4dE1haW50ZW5hbmNlRGF0ZTogRGF0ZSxcclxuICAgICAgbmV4dE1haW50ZW5hbmNlS206IE51bWJlcixcclxuICAgICAgY3VycmVudE9kb21ldGVyOiBOdW1iZXIsIC8vINmD2YVcclxuICAgICAgbWFpbnRlbmFuY2VIaXN0b3J5OiBbXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgZGF0ZTogRGF0ZSxcclxuICAgICAgICAgIHR5cGU6IFN0cmluZyxcclxuICAgICAgICAgIGRlc2NyaXB0aW9uOiBTdHJpbmcsXHJcbiAgICAgICAgICBjb3N0OiBOdW1iZXIsXHJcbiAgICAgICAgICB3b3Jrc2hvcDogU3RyaW5nLFxyXG4gICAgICAgIH0sXHJcbiAgICAgIF0sXHJcbiAgICB9LFxyXG5cclxuICAgIC8vINiz2KzZhCDYp9mE2LXZitin2YbYqSAo2YTZhNiq2YjYp9mB2YIg2YXYuSDYp9mE2KfYrtiq2KjYp9ix2KfYqilcclxuICAgIG1haW50ZW5hbmNlSGlzdG9yeTogW1xyXG4gICAgICB7XHJcbiAgICAgICAgZGF0ZTogRGF0ZSxcclxuICAgICAgICB0eXBlOiBTdHJpbmcsXHJcbiAgICAgICAgZGVzY3JpcHRpb246IFN0cmluZyxcclxuICAgICAgICBjb3N0OiBOdW1iZXIsXHJcbiAgICAgICAgd29ya3Nob3A6IFN0cmluZyxcclxuICAgICAgfSxcclxuICAgIF0sXHJcblxyXG4gICAgLy8g2KrYo9mF2YrZhiDYp9mE2YXYsdmD2KjYqVxyXG4gICAgaW5zdXJhbmNlOiB7XHJcbiAgICAgIGNvbXBhbnk6IFN0cmluZyxcclxuICAgICAgcG9saWN5TnVtYmVyOiBTdHJpbmcsXHJcbiAgICAgIHN0YXJ0RGF0ZTogRGF0ZSxcclxuICAgICAgZXhwaXJ5RGF0ZTogRGF0ZSxcclxuICAgICAgY292ZXJhZ2VBbW91bnQ6IE51bWJlcixcclxuICAgICAgYW5udWFsQ29zdDogTnVtYmVyLFxyXG4gICAgfSxcclxuXHJcbiAgICAvLyDZhdix2KfZgtio2Kkg2KfZhNiz2YTYp9mF2KlcclxuICAgIHNhZmV0eToge1xyXG4gICAgICBsYXN0SW5zcGVjdGlvbkRhdGU6IERhdGUsXHJcbiAgICAgIG5leHRJbnNwZWN0aW9uRGF0ZTogRGF0ZSxcclxuICAgICAgZW1lcmdlbmN5QWxlcnRzOiBbXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgdGltZXN0YW1wOiBEYXRlLFxyXG4gICAgICAgICAgdHlwZToge1xyXG4gICAgICAgICAgICB0eXBlOiBTdHJpbmcsXHJcbiAgICAgICAgICAgIGVudW06IFsnYWNjaWRlbnQnLCAnYnJlYWtkb3duJywgJ3NwZWVkaW5nJywgJ2hhcnNoX2JyYWtpbmcnLCAnZGV2aWF0aW9uJ10sXHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgICAgbG9jYXRpb246IHtcclxuICAgICAgICAgICAgdHlwZToge1xyXG4gICAgICAgICAgICAgIHR5cGU6IFN0cmluZyxcclxuICAgICAgICAgICAgICBkZWZhdWx0OiAnUG9pbnQnLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBjb29yZGluYXRlczogW051bWJlcl0sXHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgICAgc2V2ZXJpdHk6IHtcclxuICAgICAgICAgICAgdHlwZTogU3RyaW5nLFxyXG4gICAgICAgICAgICBlbnVtOiBbJ2xvdycsICdtZWRpdW0nLCAnaGlnaCcsICdjcml0aWNhbCddLFxyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIHJlc29sdmVkOiB7XHJcbiAgICAgICAgICAgIHR5cGU6IEJvb2xlYW4sXHJcbiAgICAgICAgICAgIGRlZmF1bHQ6IGZhbHNlLFxyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIHJlc29sdmVkQXQ6IERhdGUsXHJcbiAgICAgICAgfSxcclxuICAgICAgXSxcclxuICAgICAgc3BlZWRpbmdJbmNpZGVudHM6IHtcclxuICAgICAgICB0eXBlOiBOdW1iZXIsXHJcbiAgICAgICAgZGVmYXVsdDogMCxcclxuICAgICAgfSxcclxuICAgICAgaGFyc2hCcmFraW5nSW5jaWRlbnRzOiB7XHJcbiAgICAgICAgdHlwZTogTnVtYmVyLFxyXG4gICAgICAgIGRlZmF1bHQ6IDAsXHJcbiAgICAgIH0sXHJcbiAgICB9LFxyXG5cclxuICAgIC8vINin2YTYsdmD2KfYqCDYp9mE2YXYudmK2YbZitmGXHJcbiAgICBhc3NpZ25lZFBhc3NlbmdlcnM6IFtcclxuICAgICAge1xyXG4gICAgICAgIHR5cGU6IG1vbmdvb3NlLlNjaGVtYS5UeXBlcy5PYmplY3RJZCxcclxuICAgICAgICByZWY6ICdVc2VyJyxcclxuICAgICAgfSxcclxuICAgIF0sXHJcblxyXG4gICAgLy8g2KXYrdi12KfYptmK2KfYqlxyXG4gICAgc3RhdGlzdGljczoge1xyXG4gICAgICB0b3RhbERpc3RhbmNlQ292ZXJlZDoge1xyXG4gICAgICAgIHR5cGU6IE51bWJlcixcclxuICAgICAgICBkZWZhdWx0OiAwLFxyXG4gICAgICB9LCAvLyDZg9mFXHJcbiAgICAgIHRvdGFsRnVlbENvbnN1bWVkOiB7XHJcbiAgICAgICAgdHlwZTogTnVtYmVyLFxyXG4gICAgICAgIGRlZmF1bHQ6IDAsXHJcbiAgICAgIH0sIC8vINmE2KrYsVxyXG4gICAgICB0b3RhbE1haW50ZW5hbmNlQ29zdDoge1xyXG4gICAgICAgIHR5cGU6IE51bWJlcixcclxuICAgICAgICBkZWZhdWx0OiAwLFxyXG4gICAgICB9LCAvLyDYsdmK2KfZhFxyXG4gICAgICBhdmVyYWdlU3BlZWQ6IE51bWJlciwgLy8ga20vaFxyXG4gICAgICB0cmlwQ291bnQ6IHtcclxuICAgICAgICB0eXBlOiBOdW1iZXIsXHJcbiAgICAgICAgZGVmYXVsdDogMCxcclxuICAgICAgfSxcclxuICAgIH0sXHJcblxyXG4gICAgLy8g2YXYudmE2YjZhdin2Kog2KXYttin2YHZitipXHJcbiAgICBub3RlczogU3RyaW5nLFxyXG4gICAgZG9jdW1lbnRzOiBbXHJcbiAgICAgIHtcclxuICAgICAgICBuYW1lOiBTdHJpbmcsXHJcbiAgICAgICAgdHlwZTogU3RyaW5nLFxyXG4gICAgICAgIHVybDogU3RyaW5nLFxyXG4gICAgICAgIHVwbG9hZERhdGU6IERhdGUsXHJcbiAgICAgIH0sXHJcbiAgICBdLFxyXG5cclxuICAgIGlzQWN0aXZlOiB7XHJcbiAgICAgIHR5cGU6IEJvb2xlYW4sXHJcbiAgICAgIGRlZmF1bHQ6IHRydWUsXHJcbiAgICB9LFxyXG4gIH0sXHJcbiAge1xyXG4gICAgdGltZXN0YW1wczogdHJ1ZSxcclxuICB9XHJcbik7XHJcblxyXG4vLyBJbmRleGVzINmE2YTYqNit2Ksg2YjYp9mE2KPYr9in2KFcclxudmVoaWNsZVNjaGVtYS5pbmRleCh7IHN0YXR1czogMSwgaXNBY3RpdmU6IDEgfSk7XHJcbnZlaGljbGVTY2hlbWEuaW5kZXgoeyBjdXJyZW50RHJpdmVyOiAxIH0pO1xyXG52ZWhpY2xlU2NoZW1hLmluZGV4KHsgJ2dwc0RldmljZS5jdXJyZW50TG9jYXRpb24uY29vcmRpbmF0ZXMnOiAnMmRzcGhlcmUnIH0pO1xyXG5cclxuLy8gVmlydHVhbCDZhNmE2K3YtdmI2YQg2LnZhNmJINit2KfZhNipINin2YTZiNmC2YjYr1xyXG52ZWhpY2xlU2NoZW1hLnZpcnR1YWwoJ2Z1ZWxTdGF0dXMnKS5nZXQoZnVuY3Rpb24gKCkge1xyXG4gIGlmICghdGhpcy5mdWVsQ29uc3VtcHRpb24uY3VycmVudEZ1ZWxMZXZlbCB8fCAhdGhpcy5mdWVsQ29uc3VtcHRpb24udGFua0NhcGFjaXR5KSB7XHJcbiAgICByZXR1cm4gJ3Vua25vd24nO1xyXG4gIH1cclxuICBjb25zdCBwZXJjZW50YWdlID1cclxuICAgICh0aGlzLmZ1ZWxDb25zdW1wdGlvbi5jdXJyZW50RnVlbExldmVsIC8gdGhpcy5mdWVsQ29uc3VtcHRpb24udGFua0NhcGFjaXR5KSAqIDEwMDtcclxuICBpZiAocGVyY2VudGFnZSA8IDIwKSByZXR1cm4gJ2NyaXRpY2FsJztcclxuICBpZiAocGVyY2VudGFnZSA8IDQwKSByZXR1cm4gJ2xvdyc7XHJcbiAgaWYgKHBlcmNlbnRhZ2UgPCA3MCkgcmV0dXJuICdtZWRpdW0nO1xyXG4gIHJldHVybiAnZ29vZCc7XHJcbn0pO1xyXG5cclxuLy8gVmlydHVhbCDZhNmE2K3YtdmI2YQg2LnZhNmJINit2KfZhNipINin2YTYtdmK2KfZhtipXHJcbnZlaGljbGVTY2hlbWEudmlydHVhbCgnbWFpbnRlbmFuY2VTdGF0dXMnKS5nZXQoZnVuY3Rpb24gKCkge1xyXG4gIGlmICghdGhpcy5tYWludGVuYW5jZS5uZXh0TWFpbnRlbmFuY2VEYXRlKSByZXR1cm4gJ3Vua25vd24nO1xyXG4gIGNvbnN0IGRheXNVbnRpbE1haW50ZW5hbmNlID0gTWF0aC5jZWlsKFxyXG4gICAgKHRoaXMubWFpbnRlbmFuY2UubmV4dE1haW50ZW5hbmNlRGF0ZSAtIG5ldyBEYXRlKCkpIC8gKDEwMDAgKiA2MCAqIDYwICogMjQpXHJcbiAgKTtcclxuICBpZiAoZGF5c1VudGlsTWFpbnRlbmFuY2UgPCAwKSByZXR1cm4gJ292ZXJkdWUnO1xyXG4gIGlmIChkYXlzVW50aWxNYWludGVuYW5jZSA8PSA3KSByZXR1cm4gJ3VyZ2VudCc7XHJcbiAgaWYgKGRheXNVbnRpbE1haW50ZW5hbmNlIDw9IDMwKSByZXR1cm4gJ3Nvb24nO1xyXG4gIHJldHVybiAnZ29vZCc7XHJcbn0pO1xyXG5cclxuLy8gTWV0aG9kINmE2KrYrdiv2YrYqyDZhdmI2YLYuSBHUFNcclxudmVoaWNsZVNjaGVtYS5tZXRob2RzLnVwZGF0ZUdQU0xvY2F0aW9uID0gZnVuY3Rpb24gKGxvY2F0aW9uLCBzcGVlZCwgaGVhZGluZykge1xyXG4gIHRoaXMuZ3BzRGV2aWNlLmN1cnJlbnRMb2NhdGlvbiA9IHtcclxuICAgIHR5cGU6ICdQb2ludCcsXHJcbiAgICBjb29yZGluYXRlczogbG9jYXRpb24uY29vcmRpbmF0ZXMgfHwgW2xvY2F0aW9uLmxvbmdpdHVkZSwgbG9jYXRpb24ubGF0aXR1ZGVdLFxyXG4gIH07XHJcbiAgaWYgKHNwZWVkICE9PSB1bmRlZmluZWQpIHRoaXMuY3VycmVudFNwZWVkID0gc3BlZWQ7XHJcbiAgaWYgKGhlYWRpbmcgIT09IHVuZGVmaW5lZCkgdGhpcy5ncHNEZXZpY2UuaGVhZGluZyA9IGhlYWRpbmc7XHJcbiAgdGhpcy5ncHNEZXZpY2UubGFzdFVwZGF0ZSA9IG5ldyBEYXRlKCk7XHJcbiAgcmV0dXJuIHRoaXMuc2F2ZSgpO1xyXG59O1xyXG5cclxuLy8gTWV0aG9kINmE2KXYttin2YHYqSDYqtmG2KjZitmHINi32YjYp9ix2KZcclxudmVoaWNsZVNjaGVtYS5tZXRob2RzLmFkZEVtZXJnZW5jeUFsZXJ0ID0gZnVuY3Rpb24gKGFsZXJ0KSB7XHJcbiAgdGhpcy5zYWZldHkuZW1lcmdlbmN5QWxlcnRzLnB1c2goe1xyXG4gICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLFxyXG4gICAgdHlwZTogYWxlcnQudHlwZSxcclxuICAgIGxvY2F0aW9uOiBhbGVydC5sb2NhdGlvbixcclxuICAgIHNldmVyaXR5OiBhbGVydC5zZXZlcml0eSxcclxuICB9KTtcclxuXHJcbiAgLy8g2KrYrdiv2YrYqyDYrdin2YTYqSDYp9mE2YXYsdmD2KjYqSDZhNmE2LfZiNin2LHYpiDYp9mE2K3Ysdis2KlcclxuICBpZiAoYWxlcnQuc2V2ZXJpdHkgPT09ICdjcml0aWNhbCcpIHtcclxuICAgIHRoaXMuc3RhdHVzID0gJ2VtZXJnZW5jeSc7XHJcbiAgfVxyXG5cclxuICByZXR1cm4gdGhpcy5zYXZlKCk7XHJcbn07XHJcblxyXG4vLyBNZXRob2Qg2YTYqtit2K/ZitirINin2LPYqtmH2YTYp9mDINin2YTZiNmC2YjYr1xyXG52ZWhpY2xlU2NoZW1hLm1ldGhvZHMudXBkYXRlRnVlbENvbnN1bXB0aW9uID0gZnVuY3Rpb24gKGRpc3RhbmNlKSB7XHJcbiAgaWYgKHRoaXMuZnVlbENvbnN1bXB0aW9uLmF2ZXJhZ2VDb25zdW1wdGlvbikge1xyXG4gICAgY29uc3QgY29uc3VtZWQgPSAoZGlzdGFuY2UgLyAxMDApICogdGhpcy5mdWVsQ29uc3VtcHRpb24uYXZlcmFnZUNvbnN1bXB0aW9uO1xyXG4gICAgdGhpcy5mdWVsQ29uc3VtcHRpb24uY3VycmVudEZ1ZWxMZXZlbCAtPSBjb25zdW1lZDtcclxuICAgIHRoaXMuc3RhdGlzdGljcy50b3RhbEZ1ZWxDb25zdW1lZCArPSBjb25zdW1lZDtcclxuICAgIHRoaXMuc3RhdGlzdGljcy50b3RhbERpc3RhbmNlQ292ZXJlZCArPSBkaXN0YW5jZTtcclxuICB9XHJcbiAgcmV0dXJuIHRoaXMuc2F2ZSgpO1xyXG59O1xyXG5cclxuLy8gU3RhdGljIG1ldGhvZCDZhNmE2KjYrdirINi52YYg2YXYsdmD2KjYp9iqINmC2LHZitio2KlcclxudmVoaWNsZVNjaGVtYS5zdGF0aWNzLmZpbmROZWFyYnkgPSBmdW5jdGlvbiAobG9uZ2l0dWRlLCBsYXRpdHVkZSwgbWF4RGlzdGFuY2UgPSA1MDAwKSB7XHJcbiAgcmV0dXJuIHRoaXMuZmluZCh7XHJcbiAgICAnZ3BzRGV2aWNlLmN1cnJlbnRMb2NhdGlvbi5jb29yZGluYXRlcyc6IHtcclxuICAgICAgJG5lYXI6IHtcclxuICAgICAgICAkZ2VvbWV0cnk6IHtcclxuICAgICAgICAgIHR5cGU6ICdQb2ludCcsXHJcbiAgICAgICAgICBjb29yZGluYXRlczogW2xvbmdpdHVkZSwgbGF0aXR1ZGVdLFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgJG1heERpc3RhbmNlOiBtYXhEaXN0YW5jZSxcclxuICAgICAgfSxcclxuICAgIH0sXHJcbiAgICBzdGF0dXM6ICdhY3RpdmUnLFxyXG4gICAgaXNBY3RpdmU6IHRydWUsXHJcbiAgfSk7XHJcbn07XHJcblxyXG4vLyBTdGF0aWMgbWV0aG9kINmE2YTYrdi12YjZhCDYudmE2Ykg2KfZhNmF2LHZg9io2KfYqiDYp9mE2YXYqtin2K3YqVxyXG52ZWhpY2xlU2NoZW1hLnN0YXRpY3MuZmluZEF2YWlsYWJsZSA9IGZ1bmN0aW9uIChjYXBhY2l0eSkge1xyXG4gIHJldHVybiB0aGlzLmZpbmQoe1xyXG4gICAgc3RhdHVzOiAnYWN0aXZlJyxcclxuICAgIGlzQWN0aXZlOiB0cnVlLFxyXG4gICAgY2FwYWNpdHk6IHsgJGd0ZTogY2FwYWNpdHkgfSxcclxuICAgIGN1cnJlbnREcml2ZXI6IHsgJGV4aXN0czogdHJ1ZSB9LFxyXG4gIH0pO1xyXG59O1xyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBtb25nb29zZS5tb2RlbCgnVmVoaWNsZScsIHZlaGljbGVTY2hlbWEpO1xyXG4iXSwibWFwcGluZ3MiOiJBQUFBLE1BQU1BLFFBQVEsR0FBR0MsT0FBTyxDQUFDLFVBQVUsQ0FBQztBQUVwQyxNQUFNQyxhQUFhLEdBQUcsSUFBSUYsUUFBUSxDQUFDRyxNQUFNLENBQ3ZDO0VBQ0U7RUFDQUMsYUFBYSxFQUFFO0lBQ2JDLElBQUks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