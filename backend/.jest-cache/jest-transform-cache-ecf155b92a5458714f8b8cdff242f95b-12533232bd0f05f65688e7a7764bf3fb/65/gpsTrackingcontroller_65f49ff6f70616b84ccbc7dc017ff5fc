a2de0c5db513ac3086494488ae917150
/**
 * GPS Tracking Controller
 * متحكم تتبع GPS المتقدم
 */

const GPSTrackingService = require('../services/gpsTrackingService');
const GPSLocation = require('../models/GPSLocation');
class GPSTrackingController {
  /**
   * تسجيل موقع جديد (WebSocket/Real-time)
   * POST /api/gps/location
   */
  static async recordLocation(req, res) {
    try {
      const {
        driverId,
        coordinates,
        speed,
        heading,
        altitude,
        accuracy,
        satellites,
        acceleration,
        seatbeltStatus,
        engineRunning
      } = req.body;

      // التحقق من المدخلات
      if (!driverId || !coordinates) {
        return res.status(400).json({
          success: false,
          message: 'معرف السائق والإحداثيات مطلوبة'
        });
      }

      // تسجيل الموقع
      const location = await GPSTrackingService.recordLocation(driverId, {
        coordinates,
        speed: speed || 0,
        heading,
        altitude,
        accuracy,
        satellites,
        acceleration,
        seatbeltStatus,
        engineRunning
      });
      return res.status(201).json({
        success: true,
        message: 'تم تسجيل الموقع بنجاح',
        location
      });
    } catch (error) {
      console.error('خطأ في تسجيل الموقع:', error);
      res.status(500).json({
        success: false,
        message: error.message
      });
    }
  }

  /**
   * الحصول على الموقع الحالي
   * GET /api/gps/location/:driverId
   */
  static async getCurrentLocation(req, res) {
    try {
      const {
        driverId
      } = req.params;
      const location = await GPSTrackingService.getCurrentLocation(driverId);
      if (!location) {
        return res.status(404).json({
          success: false,
          message: 'لا يوجد موقع متاح للسائق'
        });
      }
      return res.status(200).json({
        success: true,
        location: {
          lat: location.lat,
          lon: location.lon,
          speed: location.speed,
          heading: location.heading,
          accuracy: location.accuracy,
          timestamp: location.timestamp,
          alerts: location.getActiveAlerts()
        }
      });
    } catch (error) {
      console.error('خطأ في جلب الموقع الحالي:', error);
      res.status(500).json({
        success: false,
        message: error.message
      });
    }
  }

  /**
   * الحصول على خريطة المسار
   * GET /api/gps/route/:driverId?startTime=...&endTime=...
   */
  static async getRouteMap(req, res) {
    try {
      const {
        driverId
      } = req.params;
      const {
        startTime,
        endTime
      } = req.query;
      if (!startTime || !endTime) {
        return res.status(400).json({
          success: false,
          message: 'startTime و endTime مطلوبة'
        });
      }
      const routeMap = await GPSTrackingService.getRouteMap(driverId, new Date(startTime), new Date(endTime));
      if (!routeMap) {
        return res.status(404).json({
          success: false,
          message: 'لا توجد بيانات مسار متاحة'
        });
      }
      return res.status(200).json({
        success: true,
        route: routeMap
      });
    } catch (error) {
      console.error('خطأ في جلب المسار:', error);
      res.status(500).json({
        success: false,
        message: error.message
      });
    }
  }

  /**
   * الحصول على تقرير السلوك
   * GET /api/gps/behavior/:driverId?startTime=...&endTime=...
   */
  static async getBehaviorReport(req, res) {
    try {
      const {
        driverId
      } = req.params;
      const {
        startTime,
        endTime
      } = req.query;
      if (!startTime || !endTime) {
        // استخدام اليوم الحالي كقيمة افتراضية
        const now = new Date();
        const _dayStart = new Date(now.getFullYear(), now.getMonth(), now.getDate());
        return res.status(400).json({
          success: false,
          message: 'startTime و endTime مطلوبة'
        });
      }
      const report = await GPSTrackingService.getBehaviorReport(driverId, new Date(startTime), new Date(endTime));
      return res.status(200).json({
        success: true,
        report
      });
    } catch (error) {
      console.error('خطأ في جلب تقرير السلوك:', error);
      res.status(500).json({
        success: false,
        message: error.message
      });
    }
  }

  /**
   * البحث عن السائقين بالقرب من موقع
   * GET /api/gps/nearby?longitude=...&latitude=...&distance=...
   */
  static async findNearbyDrivers(req, res) {
    try {
      const {
        longitude,
        latitude,
        distance = 1000
      } = req.query;
      if (!longitude || !latitude) {
        return res.status(400).json({
          success: false,
          message: 'longitude و latitude مطلوبة'
        });
      }
      const drivers = await GPSTrackingService.findNearbyDrivers(parseFloat(longitude), parseFloat(latitude), parseInt(distance));
      return res.status(200).json({
        success: true,
        driversCount: drivers.length,
        drivers: drivers.map(d => ({
          driverId: d.driver,
          lat: d.lat,
          lon: d.lon,
          speed: d.speed,
          distance: d.getDistanceTo({
            location: {
              coordinates: [longitude, latitude]
            }
          })
        }))
      });
    } catch (error) {
      console.error('خطأ في البحث عن السائقين:', error);
      res.status(500).json({
        success: false,
        message: error.message
      });
    }
  }

  /**
   * الحصول على إحصائيات الأسطول
   * GET /api/gps/fleet-stats?timeRange=today
   */
  static async getFleetStatistics(req, res) {
    try {
      const {
        timeRange = 'today',
        driverId
      } = req.query;
      const stats = await GPSTrackingService.getFleetStatistics(driverId, timeRange);
      return res.status(200).json({
        success: true,
        stats
      });
    } catch (error) {
      console.error('خطأ في جلب إحصائيات الأسطول:', error);
      res.status(500).json({
        success: false,
        message: error.message
      });
    }
  }

  /**
   * الحصول على سجل الموقع الكامل
   * GET /api/gps/history/:driverId?startTime=...&endTime=...&limit=100
   */
  static async getLocationHistory(req, res) {
    try {
      const {
        driverId
      } = req.params;
      const {
        startTime,
        endTime,
        limit = 100
      } = req.query;
      if (!startTime || !endTime) {
        return res.status(400).json({
          success: false,
          message: 'startTime و endTime مطلوبة'
        });
      }
      const locations = await GPSLocation.getLocationsInTimeRange(driverId, new Date(startTime), new Date(endTime)).limit(parseInt(limit)).lean();
      return res.status(200).json({
        success: true,
        locationsCount: locations.length,
        locations: locations.map(loc => ({
          lat: loc.location.coordinates[1],
          lon: loc.location.coordinates[0],
          speed: loc.speed,
          accuracy: loc.accuracy,
          timestamp: loc.timestamp
        }))
      });
    } catch (error) {
      console.error('خطأ في جلب السجل:', error);
      res.status(500).json({
        success: false,
        message: error.message
      });
    }
  }

  /**
   * تأكيد تنبيه
   * POST /api/gps/acknowledge-alert/:locationId/:alertIndex
   */
  static async acknowledgeAlert(req, res) {
    try {
      const {
        locationId,
        alertIndex
      } = req.params;
      const {
        acknowledgedBy
      } = req.body;
      const location = await GPSLocation.findById(locationId);
      if (!location) {
        return res.status(404).json({
          success: false,
          message: 'الموقع غير موجود'
        });
      }
      await location.acknowledgeAlert(parseInt(alertIndex), acknowledgedBy);
      return res.status(200).json({
        success: true,
        message: 'تم تأكيد التنبيه'
      });
    } catch (error) {
      console.error('خطأ في تأكيد التنبيه:', error);
      res.status(500).json({
        success: false,
        message: error.message
      });
    }
  }

  /**
   * الحصول على التنبيهات النشطة
   * GET /api/gps/active-alerts/:driverId
   */
  static async getActiveAlerts(req, res) {
    try {
      const {
        driverId
      } = req.params;
      const {
        limit = 10
      } = req.query;
      const locations = await GPSLocation.find({
        driver: driverId,
        'alerts.acknowledged': false
      }).select('alerts timestamp').limit(parseInt(limit)).sort({
        timestamp: -1
      });
      const activeAlerts = locations.flatMap(loc => loc.getActiveAlerts().map(alert => ({
        ...alert.toObject(),
        locationId: loc._id,
        timestamp: loc.timestamp
      })));
      return res.status(200).json({
        success: true,
        alertsCount: activeAlerts.length,
        alerts: activeAlerts
      });
    } catch (error) {
      console.error('خطأ في جلب التنبيهات:', error);
      res.status(500).json({
        success: false,
        message: error.message
      });
    }
  }

  /**
   * تصدير بيانات تتبع (CSV/PDF)
   * GET /api/gps/export/:driverId?format=csv&startTime=...&endTime=...
   */
  static async exportTrackingData(req, res) {
    try {
      const {
        driverId
      } = req.params;
      const {
        format = 'csv',
        startTime,
        endTime
      } = req.query;
      if (!startTime || !endTime) {
        return res.status(400).json({
          success: false,
          message: 'startTime و endTime مطلوبة'
        });
      }
      const locations = await GPSLocation.getLocationsInTimeRange(driverId, new Date(startTime), new Date(endTime));
      if (format === 'csv') {
        // تحويل إلى CSV
        const csvHeader = 'DateTime,Latitude,Longitude,Speed,Heading,Accuracy\n';
        const csvData = locations.map(loc => `${loc.timestamp},${loc.lat},${loc.lon},${loc.speed},${loc.heading},${loc.accuracy}`).join('\n');
        res.setHeader('Content-Type', 'text/csv');
        res.setHeader('Content-Disposition', `attachment; filename="tracking_${driverId}.csv"`);
        res.send(csvHeader + csvData);
      } else {
        return res.status(400).json({
          success: false,
          message: 'الصيغة المطلوبة غير مدعومة'
        });
      }
    } catch (error) {
      console.error('خطأ في تصدير البيانات:', error);
      res.status(500).json({
        success: false,
        message: error.message
      });
    }
  }
}
module.exports = GPSTrackingController;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJHUFNUcmFja2luZ1NlcnZpY2UiLCJyZXF1aXJlIiwiR1BTTG9jYXRpb24iLCJHUFNUcmFja2luZ0NvbnRyb2xsZXIiLCJyZWNvcmRMb2NhdGlvbiIsInJlcSIsInJlcyIsImRyaXZlcklkIiwiY29vcmRpbmF0ZXMiLCJzcGVlZCIsImhlYWRpbmciLCJhbHRpdHVkZSIsImFjY3VyYWN5Iiwic2F0ZWxsaXRlcyIsImFjY2VsZXJhdGlvbiIsInNlYXRiZWx0U3RhdHVzIiwiZW5naW5lUnVubmluZyIsImJvZHkiLCJzdGF0dXMiLCJqc29uIiwic3VjY2VzcyIsIm1lc3NhZ2UiLCJsb2NhdGlvbiIsImVycm9yIiwiY29uc29sZSIsImdldEN1cnJlbnRMb2NhdGlvbiIsInBhcmFtcyIsImxhdCIsImxvbiIsInRpbWVzdGFtcCIsImFsZXJ0cyIsImdldEFjdGl2ZUFsZXJ0cyIsImdldFJvdXRlTWFwIiwic3RhcnRUaW1lIiwiZW5kVGltZSIsInF1ZXJ5Iiwicm91dGVNYXAiLCJEYXRlIiwicm91dGUiLCJnZXRCZWhhdmlvclJlcG9ydCIsIm5vdyIsIl9kYXlTdGFydCIsImdldEZ1bGxZZWFyIiwiZ2V0TW9udGgiLCJnZXREYXRlIiwicmVwb3J0IiwiZmluZE5lYXJieURyaXZlcnMiLCJsb25naXR1ZGUiLCJsYXRpdHVkZSIsImRpc3RhbmNlIiwiZHJpdmVycyIsInBhcnNlRmxvYXQiLCJwYXJzZUludCIsImRyaXZlcnNDb3VudCIsImxlbmd0aCIsIm1hcCIsImQiLCJkcml2ZXIiLCJnZXREaXN0YW5jZVRvIiwiZ2V0RmxlZXRTdGF0aXN0aWNzIiwidGltZVJhbmdlIiwic3RhdHMiLCJnZXRMb2NhdGlvbkhpc3RvcnkiLCJsaW1pdCIsImxvY2F0aW9ucyIsImdldExvY2F0aW9uc0luVGltZVJhbmdlIiwibGVhbiIsImxvY2F0aW9uc0NvdW50IiwibG9jIiwiYWNrbm93bGVkZ2VBbGVydCIsImxvY2F0aW9uSWQiLCJhbGVydEluZGV4IiwiYWNrbm93bGVkZ2VkQnkiLCJmaW5kQnlJZCIsImZpbmQiLCJzZWxlY3QiLCJzb3J0IiwiYWN0aXZlQWxlcnRzIiwiZmxhdE1hcCIsImFsZXJ0IiwidG9PYmplY3QiLCJfaWQiLCJhbGVydHNDb3VudCIsImV4cG9ydFRyYWNraW5nRGF0YSIsImZvcm1hdCIsImNzdkhlYWRlciIsImNzdkRhdGEiLCJqb2luIiwic2V0SGVhZGVyIiwic2VuZCIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlcyI6WyJncHNUcmFja2luZy5jb250cm9sbGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiBHUFMgVHJhY2tpbmcgQ29udHJvbGxlclxyXG4gKiDZhdiq2K3Zg9mFINiq2KrYqNi5IEdQUyDYp9mE2YXYqtmC2K/ZhVxyXG4gKi9cclxuXHJcbmNvbnN0IEdQU1RyYWNraW5nU2VydmljZSA9IHJlcXVpcmUoJy4uL3NlcnZpY2VzL2dwc1RyYWNraW5nU2VydmljZScpO1xyXG5jb25zdCBHUFNMb2NhdGlvbiA9IHJlcXVpcmUoJy4uL21vZGVscy9HUFNMb2NhdGlvbicpO1xyXG5cclxuY2xhc3MgR1BTVHJhY2tpbmdDb250cm9sbGVyIHtcclxuICAvKipcclxuICAgKiDYqtiz2KzZitmEINmF2YjZgti5INis2K/ZitivIChXZWJTb2NrZXQvUmVhbC10aW1lKVxyXG4gICAqIFBPU1QgL2FwaS9ncHMvbG9jYXRpb25cclxuICAgKi9cclxuICBzdGF0aWMgYXN5bmMgcmVjb3JkTG9jYXRpb24ocmVxLCByZXMpIHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IHsgZHJpdmVySWQsIGNvb3JkaW5hdGVzLCBzcGVlZCwgaGVhZGluZywgYWx0aXR1ZGUsIGFjY3VyYWN5LCBzYXRlbGxpdGVzLCBhY2NlbGVyYXRpb24sIHNlYXRiZWx0U3RhdHVzLCBlbmdpbmVSdW5uaW5nIH0gPVxyXG4gICAgICAgIHJlcS5ib2R5O1xyXG5cclxuICAgICAgLy8g2KfZhNiq2K3ZgtmCINmF2YYg2KfZhNmF2K/YrtmE2KfYqlxyXG4gICAgICBpZiAoIWRyaXZlcklkIHx8ICFjb29yZGluYXRlcykge1xyXG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7XHJcbiAgICAgICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgICAgICAgIG1lc3NhZ2U6ICfZhdi52LHZgSDYp9mE2LPYp9im2YIg2YjYp9mE2KXYrdiv2KfYq9mK2KfYqiDZhdi32YTZiNio2KknLFxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyDYqtiz2KzZitmEINin2YTZhdmI2YLYuVxyXG4gICAgICBjb25zdCBsb2NhdGlvbiA9IGF3YWl0IEdQU1RyYWNraW5nU2VydmljZS5yZWNvcmRMb2NhdGlvbihkcml2ZXJJZCwge1xyXG4gICAgICAgIGNvb3JkaW5hdGVzLFxyXG4gICAgICAgIHNwZWVkOiBzcGVlZCB8fCAwLFxyXG4gICAgICAgIGhlYWRpbmcsXHJcbiAgICAgICAgYWx0aXR1ZGUsXHJcbiAgICAgICAgYWNjdXJhY3ksXHJcbiAgICAgICAgc2F0ZWxsaXRlcyxcclxuICAgICAgICBhY2NlbGVyYXRpb24sXHJcbiAgICAgICAgc2VhdGJlbHRTdGF0dXMsXHJcbiAgICAgICAgZW5naW5lUnVubmluZyxcclxuICAgICAgfSk7XHJcblxyXG4gICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDEpLmpzb24oe1xyXG4gICAgICAgIHN1Y2Nlc3M6IHRydWUsXHJcbiAgICAgICAgbWVzc2FnZTogJ9iq2YUg2KrYs9is2YrZhCDYp9mE2YXZiNmC2Lkg2KjZhtis2KfYrScsXHJcbiAgICAgICAgbG9jYXRpb24sXHJcbiAgICAgIH0pO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcign2K7Yt9ijINmB2Yog2KrYs9is2YrZhCDYp9mE2YXZiNmC2Lk6JywgZXJyb3IpO1xyXG4gICAgICByZXMuc3RhdHVzKDUwMCkuanNvbih7XHJcbiAgICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICAgICAgbWVzc2FnZTogZXJyb3IubWVzc2FnZSxcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiDYp9mE2K3YtdmI2YQg2LnZhNmJINin2YTZhdmI2YLYuSDYp9mE2K3Yp9mE2YpcclxuICAgKiBHRVQgL2FwaS9ncHMvbG9jYXRpb24vOmRyaXZlcklkXHJcbiAgICovXHJcbiAgc3RhdGljIGFzeW5jIGdldEN1cnJlbnRMb2NhdGlvbihyZXEsIHJlcykge1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3QgeyBkcml2ZXJJZCB9ID0gcmVxLnBhcmFtcztcclxuXHJcbiAgICAgIGNvbnN0IGxvY2F0aW9uID0gYXdhaXQgR1BTVHJhY2tpbmdTZXJ2aWNlLmdldEN1cnJlbnRMb2NhdGlvbihkcml2ZXJJZCk7XHJcblxyXG4gICAgICBpZiAoIWxvY2F0aW9uKSB7XHJcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDA0KS5qc29uKHtcclxuICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgICAgICAgbWVzc2FnZTogJ9mE2Kcg2YrZiNis2K8g2YXZiNmC2Lkg2YXYqtin2K0g2YTZhNiz2KfYptmCJyxcclxuICAgICAgICB9KTtcclxuICAgICAgfVxyXG5cclxuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICBzdWNjZXNzOiB0cnVlLFxyXG4gICAgICAgIGxvY2F0aW9uOiB7XHJcbiAgICAgICAgICBsYXQ6IGxvY2F0aW9uLmxhdCxcclxuICAgICAgICAgIGxvbjogbG9jYXRpb24ubG9uLFxyXG4gICAgICAgICAgc3BlZWQ6IGxvY2F0aW9uLnNwZWVkLFxyXG4gICAgICAgICAgaGVhZGluZzogbG9jYXRpb24uaGVhZGluZyxcclxuICAgICAgICAgIGFjY3VyYWN5OiBsb2NhdGlvbi5hY2N1cmFjeSxcclxuICAgICAgICAgIHRpbWVzdGFtcDogbG9jYXRpb24udGltZXN0YW1wLFxyXG4gICAgICAgICAgYWxlcnRzOiBsb2NhdGlvbi5nZXRBY3RpdmVBbGVydHMoKSxcclxuICAgICAgICB9LFxyXG4gICAgICB9KTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ9iu2LfYoyDZgdmKINis2YTYqCDYp9mE2YXZiNmC2Lkg2KfZhNit2KfZhNmKOicsIGVycm9yKTtcclxuICAgICAgcmVzLnN0YXR1cyg1MDApLmpzb24oe1xyXG4gICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgICAgIG1lc3NhZ2U6IGVycm9yLm1lc3NhZ2UsXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICog2KfZhNit2LXZiNmEINi52YTZiSDYrtix2YrYt9ipINin2YTZhdiz2KfYsVxyXG4gICAqIEdFVCAvYXBpL2dwcy9yb3V0ZS86ZHJpdmVySWQ/c3RhcnRUaW1lPS4uLiZlbmRUaW1lPS4uLlxyXG4gICAqL1xyXG4gIHN0YXRpYyBhc3luYyBnZXRSb3V0ZU1hcChyZXEsIHJlcykge1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3QgeyBkcml2ZXJJZCB9ID0gcmVxLnBhcmFtcztcclxuICAgICAgY29uc3QgeyBzdGFydFRpbWUsIGVuZFRpbWUgfSA9IHJlcS5xdWVyeTtcclxuXHJcbiAgICAgIGlmICghc3RhcnRUaW1lIHx8ICFlbmRUaW1lKSB7XHJcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHtcclxuICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgICAgICAgbWVzc2FnZTogJ3N0YXJ0VGltZSDZiCBlbmRUaW1lINmF2LfZhNmI2KjYqScsXHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGNvbnN0IHJvdXRlTWFwID0gYXdhaXQgR1BTVHJhY2tpbmdTZXJ2aWNlLmdldFJvdXRlTWFwKFxyXG4gICAgICAgIGRyaXZlcklkLFxyXG4gICAgICAgIG5ldyBEYXRlKHN0YXJ0VGltZSksXHJcbiAgICAgICAgbmV3IERhdGUoZW5kVGltZSlcclxuICAgICAgKTtcclxuXHJcbiAgICAgIGlmICghcm91dGVNYXApIHtcclxuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDQpLmpzb24oe1xyXG4gICAgICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICAgICAgICBtZXNzYWdlOiAn2YTYpyDYqtmI2KzYryDYqNmK2KfZhtin2Kog2YXYs9in2LEg2YXYqtin2K3YqScsXHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgICAgc3VjY2VzczogdHJ1ZSxcclxuICAgICAgICByb3V0ZTogcm91dGVNYXAsXHJcbiAgICAgIH0pO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcign2K7Yt9ijINmB2Yog2KzZhNioINin2YTZhdiz2KfYsTonLCBlcnJvcik7XHJcbiAgICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHtcclxuICAgICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgICAgICBtZXNzYWdlOiBlcnJvci5tZXNzYWdlLFxyXG4gICAgICB9KTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqINin2YTYrdi12YjZhCDYudmE2Ykg2KrZgtix2YrYsSDYp9mE2LPZhNmI2YNcclxuICAgKiBHRVQgL2FwaS9ncHMvYmVoYXZpb3IvOmRyaXZlcklkP3N0YXJ0VGltZT0uLi4mZW5kVGltZT0uLi5cclxuICAgKi9cclxuICBzdGF0aWMgYXN5bmMgZ2V0QmVoYXZpb3JSZXBvcnQocmVxLCByZXMpIHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IHsgZHJpdmVySWQgfSA9IHJlcS5wYXJhbXM7XHJcbiAgICAgIGNvbnN0IHsgc3RhcnRUaW1lLCBlbmRUaW1lIH0gPSByZXEucXVlcnk7XHJcblxyXG4gICAgICBpZiAoIXN0YXJ0VGltZSB8fCAhZW5kVGltZSkge1xyXG4gICAgICAgIC8vINin2LPYqtiu2K/Yp9mFINin2YTZitmI2YUg2KfZhNit2KfZhNmKINmD2YLZitmF2Kkg2KfZgdiq2LHYp9i22YrYqVxyXG4gICAgICAgIGNvbnN0IG5vdyA9IG5ldyBEYXRlKCk7XHJcbiAgICAgICAgY29uc3QgX2RheVN0YXJ0ID0gbmV3IERhdGUobm93LmdldEZ1bGxZZWFyKCksIG5vdy5nZXRNb250aCgpLCBub3cuZ2V0RGF0ZSgpKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHtcclxuICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgICAgICAgbWVzc2FnZTogJ3N0YXJ0VGltZSDZiCBlbmRUaW1lINmF2LfZhNmI2KjYqScsXHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGNvbnN0IHJlcG9ydCA9IGF3YWl0IEdQU1RyYWNraW5nU2VydmljZS5nZXRCZWhhdmlvclJlcG9ydChcclxuICAgICAgICBkcml2ZXJJZCxcclxuICAgICAgICBuZXcgRGF0ZShzdGFydFRpbWUpLFxyXG4gICAgICAgIG5ldyBEYXRlKGVuZFRpbWUpXHJcbiAgICAgICk7XHJcblxyXG4gICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oe1xyXG4gICAgICAgIHN1Y2Nlc3M6IHRydWUsXHJcbiAgICAgICAgcmVwb3J0LFxyXG4gICAgICB9KTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ9iu2LfYoyDZgdmKINis2YTYqCDYqtmC2LHZitixINin2YTYs9mE2YjZgzonLCBlcnJvcik7XHJcbiAgICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHtcclxuICAgICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgICAgICBtZXNzYWdlOiBlcnJvci5tZXNzYWdlLFxyXG4gICAgICB9KTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqINin2YTYqNit2Ksg2LnZhiDYp9mE2LPYp9im2YLZitmGINio2KfZhNmC2LHYqCDZhdmGINmF2YjZgti5XHJcbiAgICogR0VUIC9hcGkvZ3BzL25lYXJieT9sb25naXR1ZGU9Li4uJmxhdGl0dWRlPS4uLiZkaXN0YW5jZT0uLi5cclxuICAgKi9cclxuICBzdGF0aWMgYXN5bmMgZmluZE5lYXJieURyaXZlcnMocmVxLCByZXMpIHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IHsgbG9uZ2l0dWRlLCBsYXRpdHVkZSwgZGlzdGFuY2UgPSAxMDAwIH0gPSByZXEucXVlcnk7XHJcblxyXG4gICAgICBpZiAoIWxvbmdpdHVkZSB8fCAhbGF0aXR1ZGUpIHtcclxuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oe1xyXG4gICAgICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICAgICAgICBtZXNzYWdlOiAnbG9uZ2l0dWRlINmIIGxhdGl0dWRlINmF2LfZhNmI2KjYqScsXHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGNvbnN0IGRyaXZlcnMgPSBhd2FpdCBHUFNUcmFja2luZ1NlcnZpY2UuZmluZE5lYXJieURyaXZlcnMoXHJcbiAgICAgICAgcGFyc2VGbG9hdChsb25naXR1ZGUpLFxyXG4gICAgICAgIHBhcnNlRmxvYXQobGF0aXR1ZGUpLFxyXG4gICAgICAgIHBhcnNlSW50KGRpc3RhbmNlKVxyXG4gICAgICApO1xyXG5cclxuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICBzdWNjZXNzOiB0cnVlLFxyXG4gICAgICAgIGRyaXZlcnNDb3VudDogZHJpdmVycy5sZW5ndGgsXHJcbiAgICAgICAgZHJpdmVyczogZHJpdmVycy5tYXAoKGQpID0+ICh7XHJcbiAgICAgICAgICBkcml2ZXJJZDogZC5kcml2ZXIsXHJcbiAgICAgICAgICBsYXQ6IGQubGF0LFxyXG4gICAgICAgICAgbG9uOiBkLmxvbixcclxuICAgICAgICAgIHNwZWVkOiBkLnNwZWVkLFxyXG4gICAgICAgICAgZGlzdGFuY2U6IGQuZ2V0RGlzdGFuY2VUbyh7IGxvY2F0aW9uOiB7IGNvb3JkaW5hdGVzOiBbbG9uZ2l0dWRlLCBsYXRpdHVkZV0gfSB9KSxcclxuICAgICAgICB9KSksXHJcbiAgICAgIH0pO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcign2K7Yt9ijINmB2Yog2KfZhNio2K3YqyDYudmGINin2YTYs9in2KbZgtmK2YY6JywgZXJyb3IpO1xyXG4gICAgICByZXMuc3RhdHVzKDUwMCkuanNvbih7XHJcbiAgICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICAgICAgbWVzc2FnZTogZXJyb3IubWVzc2FnZSxcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiDYp9mE2K3YtdmI2YQg2LnZhNmJINil2K3Ytdin2KbZitin2Kog2KfZhNij2LPYt9mI2YRcclxuICAgKiBHRVQgL2FwaS9ncHMvZmxlZXQtc3RhdHM/dGltZVJhbmdlPXRvZGF5XHJcbiAgICovXHJcbiAgc3RhdGljIGFzeW5jIGdldEZsZWV0U3RhdGlzdGljcyhyZXEsIHJlcykge1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3QgeyB0aW1lUmFuZ2UgPSAndG9kYXknLCBkcml2ZXJJZCB9ID0gcmVxLnF1ZXJ5O1xyXG5cclxuICAgICAgY29uc3Qgc3RhdHMgPSBhd2FpdCBHUFNUcmFja2luZ1NlcnZpY2UuZ2V0RmxlZXRTdGF0aXN0aWNzKGRyaXZlcklkLCB0aW1lUmFuZ2UpO1xyXG5cclxuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICBzdWNjZXNzOiB0cnVlLFxyXG4gICAgICAgIHN0YXRzLFxyXG4gICAgICB9KTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ9iu2LfYoyDZgdmKINis2YTYqCDYpdit2LXYp9im2YrYp9iqINin2YTYo9iz2LfZiNmEOicsIGVycm9yKTtcclxuICAgICAgcmVzLnN0YXR1cyg1MDApLmpzb24oe1xyXG4gICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgICAgIG1lc3NhZ2U6IGVycm9yLm1lc3NhZ2UsXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICog2KfZhNit2LXZiNmEINi52YTZiSDYs9is2YQg2KfZhNmF2YjZgti5INin2YTZg9in2YXZhFxyXG4gICAqIEdFVCAvYXBpL2dwcy9oaXN0b3J5Lzpkcml2ZXJJZD9zdGFydFRpbWU9Li4uJmVuZFRpbWU9Li4uJmxpbWl0PTEwMFxyXG4gICAqL1xyXG4gIHN0YXRpYyBhc3luYyBnZXRMb2NhdGlvbkhpc3RvcnkocmVxLCByZXMpIHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IHsgZHJpdmVySWQgfSA9IHJlcS5wYXJhbXM7XHJcbiAgICAgIGNvbnN0IHsgc3RhcnRUaW1lLCBlbmRUaW1lLCBsaW1pdCA9IDEwMCB9ID0gcmVxLnF1ZXJ5O1xyXG5cclxuICAgICAgaWYgKCFzdGFydFRpbWUgfHwgIWVuZFRpbWUpIHtcclxuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oe1xyXG4gICAgICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICAgICAgICBtZXNzYWdlOiAnc3RhcnRUaW1lINmIIGVuZFRpbWUg2YXYt9mE2YjYqNipJyxcclxuICAgICAgICB9KTtcclxuICAgICAgfVxyXG5cclxuICAgICAgY29uc3QgbG9jYXRpb25zID0gYXdhaXQgR1BTTG9jYXRpb24uZ2V0TG9jYXRpb25zSW5UaW1lUmFuZ2UoXHJcbiAgICAgICAgZHJpdmVySWQsXHJcbiAgICAgICAgbmV3IERhdGUoc3RhcnRUaW1lKSxcclxuICAgICAgICBuZXcgRGF0ZShlbmRUaW1lKVxyXG4gICAgICApXHJcbiAgICAgICAgLmxpbWl0KHBhcnNlSW50KGxpbWl0KSlcclxuICAgICAgICAubGVhbigpO1xyXG5cclxuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICBzdWNjZXNzOiB0cnVlLFxyXG4gICAgICAgIGxvY2F0aW9uc0NvdW50OiBsb2NhdGlvbnMubGVuZ3RoLFxyXG4gICAgICAgIGxvY2F0aW9uczogbG9jYXRpb25zLm1hcCgobG9jKSA9PiAoe1xyXG4gICAgICAgICAgbGF0OiBsb2MubG9jYXRpb24uY29vcmRpbmF0ZXNbMV0sXHJcbiAgICAgICAgICBsb246IGxvYy5sb2NhdGlvbi5jb29yZGluYXRlc1swXSxcclxuICAgICAgICAgIHNwZWVkOiBsb2Muc3BlZWQsXHJcbiAgICAgICAgICBhY2N1cmFjeTogbG9jLmFjY3VyYWN5LFxyXG4gICAgICAgICAgdGltZXN0YW1wOiBsb2MudGltZXN0YW1wLFxyXG4gICAgICAgIH0pKSxcclxuICAgICAgfSk7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCfYrti32KMg2YHZiiDYrNmE2Kgg2KfZhNiz2KzZhDonLCBlcnJvcik7XHJcbiAgICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHtcclxuICAgICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgICAgICBtZXNzYWdlOiBlcnJvci5tZXNzYWdlLFxyXG4gICAgICB9KTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqINiq2KPZg9mK2K8g2KrZhtio2YrZh1xyXG4gICAqIFBPU1QgL2FwaS9ncHMvYWNrbm93bGVkZ2UtYWxlcnQvOmxvY2F0aW9uSWQvOmFsZXJ0SW5kZXhcclxuICAgKi9cclxuICBzdGF0aWMgYXN5bmMgYWNrbm93bGVkZ2VBbGVydChyZXEsIHJlcykge1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3QgeyBsb2NhdGlvbklkLCBhbGVydEluZGV4IH0gPSByZXEucGFyYW1zO1xyXG4gICAgICBjb25zdCB7IGFja25vd2xlZGdlZEJ5IH0gPSByZXEuYm9keTtcclxuXHJcbiAgICAgIGNvbnN0IGxvY2F0aW9uID0gYXdhaXQgR1BTTG9jYXRpb24uZmluZEJ5SWQobG9jYXRpb25JZCk7XHJcblxyXG4gICAgICBpZiAoIWxvY2F0aW9uKSB7XHJcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDA0KS5qc29uKHtcclxuICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgICAgICAgbWVzc2FnZTogJ9in2YTZhdmI2YLYuSDYutmK2LEg2YXZiNis2YjYrycsXHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGF3YWl0IGxvY2F0aW9uLmFja25vd2xlZGdlQWxlcnQocGFyc2VJbnQoYWxlcnRJbmRleCksIGFja25vd2xlZGdlZEJ5KTtcclxuXHJcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgICAgc3VjY2VzczogdHJ1ZSxcclxuICAgICAgICBtZXNzYWdlOiAn2KrZhSDYqtij2YPZitivINin2YTYqtmG2KjZitmHJyxcclxuICAgICAgfSk7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCfYrti32KMg2YHZiiDYqtij2YPZitivINin2YTYqtmG2KjZitmHOicsIGVycm9yKTtcclxuICAgICAgcmVzLnN0YXR1cyg1MDApLmpzb24oe1xyXG4gICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgICAgIG1lc3NhZ2U6IGVycm9yLm1lc3NhZ2UsXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICog2KfZhNit2LXZiNmEINi52YTZiSDYp9mE2KrZhtio2YrZh9in2Kog2KfZhNmG2LTYt9ipXHJcbiAgICogR0VUIC9hcGkvZ3BzL2FjdGl2ZS1hbGVydHMvOmRyaXZlcklkXHJcbiAgICovXHJcbiAgc3RhdGljIGFzeW5jIGdldEFjdGl2ZUFsZXJ0cyhyZXEsIHJlcykge1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3QgeyBkcml2ZXJJZCB9ID0gcmVxLnBhcmFtcztcclxuICAgICAgY29uc3QgeyBsaW1pdCA9IDEwIH0gPSByZXEucXVlcnk7XHJcblxyXG4gICAgICBjb25zdCBsb2NhdGlvbnMgPSBhd2FpdCBHUFNMb2NhdGlvbi5maW5kKHsgZHJpdmVyOiBkcml2ZXJJZCwgJ2FsZXJ0cy5hY2tub3dsZWRnZWQnOiBmYWxzZSB9KVxyXG4gICAgICAgIC5zZWxlY3QoJ2FsZXJ0cyB0aW1lc3RhbXAnKVxyXG4gICAgICAgIC5saW1pdChwYXJzZUludChsaW1pdCkpXHJcbiAgICAgICAgLnNvcnQoeyB0aW1lc3RhbXA6IC0xIH0pO1xyXG5cclxuICAgICAgY29uc3QgYWN0aXZlQWxlcnRzID0gbG9jYXRpb25zLmZsYXRNYXAoKGxvYykgPT5cclxuICAgICAgICBsb2MuZ2V0QWN0aXZlQWxlcnRzKCkubWFwKChhbGVydCkgPT4gKHtcclxuICAgICAgICAgIC4uLmFsZXJ0LnRvT2JqZWN0KCksXHJcbiAgICAgICAgICBsb2NhdGlvbklkOiBsb2MuX2lkLFxyXG4gICAgICAgICAgdGltZXN0YW1wOiBsb2MudGltZXN0YW1wLFxyXG4gICAgICAgIH0pKVxyXG4gICAgICApO1xyXG5cclxuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICBzdWNjZXNzOiB0cnVlLFxyXG4gICAgICAgIGFsZXJ0c0NvdW50OiBhY3RpdmVBbGVydHMubGVuZ3RoLFxyXG4gICAgICAgIGFsZXJ0czogYWN0aXZlQWxlcnRzLFxyXG4gICAgICB9KTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ9iu2LfYoyDZgdmKINis2YTYqCDYp9mE2KrZhtio2YrZh9in2Ko6JywgZXJyb3IpO1xyXG4gICAgICByZXMuc3RhdHVzKDUwMCkuanNvbih7XHJcbiAgICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICAgICAgbWVzc2FnZTogZXJyb3IubWVzc2FnZSxcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiDYqti12K/ZitixINio2YrYp9mG2KfYqiDYqtiq2KjYuSAoQ1NWL1BERilcclxuICAgKiBHRVQgL2FwaS9ncHMvZXhwb3J0Lzpkcml2ZXJJZD9mb3JtYXQ9Y3N2JnN0YXJ0VGltZT0uLi4mZW5kVGltZT0uLi5cclxuICAgKi9cclxuICBzdGF0aWMgYXN5bmMgZXhwb3J0VHJhY2tpbmdEYXRhKHJlcSwgcmVzKSB7XHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCB7IGRyaXZlcklkIH0gPSByZXEucGFyYW1zO1xyXG4gICAgICBjb25zdCB7IGZvcm1hdCA9ICdjc3YnLCBzdGFydFRpbWUsIGVuZFRpbWUgfSA9IHJlcS5xdWVyeTtcclxuXHJcbiAgICAgIGlmICghc3RhcnRUaW1lIHx8ICFlbmRUaW1lKSB7XHJcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHtcclxuICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgICAgICAgbWVzc2FnZTogJ3N0YXJ0VGltZSDZiCBlbmRUaW1lINmF2LfZhNmI2KjYqScsXHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGNvbnN0IGxvY2F0aW9ucyA9IGF3YWl0IEdQU0xvY2F0aW9uLmdldExvY2F0aW9uc0luVGltZVJhbmdlKFxyXG4gICAgICAgIGRyaXZlcklkLFxyXG4gICAgICAgIG5ldyBEYXRlKHN0YXJ0VGltZSksXHJcbiAgICAgICAgbmV3IERhdGUoZW5kVGltZSlcclxuICAgICAgKTtcclxuXHJcbiAgICAgIGlmIChmb3JtYXQgPT09ICdjc3YnKSB7XHJcbiAgICAgICAgLy8g2KrYrdmI2YrZhCDYpdmE2YkgQ1NWXHJcbiAgICAgICAgY29uc3QgY3N2SGVhZGVyID0gJ0RhdGVUaW1lLExhdGl0dWRlLExvbmdpdHVkZSxTcGVlZCxIZWFkaW5nLEFjY3VyYWN5XFxuJztcclxuICAgICAgICBjb25zdCBjc3ZEYXRhID0gbG9jYXRpb25zXHJcbiAgICAgICAgICAubWFwKChsb2MpID0+IGAke2xvYy50aW1lc3RhbXB9LCR7bG9jLmxhdH0sJHtsb2MubG9ufSwke2xvYy5zcGVlZH0sJHtsb2MuaGVhZGluZ30sJHtsb2MuYWNjdXJhY3l9YClcclxuICAgICAgICAgIC5qb2luKCdcXG4nKTtcclxuXHJcbiAgICAgICAgcmVzLnNldEhlYWRlcignQ29udGVudC1UeXBlJywgJ3RleHQvY3N2Jyk7XHJcbiAgICAgICAgcmVzLnNldEhlYWRlcignQ29udGVudC1EaXNwb3NpdGlvbicsIGBhdHRhY2htZW50OyBmaWxlbmFtZT1cInRyYWNraW5nXyR7ZHJpdmVySWR9LmNzdlwiYCk7XHJcbiAgICAgICAgcmVzLnNlbmQoY3N2SGVhZGVyICsgY3N2RGF0YSk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHtcclxuICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgICAgICAgbWVzc2FnZTogJ9in2YTYtdmK2LrYqSDYp9mE2YXYt9mE2YjYqNipINi62YrYsSDZhdiv2LnZiNmF2KknLFxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCfYrti32KMg2YHZiiDYqti12K/ZitixINin2YTYqNmK2KfZhtin2Ko6JywgZXJyb3IpO1xyXG4gICAgICByZXMuc3RhdHVzKDUwMCkuanNvbih7XHJcbiAgICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICAgICAgbWVzc2FnZTogZXJyb3IubWVzc2FnZSxcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IEdQU1RyYWNraW5nQ29udHJvbGxlcjtcclxuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxNQUFNQSxrQkFBa0IsR0FBR0MsT0FBTyxDQUFDLGdDQUFnQyxDQUFDO0FBQ3BFLE1BQU1DLFdBQVcsR0FBR0QsT0FBTyxDQUFDLHVCQUF1QixDQUFDO0FBRXBELE1BQU1FLHFCQUFxQixDQUFDO0VBQzFCO0FBQ0Y7QUFDQTtBQUNBO0VBQ0UsYUFBYUMs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