{"version":3,"names":["express","require","router","Router","QiwaService","qiwaService","validateRequest","req","res","next","requestId","randomUUID","handleAsyncError","fn","Promise","resolve","catch","use","get","health","healthCheck","status","json","metrics","getMetrics","success","timestamp","Date","history","getRequestHistory","level","query","limit","parseInt","total","length","post","result","clearCache","body","pattern","message","iqamaNumber","error","verifyEmployeeByIqama","data","nationalId","verifyEmployeeByNationalId","params","getEmployeeLaborRecord","contractData","registerContract","contractId","getContract","filters","offset","listContracts","put","updates","updateContract","reason","terminationDate","terminateContract","wageData","updateEmployeeWage","months","getWageHistory","newWage","calculateWageCompliance","payrollData","period","employees","submitPayrollToWPS","submissionId","getWPSStatus","getWPSComplianceReport","getNitaqatStatus","getNitaqatCompliance","workforce","Array","isArray","calculateNitaqatPoints","contracts","batchRegisterContracts","batchUpdateWages","console","statusCode","response","process","env","NODE_ENV","details","stack","module","exports"],"sources":["qiwa.routes.js"],"sourcesContent":["/**\r\n * ðŸ‡¸ðŸ‡¦ Qiwa Integration Routes\r\n * Ministry of Labor (MOL) API Endpoints\r\n *\r\n * Routes:\r\n * âœ… Employee Verification\r\n * âœ… Contract Management\r\n * âœ… Wage Management\r\n * âœ… WPS Integration\r\n * âœ… Nitaqat Tracking\r\n * âœ… Batch Operations\r\n * âœ… Health & Monitoring\r\n *\r\n * @version 2.0.0\r\n * @author AI Integration Team\r\n * @date 2026-02-17\r\n */\r\n\r\nconst express = require('express');\r\nconst router = express.Router();\r\nconst QiwaService = require('../services/qiwa.service');\r\n\r\nconst qiwaService = new QiwaService();\r\n\r\n// Middleware for request validation\r\nconst validateRequest = (req, res, next) => {\r\n  req.requestId = require('crypto').randomUUID();\r\n  next();\r\n};\r\n\r\nconst handleAsyncError = (fn) => (req, res, next) => {\r\n  Promise.resolve(fn(req, res, next)).catch(next);\r\n};\r\n\r\nrouter.use(validateRequest);\r\n\r\n// =====================================================\r\n// HEALTH & MONITORING\r\n// =====================================================\r\n\r\n/**\r\n * GET /api/qiwa/health\r\n * Health check endpoint\r\n */\r\nrouter.get('/health', handleAsyncError(async (req, res) => {\r\n  const health = await qiwaService.healthCheck();\r\n  res.status(health.status === 'healthy' ? 200 : 503).json(health);\r\n}));\r\n\r\n/**\r\n * GET /api/qiwa/metrics\r\n * Get service metrics\r\n */\r\nrouter.get('/metrics', handleAsyncError(async (req, res) => {\r\n  const metrics = qiwaService.getMetrics();\r\n  res.json({\r\n    success: true,\r\n    metrics,\r\n    timestamp: new Date(),\r\n  });\r\n}));\r\n\r\n/**\r\n * GET /api/qiwa/history\r\n * Get request history\r\n */\r\nrouter.get('/history', handleAsyncError(async (req, res) => {\r\n  const history = qiwaService.getRequestHistory({\r\n    level: req.query.level,\r\n    limit: parseInt(req.query.limit || 100),\r\n  });\r\n\r\n  res.json({\r\n    success: true,\r\n    history,\r\n    total: history.length,\r\n    timestamp: new Date(),\r\n  });\r\n}));\r\n\r\n/**\r\n * POST /api/qiwa/cache/clear\r\n * Clear cache with optional pattern\r\n */\r\nrouter.post('/cache/clear', handleAsyncError(async (req, res) => {\r\n  const result = qiwaService.clearCache(req.body.pattern);\r\n  res.json({\r\n    success: true,\r\n    message: `Cache cleared`,\r\n    result,\r\n    timestamp: new Date(),\r\n  });\r\n}));\r\n\r\n// =====================================================\r\n// EMPLOYEE VERIFICATION\r\n// =====================================================\r\n\r\n/**\r\n * POST /api/qiwa/employees/verify/iqama\r\n * Verify employee by Iqama number\r\n *\r\n * Body:\r\n * {\r\n *   \"iqamaNumber\": \"2345678901\"\r\n * }\r\n */\r\nrouter.post('/employees/verify/iqama', handleAsyncError(async (req, res) => {\r\n  const { iqamaNumber } = req.body;\r\n\r\n  if (!iqamaNumber) {\r\n    return res.status(400).json({\r\n      success: false,\r\n      error: 'Iqama number is required',\r\n    });\r\n  }\r\n\r\n  const result = await qiwaService.verifyEmployeeByIqama(iqamaNumber);\r\n\r\n  res.json({\r\n    success: true,\r\n    data: result,\r\n    requestId: req.requestId,\r\n  });\r\n}));\r\n\r\n/**\r\n * POST /api/qiwa/employees/verify/national-id\r\n * Verify employee by National ID\r\n *\r\n * Body:\r\n * {\r\n *   \"nationalId\": \"1234567890\"\r\n * }\r\n */\r\nrouter.post('/employees/verify/national-id', handleAsyncError(async (req, res) => {\r\n  const { nationalId } = req.body;\r\n\r\n  if (!nationalId) {\r\n    return res.status(400).json({\r\n      success: false,\r\n      error: 'National ID is required',\r\n    });\r\n  }\r\n\r\n  const result = await qiwaService.verifyEmployeeByNationalId(nationalId);\r\n\r\n  res.json({\r\n    success: true,\r\n    data: result,\r\n    requestId: req.requestId,\r\n  });\r\n}));\r\n\r\n/**\r\n * GET /api/qiwa/employees/:iqamaNumber/labor-record\r\n * Get employee labor record\r\n */\r\nrouter.get('/employees/:iqamaNumber/labor-record', handleAsyncError(async (req, res) => {\r\n  const { iqamaNumber } = req.params;\r\n\r\n  const result = await qiwaService.getEmployeeLaborRecord(iqamaNumber);\r\n\r\n  res.json({\r\n    success: true,\r\n    data: result,\r\n    requestId: req.requestId,\r\n  });\r\n}));\r\n\r\n// =====================================================\r\n// CONTRACT MANAGEMENT\r\n// =====================================================\r\n\r\n/**\r\n * POST /api/qiwa/contracts/register\r\n * Register new labor contract\r\n *\r\n * Body:\r\n * {\r\n *   \"employeeIqama\": \"2345678901\",\r\n *   \"contractType\": \"unlimited|limited\",\r\n *   \"jobTitle\": \"Software Engineer\",\r\n *   \"jobTitleArabic\": \"Ù…Ù‡Ù†Ø¯Ø³ Ø¨Ø±Ù…Ø¬ÙŠØ§Øª\",\r\n *   \"basicSalary\": 15000,\r\n *   \"housingAllowance\": 5000,\r\n *   \"transportAllowance\": 1000,\r\n *   \"startDate\": \"2026-02-17\",\r\n *   \"endDate\": \"2027-02-17\",\r\n *   \"workingHours\": 8,\r\n *   \"workingDays\": [\"sun\", \"mon\", \"tue\", \"wed\", \"thu\"]\r\n * }\r\n */\r\nrouter.post('/contracts/register', handleAsyncError(async (req, res) => {\r\n  const contractData = req.body;\r\n\r\n  const result = await qiwaService.registerContract(contractData);\r\n\r\n  res.status(201).json({\r\n    success: true,\r\n    message: 'Contract registered successfully',\r\n    data: result,\r\n    requestId: req.requestId,\r\n  });\r\n}));\r\n\r\n/**\r\n * GET /api/qiwa/contracts/:contractId\r\n * Get contract details\r\n */\r\nrouter.get('/contracts/:contractId', handleAsyncError(async (req, res) => {\r\n  const { contractId } = req.params;\r\n\r\n  const result = await qiwaService.getContract(contractId);\r\n\r\n  res.json({\r\n    success: true,\r\n    data: result,\r\n    requestId: req.requestId,\r\n  });\r\n}));\r\n\r\n/**\r\n * GET /api/qiwa/contracts\r\n * List establishment contracts with optional filters\r\n *\r\n * Query:\r\n * - status: active|terminated|pending\r\n * - limit: 50\r\n * - offset: 0\r\n */\r\nrouter.get('/contracts', handleAsyncError(async (req, res) => {\r\n  const filters = {\r\n    status: req.query.status,\r\n    limit: parseInt(req.query.limit || 50),\r\n    offset: parseInt(req.query.offset || 0),\r\n  };\r\n\r\n  const result = await qiwaService.listContracts(filters);\r\n\r\n  res.json({\r\n    success: true,\r\n    data: result,\r\n    requestId: req.requestId,\r\n  });\r\n}));\r\n\r\n/**\r\n * PUT /api/qiwa/contracts/:contractId\r\n * Update existing contract\r\n *\r\n * Body: {contract update fields}\r\n */\r\nrouter.put('/contracts/:contractId', handleAsyncError(async (req, res) => {\r\n  const { contractId } = req.params;\r\n  const updates = req.body;\r\n\r\n  const result = await qiwaService.updateContract(contractId, updates);\r\n\r\n  res.json({\r\n    success: true,\r\n    message: 'Contract updated successfully',\r\n    data: result,\r\n    requestId: req.requestId,\r\n  });\r\n}));\r\n\r\n/**\r\n * POST /api/qiwa/contracts/:contractId/terminate\r\n * Terminate labor contract\r\n *\r\n * Body:\r\n * {\r\n *   \"reason\": \"resignation|dismissal|end-of-contract\",\r\n *   \"terminationDate\": \"2026-02-17\"\r\n * }\r\n */\r\nrouter.post('/contracts/:contractId/terminate', handleAsyncError(async (req, res) => {\r\n  const { contractId } = req.params;\r\n  const { reason, terminationDate } = req.body;\r\n\r\n  if (!reason) {\r\n    return res.status(400).json({\r\n      success: false,\r\n      error: 'Termination reason is required',\r\n    });\r\n  }\r\n\r\n  const result = await qiwaService.terminateContract(\r\n    contractId,\r\n    reason,\r\n    terminationDate\r\n  );\r\n\r\n  res.json({\r\n    success: true,\r\n    message: 'Contract terminated successfully',\r\n    data: result,\r\n    requestId: req.requestId,\r\n  });\r\n}));\r\n\r\n// =====================================================\r\n// WAGE MANAGEMENT\r\n// =====================================================\r\n\r\n/**\r\n * PUT /api/qiwa/employees/:iqamaNumber/wage\r\n * Update employee wage\r\n *\r\n * Body:\r\n * {\r\n *   \"basicSalary\": 15000,\r\n *   \"housingAllowance\": 5000,\r\n *   \"transportAllowance\": 1000,\r\n *   \"otherAllowances\": 0,\r\n *   \"effectiveDate\": \"2026-02-17\"\r\n * }\r\n */\r\nrouter.put('/employees/:iqamaNumber/wage', handleAsyncError(async (req, res) => {\r\n  const { iqamaNumber } = req.params;\r\n  const wageData = req.body;\r\n\r\n  const result = await qiwaService.updateEmployeeWage(iqamaNumber, wageData);\r\n\r\n  res.json({\r\n    success: true,\r\n    message: 'Wage updated successfully',\r\n    data: result,\r\n    requestId: req.requestId,\r\n  });\r\n}));\r\n\r\n/**\r\n * GET /api/qiwa/employees/:iqamaNumber/wage-history\r\n * Get employee wage history\r\n *\r\n * Query:\r\n * - months: 12 (default)\r\n */\r\nrouter.get('/employees/:iqamaNumber/wage-history', handleAsyncError(async (req, res) => {\r\n  const { iqamaNumber } = req.params;\r\n  const months = parseInt(req.query.months || 12);\r\n\r\n  const result = await qiwaService.getWageHistory(iqamaNumber, months);\r\n\r\n  res.json({\r\n    success: true,\r\n    data: result,\r\n    requestId: req.requestId,\r\n  });\r\n}));\r\n\r\n/**\r\n * POST /api/qiwa/wages/compliance-check\r\n * Check wage change compliance\r\n *\r\n * Body:\r\n * {\r\n *   \"iqamaNumber\": \"2345678901\",\r\n *   \"newWage\": {...}\r\n * }\r\n */\r\nrouter.post('/wages/compliance-check', handleAsyncError(async (req, res) => {\r\n  const { iqamaNumber, newWage } = req.body;\r\n\r\n  if (!iqamaNumber || !newWage) {\r\n    return res.status(400).json({\r\n      success: false,\r\n      error: 'Iqama number and new wage are required',\r\n    });\r\n  }\r\n\r\n  const result = await qiwaService.calculateWageCompliance(iqamaNumber, newWage);\r\n\r\n  res.json({\r\n    success: true,\r\n    data: result,\r\n    requestId: req.requestId,\r\n  });\r\n}));\r\n\r\n// =====================================================\r\n// WAGE PROTECTION SYSTEM (WPS)\r\n// =====================================================\r\n\r\n/**\r\n * POST /api/qiwa/wps/submit\r\n * Submit payroll to WPS\r\n *\r\n * Body:\r\n * {\r\n *   \"period\": \"2026-02\",\r\n *   \"submissionType\": \"regular|adjustment\",\r\n *   \"employees\": [\r\n *     {\r\n *       \"iqamaNumber\": \"2345678901\",\r\n *       \"basicSalary\": 15000,\r\n *       \"allowances\": {..},\r\n *       \"deductions\": {..},\r\n *       \"netSalary\": 19000\r\n *     }\r\n *   ]\r\n * }\r\n */\r\nrouter.post('/wps/submit', handleAsyncError(async (req, res) => {\r\n  const payrollData = req.body;\r\n\r\n  if (!payrollData.period || !payrollData.employees) {\r\n    return res.status(400).json({\r\n      success: false,\r\n      error: 'Period and employees list are required',\r\n    });\r\n  }\r\n\r\n  const result = await qiwaService.submitPayrollToWPS(payrollData);\r\n\r\n  res.status(201).json({\r\n    success: true,\r\n    message: 'Payroll submitted to WPS successfully',\r\n    data: result,\r\n    requestId: req.requestId,\r\n  });\r\n}));\r\n\r\n/**\r\n * GET /api/qiwa/wps/:submissionId/status\r\n * Get WPS submission status\r\n */\r\nrouter.get('/wps/:submissionId/status', handleAsyncError(async (req, res) => {\r\n  const { submissionId } = req.params;\r\n\r\n  const result = await qiwaService.getWPSStatus(submissionId);\r\n\r\n  res.json({\r\n    success: true,\r\n    data: result,\r\n    requestId: req.requestId,\r\n  });\r\n}));\r\n\r\n/**\r\n * GET /api/qiwa/wps/compliance-report\r\n * Get WPS compliance report\r\n *\r\n * Query:\r\n * - period: 2026-02\r\n */\r\nrouter.get('/wps/compliance-report', handleAsyncError(async (req, res) => {\r\n  const { period } = req.query;\r\n\r\n  if (!period) {\r\n    return res.status(400).json({\r\n      success: false,\r\n      error: 'Period is required (format: YYYY-MM)',\r\n    });\r\n  }\r\n\r\n  const result = await qiwaService.getWPSComplianceReport(period);\r\n\r\n  res.json({\r\n    success: true,\r\n    data: result,\r\n    requestId: req.requestId,\r\n  });\r\n}));\r\n\r\n// =====================================================\r\n// NITAQAT (WORKFORCE LOCALIZATION)\r\n// =====================================================\r\n\r\n/**\r\n * GET /api/qiwa/nitaqat/status\r\n * Get establishment Nitaqat status\r\n */\r\nrouter.get('/nitaqat/status', handleAsyncError(async (req, res) => {\r\n  const result = await qiwaService.getNitaqatStatus();\r\n\r\n  res.json({\r\n    success: true,\r\n    data: result,\r\n    requestId: req.requestId,\r\n  });\r\n}));\r\n\r\n/**\r\n * GET /api/qiwa/nitaqat/compliance\r\n * Get Nitaqat compliance details\r\n */\r\nrouter.get('/nitaqat/compliance', handleAsyncError(async (req, res) => {\r\n  const result = await qiwaService.getNitaqatCompliance();\r\n\r\n  res.json({\r\n    success: true,\r\n    data: result,\r\n    requestId: req.requestId,\r\n  });\r\n}));\r\n\r\n/**\r\n * POST /api/qiwa/nitaqat/calculate-points\r\n * Calculate Nitaqat points for labor force\r\n *\r\n * Body:\r\n * {\r\n *   \"workforce\": [\r\n *     {\r\n *       \"iqamaNumber\": \"2345678901\",\r\n *       \"nationality\": \"Saudi|Non-Saudi\",\r\n *       \"position\": \"Manager|Specialist|Technician\"\r\n *     }\r\n *   ]\r\n * }\r\n */\r\nrouter.post('/nitaqat/calculate-points', handleAsyncError(async (req, res) => {\r\n  const { workforce } = req.body;\r\n\r\n  if (!workforce || !Array.isArray(workforce)) {\r\n    return res.status(400).json({\r\n      success: false,\r\n      error: 'Workforce array is required',\r\n    });\r\n  }\r\n\r\n  const result = await qiwaService.calculateNitaqatPoints(workforce);\r\n\r\n  res.json({\r\n    success: true,\r\n    data: result,\r\n    requestId: req.requestId,\r\n  });\r\n}));\r\n\r\n// =====================================================\r\n// BATCH OPERATIONS\r\n// =====================================================\r\n\r\n/**\r\n * POST /api/qiwa/batch/register-contracts\r\n * Batch register multiple contracts\r\n *\r\n * Body:\r\n * {\r\n *   \"contracts\": [\r\n *     {contract data},\r\n *     {contract data}\r\n *   ]\r\n * }\r\n */\r\nrouter.post('/batch/register-contracts', handleAsyncError(async (req, res) => {\r\n  const { contracts } = req.body;\r\n\r\n  if (!contracts || !Array.isArray(contracts)) {\r\n    return res.status(400).json({\r\n      success: false,\r\n      error: 'Contracts array is required',\r\n    });\r\n  }\r\n\r\n  const result = await qiwaService.batchRegisterContracts(contracts);\r\n\r\n  res.status(207).json({\r\n    success: true,\r\n    message: 'Batch contract registration completed',\r\n    data: result,\r\n    requestId: req.requestId,\r\n  });\r\n}));\r\n\r\n/**\r\n * POST /api/qiwa/batch/update-wages\r\n * Batch update wages\r\n *\r\n * Body:\r\n * {\r\n *   \"updates\": [\r\n *     {\r\n *       \"iqamaNumber\": \"2345678901\",\r\n *       \"wageData\": {...}\r\n *     }\r\n *   ]\r\n * }\r\n */\r\nrouter.post('/batch/update-wages', handleAsyncError(async (req, res) => {\r\n  const { updates } = req.body;\r\n\r\n  if (!updates || !Array.isArray(updates)) {\r\n    return res.status(400).json({\r\n      success: false,\r\n      error: 'Updates array is required',\r\n    });\r\n  }\r\n\r\n  const result = await qiwaService.batchUpdateWages(updates);\r\n\r\n  res.status(207).json({\r\n    success: true,\r\n    message: 'Batch wage update completed',\r\n    data: result,\r\n    requestId: req.requestId,\r\n  });\r\n}));\r\n\r\n// =====================================================\r\n// ERROR HANDLING\r\n// =====================================================\r\n\r\n/**\r\n * Global error handler\r\n */\r\nrouter.use((error, req, res, next) => {\r\n  console.error('[Qiwa Routes Error]', error);\r\n\r\n  const statusCode = error.statusCode || 500;\r\n  const response = {\r\n    success: false,\r\n    error: error.message || 'Internal server error',\r\n    requestId: req.requestId,\r\n  };\r\n\r\n  if (process.env.NODE_ENV === 'development') {\r\n    response.details = error.data || {};\r\n    response.stack = error.stack;\r\n  }\r\n\r\n  res.status(statusCode).json(response);\r\n});\r\n\r\nmodule.exports = router;\r\n"],"mappings":"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","ignoreList":[]}