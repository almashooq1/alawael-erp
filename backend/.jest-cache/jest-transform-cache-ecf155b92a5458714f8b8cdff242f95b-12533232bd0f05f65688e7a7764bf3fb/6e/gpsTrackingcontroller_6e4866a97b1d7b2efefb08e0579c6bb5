04b34e70a8213f795784fe8db79ba954
/**
 * GPS Tracking Controller
 * متحكم تتبع GPS المتقدم
 */

const GPSTrackingService = require('../services/gpsTrackingService');
const GPSLocation = require('../models/GPSLocation');
class GPSTrackingController {
  /**
   * تسجيل موقع جديد (WebSocket/Real-time)
   * POST /api/gps/location
   */
  static async recordLocation(req, res) {
    try {
      const {
        driverId,
        coordinates,
        speed,
        heading,
        altitude,
        accuracy,
        satellites,
        acceleration,
        seatbeltStatus,
        engineRunning
      } = req.body;

      // التحقق من المدخلات
      if (!driverId || !coordinates) {
        return res.status(400).json({
          success: false,
          message: 'معرف السائق والإحداثيات مطلوبة'
        });
      }

      // تسجيل الموقع
      const location = await GPSTrackingService.recordLocation(driverId, {
        coordinates,
        speed: speed || 0,
        heading,
        altitude,
        accuracy,
        satellites,
        acceleration,
        seatbeltStatus,
        engineRunning
      });
      return res.status(201).json({
        success: true,
        message: 'تم تسجيل الموقع بنجاح',
        location
      });
    } catch (error) {
      console.error('خطأ في تسجيل الموقع:', error);
      res.status(500).json({
        success: false,
        message: error.message
      });
    }
  }

  /**
   * الحصول على الموقع الحالي
   * GET /api/gps/location/:driverId
   */
  static async getCurrentLocation(req, res) {
    try {
      const {
        driverId
      } = req.params;
      const location = await GPSTrackingService.getCurrentLocation(driverId);
      if (!location) {
        return res.status(404).json({
          success: false,
          message: 'لا يوجد موقع متاح للسائق'
        });
      }
      return res.status(200).json({
        success: true,
        location: {
          lat: location.lat,
          lon: location.lon,
          speed: location.speed,
          heading: location.heading,
          accuracy: location.accuracy,
          timestamp: location.timestamp,
          alerts: location.getActiveAlerts()
        }
      });
    } catch (error) {
      console.error('خطأ في جلب الموقع الحالي:', error);
      res.status(500).json({
        success: false,
        message: error.message
      });
    }
  }

  /**
   * الحصول على خريطة المسار
   * GET /api/gps/route/:driverId?startTime=...&endTime=...
   */
  static async getRouteMap(req, res) {
    try {
      const {
        driverId
      } = req.params;
      const {
        startTime,
        endTime
      } = req.query;
      if (!startTime || !endTime) {
        return res.status(400).json({
          success: false,
          message: 'startTime و endTime مطلوبة'
        });
      }
      const routeMap = await GPSTrackingService.getRouteMap(driverId, new Date(startTime), new Date(endTime));
      if (!routeMap) {
        return res.status(404).json({
          success: false,
          message: 'لا توجد بيانات مسار متاحة'
        });
      }
      return res.status(200).json({
        success: true,
        route: routeMap
      });
    } catch (error) {
      console.error('خطأ في جلب المسار:', error);
      res.status(500).json({
        success: false,
        message: error.message
      });
    }
  }

  /**
   * الحصول على تقرير السلوك
   * GET /api/gps/behavior/:driverId?startTime=...&endTime=...
   */
  static async getBehaviorReport(req, res) {
    try {
      const {
        driverId
      } = req.params;
      const {
        startTime,
        endTime
      } = req.query;
      if (!startTime || !endTime) {
        // استخدام اليوم الحالي كقيمة افتراضية
        return res.status(400).json({
          success: false,
          message: 'startTime و endTime مطلوبة'
        });
      }
      const report = await GPSTrackingService.getBehaviorReport(driverId, new Date(startTime), new Date(endTime));
      return res.status(200).json({
        success: true,
        report
      });
    } catch (error) {
      console.error('خطأ في جلب تقرير السلوك:', error);
      res.status(500).json({
        success: false,
        message: error.message
      });
    }
  }

  /**
   * البحث عن السائقين بالقرب من موقع
   * GET /api/gps/nearby?longitude=...&latitude=...&distance=...
   */
  static async findNearbyDrivers(req, res) {
    try {
      const {
        longitude,
        latitude,
        distance = 1000
      } = req.query;
      if (!longitude || !latitude) {
        return res.status(400).json({
          success: false,
          message: 'longitude و latitude مطلوبة'
        });
      }
      const drivers = await GPSTrackingService.findNearbyDrivers(parseFloat(longitude), parseFloat(latitude), parseInt(distance));
      return res.status(200).json({
        success: true,
        driversCount: drivers.length,
        drivers: drivers.map(d => ({
          driverId: d.driver,
          lat: d.lat,
          lon: d.lon,
          speed: d.speed,
          distance: d.getDistanceTo({
            location: {
              coordinates: [longitude, latitude]
            }
          })
        }))
      });
    } catch (error) {
      console.error('خطأ في البحث عن السائقين:', error);
      res.status(500).json({
        success: false,
        message: error.message
      });
    }
  }

  /**
   * الحصول على إحصائيات الأسطول
   * GET /api/gps/fleet-stats?timeRange=today
   */
  static async getFleetStatistics(req, res) {
    try {
      const {
        timeRange = 'today',
        driverId
      } = req.query;
      const stats = await GPSTrackingService.getFleetStatistics(driverId, timeRange);
      return res.status(200).json({
        success: true,
        stats
      });
    } catch (error) {
      console.error('خطأ في جلب إحصائيات الأسطول:', error);
      res.status(500).json({
        success: false,
        message: error.message
      });
    }
  }

  /**
   * الحصول على سجل الموقع الكامل
   * GET /api/gps/history/:driverId?startTime=...&endTime=...&limit=100
   */
  static async getLocationHistory(req, res) {
    try {
      const {
        driverId
      } = req.params;
      const {
        startTime,
        endTime,
        limit = 100
      } = req.query;
      if (!startTime || !endTime) {
        return res.status(400).json({
          success: false,
          message: 'startTime و endTime مطلوبة'
        });
      }
      const locations = await GPSLocation.getLocationsInTimeRange(driverId, new Date(startTime), new Date(endTime)).limit(parseInt(limit)).lean();
      return res.status(200).json({
        success: true,
        locationsCount: locations.length,
        locations: locations.map(loc => ({
          lat: loc.location.coordinates[1],
          lon: loc.location.coordinates[0],
          speed: loc.speed,
          accuracy: loc.accuracy,
          timestamp: loc.timestamp
        }))
      });
    } catch (error) {
      console.error('خطأ في جلب السجل:', error);
      res.status(500).json({
        success: false,
        message: error.message
      });
    }
  }

  /**
   * تأكيد تنبيه
   * POST /api/gps/acknowledge-alert/:locationId/:alertIndex
   */
  static async acknowledgeAlert(req, res) {
    try {
      const {
        locationId,
        alertIndex
      } = req.params;
      const {
        acknowledgedBy
      } = req.body;
      const location = await GPSLocation.findById(locationId);
      if (!location) {
        return res.status(404).json({
          success: false,
          message: 'الموقع غير موجود'
        });
      }
      await location.acknowledgeAlert(parseInt(alertIndex), acknowledgedBy);
      return res.status(200).json({
        success: true,
        message: 'تم تأكيد التنبيه'
      });
    } catch (error) {
      console.error('خطأ في تأكيد التنبيه:', error);
      res.status(500).json({
        success: false,
        message: error.message
      });
    }
  }

  /**
   * الحصول على التنبيهات النشطة
   * GET /api/gps/active-alerts/:driverId
   */
  static async getActiveAlerts(req, res) {
    try {
      const {
        driverId
      } = req.params;
      const {
        limit = 10
      } = req.query;
      const locations = await GPSLocation.find({
        driver: driverId,
        'alerts.acknowledged': false
      }).select('alerts timestamp').limit(parseInt(limit)).sort({
        timestamp: -1
      });
      const activeAlerts = locations.flatMap(loc => loc.getActiveAlerts().map(alert => ({
        ...alert.toObject(),
        locationId: loc._id,
        timestamp: loc.timestamp
      })));
      return res.status(200).json({
        success: true,
        alertsCount: activeAlerts.length,
        alerts: activeAlerts
      });
    } catch (error) {
      console.error('خطأ في جلب التنبيهات:', error);
      res.status(500).json({
        success: false,
        message: error.message
      });
    }
  }

  /**
   * تصدير بيانات تتبع (CSV/PDF)
   * GET /api/gps/export/:driverId?format=csv&startTime=...&endTime=...
   */
  static async exportTrackingData(req, res) {
    try {
      const {
        driverId
      } = req.params;
      const {
        format = 'csv',
        startTime,
        endTime
      } = req.query;
      if (!startTime || !endTime) {
        return res.status(400).json({
          success: false,
          message: 'startTime و endTime مطلوبة'
        });
      }
      const locations = await GPSLocation.getLocationsInTimeRange(driverId, new Date(startTime), new Date(endTime));
      if (format === 'csv') {
        // تحويل إلى CSV
        const csvHeader = 'DateTime,Latitude,Longitude,Speed,Heading,Accuracy\n';
        const csvData = locations.map(loc => `${loc.timestamp},${loc.lat},${loc.lon},${loc.speed},${loc.heading},${loc.accuracy}`).join('\n');
        res.setHeader('Content-Type', 'text/csv');
        res.setHeader('Content-Disposition', `attachment; filename="tracking_${driverId}.csv"`);
        res.send(csvHeader + csvData);
      } else {
        return res.status(400).json({
          success: false,
          message: 'الصيغة المطلوبة غير مدعومة'
        });
      }
    } catch (error) {
      console.error('خطأ في تصدير البيانات:', error);
      res.status(500).json({
        success: false,
        message: error.message
      });
    }
  }
}
module.exports = GPSTrackingController;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJHUFNUcmFja2luZ1NlcnZpY2UiLCJyZXF1aXJlIiwiR1BTTG9jYXRpb24iLCJHUFNUcmFja2luZ0NvbnRyb2xsZXIiLCJyZWNvcmRMb2NhdGlvbiIsInJlcSIsInJlcyIsImRyaXZlcklkIiwiY29vcmRpbmF0ZXMiLCJzcGVlZCIsImhlYWRpbmciLCJhbHRpdHVkZSIsImFjY3VyYWN5Iiwic2F0ZWxsaXRlcyIsImFjY2VsZXJhdGlvbiIsInNlYXRiZWx0U3RhdHVzIiwiZW5naW5lUnVubmluZyIsImJvZHkiLCJzdGF0dXMiLCJqc29uIiwic3VjY2VzcyIsIm1lc3NhZ2UiLCJsb2NhdGlvbiIsImVycm9yIiwiY29uc29sZSIsImdldEN1cnJlbnRMb2NhdGlvbiIsInBhcmFtcyIsImxhdCIsImxvbiIsInRpbWVzdGFtcCIsImFsZXJ0cyIsImdldEFjdGl2ZUFsZXJ0cyIsImdldFJvdXRlTWFwIiwic3RhcnRUaW1lIiwiZW5kVGltZSIsInF1ZXJ5Iiwicm91dGVNYXAiLCJEYXRlIiwicm91dGUiLCJnZXRCZWhhdmlvclJlcG9ydCIsInJlcG9ydCIsImZpbmROZWFyYnlEcml2ZXJzIiwibG9uZ2l0dWRlIiwibGF0aXR1ZGUiLCJkaXN0YW5jZSIsImRyaXZlcnMiLCJwYXJzZUZsb2F0IiwicGFyc2VJbnQiLCJkcml2ZXJzQ291bnQiLCJsZW5ndGgiLCJtYXAiLCJkIiwiZHJpdmVyIiwiZ2V0RGlzdGFuY2VUbyIsImdldEZsZWV0U3RhdGlzdGljcyIsInRpbWVSYW5nZSIsInN0YXRzIiwiZ2V0TG9jYXRpb25IaXN0b3J5IiwibGltaXQiLCJsb2NhdGlvbnMiLCJnZXRMb2NhdGlvbnNJblRpbWVSYW5nZSIsImxlYW4iLCJsb2NhdGlvbnNDb3VudCIsImxvYyIsImFja25vd2xlZGdlQWxlcnQiLCJsb2NhdGlvbklkIiwiYWxlcnRJbmRleCIsImFja25vd2xlZGdlZEJ5IiwiZmluZEJ5SWQiLCJmaW5kIiwic2VsZWN0Iiwic29ydCIsImFjdGl2ZUFsZXJ0cyIsImZsYXRNYXAiLCJhbGVydCIsInRvT2JqZWN0IiwiX2lkIiwiYWxlcnRzQ291bnQiLCJleHBvcnRUcmFja2luZ0RhdGEiLCJmb3JtYXQiLCJjc3ZIZWFkZXIiLCJjc3ZEYXRhIiwiam9pbiIsInNldEhlYWRlciIsInNlbmQiLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZXMiOlsiZ3BzVHJhY2tpbmcuY29udHJvbGxlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICogR1BTIFRyYWNraW5nIENvbnRyb2xsZXJcclxuICog2YXYqtit2YPZhSDYqtiq2KjYuSBHUFMg2KfZhNmF2KrZgtiv2YVcclxuICovXHJcblxyXG5jb25zdCBHUFNUcmFja2luZ1NlcnZpY2UgPSByZXF1aXJlKCcuLi9zZXJ2aWNlcy9ncHNUcmFja2luZ1NlcnZpY2UnKTtcclxuY29uc3QgR1BTTG9jYXRpb24gPSByZXF1aXJlKCcuLi9tb2RlbHMvR1BTTG9jYXRpb24nKTtcclxuXHJcbmNsYXNzIEdQU1RyYWNraW5nQ29udHJvbGxlciB7XHJcbiAgLyoqXHJcbiAgICog2KrYs9is2YrZhCDZhdmI2YLYuSDYrNiv2YrYryAoV2ViU29ja2V0L1JlYWwtdGltZSlcclxuICAgKiBQT1NUIC9hcGkvZ3BzL2xvY2F0aW9uXHJcbiAgICovXHJcbiAgc3RhdGljIGFzeW5jIHJlY29yZExvY2F0aW9uKHJlcSwgcmVzKSB7XHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCB7IGRyaXZlcklkLCBjb29yZGluYXRlcywgc3BlZWQsIGhlYWRpbmcsIGFsdGl0dWRlLCBhY2N1cmFjeSwgc2F0ZWxsaXRlcywgYWNjZWxlcmF0aW9uLCBzZWF0YmVsdFN0YXR1cywgZW5naW5lUnVubmluZyB9ID1cclxuICAgICAgICByZXEuYm9keTtcclxuXHJcbiAgICAgIC8vINin2YTYqtit2YLZgiDZhdmGINin2YTZhdiv2K7ZhNin2KpcclxuICAgICAgaWYgKCFkcml2ZXJJZCB8fCAhY29vcmRpbmF0ZXMpIHtcclxuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oe1xyXG4gICAgICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICAgICAgICBtZXNzYWdlOiAn2YXYudix2YEg2KfZhNiz2KfYptmCINmI2KfZhNil2K3Yr9in2KvZitin2Kog2YXYt9mE2YjYqNipJyxcclxuICAgICAgICB9KTtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8g2KrYs9is2YrZhCDYp9mE2YXZiNmC2LlcclxuICAgICAgY29uc3QgbG9jYXRpb24gPSBhd2FpdCBHUFNUcmFja2luZ1NlcnZpY2UucmVjb3JkTG9jYXRpb24oZHJpdmVySWQsIHtcclxuICAgICAgICBjb29yZGluYXRlcyxcclxuICAgICAgICBzcGVlZDogc3BlZWQgfHwgMCxcclxuICAgICAgICBoZWFkaW5nLFxyXG4gICAgICAgIGFsdGl0dWRlLFxyXG4gICAgICAgIGFjY3VyYWN5LFxyXG4gICAgICAgIHNhdGVsbGl0ZXMsXHJcbiAgICAgICAgYWNjZWxlcmF0aW9uLFxyXG4gICAgICAgIHNlYXRiZWx0U3RhdHVzLFxyXG4gICAgICAgIGVuZ2luZVJ1bm5pbmcsXHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAxKS5qc29uKHtcclxuICAgICAgICBzdWNjZXNzOiB0cnVlLFxyXG4gICAgICAgIG1lc3NhZ2U6ICfYqtmFINiq2LPYrNmK2YQg2KfZhNmF2YjZgti5INio2YbYrNin2K0nLFxyXG4gICAgICAgIGxvY2F0aW9uLFxyXG4gICAgICB9KTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ9iu2LfYoyDZgdmKINiq2LPYrNmK2YQg2KfZhNmF2YjZgti5OicsIGVycm9yKTtcclxuICAgICAgcmVzLnN0YXR1cyg1MDApLmpzb24oe1xyXG4gICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgICAgIG1lc3NhZ2U6IGVycm9yLm1lc3NhZ2UsXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICog2KfZhNit2LXZiNmEINi52YTZiSDYp9mE2YXZiNmC2Lkg2KfZhNit2KfZhNmKXHJcbiAgICogR0VUIC9hcGkvZ3BzL2xvY2F0aW9uLzpkcml2ZXJJZFxyXG4gICAqL1xyXG4gIHN0YXRpYyBhc3luYyBnZXRDdXJyZW50TG9jYXRpb24ocmVxLCByZXMpIHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IHsgZHJpdmVySWQgfSA9IHJlcS5wYXJhbXM7XHJcblxyXG4gICAgICBjb25zdCBsb2NhdGlvbiA9IGF3YWl0IEdQU1RyYWNraW5nU2VydmljZS5nZXRDdXJyZW50TG9jYXRpb24oZHJpdmVySWQpO1xyXG5cclxuICAgICAgaWYgKCFsb2NhdGlvbikge1xyXG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwNCkuanNvbih7XHJcbiAgICAgICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgICAgICAgIG1lc3NhZ2U6ICfZhNinINmK2YjYrNivINmF2YjZgti5INmF2KrYp9itINmE2YTYs9in2KbZgicsXHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgICAgc3VjY2VzczogdHJ1ZSxcclxuICAgICAgICBsb2NhdGlvbjoge1xyXG4gICAgICAgICAgbGF0OiBsb2NhdGlvbi5sYXQsXHJcbiAgICAgICAgICBsb246IGxvY2F0aW9uLmxvbixcclxuICAgICAgICAgIHNwZWVkOiBsb2NhdGlvbi5zcGVlZCxcclxuICAgICAgICAgIGhlYWRpbmc6IGxvY2F0aW9uLmhlYWRpbmcsXHJcbiAgICAgICAgICBhY2N1cmFjeTogbG9jYXRpb24uYWNjdXJhY3ksXHJcbiAgICAgICAgICB0aW1lc3RhbXA6IGxvY2F0aW9uLnRpbWVzdGFtcCxcclxuICAgICAgICAgIGFsZXJ0czogbG9jYXRpb24uZ2V0QWN0aXZlQWxlcnRzKCksXHJcbiAgICAgICAgfSxcclxuICAgICAgfSk7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCfYrti32KMg2YHZiiDYrNmE2Kgg2KfZhNmF2YjZgti5INin2YTYrdin2YTZijonLCBlcnJvcik7XHJcbiAgICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHtcclxuICAgICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgICAgICBtZXNzYWdlOiBlcnJvci5tZXNzYWdlLFxyXG4gICAgICB9KTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqINin2YTYrdi12YjZhCDYudmE2Ykg2K7YsdmK2LfYqSDYp9mE2YXYs9in2LFcclxuICAgKiBHRVQgL2FwaS9ncHMvcm91dGUvOmRyaXZlcklkP3N0YXJ0VGltZT0uLi4mZW5kVGltZT0uLi5cclxuICAgKi9cclxuICBzdGF0aWMgYXN5bmMgZ2V0Um91dGVNYXAocmVxLCByZXMpIHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IHsgZHJpdmVySWQgfSA9IHJlcS5wYXJhbXM7XHJcbiAgICAgIGNvbnN0IHsgc3RhcnRUaW1lLCBlbmRUaW1lIH0gPSByZXEucXVlcnk7XHJcblxyXG4gICAgICBpZiAoIXN0YXJ0VGltZSB8fCAhZW5kVGltZSkge1xyXG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7XHJcbiAgICAgICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgICAgICAgIG1lc3NhZ2U6ICdzdGFydFRpbWUg2YggZW5kVGltZSDZhdi32YTZiNio2KknLFxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBjb25zdCByb3V0ZU1hcCA9IGF3YWl0IEdQU1RyYWNraW5nU2VydmljZS5nZXRSb3V0ZU1hcChcclxuICAgICAgICBkcml2ZXJJZCxcclxuICAgICAgICBuZXcgRGF0ZShzdGFydFRpbWUpLFxyXG4gICAgICAgIG5ldyBEYXRlKGVuZFRpbWUpXHJcbiAgICAgICk7XHJcblxyXG4gICAgICBpZiAoIXJvdXRlTWFwKSB7XHJcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDA0KS5qc29uKHtcclxuICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgICAgICAgbWVzc2FnZTogJ9mE2Kcg2KrZiNis2K8g2KjZitin2YbYp9iqINmF2LPYp9ixINmF2KrYp9it2KknLFxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcblxyXG4gICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oe1xyXG4gICAgICAgIHN1Y2Nlc3M6IHRydWUsXHJcbiAgICAgICAgcm91dGU6IHJvdXRlTWFwLFxyXG4gICAgICB9KTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ9iu2LfYoyDZgdmKINis2YTYqCDYp9mE2YXYs9in2LE6JywgZXJyb3IpO1xyXG4gICAgICByZXMuc3RhdHVzKDUwMCkuanNvbih7XHJcbiAgICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICAgICAgbWVzc2FnZTogZXJyb3IubWVzc2FnZSxcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiDYp9mE2K3YtdmI2YQg2LnZhNmJINiq2YLYsdmK2LEg2KfZhNiz2YTZiNmDXHJcbiAgICogR0VUIC9hcGkvZ3BzL2JlaGF2aW9yLzpkcml2ZXJJZD9zdGFydFRpbWU9Li4uJmVuZFRpbWU9Li4uXHJcbiAgICovXHJcbiAgc3RhdGljIGFzeW5jIGdldEJlaGF2aW9yUmVwb3J0KHJlcSwgcmVzKSB7XHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCB7IGRyaXZlcklkIH0gPSByZXEucGFyYW1zO1xyXG4gICAgICBjb25zdCB7IHN0YXJ0VGltZSwgZW5kVGltZSB9ID0gcmVxLnF1ZXJ5O1xyXG5cclxuICAgICAgaWYgKCFzdGFydFRpbWUgfHwgIWVuZFRpbWUpIHtcclxuICAgICAgICAvLyDYp9iz2KrYrtiv2KfZhSDYp9mE2YrZiNmFINin2YTYrdin2YTZiiDZg9mC2YrZhdipINin2YHYqtix2KfYttmK2KlcclxuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oe1xyXG4gICAgICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICAgICAgICBtZXNzYWdlOiAnc3RhcnRUaW1lINmIIGVuZFRpbWUg2YXYt9mE2YjYqNipJyxcclxuICAgICAgICB9KTtcclxuICAgICAgfVxyXG5cclxuICAgICAgY29uc3QgcmVwb3J0ID0gYXdhaXQgR1BTVHJhY2tpbmdTZXJ2aWNlLmdldEJlaGF2aW9yUmVwb3J0KFxyXG4gICAgICAgIGRyaXZlcklkLFxyXG4gICAgICAgIG5ldyBEYXRlKHN0YXJ0VGltZSksXHJcbiAgICAgICAgbmV3IERhdGUoZW5kVGltZSlcclxuICAgICAgKTtcclxuXHJcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgICAgc3VjY2VzczogdHJ1ZSxcclxuICAgICAgICByZXBvcnQsXHJcbiAgICAgIH0pO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcign2K7Yt9ijINmB2Yog2KzZhNioINiq2YLYsdmK2LEg2KfZhNiz2YTZiNmDOicsIGVycm9yKTtcclxuICAgICAgcmVzLnN0YXR1cyg1MDApLmpzb24oe1xyXG4gICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgICAgIG1lc3NhZ2U6IGVycm9yLm1lc3NhZ2UsXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICog2KfZhNio2K3YqyDYudmGINin2YTYs9in2KbZgtmK2YYg2KjYp9mE2YLYsdioINmF2YYg2YXZiNmC2LlcclxuICAgKiBHRVQgL2FwaS9ncHMvbmVhcmJ5P2xvbmdpdHVkZT0uLi4mbGF0aXR1ZGU9Li4uJmRpc3RhbmNlPS4uLlxyXG4gICAqL1xyXG4gIHN0YXRpYyBhc3luYyBmaW5kTmVhcmJ5RHJpdmVycyhyZXEsIHJlcykge1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3QgeyBsb25naXR1ZGUsIGxhdGl0dWRlLCBkaXN0YW5jZSA9IDEwMDAgfSA9IHJlcS5xdWVyeTtcclxuXHJcbiAgICAgIGlmICghbG9uZ2l0dWRlIHx8ICFsYXRpdHVkZSkge1xyXG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7XHJcbiAgICAgICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgICAgICAgIG1lc3NhZ2U6ICdsb25naXR1ZGUg2YggbGF0aXR1ZGUg2YXYt9mE2YjYqNipJyxcclxuICAgICAgICB9KTtcclxuICAgICAgfVxyXG5cclxuICAgICAgY29uc3QgZHJpdmVycyA9IGF3YWl0IEdQU1RyYWNraW5nU2VydmljZS5maW5kTmVhcmJ5RHJpdmVycyhcclxuICAgICAgICBwYXJzZUZsb2F0KGxvbmdpdHVkZSksXHJcbiAgICAgICAgcGFyc2VGbG9hdChsYXRpdHVkZSksXHJcbiAgICAgICAgcGFyc2VJbnQoZGlzdGFuY2UpXHJcbiAgICAgICk7XHJcblxyXG4gICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oe1xyXG4gICAgICAgIHN1Y2Nlc3M6IHRydWUsXHJcbiAgICAgICAgZHJpdmVyc0NvdW50OiBkcml2ZXJzLmxlbmd0aCxcclxuICAgICAgICBkcml2ZXJzOiBkcml2ZXJzLm1hcCgoZCkgPT4gKHtcclxuICAgICAgICAgIGRyaXZlcklkOiBkLmRyaXZlcixcclxuICAgICAgICAgIGxhdDogZC5sYXQsXHJcbiAgICAgICAgICBsb246IGQubG9uLFxyXG4gICAgICAgICAgc3BlZWQ6IGQuc3BlZWQsXHJcbiAgICAgICAgICBkaXN0YW5jZTogZC5nZXREaXN0YW5jZVRvKHsgbG9jYXRpb246IHsgY29vcmRpbmF0ZXM6IFtsb25naXR1ZGUsIGxhdGl0dWRlXSB9IH0pLFxyXG4gICAgICAgIH0pKSxcclxuICAgICAgfSk7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCfYrti32KMg2YHZiiDYp9mE2KjYrdirINi52YYg2KfZhNiz2KfYptmC2YrZhjonLCBlcnJvcik7XHJcbiAgICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHtcclxuICAgICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgICAgICBtZXNzYWdlOiBlcnJvci5tZXNzYWdlLFxyXG4gICAgICB9KTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqINin2YTYrdi12YjZhCDYudmE2Ykg2KXYrdi12KfYptmK2KfYqiDYp9mE2KPYs9i32YjZhFxyXG4gICAqIEdFVCAvYXBpL2dwcy9mbGVldC1zdGF0cz90aW1lUmFuZ2U9dG9kYXlcclxuICAgKi9cclxuICBzdGF0aWMgYXN5bmMgZ2V0RmxlZXRTdGF0aXN0aWNzKHJlcSwgcmVzKSB7XHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCB7IHRpbWVSYW5nZSA9ICd0b2RheScsIGRyaXZlcklkIH0gPSByZXEucXVlcnk7XHJcblxyXG4gICAgICBjb25zdCBzdGF0cyA9IGF3YWl0IEdQU1RyYWNraW5nU2VydmljZS5nZXRGbGVldFN0YXRpc3RpY3MoZHJpdmVySWQsIHRpbWVSYW5nZSk7XHJcblxyXG4gICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oe1xyXG4gICAgICAgIHN1Y2Nlc3M6IHRydWUsXHJcbiAgICAgICAgc3RhdHMsXHJcbiAgICAgIH0pO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcign2K7Yt9ijINmB2Yog2KzZhNioINil2K3Ytdin2KbZitin2Kog2KfZhNij2LPYt9mI2YQ6JywgZXJyb3IpO1xyXG4gICAgICByZXMuc3RhdHVzKDUwMCkuanNvbih7XHJcbiAgICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICAgICAgbWVzc2FnZTogZXJyb3IubWVzc2FnZSxcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiDYp9mE2K3YtdmI2YQg2LnZhNmJINiz2KzZhCDYp9mE2YXZiNmC2Lkg2KfZhNmD2KfZhdmEXHJcbiAgICogR0VUIC9hcGkvZ3BzL2hpc3RvcnkvOmRyaXZlcklkP3N0YXJ0VGltZT0uLi4mZW5kVGltZT0uLi4mbGltaXQ9MTAwXHJcbiAgICovXHJcbiAgc3RhdGljIGFzeW5jIGdldExvY2F0aW9uSGlzdG9yeShyZXEsIHJlcykge1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3QgeyBkcml2ZXJJZCB9ID0gcmVxLnBhcmFtcztcclxuICAgICAgY29uc3QgeyBzdGFydFRpbWUsIGVuZFRpbWUsIGxpbWl0ID0gMTAwIH0gPSByZXEucXVlcnk7XHJcblxyXG4gICAgICBpZiAoIXN0YXJ0VGltZSB8fCAhZW5kVGltZSkge1xyXG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7XHJcbiAgICAgICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgICAgICAgIG1lc3NhZ2U6ICdzdGFydFRpbWUg2YggZW5kVGltZSDZhdi32YTZiNio2KknLFxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBjb25zdCBsb2NhdGlvbnMgPSBhd2FpdCBHUFNMb2NhdGlvbi5nZXRMb2NhdGlvbnNJblRpbWVSYW5nZShcclxuICAgICAgICBkcml2ZXJJZCxcclxuICAgICAgICBuZXcgRGF0ZShzdGFydFRpbWUpLFxyXG4gICAgICAgIG5ldyBEYXRlKGVuZFRpbWUpXHJcbiAgICAgIClcclxuICAgICAgICAubGltaXQocGFyc2VJbnQobGltaXQpKVxyXG4gICAgICAgIC5sZWFuKCk7XHJcblxyXG4gICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oe1xyXG4gICAgICAgIHN1Y2Nlc3M6IHRydWUsXHJcbiAgICAgICAgbG9jYXRpb25zQ291bnQ6IGxvY2F0aW9ucy5sZW5ndGgsXHJcbiAgICAgICAgbG9jYXRpb25zOiBsb2NhdGlvbnMubWFwKChsb2MpID0+ICh7XHJcbiAgICAgICAgICBsYXQ6IGxvYy5sb2NhdGlvbi5jb29yZGluYXRlc1sxXSxcclxuICAgICAgICAgIGxvbjogbG9jLmxvY2F0aW9uLmNvb3JkaW5hdGVzWzBdLFxyXG4gICAgICAgICAgc3BlZWQ6IGxvYy5zcGVlZCxcclxuICAgICAgICAgIGFjY3VyYWN5OiBsb2MuYWNjdXJhY3ksXHJcbiAgICAgICAgICB0aW1lc3RhbXA6IGxvYy50aW1lc3RhbXAsXHJcbiAgICAgICAgfSkpLFxyXG4gICAgICB9KTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ9iu2LfYoyDZgdmKINis2YTYqCDYp9mE2LPYrNmEOicsIGVycm9yKTtcclxuICAgICAgcmVzLnN0YXR1cyg1MDApLmpzb24oe1xyXG4gICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgICAgIG1lc3NhZ2U6IGVycm9yLm1lc3NhZ2UsXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICog2KrYo9mD2YrYryDYqtmG2KjZitmHXHJcbiAgICogUE9TVCAvYXBpL2dwcy9hY2tub3dsZWRnZS1hbGVydC86bG9jYXRpb25JZC86YWxlcnRJbmRleFxyXG4gICAqL1xyXG4gIHN0YXRpYyBhc3luYyBhY2tub3dsZWRnZUFsZXJ0KHJlcSwgcmVzKSB7XHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCB7IGxvY2F0aW9uSWQsIGFsZXJ0SW5kZXggfSA9IHJlcS5wYXJhbXM7XHJcbiAgICAgIGNvbnN0IHsgYWNrbm93bGVkZ2VkQnkgfSA9IHJlcS5ib2R5O1xyXG5cclxuICAgICAgY29uc3QgbG9jYXRpb24gPSBhd2FpdCBHUFNMb2NhdGlvbi5maW5kQnlJZChsb2NhdGlvbklkKTtcclxuXHJcbiAgICAgIGlmICghbG9jYXRpb24pIHtcclxuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDQpLmpzb24oe1xyXG4gICAgICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICAgICAgICBtZXNzYWdlOiAn2KfZhNmF2YjZgti5INi62YrYsSDZhdmI2KzZiNivJyxcclxuICAgICAgICB9KTtcclxuICAgICAgfVxyXG5cclxuICAgICAgYXdhaXQgbG9jYXRpb24uYWNrbm93bGVkZ2VBbGVydChwYXJzZUludChhbGVydEluZGV4KSwgYWNrbm93bGVkZ2VkQnkpO1xyXG5cclxuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICBzdWNjZXNzOiB0cnVlLFxyXG4gICAgICAgIG1lc3NhZ2U6ICfYqtmFINiq2KPZg9mK2K8g2KfZhNiq2YbYqNmK2YcnLFxyXG4gICAgICB9KTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ9iu2LfYoyDZgdmKINiq2KPZg9mK2K8g2KfZhNiq2YbYqNmK2Yc6JywgZXJyb3IpO1xyXG4gICAgICByZXMuc3RhdHVzKDUwMCkuanNvbih7XHJcbiAgICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICAgICAgbWVzc2FnZTogZXJyb3IubWVzc2FnZSxcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiDYp9mE2K3YtdmI2YQg2LnZhNmJINin2YTYqtmG2KjZitmH2KfYqiDYp9mE2YbYtNi32KlcclxuICAgKiBHRVQgL2FwaS9ncHMvYWN0aXZlLWFsZXJ0cy86ZHJpdmVySWRcclxuICAgKi9cclxuICBzdGF0aWMgYXN5bmMgZ2V0QWN0aXZlQWxlcnRzKHJlcSwgcmVzKSB7XHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCB7IGRyaXZlcklkIH0gPSByZXEucGFyYW1zO1xyXG4gICAgICBjb25zdCB7IGxpbWl0ID0gMTAgfSA9IHJlcS5xdWVyeTtcclxuXHJcbiAgICAgIGNvbnN0IGxvY2F0aW9ucyA9IGF3YWl0IEdQU0xvY2F0aW9uLmZpbmQoeyBkcml2ZXI6IGRyaXZlcklkLCAnYWxlcnRzLmFja25vd2xlZGdlZCc6IGZhbHNlIH0pXHJcbiAgICAgICAgLnNlbGVjdCgnYWxlcnRzIHRpbWVzdGFtcCcpXHJcbiAgICAgICAgLmxpbWl0KHBhcnNlSW50KGxpbWl0KSlcclxuICAgICAgICAuc29ydCh7IHRpbWVzdGFtcDogLTEgfSk7XHJcblxyXG4gICAgICBjb25zdCBhY3RpdmVBbGVydHMgPSBsb2NhdGlvbnMuZmxhdE1hcCgobG9jKSA9PlxyXG4gICAgICAgIGxvYy5nZXRBY3RpdmVBbGVydHMoKS5tYXAoKGFsZXJ0KSA9PiAoe1xyXG4gICAgICAgICAgLi4uYWxlcnQudG9PYmplY3QoKSxcclxuICAgICAgICAgIGxvY2F0aW9uSWQ6IGxvYy5faWQsXHJcbiAgICAgICAgICB0aW1lc3RhbXA6IGxvYy50aW1lc3RhbXAsXHJcbiAgICAgICAgfSkpXHJcbiAgICAgICk7XHJcblxyXG4gICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oe1xyXG4gICAgICAgIHN1Y2Nlc3M6IHRydWUsXHJcbiAgICAgICAgYWxlcnRzQ291bnQ6IGFjdGl2ZUFsZXJ0cy5sZW5ndGgsXHJcbiAgICAgICAgYWxlcnRzOiBhY3RpdmVBbGVydHMsXHJcbiAgICAgIH0pO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcign2K7Yt9ijINmB2Yog2KzZhNioINin2YTYqtmG2KjZitmH2KfYqjonLCBlcnJvcik7XHJcbiAgICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHtcclxuICAgICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgICAgICBtZXNzYWdlOiBlcnJvci5tZXNzYWdlLFxyXG4gICAgICB9KTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqINiq2LXYr9mK2LEg2KjZitin2YbYp9iqINiq2KrYqNi5IChDU1YvUERGKVxyXG4gICAqIEdFVCAvYXBpL2dwcy9leHBvcnQvOmRyaXZlcklkP2Zvcm1hdD1jc3Ymc3RhcnRUaW1lPS4uLiZlbmRUaW1lPS4uLlxyXG4gICAqL1xyXG4gIHN0YXRpYyBhc3luYyBleHBvcnRUcmFja2luZ0RhdGEocmVxLCByZXMpIHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IHsgZHJpdmVySWQgfSA9IHJlcS5wYXJhbXM7XHJcbiAgICAgIGNvbnN0IHsgZm9ybWF0ID0gJ2NzdicsIHN0YXJ0VGltZSwgZW5kVGltZSB9ID0gcmVxLnF1ZXJ5O1xyXG5cclxuICAgICAgaWYgKCFzdGFydFRpbWUgfHwgIWVuZFRpbWUpIHtcclxuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oe1xyXG4gICAgICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICAgICAgICBtZXNzYWdlOiAnc3RhcnRUaW1lINmIIGVuZFRpbWUg2YXYt9mE2YjYqNipJyxcclxuICAgICAgICB9KTtcclxuICAgICAgfVxyXG5cclxuICAgICAgY29uc3QgbG9jYXRpb25zID0gYXdhaXQgR1BTTG9jYXRpb24uZ2V0TG9jYXRpb25zSW5UaW1lUmFuZ2UoXHJcbiAgICAgICAgZHJpdmVySWQsXHJcbiAgICAgICAgbmV3IERhdGUoc3RhcnRUaW1lKSxcclxuICAgICAgICBuZXcgRGF0ZShlbmRUaW1lKVxyXG4gICAgICApO1xyXG5cclxuICAgICAgaWYgKGZvcm1hdCA9PT0gJ2NzdicpIHtcclxuICAgICAgICAvLyDYqtit2YjZitmEINil2YTZiSBDU1ZcclxuICAgICAgICBjb25zdCBjc3ZIZWFkZXIgPSAnRGF0ZVRpbWUsTGF0aXR1ZGUsTG9uZ2l0dWRlLFNwZWVkLEhlYWRpbmcsQWNjdXJhY3lcXG4nO1xyXG4gICAgICAgIGNvbnN0IGNzdkRhdGEgPSBsb2NhdGlvbnNcclxuICAgICAgICAgIC5tYXAoKGxvYykgPT4gYCR7bG9jLnRpbWVzdGFtcH0sJHtsb2MubGF0fSwke2xvYy5sb259LCR7bG9jLnNwZWVkfSwke2xvYy5oZWFkaW5nfSwke2xvYy5hY2N1cmFjeX1gKVxyXG4gICAgICAgICAgLmpvaW4oJ1xcbicpO1xyXG5cclxuICAgICAgICByZXMuc2V0SGVhZGVyKCdDb250ZW50LVR5cGUnLCAndGV4dC9jc3YnKTtcclxuICAgICAgICByZXMuc2V0SGVhZGVyKCdDb250ZW50LURpc3Bvc2l0aW9uJywgYGF0dGFjaG1lbnQ7IGZpbGVuYW1lPVwidHJhY2tpbmdfJHtkcml2ZXJJZH0uY3N2XCJgKTtcclxuICAgICAgICByZXMuc2VuZChjc3ZIZWFkZXIgKyBjc3ZEYXRhKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oe1xyXG4gICAgICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICAgICAgICBtZXNzYWdlOiAn2KfZhNi12YrYutipINin2YTZhdi32YTZiNio2Kkg2LrZitixINmF2K/YudmI2YXYqScsXHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ9iu2LfYoyDZgdmKINiq2LXYr9mK2LEg2KfZhNio2YrYp9mG2KfYqjonLCBlcnJvcik7XHJcbiAgICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHtcclxuICAgICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgICAgICBtZXNzYWdlOiBlcnJvci5tZXNzYWdlLFxyXG4gICAgICB9KTtcclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcbm1vZHVsZS5leHBvcnRzID0gR1BTVHJhY2tpbmdDb250cm9sbGVyO1xyXG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLE1BQU1BLGtCQUFrQixHQUFHQyxPQUFPLENBQUMsZ0NBQWdDLENBQUM7QUFDcEUsTUFBTUMsV0FBVyxHQUFHRCxPQUFPLENBQUMsdUJBQXVCLENBQUM7QUFFcEQsTUFBTUUscUJBQXFCLENBQUM7RUFDMUI7QUFDRjtBQUNBO0FBQ0E7RUFDRSxhQUFhQyxjQUFjQSxDQUFDQyxHQUFHLEVBQUVDLEdBQUcsRUFBRTtJQUNwQyxJQUFJO01BQ0YsTUFBTTtRQUFFQyxRQUFRO1FBQUVDLFdBQVc7UUFBRUMsS0FBSztRQUFFQyxPQUFPO1FBQUVDLFFBQVE7UUFBRUMsUUFBUTtRQUFFQyxVQUFVO1FBQUVDLFlBQVk7UUFBRUMsY0FBYztRQUFFQztNQUFjLENBQUMsR0FDMUhYLEdBQUcs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