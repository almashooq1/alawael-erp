{"version":3,"names":["express","require","router","Router","SpecializedProgram","DISABILITY_TYPES","SEVERITY_LEVELS","get","req","res","disabilityType","isActive","page","limit","sortBy","sortOrder","query","filter","skip","programs","model","find","sort","parseInt","total","countDocuments","success","pagination","pages","Math","ceil","error","types","severityLevels","program","findById","params","id","enrichedProgram","toObject","activitiesCount","activities","length","materialsCount","materials","equipmentCount","requiredEquipment","post","name","code","description","supportedSeverityLevels","ageGroup","sessionConfig","programGoals","qualifiedSpecialists","eligibilityCriteria","expectedOutcomes","pricing","body","existingProgram","findOne","newProgram","createdBy","user","status","save","put","allowedFields","forEach","field","undefined","updatedBy","updatedAt","Date","delete","programId","_id","programName","statistics","lastUpdated","module","exports"],"sources":["specializedPrograms.js"],"sourcesContent":["/**\r\n * API البرامج المتخصصة - Specialized Programs API\r\n * يدير عمليات CRUD والتقارير الخاصة بالبرامج\r\n */\r\n\r\nconst express = require('express');\r\nconst router = express.Router();\r\nconst {\r\n  SpecializedProgram,\r\n  DISABILITY_TYPES,\r\n  SEVERITY_LEVELS,\r\n} = require('../models/specializedProgram');\r\n\r\n/**\r\n * GET /api/programs\r\n * الحصول على قائمة البرامج مع التصفية والترتيب\r\n */\r\nrouter.get('/', async (req, res) => {\r\n  try {\r\n    const {\r\n      disabilityType,\r\n      isActive = true,\r\n      page = 1,\r\n      limit = 20,\r\n      sortBy = 'createdAt',\r\n      sortOrder = -1,\r\n    } = req.query;\r\n\r\n    const filter = { isActive };\r\n    if (disabilityType) filter.disabilityType = disabilityType;\r\n\r\n    const skip = (page - 1) * limit;\r\n\r\n    const programs = await SpecializedProgram.model\r\n      .find(filter)\r\n      .sort({ [sortBy]: parseInt(sortOrder) })\r\n      .skip(skip)\r\n      .limit(parseInt(limit));\r\n\r\n    const total = await SpecializedProgram.model.countDocuments(filter);\r\n\r\n    res.success(\r\n      {\r\n        programs,\r\n        pagination: {\r\n          total,\r\n          page: parseInt(page),\r\n          limit: parseInt(limit),\r\n          pages: Math.ceil(total / limit),\r\n        },\r\n      },\r\n      'تم جلب البرامج بنجاح'\r\n    );\r\n  } catch (error) {\r\n    res.error(error, 'فشل في جلب البرامج');\r\n  }\r\n});\r\n\r\n/**\r\n * GET /api/programs/disability-types\r\n * الحصول على قائمة أنواع الإعاقات المدعومة\r\n */\r\nrouter.get('/disability-types', (req, res) => {\r\n  try {\r\n    res.success(\r\n      {\r\n        types: DISABILITY_TYPES,\r\n        severityLevels: SEVERITY_LEVELS,\r\n      },\r\n      'تم جلب أنواع الإعاقات'\r\n    );\r\n  } catch (error) {\r\n    res.error(error, 'فشل في جلب أنواع الإعاقات');\r\n  }\r\n});\r\n\r\n/**\r\n * GET /api/programs/:id\r\n * الحصول على تفاصيل برنامج واحد\r\n */\r\nrouter.get('/:id', async (req, res) => {\r\n  try {\r\n    const program = await SpecializedProgram.model.findById(req.params.id);\r\n\r\n    if (!program) {\r\n      return res.error('البرنامج غير موجود', 'Program not found', 404);\r\n    }\r\n\r\n    // جلب الأنشطة والمواد المرتبطة إذا كانت موجودة\r\n    const enrichedProgram = {\r\n      ...program.toObject(),\r\n      activitiesCount: program.activities?.length || 0,\r\n      materialsCount: program.materials?.length || 0,\r\n      equipmentCount: program.requiredEquipment?.length || 0,\r\n    };\r\n\r\n    res.success(enrichedProgram, 'تم جلب تفاصيل البرنامج');\r\n  } catch (error) {\r\n    res.error(error, 'فشل في جلب البرنامج');\r\n  }\r\n});\r\n\r\n/**\r\n * POST /api/programs\r\n * إنشاء برنامج متخصص جديد\r\n */\r\nrouter.post('/', async (req, res) => {\r\n  try {\r\n    const {\r\n      name,\r\n      code,\r\n      description,\r\n      disabilityType,\r\n      supportedSeverityLevels,\r\n      ageGroup,\r\n      sessionConfig,\r\n      programGoals,\r\n      activities,\r\n      requiredEquipment,\r\n      materials,\r\n      qualifiedSpecialists,\r\n      eligibilityCriteria,\r\n      expectedOutcomes,\r\n      pricing,\r\n    } = req.body;\r\n\r\n    // التحقق من البيانات المطلوبة\r\n    if (!name || !code || !disabilityType) {\r\n      return res.error('البيانات المطلوبة غير مكتملة', 'Missing required fields', 400);\r\n    }\r\n\r\n    // التحقق من فريادة الكود\r\n    const existingProgram = await SpecializedProgram.model.findOne({ code });\r\n    if (existingProgram) {\r\n      return res.error('هذا الكود مستخدم بالفعل', 'Code already exists', 400);\r\n    }\r\n\r\n    const newProgram = new SpecializedProgram.model({\r\n      name,\r\n      code,\r\n      description,\r\n      disabilityType,\r\n      supportedSeverityLevels: supportedSeverityLevels || [],\r\n      ageGroup,\r\n      sessionConfig: sessionConfig || {},\r\n      programGoals: programGoals || [],\r\n      activities: activities || [],\r\n      requiredEquipment: requiredEquipment || [],\r\n      materials: materials || [],\r\n      qualifiedSpecialists: qualifiedSpecialists || [],\r\n      eligibilityCriteria: eligibilityCriteria || {},\r\n      expectedOutcomes: expectedOutcomes || [],\r\n      pricing,\r\n      createdBy: req.user?.id,\r\n      status: 'draft',\r\n    });\r\n\r\n    await newProgram.save();\r\n\r\n    res.success(newProgram, 'تم إنشاء البرنامج بنجاح', 201);\r\n  } catch (error) {\r\n    res.error(error, 'فشل في إنشاء البرنامج');\r\n  }\r\n});\r\n\r\n/**\r\n * PUT /api/programs/:id\r\n * تحديث برنامج متخصص\r\n */\r\nrouter.put('/:id', async (req, res) => {\r\n  try {\r\n    const program = await SpecializedProgram.model.findById(req.params.id);\r\n\r\n    if (!program) {\r\n      return res.error('البرنامج غير موجود', 'Program not found', 404);\r\n    }\r\n\r\n    // تحديث الحقول المسموحة\r\n    const allowedFields = [\r\n      'name',\r\n      'description',\r\n      'supportedSeverityLevels',\r\n      'ageGroup',\r\n      'sessionConfig',\r\n      'programGoals',\r\n      'activities',\r\n      'requiredEquipment',\r\n      'materials',\r\n      'qualifiedSpecialists',\r\n      'eligibilityCriteria',\r\n      'expectedOutcomes',\r\n      'pricing',\r\n      'specialNotes',\r\n      'isActive',\r\n      'status',\r\n    ];\r\n\r\n    allowedFields.forEach(field => {\r\n      if (req.body[field] !== undefined) {\r\n        program[field] = req.body[field];\r\n      }\r\n    });\r\n\r\n    program.updatedBy = req.user?.id;\r\n    program.updatedAt = new Date();\r\n\r\n    await program.save();\r\n\r\n    res.success(program, 'تم تحديث البرنامج بنجاح');\r\n  } catch (error) {\r\n    res.error(error, 'فشل في تحديث البرنامج');\r\n  }\r\n});\r\n\r\n/**\r\n * DELETE /api/programs/:id\r\n * حذف برنامج (تأرشيف فقط، لا حذف حقيقي)\r\n */\r\nrouter.delete('/:id', async (req, res) => {\r\n  try {\r\n    const program = await SpecializedProgram.model.findById(req.params.id);\r\n\r\n    if (!program) {\r\n      return res.error('البرنامج غير موجود', 'Program not found', 404);\r\n    }\r\n\r\n    program.isActive = false;\r\n    program.status = 'archived';\r\n    program.updatedBy = req.user?.id;\r\n    program.updatedAt = new Date();\r\n\r\n    await program.save();\r\n\r\n    res.success(program, 'تم أرشفة البرنامج بنجاح');\r\n  } catch (error) {\r\n    res.error(error, 'فشل في حذف البرنامج');\r\n  }\r\n});\r\n\r\n/**\r\n * GET /api/programs/by-disability/:disabilityType\r\n * الحصول على البرامج حسب نوع الإعاقة\r\n */\r\nrouter.get('/by-disability/:disabilityType', async (req, res) => {\r\n  try {\r\n    const programs = await SpecializedProgram.model.find({\r\n      disabilityType: req.params.disabilityType,\r\n      isActive: true,\r\n    });\r\n\r\n    if (programs.length === 0) {\r\n      return res.success([], 'لا توجد برامج لهذا النوع من الإعاقة');\r\n    }\r\n\r\n    res.success(programs, `تم جلب ${programs.length} برامج لنوع الإعاقة المحدد`);\r\n  } catch (error) {\r\n    res.error(error, 'فشل في جلب البرامج');\r\n  }\r\n});\r\n\r\n/**\r\n * POST /api/programs/:id/activate\r\n * تفعيل برنامج\r\n */\r\nrouter.post('/:id/activate', async (req, res) => {\r\n  try {\r\n    const program = await SpecializedProgram.model.findById(req.params.id);\r\n\r\n    if (!program) {\r\n      return res.error('البرنامج غير موجود', 'Program not found', 404);\r\n    }\r\n\r\n    program.isActive = true;\r\n    program.status = 'active';\r\n    program.updatedBy = req.user?.id;\r\n\r\n    await program.save();\r\n\r\n    res.success(program, 'تم تفعيل البرنامج بنجاح');\r\n  } catch (error) {\r\n    res.error(error, 'فشل في تفعيل البرنامج');\r\n  }\r\n});\r\n\r\n/**\r\n * GET /api/programs/:id/statistics\r\n * الحصول على إحصائيات البرنامج\r\n */\r\nrouter.get('/:id/statistics', async (req, res) => {\r\n  try {\r\n    const program = await SpecializedProgram.model.findById(req.params.id);\r\n\r\n    if (!program) {\r\n      return res.error('البرنامج غير موجود', 'Program not found', 404);\r\n    }\r\n\r\n    res.success(\r\n      {\r\n        programId: program._id,\r\n        programName: program.name,\r\n        statistics: program.statistics || {},\r\n        lastUpdated: program.updatedAt,\r\n      },\r\n      'تم جلب إحصائيات البرنامج'\r\n    );\r\n  } catch (error) {\r\n    res.error(error, 'فشل في جلب الإحصائيات');\r\n  }\r\n});\r\n\r\nmodule.exports = router;\r\n"],"mappings":"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","ignoreList":[]}