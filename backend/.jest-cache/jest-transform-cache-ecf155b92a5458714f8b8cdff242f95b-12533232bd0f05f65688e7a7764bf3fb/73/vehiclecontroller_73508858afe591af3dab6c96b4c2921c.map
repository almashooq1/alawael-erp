{"version":3,"names":["Vehicle","require","GPSTrackingService","VehicleController","createVehicle","req","res","currentYear","Date","getFullYear","body","year","status","json","success","message","existingVehicle","findOne","plateNumber","vehicle","save","data","error","getAllVehicles","type","search","page","limit","query","$regex","$options","vehicles","find","populate","skip","sort","createdAt","count","countDocuments","totalPages","Math","ceil","total","currentPage","parseInt","getVehicleById","findById","params","id","updateVehicle","findByIdAndUpdate","new","runValidators","deleteVehicle","findByIdAndDelete","updateGPS","longitude","latitude","speed","heading","undefined","location","coordinates","updateGPSLocation","currentLocation","gpsDevice","currentSpeed","addEmergencyAlert","severity","description","safety","emergencyAlerts","length","updateFuel","distance","refill","updateFuelConsumption","fuelConsumption","currentFuelLevel","min","tankCapacity","liters","lastRefill","date","cost","currentLevel","fuelStatus","findNearbyVehicles","maxDistance","findNearby","parseFloat","findAvailableVehicles","capacity","findAvailable","getVehicleStatistics","stats","basic","vehicleNumber","performance","totalDistance","statistics","totalDistanceCovered","averageSpeed","totalTrips","tripCount","fuel","totalConsumed","totalFuelConsumed","averageConsumption","maintenance","maintenanceStatus","nextDate","nextMaintenanceDate","totalCost","totalMaintenanceCost","odometer","activeAlerts","filter","a","resolved","totalIncidents","lastInspection","lastInspectionDate","assignDriver","driverId","currentDriver","listVehicleStatistics","active","v","outOfService","byType","bus","van","car","truck","lowFuelCount","fuelLevel","getLowFuelVehicles","threshold","$or","$lt","addMaintenanceRecord","workshop","maintenanceRecord","maintenanceHistory","push","lastMaintenanceDate","updatedVehicle","console","module","exports"],"sources":["vehicle.controller.js"],"sourcesContent":["/**\r\n * Vehicle Controller - إدارة المركبات\r\n */\r\n\r\nconst Vehicle = require('../models/Vehicle');\r\nconst GPSTrackingService = require('../services/gpsTracking.service');\r\n\r\nclass VehicleController {\r\n  /**\r\n   * إنشاء مركبة جديدة\r\n   * POST /api/vehicles\r\n   */\r\n  static async createVehicle(req, res) {\r\n    try {\r\n      // Validate year range (1990 to current year)\r\n      const currentYear = new Date().getFullYear();\r\n      if (req.body.year && (req.body.year < 1990 || req.body.year > currentYear)) {\r\n        return res.status(400).json({\r\n          success: false,\r\n          message: `Year must be between 1990 and ${currentYear}`,\r\n        });\r\n      }\r\n\r\n      // Check for duplicate plate number\r\n      const existingVehicle = await Vehicle.findOne({ plateNumber: req.body.plateNumber });\r\n      if (existingVehicle) {\r\n        return res.status(400).json({\r\n          success: false,\r\n          message: `Vehicle with plate number ${req.body.plateNumber} already exists`,\r\n        });\r\n      }\r\n\r\n      const vehicle = new Vehicle(req.body);\r\n      await vehicle.save();\r\n\r\n      res.status(201).json({\r\n        success: true,\r\n        message: 'تم إنشاء المركبة بنجاح',\r\n        data: vehicle,\r\n      });\r\n    } catch (error) {\r\n      res.status(400).json({\r\n        success: false,\r\n        message: 'فشل إنشاء المركبة',\r\n        error: error.message,\r\n      });\r\n    }\r\n  }\r\n\r\n  /**\r\n   * جلب جميع المركبات\r\n   * GET /api/vehicles\r\n   */\r\n  static async getAllVehicles(req, res) {\r\n    try {\r\n      const { status, type, search, page = 1, limit = 20 } = req.query;\r\n      const query = {};\r\n\r\n      if (status) query.status = status;\r\n      if (type) query.type = type;\r\n\r\n      // Search by plate number\r\n      if (search) {\r\n        query.plateNumber = { $regex: search, $options: 'i' };\r\n      }\r\n\r\n      const vehicles = await Vehicle.find(query)\r\n        .populate('currentDriver', 'name email phone')\r\n        .populate('currentRoute', 'routeName routeCode')\r\n        .limit(limit * 1)\r\n        .skip((page - 1) * limit)\r\n        .sort({ createdAt: -1 });\r\n\r\n      const count = await Vehicle.countDocuments(query);\r\n      const totalPages = Math.ceil(count / limit);\r\n\r\n      res.json({\r\n        success: true,\r\n        data: {\r\n          vehicles,\r\n          total: count,\r\n          currentPage: parseInt(page),\r\n          totalPages: totalPages,\r\n        },\r\n      });\r\n    } catch (error) {\r\n      res.status(500).json({\r\n        success: false,\r\n        message: 'فشل جلب المركبات',\r\n        error: error.message,\r\n      });\r\n    }\r\n  }\r\n\r\n  /**\r\n   * جلب مركبة بواسطة ID\r\n   * GET /api/vehicles/:id\r\n   */\r\n  static async getVehicleById(req, res) {\r\n    try {\r\n      const vehicle = await Vehicle.findById(req.params.id)\r\n        .populate('currentDriver', 'name email phone')\r\n        .populate('driver', 'name email phone')\r\n        .populate('currentRoute')\r\n        .populate('assignedPassengers', 'name email phone');\r\n\r\n      if (!vehicle) {\r\n        return res.status(404).json({\r\n          success: false,\r\n          message: 'المركبة غير موجودة',\r\n        });\r\n      }\r\n\r\n      res.json({\r\n        success: true,\r\n        data: vehicle,\r\n      });\r\n    } catch (error) {\r\n      res.status(500).json({\r\n        success: false,\r\n        message: 'فشل جلب المركبة',\r\n        error: error.message,\r\n      });\r\n    }\r\n  }\r\n\r\n  /**\r\n   * تحديث مركبة\r\n   * PUT /api/vehicles/:id\r\n   */\r\n  static async updateVehicle(req, res) {\r\n    try {\r\n      const vehicle = await Vehicle.findByIdAndUpdate(req.params.id, req.body, {\r\n        new: true,\r\n        runValidators: true,\r\n      });\r\n\r\n      if (!vehicle) {\r\n        return res.status(404).json({\r\n          success: false,\r\n          message: 'المركبة غير موجودة',\r\n        });\r\n      }\r\n\r\n      res.json({\r\n        success: true,\r\n        message: 'تم تحديث المركبة بنجاح',\r\n        data: vehicle,\r\n      });\r\n    } catch (error) {\r\n      res.status(400).json({\r\n        success: false,\r\n        message: 'فشل تحديث المركبة',\r\n        error: error.message,\r\n      });\r\n    }\r\n  }\r\n\r\n  /**\r\n   * حذف مركبة\r\n   * DELETE /api/vehicles/:id\r\n   */\r\n  static async deleteVehicle(req, res) {\r\n    try {\r\n      const vehicle = await Vehicle.findByIdAndDelete(req.params.id);\r\n\r\n      if (!vehicle) {\r\n        return res.status(404).json({\r\n          success: false,\r\n          message: 'المركبة غير موجودة',\r\n        });\r\n      }\r\n\r\n      res.json({\r\n        success: true,\r\n        message: 'Vehicle deleted successfully',\r\n      });\r\n    } catch (error) {\r\n      res.status(500).json({\r\n        success: false,\r\n        message: 'فشل حذف المركبة',\r\n        error: error.message,\r\n      });\r\n    }\r\n  }\r\n\r\n  /**\r\n   * تحديث موقع GPS للمركبة\r\n   * PATCH /api/vehicles/:id/gps\r\n   */\r\n  static async updateGPS(req, res) {\r\n    try {\r\n      const { longitude, latitude, speed, heading } = req.body;\r\n\r\n      // Validate coordinates\r\n      if (latitude === undefined || longitude === undefined) {\r\n        return res.status(400).json({\r\n          success: false,\r\n          message: 'latitude و longitude مطلوبان',\r\n        });\r\n      }\r\n\r\n      if (latitude < -90 || latitude > 90 || longitude < -180 || longitude > 180) {\r\n        return res.status(400).json({\r\n          success: false,\r\n          message: 'إحداثيات GPS غير صحيحة',\r\n        });\r\n      }\r\n\r\n      const vehicle = await Vehicle.findById(req.params.id);\r\n\r\n      if (!vehicle) {\r\n        return res.status(404).json({\r\n          success: false,\r\n          message: 'المركبة غير موجودة',\r\n        });\r\n      }\r\n\r\n      const location = {\r\n        type: 'Point',\r\n        coordinates: [longitude, latitude],\r\n      };\r\n\r\n      // تحديث الموقع\r\n      await vehicle.updateGPSLocation(location, speed, heading);\r\n\r\n      res.json({\r\n        success: true,\r\n        message: 'تم تحديث الموقع بنجاح',\r\n        data: {\r\n          currentLocation: vehicle.gpsDevice.currentLocation,\r\n          currentSpeed: vehicle.currentSpeed,\r\n          heading: vehicle.gpsDevice.heading,\r\n        },\r\n      });\r\n    } catch (error) {\r\n      res.status(400).json({\r\n        success: false,\r\n        message: 'فشل تحديث الموقع',\r\n        error: error.message,\r\n      });\r\n    }\r\n  }\r\n\r\n  /**\r\n   * إضافة إنذار طوارئ\r\n   * POST /api/vehicles/:id/emergency\r\n   */\r\n  static async addEmergencyAlert(req, res) {\r\n    try {\r\n      const { type, severity, description, location } = req.body;\r\n\r\n      const vehicle = await Vehicle.findById(req.params.id);\r\n\r\n      if (!vehicle) {\r\n        return res.status(404).json({\r\n          success: false,\r\n          message: 'المركبة غير موجودة',\r\n        });\r\n      }\r\n\r\n      await vehicle.addEmergencyAlert({\r\n        type,\r\n        severity,\r\n        description,\r\n        location: {\r\n          type: 'Point',\r\n          coordinates: location.coordinates,\r\n        },\r\n      });\r\n\r\n      res.status(201).json({\r\n        success: true,\r\n        message: 'تم إضافة إنذار الطوارئ بنجاح',\r\n        data: vehicle.safety.emergencyAlerts[vehicle.safety.emergencyAlerts.length - 1],\r\n      });\r\n    } catch (error) {\r\n      res.status(400).json({\r\n        success: false,\r\n        message: 'فشل إضافة إنذار الطوارئ',\r\n        error: error.message,\r\n      });\r\n    }\r\n  }\r\n\r\n  /**\r\n   * تحديث استهلاك الوقود\r\n   * POST /api/vehicles/:id/fuel\r\n   */\r\n  static async updateFuel(req, res) {\r\n    try {\r\n      const { distance, refill } = req.body;\r\n\r\n      const vehicle = await Vehicle.findById(req.params.id);\r\n\r\n      if (!vehicle) {\r\n        return res.status(404).json({\r\n          success: false,\r\n          message: 'المركبة غير موجودة',\r\n        });\r\n      }\r\n\r\n      if (distance) {\r\n        await vehicle.updateFuelConsumption(distance);\r\n      }\r\n\r\n      if (refill) {\r\n        vehicle.fuelConsumption.currentFuelLevel = Math.min(\r\n          vehicle.fuelConsumption.tankCapacity,\r\n          vehicle.fuelConsumption.currentFuelLevel + refill.liters\r\n        );\r\n\r\n        vehicle.fuelConsumption.lastRefill = {\r\n          date: new Date(),\r\n          liters: refill.liters,\r\n          cost: refill.cost,\r\n          location: refill.location,\r\n        };\r\n\r\n        await vehicle.save();\r\n      }\r\n\r\n      res.json({\r\n        success: true,\r\n        message: 'تم تحديث بيانات الوقود بنجاح',\r\n        data: {\r\n          currentLevel: vehicle.fuelConsumption.currentFuelLevel,\r\n          status: vehicle.fuelStatus,\r\n          lastRefill: vehicle.fuelConsumption.lastRefill,\r\n        },\r\n      });\r\n    } catch (error) {\r\n      res.status(400).json({\r\n        success: false,\r\n        message: 'فشل تحديث بيانات الوقود',\r\n        error: error.message,\r\n      });\r\n    }\r\n  }\r\n\r\n  /**\r\n   * البحث عن مركبات قريبة\r\n   * GET /api/vehicles/nearby\r\n   */\r\n  static async findNearbyVehicles(req, res) {\r\n    try {\r\n      const { longitude, latitude, maxDistance = 5000 } = req.query;\r\n\r\n      if (!longitude || !latitude) {\r\n        return res.status(400).json({\r\n          success: false,\r\n          message: 'الإحداثيات مطلوبة',\r\n        });\r\n      }\r\n\r\n      const vehicles = await Vehicle.findNearby(\r\n        parseFloat(longitude),\r\n        parseFloat(latitude),\r\n        parseInt(maxDistance)\r\n      );\r\n\r\n      res.json({\r\n        success: true,\r\n        data: vehicles,\r\n        count: vehicles.length,\r\n      });\r\n    } catch (error) {\r\n      res.status(500).json({\r\n        success: false,\r\n        message: 'فشل البحث عن المركبات',\r\n        error: error.message,\r\n      });\r\n    }\r\n  }\r\n\r\n  /**\r\n   * البحث عن مركبات متاحة\r\n   * GET /api/vehicles/available\r\n   */\r\n  static async findAvailableVehicles(req, res) {\r\n    try {\r\n      const { capacity } = req.query;\r\n\r\n      const vehicles = await Vehicle.findAvailable(capacity ? parseInt(capacity) : undefined);\r\n\r\n      res.json({\r\n        success: true,\r\n        data: vehicles,\r\n        count: vehicles.length,\r\n      });\r\n    } catch (error) {\r\n      res.status(500).json({\r\n        success: false,\r\n        message: 'فشل البحث عن المركبات المتاحة',\r\n        error: error.message,\r\n      });\r\n    }\r\n  }\r\n\r\n  /**\r\n   * إحصائيات المركبة\r\n   * GET /api/vehicles/:id/statistics\r\n   */\r\n  static async getVehicleStatistics(req, res) {\r\n    try {\r\n      const vehicle = await Vehicle.findById(req.params.id);\r\n\r\n      if (!vehicle) {\r\n        return res.status(404).json({\r\n          success: false,\r\n          message: 'المركبة غير موجودة',\r\n        });\r\n      }\r\n\r\n      const stats = {\r\n        basic: {\r\n          vehicleNumber: vehicle.vehicleNumber,\r\n          type: vehicle.type,\r\n          status: vehicle.status,\r\n        },\r\n        performance: {\r\n          totalDistance: vehicle.statistics.totalDistanceCovered,\r\n          averageSpeed: vehicle.statistics.averageSpeed,\r\n          totalTrips: vehicle.statistics.tripCount,\r\n        },\r\n        fuel: {\r\n          currentLevel: vehicle.fuelConsumption.currentFuelLevel,\r\n          status: vehicle.fuelStatus,\r\n          totalConsumed: vehicle.statistics.totalFuelConsumed,\r\n          averageConsumption: vehicle.fuelConsumption.averageConsumption,\r\n        },\r\n        maintenance: {\r\n          status: vehicle.maintenanceStatus,\r\n          nextDate: vehicle.maintenance.nextMaintenanceDate,\r\n          totalCost: vehicle.statistics.totalMaintenanceCost,\r\n          odometer: vehicle.maintenance.odometer,\r\n        },\r\n        safety: {\r\n          activeAlerts: vehicle.safety.emergencyAlerts.filter(a => !a.resolved).length,\r\n          totalIncidents: vehicle.safety.totalIncidents,\r\n          lastInspection: vehicle.safety.lastInspectionDate,\r\n        },\r\n      };\r\n\r\n      res.json({\r\n        success: true,\r\n        data: stats,\r\n      });\r\n    } catch (error) {\r\n      res.status(500).json({\r\n        success: false,\r\n        message: 'فشل جلب إحصائيات المركبة',\r\n        error: error.message,\r\n      });\r\n    }\r\n  }\r\n\r\n  /**\r\n   * تعيين سائق للمركبة\r\n   * POST /api/vehicles/:id/assign-driver\r\n   */\r\n  static async assignDriver(req, res) {\r\n    try {\r\n      const { driverId } = req.body;\r\n\r\n      const vehicle = await Vehicle.findById(req.params.id);\r\n\r\n      if (!vehicle) {\r\n        return res.status(404).json({\r\n          success: false,\r\n          message: 'المركبة غير موجودة',\r\n        });\r\n      }\r\n\r\n      vehicle.currentDriver = driverId;\r\n      await vehicle.save();\r\n\r\n      await vehicle.populate('currentDriver', 'name email phone');\r\n\r\n      res.json({\r\n        success: true,\r\n        message: 'تم تعيين السائق بنجاح',\r\n        data: vehicle,\r\n      });\r\n    } catch (error) {\r\n      res.status(400).json({\r\n        success: false,\r\n        message: 'فشل تعيين السائق',\r\n        error: error.message,\r\n      });\r\n    }\r\n  }\r\n\r\n  /**\r\n   * جلب إحصائيات المركبات\r\n   * GET /api/vehicles/statistics\r\n   */\r\n  static async listVehicleStatistics(req, res) {\r\n    try {\r\n      const vehicles = await Vehicle.find();\r\n\r\n      const statistics = {\r\n        total: vehicles.length,\r\n        active: vehicles.filter(v => v.status === 'active').length,\r\n        maintenance: vehicles.filter(v => v.status === 'maintenance').length,\r\n        outOfService: vehicles.filter(v => v.status === 'inactive').length,\r\n        byType: {\r\n          bus: vehicles.filter(v => v.type === 'bus').length,\r\n          van: vehicles.filter(v => v.type === 'van').length,\r\n          car: vehicles.filter(v => v.type === 'car').length,\r\n          truck: vehicles.filter(v => v.type === 'truck').length,\r\n        },\r\n        lowFuelCount: vehicles.filter(\r\n          v => (v.fuelLevel || v.fuelConsumption?.currentFuelLevel || 100) < 20\r\n        ).length,\r\n      };\r\n\r\n      res.json({\r\n        success: true,\r\n        message: 'تم جلب إحصائيات المركبات بنجاح',\r\n        data: statistics,\r\n      });\r\n    } catch (error) {\r\n      res.status(500).json({\r\n        success: false,\r\n        message: 'فشل جلب إحصائيات المركبات',\r\n        error: error.message,\r\n      });\r\n    }\r\n  }\r\n\r\n  /**\r\n   * جلب المركبات منخفضة الوقود\r\n   * GET /api/vehicles/low-fuel\r\n   */\r\n  static async getLowFuelVehicles(req, res) {\r\n    try {\r\n      const { threshold = 20 } = req.query;\r\n\r\n      const vehicles = await Vehicle.find({\r\n        $or: [\r\n          { 'fuelConsumption.currentFuelLevel': { $lt: parseInt(threshold) } },\r\n          { fuelLevel: { $lt: parseInt(threshold) } },\r\n        ],\r\n      });\r\n\r\n      res.json({\r\n        success: true,\r\n        message: 'تم جلب المركبات منخفضة الوقود بنجاح',\r\n        data: vehicles,\r\n      });\r\n    } catch (error) {\r\n      res.status(500).json({\r\n        success: false,\r\n        message: 'فشل جلب المركبات منخفضة الوقود',\r\n        error: error.message,\r\n      });\r\n    }\r\n  }\r\n\r\n  /**\r\n   * إضافة سجل صيانة\r\n   * POST /api/vehicles/:id/maintenance\r\n   */\r\n  static async addMaintenanceRecord(req, res) {\r\n    try {\r\n      const { id } = req.params;\r\n      const { type, description, cost, workshop } = req.body;\r\n\r\n      // Validate required fields\r\n      if (!type || !description) {\r\n        return res.status(400).json({\r\n          success: false,\r\n          message: 'نوع الصيانة والوصف مطلوبان',\r\n        });\r\n      }\r\n\r\n      // Find the vehicle first\r\n      const vehicle = await Vehicle.findById(id);\r\n\r\n      if (!vehicle) {\r\n        return res.status(404).json({\r\n          success: false,\r\n          message: 'المركبة غير موجودة',\r\n        });\r\n      }\r\n\r\n      // Create maintenance record object\r\n      const maintenanceRecord = {\r\n        date: new Date(),\r\n        type,\r\n        description,\r\n        cost: cost || 0,\r\n        workshop: workshop || 'Unknown',\r\n      };\r\n\r\n      // Add to maintenanceHistory array\r\n      if (!vehicle.maintenanceHistory) {\r\n        vehicle.maintenanceHistory = [];\r\n      }\r\n      vehicle.maintenanceHistory.push(maintenanceRecord);\r\n\r\n      // Update maintenance date\r\n      if (!vehicle.maintenance) {\r\n        vehicle.maintenance = {};\r\n      }\r\n      vehicle.maintenance.lastMaintenanceDate = new Date();\r\n\r\n      // Save the vehicle\r\n      const updatedVehicle = await vehicle.save();\r\n\r\n      res.status(201).json({\r\n        success: true,\r\n        message: 'تم إضافة سجل الصيانة بنجاح',\r\n        data: updatedVehicle,\r\n      });\r\n    } catch (error) {\r\n      console.error('Maintenance error details:', error.message);\r\n      res.status(400).json({\r\n        success: false,\r\n        message: 'فشل إضافة سجل الصيانة',\r\n        error: error.message,\r\n      });\r\n    }\r\n  }\r\n}\r\n\r\nmodule.exports = VehicleController;\r\n"],"mappings":"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","ignoreList":[]}