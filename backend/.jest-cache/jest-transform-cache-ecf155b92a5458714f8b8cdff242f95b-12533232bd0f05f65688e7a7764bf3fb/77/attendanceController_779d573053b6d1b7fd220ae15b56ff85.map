{"version":3,"names":["Attendance","require","exports","createAttendance","req","res","attendance","body","save","status","json","err","error","message","getAttendances","records","find","getAttendanceById","record","findById","params","id","updateAttendance","findByIdAndUpdate","new","deleteAttendance","findByIdAndDelete"],"sources":["attendanceController.js"],"sourcesContent":["// HR Attendance Controller\r\nconst Attendance = require('../../models/HR/Attendance');\r\n\r\n// Create new attendance record\r\nexports.createAttendance = async (req, res) => {\r\n  try {\r\n    const attendance = new Attendance(req.body);\r\n    await attendance.save();\r\n    res.status(201).json(attendance);\r\n  } catch (err) {\r\n    res.status(400).json({ error: err.message });\r\n  }\r\n};\r\n\r\n// Get all attendance records\r\nexports.getAttendances = async (req, res) => {\r\n  try {\r\n    const records = await Attendance.find();\r\n    res.json(records);\r\n  } catch (err) {\r\n    res.status(500).json({ error: err.message });\r\n  }\r\n};\r\n\r\n// Get attendance by ID\r\nexports.getAttendanceById = async (req, res) => {\r\n  try {\r\n    const record = await Attendance.findById(req.params.id);\r\n    if (!record) return res.status(404).json({ error: 'Not found' });\r\n    res.json(record);\r\n  } catch (err) {\r\n    res.status(500).json({ error: err.message });\r\n  }\r\n};\r\n\r\n// Update attendance\r\nexports.updateAttendance = async (req, res) => {\r\n  try {\r\n    const record = await Attendance.findByIdAndUpdate(req.params.id, req.body, { new: true });\r\n    if (!record) return res.status(404).json({ error: 'Not found' });\r\n    res.json(record);\r\n  } catch (err) {\r\n    res.status(400).json({ error: err.message });\r\n  }\r\n};\r\n\r\n// Delete attendance\r\nexports.deleteAttendance = async (req, res) => {\r\n  try {\r\n    const record = await Attendance.findByIdAndDelete(req.params.id);\r\n    if (!record) return res.status(404).json({ error: 'Not found' });\r\n    res.json({ message: 'Deleted' });\r\n  } catch (err) {\r\n    res.status(500).json({ error: err.message });\r\n  }\r\n};\r\n"],"mappings":"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","ignoreList":[]}