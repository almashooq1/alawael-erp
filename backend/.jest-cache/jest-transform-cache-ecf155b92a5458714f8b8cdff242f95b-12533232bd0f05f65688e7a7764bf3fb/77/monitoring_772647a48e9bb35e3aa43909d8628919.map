{"version":3,"names":["express","require","MonitoringService","ApiResponse","ApiError","router","Router","get","req","res","next","health","getSystemHealth","json","error","message","metrics","getPerformanceMetrics","endpoints","monitorEndpoints","alerts","getAlerts","dbStatus","monitorDatabase","realtime","getRealtimeData","module","exports"],"sources":["monitoring.js"],"sourcesContent":["// Monitoring Routes\r\nconst express = require('express');\r\nconst MonitoringService = require('../services/monitoringService');\r\nconst { ApiResponse, ApiError } = require('../utils/apiResponse');\r\n\r\nconst router = express.Router();\r\n\r\n// Get system health\r\nrouter.get('/health', (req, res, next) => {\r\n  try {\r\n    const health = MonitoringService.getSystemHealth();\r\n    return res.json(new ApiResponse(200, health, 'System health fetched'));\r\n  } catch (error) {\r\n    return next(new ApiError(500, 'Failed to fetch system health', [error.message]));\r\n  }\r\n});\r\n\r\n// Get performance metrics\r\nrouter.get('/metrics', (req, res, next) => {\r\n  try {\r\n    const metrics = MonitoringService.getPerformanceMetrics();\r\n    return res.json(new ApiResponse(200, metrics, 'Performance metrics fetched'));\r\n  } catch (error) {\r\n    return next(new ApiError(500, 'Failed to fetch performance metrics', [error.message]));\r\n  }\r\n});\r\n\r\n// Monitor endpoints\r\nrouter.get('/endpoints', (req, res, next) => {\r\n  try {\r\n    const endpoints = MonitoringService.monitorEndpoints();\r\n    return res.json(new ApiResponse(200, endpoints, 'Endpoints monitored'));\r\n  } catch (error) {\r\n    return next(new ApiError(500, 'Failed to monitor endpoints', [error.message]));\r\n  }\r\n});\r\n\r\n// Get alerts\r\nrouter.get('/alerts', (req, res, next) => {\r\n  try {\r\n    const alerts = MonitoringService.getAlerts();\r\n    return res.json(new ApiResponse(200, alerts, 'Alerts fetched'));\r\n  } catch (error) {\r\n    return next(new ApiError(500, 'Failed to fetch alerts', [error.message]));\r\n  }\r\n});\r\n\r\n// Monitor database\r\nrouter.get('/database', (req, res, next) => {\r\n  try {\r\n    const dbStatus = MonitoringService.monitorDatabase();\r\n    return res.json(new ApiResponse(200, dbStatus, 'Database status fetched'));\r\n  } catch (error) {\r\n    return next(new ApiError(500, 'Failed to fetch database status', [error.message]));\r\n  }\r\n});\r\n\r\n// Get realtime data\r\nrouter.get('/realtime', (req, res, next) => {\r\n  try {\r\n    const realtime = MonitoringService.getRealtimeData();\r\n    return res.json(new ApiResponse(200, realtime, 'Realtime data fetched'));\r\n  } catch (error) {\r\n    return next(new ApiError(500, 'Failed to fetch realtime data', [error.message]));\r\n  }\r\n});\r\n\r\nmodule.exports = router;\r\n"],"mappings":"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","ignoreList":[]}