{"version":3,"names":["WebhookEvent","constructor","eventType","data","id","Date","now","Math","random","toString","substring","event","status","retries","signature","timestamp","toISOString","generateSignature","secret","crypto","require","payload","JSON","stringify","createHmac","update","digest","getPayload","WebhookSubscription","url","events","isActive","deliveryCount","failureCount","retryPolicy","maxRetries","initialDelay","maxDelay","backoffMultiplier","createdAt","matches","includes","incrementDelivery","success","getRetryDelay","attemptNumber","delay","min","pow","floor","IntegrationConnector","name","type","config","lastSync","syncStatus","errorLog","fieldMappings","Map","filters","syncCount","errorCount","activate","deactivate","logError","error","push","message","stack","length","slice","addFieldMapping","sourceField","targetField","set","addFilter","field","operator","value","applyFilters","every","filter","dataValue","recordSync","getFieldMapping","get","getAllFieldMappings","Object","fromEntries","getSyncStats","successRate","APIIntegrator","nameOrBaseURL","baseURLOrHeaders","startsWith","baseURL","headers","timeout","retryAttempts","endpoints","callCount","lastCall","registerEndpoint","method","path","endpoint","call","endpointName","params","Error","key","entries","replace","makeRequest","split","pop","getSummary","size","IntegrationService","webhooks","apis","connectors","registerWebhook","webhook","registerAPI","api","createConnector","connector","getConnector","find","c","getWebhooks","getAPIs","getConnectors","getIntegrationHealth","health","total","active","w","failed","reduce","sum","totalCalls","integratePaymentGateway","transactionId","transaction","amount","currency","gateway","reference","sendEmailIntegration","email","to","subject","template","provider","messageId","sendSMSIntegration","sms","deliveryReport","uploadToCloudStorage","file","filename","bucket","accessLevel","syncWithCRM","sync","system","entityType","recordCount","details","created","updated","trackAnalytics","eventName","userId","platform","properties","getIntegrationStatus","integrations","payments","transactionsProcessed","emailsSent","smsSent","storage","filesStored","crm","recordsSynced","analytics","eventsTracked","getAvailableIntegrations","availableIntegrations","category","handleWebhook","source","checkRateLimit","apiKey","rateLimit","requestsUsed","requestsLimit","remainingRequests","resetTime","limitStatus","module","exports","APIIntegration"],"sources":["integrationService.js"],"sourcesContent":["/**\r\n * WebhookEvent Class\r\n * Represents a webhook event that can be sent to subscribers\r\n */\r\nclass WebhookEvent {\r\n  constructor(eventType, data = {}) {\r\n    this.id = `evt_${Date.now()}_${Math.random().toString(36).substring(7)}`;\r\n    this.event = eventType;\r\n    this.data = data;\r\n    this.status = 'pending';\r\n    this.retries = 0;\r\n    this.signature = null;\r\n    this.timestamp = new Date().toISOString();\r\n  }\r\n\r\n  generateSignature(secret) {\r\n    const crypto = require('crypto');\r\n    const payload = JSON.stringify({\r\n      id: this.id,\r\n      event: this.event,\r\n      data: this.data,\r\n      timestamp: this.timestamp,\r\n    });\r\n    this.signature = crypto\r\n      .createHmac('sha256', secret)\r\n      .update(payload)\r\n      .digest('hex');\r\n    return this.signature;\r\n  }\r\n\r\n  getPayload() {\r\n    return {\r\n      id: this.id,\r\n      event: this.event,\r\n      data: this.data,\r\n      signature: this.signature,\r\n      timestamp: this.timestamp,\r\n    };\r\n  }\r\n}\r\n\r\n/**\r\n * WebhookSubscription Class\r\n * Represents a webhook subscription to specific events\r\n */\r\nclass WebhookSubscription {\r\n  constructor(url, events = []) {\r\n    this.id = `hook_${Date.now()}_${Math.random().toString(36).substring(7)}`;\r\n    this.url = url;\r\n    this.events = events;\r\n    this.isActive = true;\r\n    this.secret = `secret_${Math.random().toString(36).substring(2)}`;\r\n    this.deliveryCount = 0;\r\n    this.failureCount = 0;\r\n    this.retryPolicy = {\r\n      maxRetries: 3,\r\n      initialDelay: 5000, // 5 seconds\r\n      maxDelay: 3600000, // 1 hour\r\n      backoffMultiplier: 2,\r\n    };\r\n    this.createdAt = new Date().toISOString();\r\n  }\r\n\r\n  matches(eventType) {\r\n    return this.events.includes('*') || this.events.includes(eventType);\r\n  }\r\n\r\n  incrementDelivery(success = true) {\r\n    if (success) {\r\n      this.deliveryCount++;\r\n    } else {\r\n      this.failureCount++;\r\n    }\r\n  }\r\n\r\n  getRetryDelay(attemptNumber) {\r\n    const delay = Math.min(\r\n      this.retryPolicy.initialDelay *\r\n        Math.pow(this.retryPolicy.backoffMultiplier, attemptNumber),\r\n      this.retryPolicy.maxDelay\r\n    );\r\n    return Math.floor(Math.random() * delay); // Add jitter\r\n  }\r\n}\r\n\r\n/**\r\n * IntegrationConnector Class\r\n * Represents a connection to external services\r\n */\r\nclass IntegrationConnector {\r\n  constructor(name, type, config = {}) {\r\n    this.id = `conn_${Date.now()}_${Math.random().toString(36).substring(7)}`;\r\n    this.name = name;\r\n    this.type = type; // 'api', 'webhook', 'database', etc.\r\n    this.config = config;\r\n    this.isActive = true;\r\n    this.lastSync = null;\r\n    this.syncStatus = 'idle';\r\n    this.errorLog = [];\r\n    this.fieldMappings = new Map();\r\n    this.filters = [];\r\n    this.syncCount = 0;\r\n    this.errorCount = 0;\r\n    this.createdAt = new Date().toISOString();\r\n  }\r\n\r\n  activate() {\r\n    this.isActive = true;\r\n  }\r\n\r\n  deactivate() {\r\n    this.isActive = false;\r\n  }\r\n\r\n  logError(error) {\r\n    this.errorLog.push({\r\n      timestamp: new Date().toISOString(),\r\n      message: error.message,\r\n      stack: error.stack,\r\n    });\r\n    if (this.errorLog.length > 100) {\r\n      this.errorLog = this.errorLog.slice(-100); // Keep last 100 errors\r\n    }\r\n  }\r\n\r\n  addFieldMapping(sourceField, targetField) {\r\n    this.fieldMappings.set(sourceField, targetField);\r\n    return this;\r\n  }\r\n\r\n  addFilter(field, operator, value) {\r\n    this.filters.push({ field, operator, value });\r\n    return this;\r\n  }\r\n\r\n  applyFilters(data) {\r\n    // Check if all filters pass\r\n    return this.filters.every(filter => {\r\n      const dataValue = data[filter.field];\r\n      switch (filter.operator) {\r\n        case '=':\r\n          return dataValue === filter.value;\r\n        case '>':\r\n          return dataValue > filter.value;\r\n        case '<':\r\n          return dataValue < filter.value;\r\n        case '<=':\r\n          return dataValue <= filter.value;\r\n        case '>=':\r\n          return dataValue >= filter.value;\r\n        default:\r\n          return true;\r\n      }\r\n    });\r\n  }\r\n\r\n  recordSync(success) {\r\n    this.lastSync = new Date().toISOString();\r\n    if (success) {\r\n      this.syncCount++;\r\n    } else {\r\n      this.errorCount++;\r\n    }\r\n  }\r\n\r\n  getFieldMapping(sourceField) {\r\n    return this.fieldMappings.get(sourceField);\r\n  }\r\n\r\n  getAllFieldMappings() {\r\n    return Object.fromEntries(this.fieldMappings);\r\n  }\r\n\r\n  getSyncStats() {\r\n    return {\r\n      syncCount: this.syncCount,\r\n      errorCount: this.errorCount,\r\n      successRate: this.syncCount / (this.syncCount + this.errorCount) || 0,\r\n      lastSync: this.lastSync,\r\n    };\r\n  }\r\n}\r\n\r\n/**\r\n * APIIntegrator Class\r\n * Handles API integrations\r\n */\r\nclass APIIntegrator {\r\n  constructor(nameOrBaseURL, baseURLOrHeaders = {}, config = {}) {\r\n    // Support both old and new constructor signatures\r\n    if (typeof nameOrBaseURL === 'string' && baseURLOrHeaders === '{}' || typeof baseURLOrHeaders === 'object') {\r\n      // New signature: (name, baseURL, config)\r\n      if (nameOrBaseURL.startsWith('http')) {\r\n        // Old signature: (baseURL, headers)\r\n        this.baseURL = nameOrBaseURL;\r\n        this.headers = baseURLOrHeaders;\r\n        this.name = 'API';\r\n        this.config = { timeout: 30000 };\r\n      } else {\r\n        // New signature: (name, baseURL, config)\r\n        this.name = nameOrBaseURL;\r\n        this.baseURL = baseURLOrHeaders;\r\n        this.headers = {};\r\n        this.config = {\r\n          timeout: 30000,\r\n          ...config,\r\n        };\r\n      }\r\n    }\r\n\r\n    this.retryAttempts = 3;\r\n    this.endpoints = new Map();\r\n    this.callCount = 0;\r\n    this.lastCall = null;\r\n    this.createdAt = new Date().toISOString();\r\n  }\r\n\r\n  registerEndpoint(name, method, path) {\r\n    const endpoint = {\r\n      name,\r\n      method,\r\n      path,\r\n      url: `${this.baseURL}${path}`,\r\n    };\r\n    this.endpoints.set(name, endpoint);\r\n    return endpoint;\r\n  }\r\n\r\n  async call(endpointName, params = {}) {\r\n    const endpoint = this.endpoints.get(endpointName);\r\n    if (!endpoint) {\r\n      throw new Error(`Endpoint '${endpointName}' not registered`);\r\n    }\r\n\r\n    // Replace path parameters\r\n    let url = endpoint.url;\r\n    for (const [key, value] of Object.entries(params)) {\r\n      url = url.replace(`:${key}`, value);\r\n    }\r\n\r\n    this.callCount++;\r\n    this.lastCall = new Date().toISOString();\r\n\r\n    return await this.makeRequest(endpoint.method, url, params);\r\n  }\r\n\r\n  async makeRequest(method, endpoint, data = null) {\r\n    // Simulated API request\r\n    const endpointName = endpoint.split('/').pop();\r\n    return {\r\n      success: true,\r\n      status: 200,\r\n      endpoint: endpointName,\r\n      data: data || {},\r\n      timestamp: new Date().toISOString(),\r\n    };\r\n  }\r\n\r\n  getSummary() {\r\n    return {\r\n      name: this.name,\r\n      baseURL: this.baseURL,\r\n      endpoints: this.endpoints.size,\r\n      callCount: this.callCount,\r\n      lastCall: this.lastCall,\r\n    };\r\n  }\r\n}\r\n\r\n// External Integrations Service\r\n// نظام التكاملات الخارجية\r\n\r\nclass IntegrationService {\r\n  constructor() {\r\n    this.webhooks = [];\r\n    this.apis = [];\r\n    this.connectors = [];\r\n  }\r\n\r\n  // Webhook Management\r\n  registerWebhook(url, events = []) {\r\n    const webhook = new WebhookSubscription(url, events);\r\n    this.webhooks.push(webhook);\r\n    return webhook;\r\n  }\r\n\r\n  // API Management\r\n  registerAPI(name, baseURL, config = {}) {\r\n    const api = new APIIntegrator(baseURL, config.headers || {});\r\n    api.name = name;\r\n    api.endpoints = [];\r\n    this.apis.push(api);\r\n    return api;\r\n  }\r\n\r\n  // Connector Management\r\n  createConnector(name, type, config = {}) {\r\n    const connector = new IntegrationConnector(name, type, config);\r\n    this.connectors.push(connector);\r\n    return connector;\r\n  }\r\n\r\n  // Get connector by name\r\n  getConnector(name) {\r\n    return this.connectors.find(c => c.name === name);\r\n  }\r\n\r\n  // Get all webhooks\r\n  getWebhooks() {\r\n    return this.webhooks;\r\n  }\r\n\r\n  // Get all APIs\r\n  getAPIs() {\r\n    return this.apis;\r\n  }\r\n\r\n  // Get all connectors\r\n  getConnectors() {\r\n    return this.connectors;\r\n  }\r\n\r\n  // Integration Health Status\r\n  getIntegrationHealth() {\r\n    const health = {\r\n      webhooks: {\r\n        total: this.webhooks.length,\r\n        active: this.webhooks.filter(w => w.isActive).length,\r\n        failed: this.webhooks.filter(w => w.failureCount > 0).length,\r\n      },\r\n      apis: {\r\n        total: this.apis.length,\r\n        endpoints: this.apis.reduce((sum, api) => sum + (api.endpoints?.length || 0), 0),\r\n        totalCalls: this.apis.reduce((sum, api) => sum + (api.callCount || 0), 0),\r\n      },\r\n      connectors: {\r\n        total: this.connectors.length,\r\n        active: this.connectors.filter(c => c.isActive).length,\r\n        syncCount: this.connectors.reduce((sum, c) => sum + (c.syncCount || 0), 0),\r\n        errorCount: this.connectors.reduce((sum, c) => sum + (c.errorCount || 0), 0),\r\n      },\r\n      status: 'healthy',\r\n      timestamp: new Date().toISOString(),\r\n    };\r\n\r\n    // Determine overall status\r\n    if (health.connectors.errorCount > 0 || health.webhooks.failed > 0) {\r\n      health.status = 'degraded';\r\n    }\r\n    if (health.webhooks.failed > health.webhooks.active) {\r\n      health.status = 'unhealthy';\r\n    }\r\n\r\n    return health;\r\n  }\r\n\r\n  // Integrate with Payment Gateway\r\n  static integratePaymentGateway(data) {\r\n    // Simulate payment processing\r\n    const transactionId = `TXN_${Date.now()}`;\r\n\r\n    return {\r\n      success: true,\r\n      transaction: {\r\n        id: transactionId,\r\n        amount: data.amount,\r\n        currency: data.currency || 'USD',\r\n        status: 'completed',\r\n        gateway: 'stripe', // or paypal, square, etc.\r\n        method: data.method || 'card',\r\n        timestamp: new Date().toISOString(),\r\n        reference: `REF_${Math.random().toString(36).substring(7)}`,\r\n      },\r\n      message: 'Payment processed successfully',\r\n    };\r\n  }\r\n\r\n  // Integrate with Email Service\r\n  static sendEmailIntegration(data) {\r\n    return {\r\n      success: true,\r\n      email: {\r\n        id: `EMAIL_${Date.now()}`,\r\n        to: data.to,\r\n        subject: data.subject,\r\n        template: data.template || 'default',\r\n        status: 'sent',\r\n        provider: 'sendgrid', // or mailgun, aws-ses, etc.\r\n        timestamp: new Date().toISOString(),\r\n        messageId: `msg_${Math.random().toString(36).substring(7)}`,\r\n      },\r\n      message: 'Email sent successfully',\r\n    };\r\n  }\r\n\r\n  // Integrate with SMS Service\r\n  static sendSMSIntegration(data) {\r\n    return {\r\n      success: true,\r\n      sms: {\r\n        id: `SMS_${Date.now()}`,\r\n        to: data.to,\r\n        message: data.message,\r\n        status: 'delivered',\r\n        provider: 'twilio', // or nexmo, sns, etc.\r\n        timestamp: new Date().toISOString(),\r\n        deliveryReport: true,\r\n      },\r\n      message: 'SMS sent successfully',\r\n    };\r\n  }\r\n\r\n  // Integrate with Cloud Storage\r\n  static uploadToCloudStorage(data) {\r\n    return {\r\n      success: true,\r\n      file: {\r\n        id: `FILE_${Date.now()}`,\r\n        filename: data.filename,\r\n        size: data.size,\r\n        provider: 'aws-s3', // or google-cloud, azure, etc.\r\n        bucket: 'erp-files',\r\n        path: `/uploads/${data.filename}`,\r\n        url: `https://erp-files.s3.amazonaws.com/uploads/${data.filename}`,\r\n        status: 'uploaded',\r\n        timestamp: new Date().toISOString(),\r\n        accessLevel: 'private',\r\n      },\r\n      message: 'File uploaded successfully',\r\n    };\r\n  }\r\n\r\n  // Integrate with CRM System\r\n  static syncWithCRM(data) {\r\n    return {\r\n      success: true,\r\n      sync: {\r\n        id: `SYNC_${Date.now()}`,\r\n        system: 'salesforce', // or hubspot, pipedrive, etc.\r\n        entityType: data.entityType, // contact, lead, account, etc.\r\n        recordCount: Math.floor(Math.random() * 50 + 10),\r\n        status: 'completed',\r\n        timestamp: new Date().toISOString(),\r\n        details: {\r\n          created: Math.floor(Math.random() * 20 + 5),\r\n          updated: Math.floor(Math.random() * 30 + 10),\r\n          failed: Math.floor(Math.random() * 2),\r\n        },\r\n      },\r\n      message: 'CRM synchronization completed',\r\n    };\r\n  }\r\n\r\n  // Integrate with Analytics Platform\r\n  static trackAnalytics(data) {\r\n    return {\r\n      success: true,\r\n      event: {\r\n        id: `ANALYTICS_${Date.now()}`,\r\n        eventName: data.eventName,\r\n        userId: data.userId,\r\n        platform: 'google-analytics', // or mixpanel, amplitude, etc.\r\n        properties: data.properties || {},\r\n        timestamp: new Date().toISOString(),\r\n        status: 'tracked',\r\n      },\r\n      message: 'Event tracked successfully',\r\n    };\r\n  }\r\n\r\n  // Get Integration Status\r\n  static getIntegrationStatus() {\r\n    return {\r\n      success: true,\r\n      integrations: {\r\n        payments: {\r\n          provider: 'stripe',\r\n          status: 'connected',\r\n          lastSync: new Date(Date.now() - 10 * 60000).toISOString(),\r\n          transactionsProcessed: 1250,\r\n        },\r\n        email: {\r\n          provider: 'sendgrid',\r\n          status: 'connected',\r\n          lastSync: new Date(Date.now() - 5 * 60000).toISOString(),\r\n          emailsSent: 5890,\r\n        },\r\n        sms: {\r\n          provider: 'twilio',\r\n          status: 'connected',\r\n          lastSync: new Date(Date.now() - 15 * 60000).toISOString(),\r\n          smsSent: 2340,\r\n        },\r\n        storage: {\r\n          provider: 'aws-s3',\r\n          status: 'connected',\r\n          lastSync: new Date(Date.now() - 30 * 60000).toISOString(),\r\n          filesStored: 5670,\r\n        },\r\n        crm: {\r\n          provider: 'salesforce',\r\n          status: 'connected',\r\n          lastSync: new Date(Date.now() - 60 * 60000).toISOString(),\r\n          recordsSynced: 15240,\r\n        },\r\n        analytics: {\r\n          provider: 'google-analytics',\r\n          status: 'connected',\r\n          lastSync: new Date(Date.now() - 2 * 60000).toISOString(),\r\n          eventsTracked: 45890,\r\n        },\r\n      },\r\n      timestamp: new Date().toISOString(),\r\n    };\r\n  }\r\n\r\n  // Get Available Integrations\r\n  static getAvailableIntegrations() {\r\n    return {\r\n      success: true,\r\n      availableIntegrations: [\r\n        { id: 'stripe', name: 'Stripe', category: 'payments', status: 'available' },\r\n        { id: 'paypal', name: 'PayPal', category: 'payments', status: 'available' },\r\n        { id: 'sendgrid', name: 'SendGrid', category: 'email', status: 'available' },\r\n        { id: 'twilio', name: 'Twilio', category: 'sms', status: 'available' },\r\n        { id: 'aws-s3', name: 'AWS S3', category: 'storage', status: 'available' },\r\n        {\r\n          id: 'google-cloud',\r\n          name: 'Google Cloud Storage',\r\n          category: 'storage',\r\n          status: 'available',\r\n        },\r\n        { id: 'salesforce', name: 'Salesforce', category: 'crm', status: 'available' },\r\n        { id: 'hubspot', name: 'HubSpot', category: 'crm', status: 'available' },\r\n        {\r\n          id: 'google-analytics',\r\n          name: 'Google Analytics',\r\n          category: 'analytics',\r\n          status: 'available',\r\n        },\r\n        { id: 'mixpanel', name: 'Mixpanel', category: 'analytics', status: 'available' },\r\n      ],\r\n      timestamp: new Date().toISOString(),\r\n    };\r\n  }\r\n\r\n  // Webhook Handler\r\n  static handleWebhook(data) {\r\n    return {\r\n      success: true,\r\n      webhook: {\r\n        id: `WEBHOOK_${Date.now()}`,\r\n        source: data.source,\r\n        event: data.event,\r\n        payload: data.payload,\r\n        status: 'received',\r\n        timestamp: new Date().toISOString(),\r\n      },\r\n      message: 'Webhook processed successfully',\r\n    };\r\n  }\r\n\r\n  // API Rate Limiting\r\n  static checkRateLimit(apiKey) {\r\n    return {\r\n      success: true,\r\n      rateLimit: {\r\n        apiKey: apiKey,\r\n        requestsUsed: Math.floor(Math.random() * 800 + 200),\r\n        requestsLimit: 1000,\r\n        remainingRequests: Math.floor(Math.random() * 800 + 200),\r\n        resetTime: new Date(Date.now() + 60 * 60000).toISOString(),\r\n        limitStatus: 'normal', // warning, critical\r\n      },\r\n      timestamp: new Date().toISOString(),\r\n    };\r\n  }\r\n}\r\n\r\nmodule.exports = IntegrationService;\r\nmodule.exports.WebhookEvent = WebhookEvent;\r\nmodule.exports.WebhookSubscription = WebhookSubscription;\r\nmodule.exports.IntegrationConnector = IntegrationConnector;\r\nmodule.exports.APIIntegrator = APIIntegrator;\r\n// Alias for test compatibility\r\nmodule.exports.APIIntegration = APIIntegrator;\r\n"],"mappings":"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","ignoreList":[]}