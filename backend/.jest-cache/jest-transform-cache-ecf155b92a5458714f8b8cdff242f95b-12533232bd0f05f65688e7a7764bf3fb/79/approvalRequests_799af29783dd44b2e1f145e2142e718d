f80a3138a86ed1f34a37e69d99bdf5a1
// approvalRequests.js
const express = require('express');
const router = express.Router();
const ApprovalRequestController = require('../controllers/ApprovalRequestController');
const {
  authenticateToken
} = require('../middleware/auth');

// جميع المسارات تتطلب مصادقة
router.use(authenticateToken);

// إنشاء طلب موافقة جديد
router.post('/', ApprovalRequestController.createApprovalRequest);
// جلب طلبات المستخدم الحالي
router.get('/my', ApprovalRequestController.getMyApprovalRequests);
// جلب الطلبات المعلقة للمسؤول الحالي
router.get('/pending', ApprovalRequestController.getPendingApprovals);
// اتخاذ إجراء (موافقة/رفض) على خطوة الموافقة
router.post('/:approvalId/action', ApprovalRequestController.takeApprovalAction);
module.exports = router;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJleHByZXNzIiwicmVxdWlyZSIsInJvdXRlciIsIlJvdXRlciIsIkFwcHJvdmFsUmVxdWVzdENvbnRyb2xsZXIiLCJhdXRoZW50aWNhdGVUb2tlbiIsInVzZSIsInBvc3QiLCJjcmVhdGVBcHByb3ZhbFJlcXVlc3QiLCJnZXQiLCJnZXRNeUFwcHJvdmFsUmVxdWVzdHMiLCJnZXRQZW5kaW5nQXBwcm92YWxzIiwidGFrZUFwcHJvdmFsQWN0aW9uIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VzIjpbImFwcHJvdmFsUmVxdWVzdHMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gYXBwcm92YWxSZXF1ZXN0cy5qc1xyXG5jb25zdCBleHByZXNzID0gcmVxdWlyZSgnZXhwcmVzcycpO1xyXG5jb25zdCByb3V0ZXIgPSBleHByZXNzLlJvdXRlcigpO1xyXG5jb25zdCBBcHByb3ZhbFJlcXVlc3RDb250cm9sbGVyID0gcmVxdWlyZSgnLi4vY29udHJvbGxlcnMvQXBwcm92YWxSZXF1ZXN0Q29udHJvbGxlcicpO1xyXG5jb25zdCB7IGF1dGhlbnRpY2F0ZVRva2VuIH0gPSByZXF1aXJlKCcuLi9taWRkbGV3YXJlL2F1dGgnKTtcclxuXHJcbi8vINis2YXZiti5INin2YTZhdiz2KfYsdin2Kog2KrYqti32YTYqCDZhdi12KfYr9mC2Klcclxucm91dGVyLnVzZShhdXRoZW50aWNhdGVUb2tlbik7XHJcblxyXG4vLyDYpdmG2LTYp9ihINi32YTYqCDZhdmI2KfZgdmC2Kkg2KzYr9mK2K9cclxucm91dGVyLnBvc3QoJy8nLCBBcHByb3ZhbFJlcXVlc3RDb250cm9sbGVyLmNyZWF0ZUFwcHJvdmFsUmVxdWVzdCk7XHJcbi8vINis2YTYqCDYt9mE2KjYp9iqINin2YTZhdiz2KrYrtiv2YUg2KfZhNit2KfZhNmKXHJcbnJvdXRlci5nZXQoJy9teScsIEFwcHJvdmFsUmVxdWVzdENvbnRyb2xsZXIuZ2V0TXlBcHByb3ZhbFJlcXVlc3RzKTtcclxuLy8g2KzZhNioINin2YTYt9mE2KjYp9iqINin2YTZhdi52YTZgtipINmE2YTZhdiz2KTZiNmEINin2YTYrdin2YTZilxyXG5yb3V0ZXIuZ2V0KCcvcGVuZGluZycsIEFwcHJvdmFsUmVxdWVzdENvbnRyb2xsZXIuZ2V0UGVuZGluZ0FwcHJvdmFscyk7XHJcbi8vINin2KrYrtin2LAg2KXYrNix2KfYoSAo2YXZiNin2YHZgtipL9ix2YHYtikg2LnZhNmJINiu2LfZiNipINin2YTZhdmI2KfZgdmC2Klcclxucm91dGVyLnBvc3QoJy86YXBwcm92YWxJZC9hY3Rpb24nLCBBcHByb3ZhbFJlcXVlc3RDb250cm9sbGVyLnRha2VBcHByb3ZhbEFjdGlvbik7XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IHJvdXRlcjtcclxuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBLE1BQU1BLE9BQU8sR0FBR0MsT0FBTyxDQUFDLFNBQVMsQ0FBQztBQUNsQyxNQUFNQyxNQUFNLEdBQUdGLE9BQU8sQ0FBQ0csTUFBTSxDQUFDLENBQUM7QUFDL0IsTUFBTUMseUJBQXlCLEdBQUdILE9BQU8sQ0FBQywwQ0FBMEMsQ0FBQztBQUNyRixNQUFNO0VBQUVJO0FBQWtCLENBQUMsR0FBR0osT0FBTyxDQUFDLG9CQUFvQixDQUFDOztBQUUzRDtBQUNBQyxNQUFNLENBQUNJLEdBQUcsQ0FBQ0QsaUJBQWlCLENBQUM7O0FBRTdCO0FBQ0FILE1BQU0sQ0FBQ0ssSUFBSSxDQUFDLEdBQUcsRUFBRUgseUJBQXlCLENBQUNJLHFCQUFxQixDQUFDO0FBQ2pFO0FBQ0FOLE1BQU0sQ0FBQ08sR0FBRyxDQUFDLEtBQUssRUFBRUwseUJBQXlCLENBQUNNLHFCQUFxQixDQUFDO0FBQ2xFO0FBQ0FSLE1BQU0sQ0FBQ08sR0FBRyxDQUFDLFVBQVUsRUFBRUwseUJBQXlCLENBQUNPLG1CQUFtQixDQUFDO0FBQ3JFO0FBQ0FULE1BQU0sQ0FBQ0ssSUFBSSxDQUFDLHFCQUFxQixFQUFFSCx5QkFBeUIsQ0FBQ1Esa0JBQWtCLENBQUM7QUFFaEZDLE1BQU0sQ0FBQ0MsT0FBTyxHQUFHWixNQUFNIiwiaWdub3JlTGlzdCI6W119