94b97e21a5dc950a995d7a3c31dc1907
/**
 * Executive Analytics Service
 * Advanced analytics, KPI tracking, and business intelligence
 * Provides comprehensive insights for executive decision-making
 * 
 * Features:
 * - Real-time KPI monitoring
 * - Trend analysis and forecasting
 * - Comparative analysis across departments
 * - Custom metrics and dimensions
 * - Performance benchmarking
 * - Alert management
 */

const logger = require('../utils/logger');
class ExecutiveAnalyticsService {
  constructor() {
    this.kpis = new Map();
    this.metrics = new Map();
    this.trends = new Map();
    this.benchmarks = new Map();
    this.alerts = [];
    this.customDashboards = new Map();
    this.performanceData = [];
  }

  /**
   * Initialize executive analytics
   */
  async initialize() {
    try {
      logger.info('ðŸš€ Executive Analytics Service: Initializing...');

      // Initialize default KPIs
      this.initializeDefaultKPIs();

      // Initialize performance tracking
      this.initializePerformanceTracking();
      logger.info('âœ… Executive Analytics Service: Initialized');
      return true;
    } catch (error) {
      logger.error('âŒ Executive Analytics Service: Initialization failed', error);
      return false;
    }
  }

  /**
   * Initialize default KPIs for the organization
   */
  initializeDefaultKPIs() {
    const defaultKPIs = [{
      id: 'kpi_revenue',
      name: 'Total Revenue',
      name_ar: 'Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø¥ÙŠØ±Ø§Ø¯Ø§Øª',
      category: 'Financial',
      target: 1000000,
      current: 850000,
      unit: 'SAR',
      trend: 'up',
      changePercent: 12.5,
      frequency: 'monthly',
      owner: 'CFO',
      description: 'Total revenue across all services'
    }, {
      id: 'kpi_customer_satisfaction',
      name: 'Customer Satisfaction',
      name_ar: 'Ø±Ø¶Ø§ Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡',
      category: 'Customer',
      target: 95,
      current: 92,
      unit: '%',
      trend: 'up',
      changePercent: 2.3,
      frequency: 'monthly',
      owner: 'COO',
      description: 'Overall customer satisfaction score'
    }, {
      id: 'kpi_operational_efficiency',
      name: 'Operational Efficiency',
      name_ar: 'ÙƒÙØ§Ø¡Ø© Ø§Ù„Ø¹Ù…Ù„ÙŠØ§Øª',
      category: 'Operations',
      target: 90,
      current: 87,
      unit: '%',
      trend: 'stable',
      changePercent: 0.5,
      frequency: 'weekly',
      owner: 'COO',
      description: 'Overall operational efficiency metric'
    }, {
      id: 'kpi_employee_productivity',
      name: 'Employee Productivity',
      name_ar: 'Ø¥Ù†ØªØ§Ø¬ÙŠØ© Ø§Ù„Ù…ÙˆØ¸ÙÙŠÙ†',
      category: 'HR',
      target: 85,
      current: 82,
      unit: 'index',
      trend: 'up',
      changePercent: 3.1,
      frequency: 'monthly',
      owner: 'CHRO',
      description: 'Average employee productivity index'
    }, {
      id: 'kpi_market_share',
      name: 'Market Share',
      name_ar: 'Ø­ØµØ© Ø§Ù„Ø³ÙˆÙ‚',
      category: 'Market',
      target: 25,
      current: 22,
      unit: '%',
      trend: 'up',
      changePercent: 1.8,
      frequency: 'quarterly',
      owner: 'CEO',
      description: 'Market share percentage'
    }];
    defaultKPIs.forEach(kpi => {
      this.kpis.set(kpi.id, {
        ...kpi,
        createdAt: new Date(),
        updatedAt: new Date(),
        history: [{
          timestamp: new Date(),
          value: kpi.current,
          target: kpi.target
        }],
        alerts: [],
        insights: []
      });
    });
  }

  /**
   * Initialize performance tracking
   */
  initializePerformanceTracking() {
    const performanceMetrics = [{
      metric: 'System Uptime',
      value: 99.98,
      unit: '%'
    }, {
      metric: 'Average Response Time',
      value: 125,
      unit: 'ms'
    }, {
      metric: 'Error Rate',
      value: 0.02,
      unit: '%'
    }, {
      metric: 'Cache Hit Rate',
      value: 94.5,
      unit: '%'
    }, {
      metric: 'Database Query Time',
      value: 45,
      unit: 'ms'
    }];
    this.metrics.set('system_performance', {
      timestamp: new Date(),
      data: performanceMetrics,
      status: 'healthy'
    });
  }

  /**
   * Get all KPIs with detailed information
   */
  getAllKPIs(filters = {}) {
    let kpis = Array.from(this.kpis.values());

    // Apply filters
    if (filters.category) {
      kpis = kpis.filter(k => k.category === filters.category);
    }
    if (filters.owner) {
      kpis = kpis.filter(k => k.owner === filters.owner);
    }
    if (filters.frequency) {
      kpis = kpis.filter(k => k.frequency === filters.frequency);
    }
    return kpis.map(kpi => this.formatKPIResponse(kpi));
  }

  /**
   * Get specific KPI details
   */
  getKPIDetails(kpiId) {
    const kpi = this.kpis.get(kpiId);
    if (!kpi) {
      return null;
    }
    return {
      ...this.formatKPIResponse(kpi),
      history: kpi.history.slice(-30),
      // Last 30 data points
      alerts: kpi.alerts,
      insights: this.generateKPIInsights(kpi),
      forecast: this.generateForecast(kpi),
      comparison: this.getComparitiveAnalysis(kpiId)
    };
  }

  /**
   * Format KPI response
   */
  formatKPIResponse(kpi) {
    const variance = kpi.current - kpi.target;
    const variancePercent = (variance / kpi.target * 100).toFixed(2);
    const status = this.getKPIStatus(variance, variancePercent);
    return {
      id: kpi.id,
      name: kpi.name,
      name_ar: kpi.name_ar,
      category: kpi.category,
      target: kpi.target,
      current: kpi.current,
      variance,
      variancePercent: parseFloat(variancePercent),
      unit: kpi.unit,
      status,
      trend: kpi.trend,
      changePercent: kpi.changePercent,
      frequency: kpi.frequency,
      owner: kpi.owner,
      description: kpi.description,
      lastUpdated: kpi.updatedAt,
      alertsCount: kpi.alerts.length
    };
  }

  /**
   * Get KPI status based on target achievement
   */
  getKPIStatus(variance, variancePercent) {
    if (variancePercent >= -5) return 'on_track';
    if (variancePercent >= -10) return 'at_risk';
    return 'critical';
  }

  /**
   * Generate insights for a KPI
   */
  generateKPIInsights(kpi) {
    const insights = [];
    const variancePercent = (kpi.current - kpi.target) / kpi.target * 100;
    if (variancePercent < -10) {
      insights.push({
        type: 'warning',
        message: `${kpi.name} is ${Math.abs(variancePercent).toFixed(1)}% below target`,
        severity: 'high'
      });
    }
    if (kpi.trend === 'down' && variancePercent < 0) {
      insights.push({
        type: 'alert',
        message: `${kpi.name} shows negative trend and is below target`,
        severity: 'high',
        recommendation: 'Take immediate action to reverse the trend'
      });
    }
    if (variancePercent > 10) {
      insights.push({
        type: 'positive',
        message: `${kpi.name} is ${variancePercent.toFixed(1)}% above target`,
        severity: 'low'
      });
    }
    return insights;
  }

  /**
   * Generate forecast for KPI based on historical data
   */
  generateForecast(kpi) {
    if (kpi.history.length < 3) {
      return null;
    }

    // Simple trend-based forecast
    const recentData = kpi.history.slice(-6);
    const avg = recentData.reduce((sum, d) => sum + d.value, 0) / recentData.length;
    const trend = recentData[recentData.length - 1].value - recentData[0].value;
    const projected30Days = avg + trend / 6 * 1;
    const projected90Days = avg + trend / 6 * 3;
    return {
      confidence: 0.75,
      projectedValues: {
        '30days': Math.round(projected30Days),
        '90days': Math.round(projected90Days)
      },
      trend: trend > 0 ? 'increasing' : 'decreasing'
    };
  }

  /**
   * Get comparative analysis for KPI
   */
  getComparitiveAnalysis(kpiId) {
    const kpi = this.kpis.get(kpiId);
    if (!kpi) return null;
    return {
      vs_target: {
        percent: (kpi.current / kpi.target * 100).toFixed(1),
        status: kpi.current >= kpi.target ? 'exceeding' : 'below'
      },
      vs_previous: {
        value: kpi.history.length > 1 ? kpi.history[kpi.history.length - 2].value : kpi.current,
        change: kpi.changePercent
      },
      vs_industry: {
        percentile: Math.floor(Math.random() * 100),
        // Placeholder
        status: 'needs_analysis'
      }
    };
  }

  /**
   * Update KPI value
   */
  updateKPIValue(kpiId, newValue, timestamp = new Date()) {
    const kpi = this.kpis.get(kpiId);
    if (!kpi) {
      return {
        success: false,
        error: 'KPI not found'
      };
    }
    const previousValue = kpi.current;
    const changePercent = ((newValue - previousValue) / previousValue * 100).toFixed(2);
    kpi.current = newValue;
    kpi.changePercent = parseFloat(changePercent);
    kpi.updatedAt = timestamp;
    kpi.trend = newValue > previousValue ? 'up' : newValue < previousValue ? 'down' : 'stable';

    // Add to history
    kpi.history.push({
      timestamp,
      value: newValue,
      target: kpi.target
    });

    // Keep history length manageable
    if (kpi.history.length > 365) {
      kpi.history = kpi.history.slice(-365);
    }

    // Check for alerts
    this.checkKPIAlerts(kpiId);
    return {
      success: true,
      kpi: this.formatKPIResponse(kpi)
    };
  }

  /**
   * Check if KPI violates alert thresholds
   */
  checkKPIAlerts(kpiId) {
    const kpi = this.kpis.get(kpiId);
    if (!kpi) return;
    const variance = kpi.current - kpi.target;
    const variancePercent = variance / kpi.target * 100;
    kpi.alerts = [];
    if (variancePercent < -15) {
      kpi.alerts.push({
        type: 'critical',
        message: `${kpi.name} is critically below target (${variancePercent.toFixed(1)}%)`,
        timestamp: new Date()
      });
    } else if (variancePercent < -5) {
      kpi.alerts.push({
        type: 'warning',
        message: `${kpi.name} is below target (${variancePercent.toFixed(1)}%)`,
        timestamp: new Date()
      });
    }
  }

  /**
   * Get executive dashboard summary
   */
  getExecutiveDashboard() {
    const kpisArray = Array.from(this.kpis.values());
    const summary = {
      timestamp: new Date(),
      totalKPIs: kpisArray.length,
      kpisOnTrack: kpisArray.filter(k => {
        const variance = (k.current - k.target) / k.target * 100;
        return variance >= -5;
      }).length,
      kpisAtRisk: kpisArray.filter(k => {
        const variance = (k.current - k.target) / k.target * 100;
        return variance < -5 && variance >= -10;
      }).length,
      kpisCritical: kpisArray.filter(k => {
        const variance = (k.current - k.target) / k.target * 100;
        return variance < -10;
      }).length,
      totalAlerts: kpisArray.reduce((sum, k) => sum + k.alerts.length, 0),
      kpis: kpisArray.map(k => this.formatKPIResponse(k)),
      topPerformers: kpisArray.map(k => this.formatKPIResponse(k)).sort((a, b) => b.changePercent - a.changePercent).slice(0, 5),
      needsAttention: kpisArray.map(k => this.formatKPIResponse(k)).filter(k => k.status !== 'on_track').slice(0, 5)
    };
    return summary;
  }

  /**
   * Get department performance comparison
   */
  getDepartmentComparison() {
    const byCategory = {};
    for (const kpi of this.kpis.values()) {
      if (!byCategory[kpi.category]) {
        byCategory[kpi.category] = {
          category: kpi.category,
          kpis: [],
          avgPerformance: 0,
          status: 'stable'
        };
      }
      byCategory[kpi.category].kpis.push(this.formatKPIResponse(kpi));
    }

    // Calculate average performance
    for (const category in byCategory) {
      const kpis = byCategory[category].kpis;
      const avgVariance = kpis.reduce((sum, k) => sum + k.variancePercent, 0) / kpis.length;
      byCategory[category].avgPerformance = avgVariance;
      byCategory[category].status = avgVariance >= -5 ? 'on_track' : 'at_risk';
    }
    return Object.values(byCategory);
  }

  /**
   * Generate executive report
   */
  generateExecutiveReport(timeframe = 'monthly') {
    const summary = this.getExecutiveDashboard();
    const departmentComparison = this.getDepartmentComparison();
    return {
      title: `Executive Performance Report - ${timeframe.charAt(0).toUpperCase() + timeframe.slice(1)}`,
      date: new Date(),
      executive_summary: {
        total_kpis: summary.totalKPIs,
        on_track: summary.kpisOnTrack,
        at_risk: summary.kpisAtRisk,
        critical: summary.kpisCritical,
        total_alerts: summary.totalAlerts,
        overall_status: summary.kpisCritical > 0 ? 'Critical' : summary.kpisAtRisk > 0 ? 'At Risk' : 'Healthy'
      },
      top_performers: summary.topPerformers,
      needs_attention: summary.needsAttention,
      department_performance: departmentComparison,
      recommendations: this.generateRecommendations()
    };
  }

  /**
   * Generate recommendations based on data
   */
  generateRecommendations() {
    const recommendations = [];
    const criticalKPIs = Array.from(this.kpis.values()).filter(k => {
      const variance = (k.current - k.target) / k.target * 100;
      return variance < -10;
    });
    if (criticalKPIs.length > 0) {
      recommendations.push({
        priority: 'high',
        category: 'Action Required',
        message: `${criticalKPIs.length} critical KPIs require immediate attention`,
        details: criticalKPIs.map(k => k.name)
      });
    }
    const downwardTrends = Array.from(this.kpis.values()).filter(k => k.trend === 'down');
    if (downwardTrends.length > 0) {
      recommendations.push({
        priority: 'medium',
        category: 'Trend Analysis',
        message: `${downwardTrends.length} KPIs show negative trends`,
        details: downwardTrends.map(k => `${k.name}: ${k.changePercent.toFixed(1)}%`)
      });
    }
    return recommendations;
  }

  /**
   * Get custom dashboard by ID
   */
  getCustomDashboard(dashboardId) {
    return this.customDashboards.get(dashboardId);
  }

  /**
   * Create custom dashboard
   */
  createCustomDashboard(dashboardData) {
    const id = `dashboard_${Date.now()}`;
    const dashboard = {
      id,
      name: dashboardData.name,
      name_ar: dashboardData.name_ar,
      description: dashboardData.description,
      owner: dashboardData.owner,
      widgets: dashboardData.widgets || [],
      isDefault: dashboardData.isDefault || false,
      isPublic: dashboardData.isPublic || false,
      createdAt: new Date(),
      updatedAt: new Date(),
      refreshInterval: dashboardData.refreshInterval || 300000 // 5 minutes
    };
    this.customDashboards.set(id, dashboard);
    return dashboard;
  }

  /**
   * Update custom dashboard
   */
  updateCustomDashboard(dashboardId, updates) {
    const dashboard = this.customDashboards.get(dashboardId);
    if (!dashboard) {
      return {
        success: false,
        error: 'Dashboard not found'
      };
    }
    Object.assign(dashboard, updates, {
      updatedAt: new Date()
    });
    return {
      success: true,
      dashboard
    };
  }

  /**
   * Add widget to dashboard
   */
  addWidgetToDashboard(dashboardId, widget) {
    const dashboard = this.customDashboards.get(dashboardId);
    if (!dashboard) {
      return {
        success: false,
        error: 'Dashboard not found'
      };
    }
    const newWidget = {
      id: `widget_${Date.now()}`,
      ...widget,
      position: widget.position || {
        x: 0,
        y: 0
      },
      size: widget.size || {
        width: 4,
        height: 3
      }
    };
    dashboard.widgets.push(newWidget);
    dashboard.updatedAt = new Date();
    return {
      success: true,
      widget: newWidget
    };
  }
}
module.exports = new ExecutiveAnalyticsService();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJsb2dnZXIiLCJyZXF1aXJlIiwiRXhlY3V0aXZlQW5hbHl0aWNzU2VydmljZSIsImNvbnN0cnVjdG9yIiwia3BpcyIsIk1hcCIsIm1ldHJpY3MiLCJ0cmVuZHMiLCJiZW5jaG1hcmtzIiwiYWxlcnRzIiwiY3VzdG9tRGFzaGJvYXJkcyIsInBlcmZvcm1hbmNlRGF0YSIsImluaXRpYWxpemUiLCJpbmZvIiwiaW5pdGlhbGl6ZURlZmF1bHRLUElzIiwiaW5pdGlhbGl6ZVBlcmZvcm1hbmNlVHJhY2tpbmciLCJlcnJvciIsImRlZmF1bHRLUElzIiwiaWQiLCJuYW1lIiwibmFtZV9hciIsImNhdGVnb3J5IiwidGFyZ2V0IiwiY3VycmVudCIsInVuaXQiLCJ0cmVuZCIsImNoYW5nZVBlcmNlbnQiLCJmcmVxdWVuY3kiLCJvd25lciIsImRlc2NyaXB0aW9uIiwiZm9yRWFjaCIsImtwaSIsInNldCIsImNyZWF0ZWRBdCIsIkRhdGUiLCJ1cGRhdGVkQXQiLCJoaXN0b3J5IiwidGltZXN0YW1wIiwidmFsdWUiLCJpbnNpZ2h0cyIsInBlcmZvcm1hbmNlTWV0cmljcyIsIm1ldHJpYyIsImRhdGEiLCJzdGF0dXMiLCJnZXRBbGxLUElzIiwiZmlsdGVycyIsIkFycmF5IiwiZnJvbSIsInZhbHVlcyIsImZpbHRlciIsImsiLCJtYXAiLCJmb3JtYXRLUElSZXNwb25zZSIsImdldEtQSURldGFpbHMiLCJrcGlJZCIsImdldCIsInNsaWNlIiwiZ2VuZXJhdGVLUElJbnNpZ2h0cyIsImZvcmVjYXN0IiwiZ2VuZXJhdGVGb3JlY2FzdCIsImNvbXBhcmlzb24iLCJnZXRDb21wYXJpdGl2ZUFuYWx5c2lzIiwidmFyaWFuY2UiLCJ2YXJpYW5jZVBlcmNlbnQiLCJ0b0ZpeGVkIiwiZ2V0S1BJU3RhdHVzIiwicGFyc2VGbG9hdCIsImxhc3RVcGRhdGVkIiwiYWxlcnRzQ291bnQiLCJsZW5ndGgiLCJwdXNoIiwidHlwZSIsIm1lc3NhZ2UiLCJNYXRoIiwiYWJzIiwic2V2ZXJpdHkiLCJyZWNvbW1lbmRhdGlvbiIsInJlY2VudERhdGEiLCJhdmciLCJyZWR1Y2UiLCJzdW0iLCJkIiwicHJvamVjdGVkMzBEYXlzIiwicHJvamVjdGVkOTBEYXlzIiwiY29uZmlkZW5jZSIsInByb2plY3RlZFZhbHVlcyIsInJvdW5kIiwidnNfdGFyZ2V0IiwicGVyY2VudCIsInZzX3ByZXZpb3VzIiwiY2hhbmdlIiwidnNfaW5kdXN0cnkiLCJwZXJjZW50aWxlIiwiZmxvb3IiLCJyYW5kb20iLCJ1cGRhdGVLUElWYWx1ZSIsIm5ld1ZhbHVlIiwic3VjY2VzcyIsInByZXZpb3VzVmFsdWUiLCJjaGVja0tQSUFsZXJ0cyIsImdldEV4ZWN1dGl2ZURhc2hib2FyZCIsImtwaXNBcnJheSIsInN1bW1hcnkiLCJ0b3RhbEtQSXMiLCJrcGlzT25UcmFjayIsImtwaXNBdFJpc2siLCJrcGlzQ3JpdGljYWwiLCJ0b3RhbEFsZXJ0cyIsInRvcFBlcmZvcm1lcnMiLCJzb3J0IiwiYSIsImIiLCJuZWVkc0F0dGVudGlvbiIsImdldERlcGFydG1lbnRDb21wYXJpc29uIiwiYnlDYXRlZ29yeSIsImF2Z1BlcmZvcm1hbmNlIiwiYXZnVmFyaWFuY2UiLCJPYmplY3QiLCJnZW5lcmF0ZUV4ZWN1dGl2ZVJlcG9ydCIsInRpbWVmcmFtZSIsImRlcGFydG1lbnRDb21wYXJpc29uIiwidGl0bGUiLCJjaGFyQXQiLCJ0b1VwcGVyQ2FzZSIsImRhdGUiLCJleGVjdXRpdmVfc3VtbWFyeSIsInRvdGFsX2twaXMiLCJvbl90cmFjayIsImF0X3Jpc2siLCJjcml0aWNhbCIsInRvdGFsX2FsZXJ0cyIsIm92ZXJhbGxfc3RhdHVzIiwidG9wX3BlcmZvcm1lcnMiLCJuZWVkc19hdHRlbnRpb24iLCJkZXBhcnRtZW50X3BlcmZvcm1hbmNlIiwicmVjb21tZW5kYXRpb25zIiwiZ2VuZXJhdGVSZWNvbW1lbmRhdGlvbnMiLCJjcml0aWNhbEtQSXMiLCJwcmlvcml0eSIsImRldGFpbHMiLCJkb3dud2FyZFRyZW5kcyIsImdldEN1c3RvbURhc2hib2FyZCIsImRhc2hib2FyZElkIiwiY3JlYXRlQ3VzdG9tRGFzaGJvYXJkIiwiZGFzaGJvYXJkRGF0YSIsIm5vdyIsImRhc2hib2FyZCIsIndpZGdldHMiLCJpc0RlZmF1bHQiLCJpc1B1YmxpYyIsInJlZnJlc2hJbnRlcnZhbCIsInVwZGF0ZUN1c3RvbURhc2hib2FyZCIsInVwZGF0ZXMiLCJhc3NpZ24iLCJhZGRXaWRnZXRUb0Rhc2hib2FyZCIsIndpZGdldCIsIm5ld1dpZGdldCIsInBvc2l0aW9uIiwieCIsInkiLCJzaXplIiwid2lkdGgiLCJoZWlnaHQiLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZXMiOlsiZXhlY3V0aXZlQW5hbHl0aWNzU2VydmljZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICogRXhlY3V0aXZlIEFuYWx5dGljcyBTZXJ2aWNlXHJcbiAqIEFkdmFuY2VkIGFuYWx5dGljcywgS1BJIHRyYWNraW5nLCBhbmQgYnVzaW5lc3MgaW50ZWxsaWdlbmNlXHJcbiAqIFByb3ZpZGVzIGNvbXByZWhlbnNpdmUgaW5zaWdodHMgZm9yIGV4ZWN1dGl2ZSBkZWNpc2lvbi1tYWtpbmdcclxuICogXHJcbiAqIEZlYXR1cmVzOlxyXG4gKiAtIFJlYWwtdGltZSBLUEkgbW9uaXRvcmluZ1xyXG4gKiAtIFRyZW5kIGFuYWx5c2lzIGFuZCBmb3JlY2FzdGluZ1xyXG4gKiAtIENvbXBhcmF0aXZlIGFuYWx5c2lzIGFjcm9zcyBkZXBhcnRtZW50c1xyXG4gKiAtIEN1c3RvbSBtZXRyaWNzIGFuZCBkaW1lbnNpb25zXHJcbiAqIC0gUGVyZm9ybWFuY2UgYmVuY2htYXJraW5nXHJcbiAqIC0gQWxlcnQgbWFuYWdlbWVudFxyXG4gKi9cclxuXHJcbmNvbnN0IGxvZ2dlciA9IHJlcXVpcmUoJy4uL3V0aWxzL2xvZ2dlcicpO1xyXG5cclxuY2xhc3MgRXhlY3V0aXZlQW5hbHl0aWNzU2VydmljZSB7XHJcbiAgY29uc3RydWN0b3IoKSB7XHJcbiAgICB0aGlzLmtwaXMgPSBuZXcgTWFwKCk7XHJcbiAgICB0aGlzLm1ldHJpY3MgPSBuZXcgTWFwKCk7XHJcbiAgICB0aGlzLnRyZW5kcyA9IG5ldyBNYXAoKTtcclxuICAgIHRoaXMuYmVuY2htYXJrcyA9IG5ldyBNYXAoKTtcclxuICAgIHRoaXMuYWxlcnRzID0gW107XHJcbiAgICB0aGlzLmN1c3RvbURhc2hib2FyZHMgPSBuZXcgTWFwKCk7XHJcbiAgICB0aGlzLnBlcmZvcm1hbmNlRGF0YSA9IFtdO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogSW5pdGlhbGl6ZSBleGVjdXRpdmUgYW5hbHl0aWNzXHJcbiAgICovXHJcbiAgYXN5bmMgaW5pdGlhbGl6ZSgpIHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGxvZ2dlci5pbmZvKCfwn5qAIEV4ZWN1dGl2ZSBBbmFseXRpY3MgU2VydmljZTogSW5pdGlhbGl6aW5nLi4uJyk7XHJcbiAgICAgIFxyXG4gICAgICAvLyBJbml0aWFsaXplIGRlZmF1bHQgS1BJc1xyXG4gICAgICB0aGlzLmluaXRpYWxpemVEZWZhdWx0S1BJcygpO1xyXG4gICAgICBcclxuICAgICAgLy8gSW5pdGlhbGl6ZSBwZXJmb3JtYW5jZSB0cmFja2luZ1xyXG4gICAgICB0aGlzLmluaXRpYWxpemVQZXJmb3JtYW5jZVRyYWNraW5nKCk7XHJcbiAgICAgIFxyXG4gICAgICBsb2dnZXIuaW5mbygn4pyFIEV4ZWN1dGl2ZSBBbmFseXRpY3MgU2VydmljZTogSW5pdGlhbGl6ZWQnKTtcclxuICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBsb2dnZXIuZXJyb3IoJ+KdjCBFeGVjdXRpdmUgQW5hbHl0aWNzIFNlcnZpY2U6IEluaXRpYWxpemF0aW9uIGZhaWxlZCcsIGVycm9yKTtcclxuICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogSW5pdGlhbGl6ZSBkZWZhdWx0IEtQSXMgZm9yIHRoZSBvcmdhbml6YXRpb25cclxuICAgKi9cclxuICBpbml0aWFsaXplRGVmYXVsdEtQSXMoKSB7XHJcbiAgICBjb25zdCBkZWZhdWx0S1BJcyA9IFtcclxuICAgICAge1xyXG4gICAgICAgIGlkOiAna3BpX3JldmVudWUnLFxyXG4gICAgICAgIG5hbWU6ICdUb3RhbCBSZXZlbnVlJyxcclxuICAgICAgICBuYW1lX2FyOiAn2KXYrNmF2KfZhNmKINin2YTYpdmK2LHYp9iv2KfYqicsXHJcbiAgICAgICAgY2F0ZWdvcnk6ICdGaW5hbmNpYWwnLFxyXG4gICAgICAgIHRhcmdldDogMTAwMDAwMCxcclxuICAgICAgICBjdXJyZW50OiA4NTAwMDAsXHJcbiAgICAgICAgdW5pdDogJ1NBUicsXHJcbiAgICAgICAgdHJlbmQ6ICd1cCcsXHJcbiAgICAgICAgY2hhbmdlUGVyY2VudDogMTIuNSxcclxuICAgICAgICBmcmVxdWVuY3k6ICdtb250aGx5JyxcclxuICAgICAgICBvd25lcjogJ0NGTycsXHJcbiAgICAgICAgZGVzY3JpcHRpb246ICdUb3RhbCByZXZlbnVlIGFjcm9zcyBhbGwgc2VydmljZXMnLFxyXG4gICAgICB9LFxyXG4gICAgICB7XHJcbiAgICAgICAgaWQ6ICdrcGlfY3VzdG9tZXJfc2F0aXNmYWN0aW9uJyxcclxuICAgICAgICBuYW1lOiAnQ3VzdG9tZXIgU2F0aXNmYWN0aW9uJyxcclxuICAgICAgICBuYW1lX2FyOiAn2LHYttinINin2YTYudmF2YTYp9ihJyxcclxuICAgICAgICBjYXRlZ29yeTogJ0N1c3RvbWVyJyxcclxuICAgICAgICB0YXJnZXQ6IDk1LFxyXG4gICAgICAgIGN1cnJlbnQ6IDkyLFxyXG4gICAgICAgIHVuaXQ6ICclJyxcclxuICAgICAgICB0cmVuZDogJ3VwJyxcclxuICAgICAgICBjaGFuZ2VQZXJjZW50OiAyLjMsXHJcbiAgICAgICAgZnJlcXVlbmN5OiAnbW9udGhseScsXHJcbiAgICAgICAgb3duZXI6ICdDT08nLFxyXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnT3ZlcmFsbCBjdXN0b21lciBzYXRpc2ZhY3Rpb24gc2NvcmUnLFxyXG4gICAgICB9LFxyXG4gICAgICB7XHJcbiAgICAgICAgaWQ6ICdrcGlfb3BlcmF0aW9uYWxfZWZmaWNpZW5jeScsXHJcbiAgICAgICAgbmFtZTogJ09wZXJhdGlvbmFsIEVmZmljaWVuY3knLFxyXG4gICAgICAgIG5hbWVfYXI6ICfZg9mB2KfYodipINin2YTYudmF2YTZitin2KonLFxyXG4gICAgICAgIGNhdGVnb3J5OiAnT3BlcmF0aW9ucycsXHJcbiAgICAgICAgdGFyZ2V0OiA5MCxcclxuICAgICAgICBjdXJyZW50OiA4NyxcclxuICAgICAgICB1bml0OiAnJScsXHJcbiAgICAgICAgdHJlbmQ6ICdzdGFibGUnLFxyXG4gICAgICAgIGNoYW5nZVBlcmNlbnQ6IDAuNSxcclxuICAgICAgICBmcmVxdWVuY3k6ICd3ZWVrbHknLFxyXG4gICAgICAgIG93bmVyOiAnQ09PJyxcclxuICAgICAgICBkZXNjcmlwdGlvbjogJ092ZXJhbGwgb3BlcmF0aW9uYWwgZWZmaWNpZW5jeSBtZXRyaWMnLFxyXG4gICAgICB9LFxyXG4gICAgICB7XHJcbiAgICAgICAgaWQ6ICdrcGlfZW1wbG95ZWVfcHJvZHVjdGl2aXR5JyxcclxuICAgICAgICBuYW1lOiAnRW1wbG95ZWUgUHJvZHVjdGl2aXR5JyxcclxuICAgICAgICBuYW1lX2FyOiAn2KXZhtiq2KfYrNmK2Kkg2KfZhNmF2YjYuNmB2YrZhicsXHJcbiAgICAgICAgY2F0ZWdvcnk6ICdIUicsXHJcbiAgICAgICAgdGFyZ2V0OiA4NSxcclxuICAgICAgICBjdXJyZW50OiA4MixcclxuICAgICAgICB1bml0OiAnaW5kZXgnLFxyXG4gICAgICAgIHRyZW5kOiAndXAnLFxyXG4gICAgICAgIGNoYW5nZVBlcmNlbnQ6IDMuMSxcclxuICAgICAgICBmcmVxdWVuY3k6ICdtb250aGx5JyxcclxuICAgICAgICBvd25lcjogJ0NIUk8nLFxyXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnQXZlcmFnZSBlbXBsb3llZSBwcm9kdWN0aXZpdHkgaW5kZXgnLFxyXG4gICAgICB9LFxyXG4gICAgICB7XHJcbiAgICAgICAgaWQ6ICdrcGlfbWFya2V0X3NoYXJlJyxcclxuICAgICAgICBuYW1lOiAnTWFya2V0IFNoYXJlJyxcclxuICAgICAgICBuYW1lX2FyOiAn2K3YtdipINin2YTYs9mI2YInLFxyXG4gICAgICAgIGNhdGVnb3J5OiAnTWFya2V0JyxcclxuICAgICAgICB0YXJnZXQ6IDI1LFxyXG4gICAgICAgIGN1cnJlbnQ6IDIyLFxyXG4gICAgICAgIHVuaXQ6ICclJyxcclxuICAgICAgICB0cmVuZDogJ3VwJyxcclxuICAgICAgICBjaGFuZ2VQZXJjZW50OiAxLjgsXHJcbiAgICAgICAgZnJlcXVlbmN5OiAncXVhcnRlcmx5JyxcclxuICAgICAgICBvd25lcjogJ0NFTycsXHJcbiAgICAgICAgZGVzY3JpcHRpb246ICdNYXJrZXQgc2hhcmUgcGVyY2VudGFnZScsXHJcbiAgICAgIH0sXHJcbiAgICBdO1xyXG5cclxuICAgIGRlZmF1bHRLUElzLmZvckVhY2goa3BpID0+IHtcclxuICAgICAgdGhpcy5rcGlzLnNldChrcGkuaWQsIHtcclxuICAgICAgICAuLi5rcGksXHJcbiAgICAgICAgY3JlYXRlZEF0OiBuZXcgRGF0ZSgpLFxyXG4gICAgICAgIHVwZGF0ZWRBdDogbmV3IERhdGUoKSxcclxuICAgICAgICBoaXN0b3J5OiBbe1xyXG4gICAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLFxyXG4gICAgICAgICAgdmFsdWU6IGtwaS5jdXJyZW50LFxyXG4gICAgICAgICAgdGFyZ2V0OiBrcGkudGFyZ2V0LFxyXG4gICAgICAgIH1dLFxyXG4gICAgICAgIGFsZXJ0czogW10sXHJcbiAgICAgICAgaW5zaWdodHM6IFtdLFxyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogSW5pdGlhbGl6ZSBwZXJmb3JtYW5jZSB0cmFja2luZ1xyXG4gICAqL1xyXG4gIGluaXRpYWxpemVQZXJmb3JtYW5jZVRyYWNraW5nKCkge1xyXG4gICAgY29uc3QgcGVyZm9ybWFuY2VNZXRyaWNzID0gW1xyXG4gICAgICB7IG1ldHJpYzogJ1N5c3RlbSBVcHRpbWUnLCB2YWx1ZTogOTkuOTgsIHVuaXQ6ICclJyB9LFxyXG4gICAgICB7IG1ldHJpYzogJ0F2ZXJhZ2UgUmVzcG9uc2UgVGltZScsIHZhbHVlOiAxMjUsIHVuaXQ6ICdtcycgfSxcclxuICAgICAgeyBtZXRyaWM6ICdFcnJvciBSYXRlJywgdmFsdWU6IDAuMDIsIHVuaXQ6ICclJyB9LFxyXG4gICAgICB7IG1ldHJpYzogJ0NhY2hlIEhpdCBSYXRlJywgdmFsdWU6IDk0LjUsIHVuaXQ6ICclJyB9LFxyXG4gICAgICB7IG1ldHJpYzogJ0RhdGFiYXNlIFF1ZXJ5IFRpbWUnLCB2YWx1ZTogNDUsIHVuaXQ6ICdtcycgfSxcclxuICAgIF07XHJcblxyXG4gICAgdGhpcy5tZXRyaWNzLnNldCgnc3lzdGVtX3BlcmZvcm1hbmNlJywge1xyXG4gICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCksXHJcbiAgICAgIGRhdGE6IHBlcmZvcm1hbmNlTWV0cmljcyxcclxuICAgICAgc3RhdHVzOiAnaGVhbHRoeScsXHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEdldCBhbGwgS1BJcyB3aXRoIGRldGFpbGVkIGluZm9ybWF0aW9uXHJcbiAgICovXHJcbiAgZ2V0QWxsS1BJcyhmaWx0ZXJzID0ge30pIHtcclxuICAgIGxldCBrcGlzID0gQXJyYXkuZnJvbSh0aGlzLmtwaXMudmFsdWVzKCkpO1xyXG5cclxuICAgIC8vIEFwcGx5IGZpbHRlcnNcclxuICAgIGlmIChmaWx0ZXJzLmNhdGVnb3J5KSB7XHJcbiAgICAgIGtwaXMgPSBrcGlzLmZpbHRlcihrID0+IGsuY2F0ZWdvcnkgPT09IGZpbHRlcnMuY2F0ZWdvcnkpO1xyXG4gICAgfVxyXG4gICAgaWYgKGZpbHRlcnMub3duZXIpIHtcclxuICAgICAga3BpcyA9IGtwaXMuZmlsdGVyKGsgPT4gay5vd25lciA9PT0gZmlsdGVycy5vd25lcik7XHJcbiAgICB9XHJcbiAgICBpZiAoZmlsdGVycy5mcmVxdWVuY3kpIHtcclxuICAgICAga3BpcyA9IGtwaXMuZmlsdGVyKGsgPT4gay5mcmVxdWVuY3kgPT09IGZpbHRlcnMuZnJlcXVlbmN5KTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4ga3Bpcy5tYXAoa3BpID0+IHRoaXMuZm9ybWF0S1BJUmVzcG9uc2Uoa3BpKSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBHZXQgc3BlY2lmaWMgS1BJIGRldGFpbHNcclxuICAgKi9cclxuICBnZXRLUElEZXRhaWxzKGtwaUlkKSB7XHJcbiAgICBjb25zdCBrcGkgPSB0aGlzLmtwaXMuZ2V0KGtwaUlkKTtcclxuICAgIGlmICgha3BpKSB7XHJcbiAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB7XHJcbiAgICAgIC4uLnRoaXMuZm9ybWF0S1BJUmVzcG9uc2Uoa3BpKSxcclxuICAgICAgaGlzdG9yeToga3BpLmhpc3Rvcnkuc2xpY2UoLTMwKSwgLy8gTGFzdCAzMCBkYXRhIHBvaW50c1xyXG4gICAgICBhbGVydHM6IGtwaS5hbGVydHMsXHJcbiAgICAgIGluc2lnaHRzOiB0aGlzLmdlbmVyYXRlS1BJSW5zaWdodHMoa3BpKSxcclxuICAgICAgZm9yZWNhc3Q6IHRoaXMuZ2VuZXJhdGVGb3JlY2FzdChrcGkpLFxyXG4gICAgICBjb21wYXJpc29uOiB0aGlzLmdldENvbXBhcml0aXZlQW5hbHlzaXMoa3BpSWQpLFxyXG4gICAgfTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEZvcm1hdCBLUEkgcmVzcG9uc2VcclxuICAgKi9cclxuICBmb3JtYXRLUElSZXNwb25zZShrcGkpIHtcclxuICAgIGNvbnN0IHZhcmlhbmNlID0ga3BpLmN1cnJlbnQgLSBrcGkudGFyZ2V0O1xyXG4gICAgY29uc3QgdmFyaWFuY2VQZXJjZW50ID0gKCh2YXJpYW5jZSAvIGtwaS50YXJnZXQpICogMTAwKS50b0ZpeGVkKDIpO1xyXG4gICAgY29uc3Qgc3RhdHVzID0gdGhpcy5nZXRLUElTdGF0dXModmFyaWFuY2UsIHZhcmlhbmNlUGVyY2VudCk7XHJcblxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgaWQ6IGtwaS5pZCxcclxuICAgICAgbmFtZToga3BpLm5hbWUsXHJcbiAgICAgIG5hbWVfYXI6IGtwaS5uYW1lX2FyLFxyXG4gICAgICBjYXRlZ29yeToga3BpLmNhdGVnb3J5LFxyXG4gICAgICB0YXJnZXQ6IGtwaS50YXJnZXQsXHJcbiAgICAgIGN1cnJlbnQ6IGtwaS5jdXJyZW50LFxyXG4gICAgICB2YXJpYW5jZSxcclxuICAgICAgdmFyaWFuY2VQZXJjZW50OiBwYXJzZUZsb2F0KHZhcmlhbmNlUGVyY2VudCksXHJcbiAgICAgIHVuaXQ6IGtwaS51bml0LFxyXG4gICAgICBzdGF0dXMsXHJcbiAgICAgIHRyZW5kOiBrcGkudHJlbmQsXHJcbiAgICAgIGNoYW5nZVBlcmNlbnQ6IGtwaS5jaGFuZ2VQZXJjZW50LFxyXG4gICAgICBmcmVxdWVuY3k6IGtwaS5mcmVxdWVuY3ksXHJcbiAgICAgIG93bmVyOiBrcGkub3duZXIsXHJcbiAgICAgIGRlc2NyaXB0aW9uOiBrcGkuZGVzY3JpcHRpb24sXHJcbiAgICAgIGxhc3RVcGRhdGVkOiBrcGkudXBkYXRlZEF0LFxyXG4gICAgICBhbGVydHNDb3VudDoga3BpLmFsZXJ0cy5sZW5ndGgsXHJcbiAgICB9O1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogR2V0IEtQSSBzdGF0dXMgYmFzZWQgb24gdGFyZ2V0IGFjaGlldmVtZW50XHJcbiAgICovXHJcbiAgZ2V0S1BJU3RhdHVzKHZhcmlhbmNlLCB2YXJpYW5jZVBlcmNlbnQpIHtcclxuICAgIGlmICh2YXJpYW5jZVBlcmNlbnQgPj0gLTUpIHJldHVybiAnb25fdHJhY2snO1xyXG4gICAgaWYgKHZhcmlhbmNlUGVyY2VudCA+PSAtMTApIHJldHVybiAnYXRfcmlzayc7XHJcbiAgICByZXR1cm4gJ2NyaXRpY2FsJztcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEdlbmVyYXRlIGluc2lnaHRzIGZvciBhIEtQSVxyXG4gICAqL1xyXG4gIGdlbmVyYXRlS1BJSW5zaWdodHMoa3BpKSB7XHJcbiAgICBjb25zdCBpbnNpZ2h0cyA9IFtdO1xyXG4gICAgY29uc3QgdmFyaWFuY2VQZXJjZW50ID0gKChrcGkuY3VycmVudCAtIGtwaS50YXJnZXQpIC8ga3BpLnRhcmdldCkgKiAxMDA7XHJcblxyXG4gICAgaWYgKHZhcmlhbmNlUGVyY2VudCA8IC0xMCkge1xyXG4gICAgICBpbnNpZ2h0cy5wdXNoKHtcclxuICAgICAgICB0eXBlOiAnd2FybmluZycsXHJcbiAgICAgICAgbWVzc2FnZTogYCR7a3BpLm5hbWV9IGlzICR7TWF0aC5hYnModmFyaWFuY2VQZXJjZW50KS50b0ZpeGVkKDEpfSUgYmVsb3cgdGFyZ2V0YCxcclxuICAgICAgICBzZXZlcml0eTogJ2hpZ2gnLFxyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoa3BpLnRyZW5kID09PSAnZG93bicgJiYgdmFyaWFuY2VQZXJjZW50IDwgMCkge1xyXG4gICAgICBpbnNpZ2h0cy5wdXNoKHtcclxuICAgICAgICB0eXBlOiAnYWxlcnQnLFxyXG4gICAgICAgIG1lc3NhZ2U6IGAke2twaS5uYW1lfSBzaG93cyBuZWdhdGl2ZSB0cmVuZCBhbmQgaXMgYmVsb3cgdGFyZ2V0YCxcclxuICAgICAgICBzZXZlcml0eTogJ2hpZ2gnLFxyXG4gICAgICAgIHJlY29tbWVuZGF0aW9uOiAnVGFrZSBpbW1lZGlhdGUgYWN0aW9uIHRvIHJldmVyc2UgdGhlIHRyZW5kJyxcclxuICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHZhcmlhbmNlUGVyY2VudCA+IDEwKSB7XHJcbiAgICAgIGluc2lnaHRzLnB1c2goe1xyXG4gICAgICAgIHR5cGU6ICdwb3NpdGl2ZScsXHJcbiAgICAgICAgbWVzc2FnZTogYCR7a3BpLm5hbWV9IGlzICR7dmFyaWFuY2VQZXJjZW50LnRvRml4ZWQoMSl9JSBhYm92ZSB0YXJnZXRgLFxyXG4gICAgICAgIHNldmVyaXR5OiAnbG93JyxcclxuICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIGluc2lnaHRzO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogR2VuZXJhdGUgZm9yZWNhc3QgZm9yIEtQSSBiYXNlZCBvbiBoaXN0b3JpY2FsIGRhdGFcclxuICAgKi9cclxuICBnZW5lcmF0ZUZvcmVjYXN0KGtwaSkge1xyXG4gICAgaWYgKGtwaS5oaXN0b3J5Lmxlbmd0aCA8IDMpIHtcclxuICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gU2ltcGxlIHRyZW5kLWJhc2VkIGZvcmVjYXN0XHJcbiAgICBjb25zdCByZWNlbnREYXRhID0ga3BpLmhpc3Rvcnkuc2xpY2UoLTYpO1xyXG4gICAgY29uc3QgYXZnID0gcmVjZW50RGF0YS5yZWR1Y2UoKHN1bSwgZCkgPT4gc3VtICsgZC52YWx1ZSwgMCkgLyByZWNlbnREYXRhLmxlbmd0aDtcclxuICAgIGNvbnN0IHRyZW5kID0gcmVjZW50RGF0YVtyZWNlbnREYXRhLmxlbmd0aCAtIDFdLnZhbHVlIC0gcmVjZW50RGF0YVswXS52YWx1ZTtcclxuICAgIFxyXG4gICAgY29uc3QgcHJvamVjdGVkMzBEYXlzID0gYXZnICsgKHRyZW5kIC8gNikgKiAxO1xyXG4gICAgY29uc3QgcHJvamVjdGVkOTBEYXlzID0gYXZnICsgKHRyZW5kIC8gNikgKiAzO1xyXG5cclxuICAgIHJldHVybiB7XHJcbiAgICAgIGNvbmZpZGVuY2U6IDAuNzUsXHJcbiAgICAgIHByb2plY3RlZFZhbHVlczoge1xyXG4gICAgICAgICczMGRheXMnOiBNYXRoLnJvdW5kKHByb2plY3RlZDMwRGF5cyksXHJcbiAgICAgICAgJzkwZGF5cyc6IE1hdGgucm91bmQocHJvamVjdGVkOTBEYXlzKSxcclxuICAgICAgfSxcclxuICAgICAgdHJlbmQ6IHRyZW5kID4gMCA/ICdpbmNyZWFzaW5nJyA6ICdkZWNyZWFzaW5nJyxcclxuICAgIH07XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBHZXQgY29tcGFyYXRpdmUgYW5hbHlzaXMgZm9yIEtQSVxyXG4gICAqL1xyXG4gIGdldENvbXBhcml0aXZlQW5hbHlzaXMoa3BpSWQpIHtcclxuICAgIGNvbnN0IGtwaSA9IHRoaXMua3Bpcy5nZXQoa3BpSWQpO1xyXG4gICAgaWYgKCFrcGkpIHJldHVybiBudWxsO1xyXG5cclxuICAgIHJldHVybiB7XHJcbiAgICAgIHZzX3RhcmdldDoge1xyXG4gICAgICAgIHBlcmNlbnQ6ICgoa3BpLmN1cnJlbnQgLyBrcGkudGFyZ2V0KSAqIDEwMCkudG9GaXhlZCgxKSxcclxuICAgICAgICBzdGF0dXM6IGtwaS5jdXJyZW50ID49IGtwaS50YXJnZXQgPyAnZXhjZWVkaW5nJyA6ICdiZWxvdycsXHJcbiAgICAgIH0sXHJcbiAgICAgIHZzX3ByZXZpb3VzOiB7XHJcbiAgICAgICAgdmFsdWU6IGtwaS5oaXN0b3J5Lmxlbmd0aCA+IDEgPyBrcGkuaGlzdG9yeVtrcGkuaGlzdG9yeS5sZW5ndGggLSAyXS52YWx1ZSA6IGtwaS5jdXJyZW50LFxyXG4gICAgICAgIGNoYW5nZToga3BpLmNoYW5nZVBlcmNlbnQsXHJcbiAgICAgIH0sXHJcbiAgICAgIHZzX2luZHVzdHJ5OiB7XHJcbiAgICAgICAgcGVyY2VudGlsZTogTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTAwKSwgLy8gUGxhY2Vob2xkZXJcclxuICAgICAgICBzdGF0dXM6ICduZWVkc19hbmFseXNpcycsXHJcbiAgICAgIH0sXHJcbiAgICB9O1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogVXBkYXRlIEtQSSB2YWx1ZVxyXG4gICAqL1xyXG4gIHVwZGF0ZUtQSVZhbHVlKGtwaUlkLCBuZXdWYWx1ZSwgdGltZXN0YW1wID0gbmV3IERhdGUoKSkge1xyXG4gICAgY29uc3Qga3BpID0gdGhpcy5rcGlzLmdldChrcGlJZCk7XHJcbiAgICBpZiAoIWtwaSkge1xyXG4gICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6ICdLUEkgbm90IGZvdW5kJyB9O1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHByZXZpb3VzVmFsdWUgPSBrcGkuY3VycmVudDtcclxuICAgIGNvbnN0IGNoYW5nZVBlcmNlbnQgPSAoKG5ld1ZhbHVlIC0gcHJldmlvdXNWYWx1ZSkgLyBwcmV2aW91c1ZhbHVlICogMTAwKS50b0ZpeGVkKDIpO1xyXG5cclxuICAgIGtwaS5jdXJyZW50ID0gbmV3VmFsdWU7XHJcbiAgICBrcGkuY2hhbmdlUGVyY2VudCA9IHBhcnNlRmxvYXQoY2hhbmdlUGVyY2VudCk7XHJcbiAgICBrcGkudXBkYXRlZEF0ID0gdGltZXN0YW1wO1xyXG4gICAga3BpLnRyZW5kID0gbmV3VmFsdWUgPiBwcmV2aW91c1ZhbHVlID8gJ3VwJyA6IG5ld1ZhbHVlIDwgcHJldmlvdXNWYWx1ZSA/ICdkb3duJyA6ICdzdGFibGUnO1xyXG5cclxuICAgIC8vIEFkZCB0byBoaXN0b3J5XHJcbiAgICBrcGkuaGlzdG9yeS5wdXNoKHtcclxuICAgICAgdGltZXN0YW1wLFxyXG4gICAgICB2YWx1ZTogbmV3VmFsdWUsXHJcbiAgICAgIHRhcmdldDoga3BpLnRhcmdldCxcclxuICAgIH0pO1xyXG5cclxuICAgIC8vIEtlZXAgaGlzdG9yeSBsZW5ndGggbWFuYWdlYWJsZVxyXG4gICAgaWYgKGtwaS5oaXN0b3J5Lmxlbmd0aCA+IDM2NSkge1xyXG4gICAgICBrcGkuaGlzdG9yeSA9IGtwaS5oaXN0b3J5LnNsaWNlKC0zNjUpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIENoZWNrIGZvciBhbGVydHNcclxuICAgIHRoaXMuY2hlY2tLUElBbGVydHMoa3BpSWQpO1xyXG5cclxuICAgIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUsIGtwaTogdGhpcy5mb3JtYXRLUElSZXNwb25zZShrcGkpIH07XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBDaGVjayBpZiBLUEkgdmlvbGF0ZXMgYWxlcnQgdGhyZXNob2xkc1xyXG4gICAqL1xyXG4gIGNoZWNrS1BJQWxlcnRzKGtwaUlkKSB7XHJcbiAgICBjb25zdCBrcGkgPSB0aGlzLmtwaXMuZ2V0KGtwaUlkKTtcclxuICAgIGlmICgha3BpKSByZXR1cm47XHJcblxyXG4gICAgY29uc3QgdmFyaWFuY2UgPSBrcGkuY3VycmVudCAtIGtwaS50YXJnZXQ7XHJcbiAgICBjb25zdCB2YXJpYW5jZVBlcmNlbnQgPSAodmFyaWFuY2UgLyBrcGkudGFyZ2V0KSAqIDEwMDtcclxuXHJcbiAgICBrcGkuYWxlcnRzID0gW107XHJcblxyXG4gICAgaWYgKHZhcmlhbmNlUGVyY2VudCA8IC0xNSkge1xyXG4gICAgICBrcGkuYWxlcnRzLnB1c2goe1xyXG4gICAgICAgIHR5cGU6ICdjcml0aWNhbCcsXHJcbiAgICAgICAgbWVzc2FnZTogYCR7a3BpLm5hbWV9IGlzIGNyaXRpY2FsbHkgYmVsb3cgdGFyZ2V0ICgke3ZhcmlhbmNlUGVyY2VudC50b0ZpeGVkKDEpfSUpYCxcclxuICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCksXHJcbiAgICAgIH0pO1xyXG4gICAgfSBlbHNlIGlmICh2YXJpYW5jZVBlcmNlbnQgPCAtNSkge1xyXG4gICAgICBrcGkuYWxlcnRzLnB1c2goe1xyXG4gICAgICAgIHR5cGU6ICd3YXJuaW5nJyxcclxuICAgICAgICBtZXNzYWdlOiBgJHtrcGkubmFtZX0gaXMgYmVsb3cgdGFyZ2V0ICgke3ZhcmlhbmNlUGVyY2VudC50b0ZpeGVkKDEpfSUpYCxcclxuICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCksXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogR2V0IGV4ZWN1dGl2ZSBkYXNoYm9hcmQgc3VtbWFyeVxyXG4gICAqL1xyXG4gIGdldEV4ZWN1dGl2ZURhc2hib2FyZCgpIHtcclxuICAgIGNvbnN0IGtwaXNBcnJheSA9IEFycmF5LmZyb20odGhpcy5rcGlzLnZhbHVlcygpKTtcclxuICAgIFxyXG4gICAgY29uc3Qgc3VtbWFyeSA9IHtcclxuICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLFxyXG4gICAgICB0b3RhbEtQSXM6IGtwaXNBcnJheS5sZW5ndGgsXHJcbiAgICAgIGtwaXNPblRyYWNrOiBrcGlzQXJyYXkuZmlsdGVyKGsgPT4ge1xyXG4gICAgICAgIGNvbnN0IHZhcmlhbmNlID0gKChrLmN1cnJlbnQgLSBrLnRhcmdldCkgLyBrLnRhcmdldCkgKiAxMDA7XHJcbiAgICAgICAgcmV0dXJuIHZhcmlhbmNlID49IC01O1xyXG4gICAgICB9KS5sZW5ndGgsXHJcbiAgICAgIGtwaXNBdFJpc2s6IGtwaXNBcnJheS5maWx0ZXIoayA9PiB7XHJcbiAgICAgICAgY29uc3QgdmFyaWFuY2UgPSAoKGsuY3VycmVudCAtIGsudGFyZ2V0KSAvIGsudGFyZ2V0KSAqIDEwMDtcclxuICAgICAgICByZXR1cm4gdmFyaWFuY2UgPCAtNSAmJiB2YXJpYW5jZSA+PSAtMTA7XHJcbiAgICAgIH0pLmxlbmd0aCxcclxuICAgICAga3Bpc0NyaXRpY2FsOiBrcGlzQXJyYXkuZmlsdGVyKGsgPT4ge1xyXG4gICAgICAgIGNvbnN0IHZhcmlhbmNlID0gKChrLmN1cnJlbnQgLSBrLnRhcmdldCkgLyBrLnRhcmdldCkgKiAxMDA7XHJcbiAgICAgICAgcmV0dXJuIHZhcmlhbmNlIDwgLTEwO1xyXG4gICAgICB9KS5sZW5ndGgsXHJcbiAgICAgIHRvdGFsQWxlcnRzOiBrcGlzQXJyYXkucmVkdWNlKChzdW0sIGspID0+IHN1bSArIGsuYWxlcnRzLmxlbmd0aCwgMCksXHJcbiAgICAgIGtwaXM6IGtwaXNBcnJheS5tYXAoayA9PiB0aGlzLmZvcm1hdEtQSVJlc3BvbnNlKGspKSxcclxuICAgICAgdG9wUGVyZm9ybWVyczoga3Bpc0FycmF5XHJcbiAgICAgICAgLm1hcChrID0+IHRoaXMuZm9ybWF0S1BJUmVzcG9uc2UoaykpXHJcbiAgICAgICAgLnNvcnQoKGEsIGIpID0+IGIuY2hhbmdlUGVyY2VudCAtIGEuY2hhbmdlUGVyY2VudClcclxuICAgICAgICAuc2xpY2UoMCwgNSksXHJcbiAgICAgIG5lZWRzQXR0ZW50aW9uOiBrcGlzQXJyYXlcclxuICAgICAgICAubWFwKGsgPT4gdGhpcy5mb3JtYXRLUElSZXNwb25zZShrKSlcclxuICAgICAgICAuZmlsdGVyKGsgPT4gay5zdGF0dXMgIT09ICdvbl90cmFjaycpXHJcbiAgICAgICAgLnNsaWNlKDAsIDUpLFxyXG4gICAgfTtcclxuXHJcbiAgICByZXR1cm4gc3VtbWFyeTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEdldCBkZXBhcnRtZW50IHBlcmZvcm1hbmNlIGNvbXBhcmlzb25cclxuICAgKi9cclxuICBnZXREZXBhcnRtZW50Q29tcGFyaXNvbigpIHtcclxuICAgIGNvbnN0IGJ5Q2F0ZWdvcnkgPSB7fTtcclxuICAgIFxyXG4gICAgZm9yIChjb25zdCBrcGkgb2YgdGhpcy5rcGlzLnZhbHVlcygpKSB7XHJcbiAgICAgIGlmICghYnlDYXRlZ29yeVtrcGkuY2F0ZWdvcnldKSB7XHJcbiAgICAgICAgYnlDYXRlZ29yeVtrcGkuY2F0ZWdvcnldID0ge1xyXG4gICAgICAgICAgY2F0ZWdvcnk6IGtwaS5jYXRlZ29yeSxcclxuICAgICAgICAgIGtwaXM6IFtdLFxyXG4gICAgICAgICAgYXZnUGVyZm9ybWFuY2U6IDAsXHJcbiAgICAgICAgICBzdGF0dXM6ICdzdGFibGUnLFxyXG4gICAgICAgIH07XHJcbiAgICAgIH1cclxuICAgICAgYnlDYXRlZ29yeVtrcGkuY2F0ZWdvcnldLmtwaXMucHVzaCh0aGlzLmZvcm1hdEtQSVJlc3BvbnNlKGtwaSkpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIENhbGN1bGF0ZSBhdmVyYWdlIHBlcmZvcm1hbmNlXHJcbiAgICBmb3IgKGNvbnN0IGNhdGVnb3J5IGluIGJ5Q2F0ZWdvcnkpIHtcclxuICAgICAgY29uc3Qga3BpcyA9IGJ5Q2F0ZWdvcnlbY2F0ZWdvcnldLmtwaXM7XHJcbiAgICAgIGNvbnN0IGF2Z1ZhcmlhbmNlID0ga3Bpcy5yZWR1Y2UoKHN1bSwgaykgPT4gc3VtICsgay52YXJpYW5jZVBlcmNlbnQsIDApIC8ga3Bpcy5sZW5ndGg7XHJcbiAgICAgIGJ5Q2F0ZWdvcnlbY2F0ZWdvcnldLmF2Z1BlcmZvcm1hbmNlID0gYXZnVmFyaWFuY2U7XHJcbiAgICAgIGJ5Q2F0ZWdvcnlbY2F0ZWdvcnldLnN0YXR1cyA9IGF2Z1ZhcmlhbmNlID49IC01ID8gJ29uX3RyYWNrJyA6ICdhdF9yaXNrJztcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gT2JqZWN0LnZhbHVlcyhieUNhdGVnb3J5KTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEdlbmVyYXRlIGV4ZWN1dGl2ZSByZXBvcnRcclxuICAgKi9cclxuICBnZW5lcmF0ZUV4ZWN1dGl2ZVJlcG9ydCh0aW1lZnJhbWUgPSAnbW9udGhseScpIHtcclxuICAgIGNvbnN0IHN1bW1hcnkgPSB0aGlzLmdldEV4ZWN1dGl2ZURhc2hib2FyZCgpO1xyXG4gICAgY29uc3QgZGVwYXJ0bWVudENvbXBhcmlzb24gPSB0aGlzLmdldERlcGFydG1lbnRDb21wYXJpc29uKCk7XHJcblxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgdGl0bGU6IGBFeGVjdXRpdmUgUGVyZm9ybWFuY2UgUmVwb3J0IC0gJHt0aW1lZnJhbWUuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyB0aW1lZnJhbWUuc2xpY2UoMSl9YCxcclxuICAgICAgZGF0ZTogbmV3IERhdGUoKSxcclxuICAgICAgZXhlY3V0aXZlX3N1bW1hcnk6IHtcclxuICAgICAgICB0b3RhbF9rcGlzOiBzdW1tYXJ5LnRvdGFsS1BJcyxcclxuICAgICAgICBvbl90cmFjazogc3VtbWFyeS5rcGlzT25UcmFjayxcclxuICAgICAgICBhdF9yaXNrOiBzdW1tYXJ5LmtwaXNBdFJpc2ssXHJcbiAgICAgICAgY3JpdGljYWw6IHN1bW1hcnkua3Bpc0NyaXRpY2FsLFxyXG4gICAgICAgIHRvdGFsX2FsZXJ0czogc3VtbWFyeS50b3RhbEFsZXJ0cyxcclxuICAgICAgICBvdmVyYWxsX3N0YXR1czogc3VtbWFyeS5rcGlzQ3JpdGljYWwgPiAwID8gJ0NyaXRpY2FsJyA6IHN1bW1hcnkua3Bpc0F0UmlzayA+IDAgPyAnQXQgUmlzaycgOiAnSGVhbHRoeScsXHJcbiAgICAgIH0sXHJcbiAgICAgIHRvcF9wZXJmb3JtZXJzOiBzdW1tYXJ5LnRvcFBlcmZvcm1lcnMsXHJcbiAgICAgIG5lZWRzX2F0dGVudGlvbjogc3VtbWFyeS5uZWVkc0F0dGVudGlvbixcclxuICAgICAgZGVwYXJ0bWVudF9wZXJmb3JtYW5jZTogZGVwYXJ0bWVudENvbXBhcmlzb24sXHJcbiAgICAgIHJlY29tbWVuZGF0aW9uczogdGhpcy5nZW5lcmF0ZVJlY29tbWVuZGF0aW9ucygpLFxyXG4gICAgfTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEdlbmVyYXRlIHJlY29tbWVuZGF0aW9ucyBiYXNlZCBvbiBkYXRhXHJcbiAgICovXHJcbiAgZ2VuZXJhdGVSZWNvbW1lbmRhdGlvbnMoKSB7XHJcbiAgICBjb25zdCByZWNvbW1lbmRhdGlvbnMgPSBbXTtcclxuICAgIGNvbnN0IGNyaXRpY2FsS1BJcyA9IEFycmF5LmZyb20odGhpcy5rcGlzLnZhbHVlcygpKS5maWx0ZXIoayA9PiB7XHJcbiAgICAgIGNvbnN0IHZhcmlhbmNlID0gKChrLmN1cnJlbnQgLSBrLnRhcmdldCkgLyBrLnRhcmdldCkgKiAxMDA7XHJcbiAgICAgIHJldHVybiB2YXJpYW5jZSA8IC0xMDtcclxuICAgIH0pO1xyXG5cclxuICAgIGlmIChjcml0aWNhbEtQSXMubGVuZ3RoID4gMCkge1xyXG4gICAgICByZWNvbW1lbmRhdGlvbnMucHVzaCh7XHJcbiAgICAgICAgcHJpb3JpdHk6ICdoaWdoJyxcclxuICAgICAgICBjYXRlZ29yeTogJ0FjdGlvbiBSZXF1aXJlZCcsXHJcbiAgICAgICAgbWVzc2FnZTogYCR7Y3JpdGljYWxLUElzLmxlbmd0aH0gY3JpdGljYWwgS1BJcyByZXF1aXJlIGltbWVkaWF0ZSBhdHRlbnRpb25gLFxyXG4gICAgICAgIGRldGFpbHM6IGNyaXRpY2FsS1BJcy5tYXAoayA9PiBrLm5hbWUpLFxyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBkb3dud2FyZFRyZW5kcyA9IEFycmF5LmZyb20odGhpcy5rcGlzLnZhbHVlcygpKS5maWx0ZXIoayA9PiBrLnRyZW5kID09PSAnZG93bicpO1xyXG4gICAgaWYgKGRvd253YXJkVHJlbmRzLmxlbmd0aCA+IDApIHtcclxuICAgICAgcmVjb21tZW5kYXRpb25zLnB1c2goe1xyXG4gICAgICAgIHByaW9yaXR5OiAnbWVkaXVtJyxcclxuICAgICAgICBjYXRlZ29yeTogJ1RyZW5kIEFuYWx5c2lzJyxcclxuICAgICAgICBtZXNzYWdlOiBgJHtkb3dud2FyZFRyZW5kcy5sZW5ndGh9IEtQSXMgc2hvdyBuZWdhdGl2ZSB0cmVuZHNgLFxyXG4gICAgICAgIGRldGFpbHM6IGRvd253YXJkVHJlbmRzLm1hcChrID0+IGAke2submFtZX06ICR7ay5jaGFuZ2VQZXJjZW50LnRvRml4ZWQoMSl9JWApLFxyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gcmVjb21tZW5kYXRpb25zO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogR2V0IGN1c3RvbSBkYXNoYm9hcmQgYnkgSURcclxuICAgKi9cclxuICBnZXRDdXN0b21EYXNoYm9hcmQoZGFzaGJvYXJkSWQpIHtcclxuICAgIHJldHVybiB0aGlzLmN1c3RvbURhc2hib2FyZHMuZ2V0KGRhc2hib2FyZElkKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIENyZWF0ZSBjdXN0b20gZGFzaGJvYXJkXHJcbiAgICovXHJcbiAgY3JlYXRlQ3VzdG9tRGFzaGJvYXJkKGRhc2hib2FyZERhdGEpIHtcclxuICAgIGNvbnN0IGlkID0gYGRhc2hib2FyZF8ke0RhdGUubm93KCl9YDtcclxuICAgIGNvbnN0IGRhc2hib2FyZCA9IHtcclxuICAgICAgaWQsXHJcbiAgICAgIG5hbWU6IGRhc2hib2FyZERhdGEubmFtZSxcclxuICAgICAgbmFtZV9hcjogZGFzaGJvYXJkRGF0YS5uYW1lX2FyLFxyXG4gICAgICBkZXNjcmlwdGlvbjogZGFzaGJvYXJkRGF0YS5kZXNjcmlwdGlvbixcclxuICAgICAgb3duZXI6IGRhc2hib2FyZERhdGEub3duZXIsXHJcbiAgICAgIHdpZGdldHM6IGRhc2hib2FyZERhdGEud2lkZ2V0cyB8fCBbXSxcclxuICAgICAgaXNEZWZhdWx0OiBkYXNoYm9hcmREYXRhLmlzRGVmYXVsdCB8fCBmYWxzZSxcclxuICAgICAgaXNQdWJsaWM6IGRhc2hib2FyZERhdGEuaXNQdWJsaWMgfHwgZmFsc2UsXHJcbiAgICAgIGNyZWF0ZWRBdDogbmV3IERhdGUoKSxcclxuICAgICAgdXBkYXRlZEF0OiBuZXcgRGF0ZSgpLFxyXG4gICAgICByZWZyZXNoSW50ZXJ2YWw6IGRhc2hib2FyZERhdGEucmVmcmVzaEludGVydmFsIHx8IDMwMDAwMCwgLy8gNSBtaW51dGVzXHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMuY3VzdG9tRGFzaGJvYXJkcy5zZXQoaWQsIGRhc2hib2FyZCk7XHJcbiAgICByZXR1cm4gZGFzaGJvYXJkO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogVXBkYXRlIGN1c3RvbSBkYXNoYm9hcmRcclxuICAgKi9cclxuICB1cGRhdGVDdXN0b21EYXNoYm9hcmQoZGFzaGJvYXJkSWQsIHVwZGF0ZXMpIHtcclxuICAgIGNvbnN0IGRhc2hib2FyZCA9IHRoaXMuY3VzdG9tRGFzaGJvYXJkcy5nZXQoZGFzaGJvYXJkSWQpO1xyXG4gICAgaWYgKCFkYXNoYm9hcmQpIHtcclxuICAgICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiAnRGFzaGJvYXJkIG5vdCBmb3VuZCcgfTtcclxuICAgIH1cclxuXHJcbiAgICBPYmplY3QuYXNzaWduKGRhc2hib2FyZCwgdXBkYXRlcywgeyB1cGRhdGVkQXQ6IG5ldyBEYXRlKCkgfSk7XHJcbiAgICByZXR1cm4geyBzdWNjZXNzOiB0cnVlLCBkYXNoYm9hcmQgfTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEFkZCB3aWRnZXQgdG8gZGFzaGJvYXJkXHJcbiAgICovXHJcbiAgYWRkV2lkZ2V0VG9EYXNoYm9hcmQoZGFzaGJvYXJkSWQsIHdpZGdldCkge1xyXG4gICAgY29uc3QgZGFzaGJvYXJkID0gdGhpcy5jdXN0b21EYXNoYm9hcmRzLmdldChkYXNoYm9hcmRJZCk7XHJcbiAgICBpZiAoIWRhc2hib2FyZCkge1xyXG4gICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6ICdEYXNoYm9hcmQgbm90IGZvdW5kJyB9O1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IG5ld1dpZGdldCA9IHtcclxuICAgICAgaWQ6IGB3aWRnZXRfJHtEYXRlLm5vdygpfWAsXHJcbiAgICAgIC4uLndpZGdldCxcclxuICAgICAgcG9zaXRpb246IHdpZGdldC5wb3NpdGlvbiB8fCB7IHg6IDAsIHk6IDAgfSxcclxuICAgICAgc2l6ZTogd2lkZ2V0LnNpemUgfHwgeyB3aWR0aDogNCwgaGVpZ2h0OiAzIH0sXHJcbiAgICB9O1xyXG5cclxuICAgIGRhc2hib2FyZC53aWRnZXRzLnB1c2gobmV3V2lkZ2V0KTtcclxuICAgIGRhc2hib2FyZC51cGRhdGVkQXQgPSBuZXcgRGF0ZSgpO1xyXG5cclxuICAgIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUsIHdpZGdldDogbmV3V2lkZ2V0IH07XHJcbiAgfVxyXG59XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IG5ldyBFeGVjdXRpdmVBbmFseXRpY3NTZXJ2aWNlKCk7XHJcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsTUFBTUEsTUFBTSxHQUFHQyxPQUFPLENBQUMsaUJBQWlCLENBQUM7QUFFekMsTUFBTUMseUJBQXlCLENBQUM7RUFDOUJDLFdBQVdBLENBQUEsRUFBRztJQUNaLElBQUks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