{"version":3,"names":["express","require","router","Router","supplyChainService","logger","handleError","error","res","defaultStatus","status","statusCode","message","json","success","process","env","NODE_ENV","stack","post","req","name","email","phone","address","body","supplier","createSupplier","data","get","USE_MOCK_DB","mockSuppliers","_id","rating","suppliers","total","length","filters","category","query","minRating","parseFloat","limit","parseInt","offset","result","listSuppliers","params","id","getSupplier","includes","put","Object","keys","updateSupplier","delete","deleteSupplier","sku","price","supplierId","product","addToInventory","patch","quantityChange","reason","undefined","updateInventory","mockInventory","quantity","items","listInventory","totalItems","lowStockItems","outOfStockItems","totalValue","getInventoryStatus","totalAmount","Array","isArray","Date","now","orderNumber","createdAt","order","createPurchaseOrder","mockOrders","dueDate","orders","priority","listPurchaseOrders","getPurchaseOrder","note","validStatuses","join","updateOrderStatus","deletePurchaseOrder","mockShipments","trackingNumber","origin","destination","shipments","listShipments","orderId","carrier","estimatedDelivery","shipment","createShipment","location","coordinates","updateShipmentStatus","trackShipment","deleteShipment","totalOrders","pendingOrders","totalInventoryValue","shipmentsMade","shippingCosts","supplierCount","analytics","getSupplyChainAnalytics","features","inventory","module","exports"],"sources":["supplyChain.routes.js"],"sourcesContent":["/**\r\n * Supply Chain Management Routes\r\n * مسارات إدارة سلسلة التوريد\r\n */\r\n\r\nconst express = require('express');\r\nconst router = express.Router();\r\nconst supplyChainService = require('../services/supplyChain.service');\r\nconst logger = require('../utils/logger');\r\n\r\n// Helper function for error handling\r\nconst handleError = (error, res, defaultStatus = 500) => {\r\n  const status = error.statusCode || defaultStatus;\r\n  const message = error.message || 'Internal server error';\r\n  \r\n  res.status(status).json({\r\n    success: false,\r\n    error: message,\r\n    ...(process.env.NODE_ENV === 'development' && { stack: error.stack })\r\n  });\r\n};\r\n\r\n// ============================================\r\n// SUPPLIER ENDPOINTS\r\n// ============================================\r\n\r\n/**\r\n * POST /api/supply-chain/suppliers\r\n * Create new supplier\r\n */\r\nrouter.post('/suppliers', async (req, res) => {\r\n  try {\r\n    // Validate required fields\r\n    const { name, email, phone, address } = req.body;\r\n    if (!name || !email || !phone || !address) {\r\n      return res.status(400).json({\r\n        success: false,\r\n        error: 'Missing required fields: name, email, phone, address'\r\n      });\r\n    }\r\n\r\n    const supplier = await supplyChainService.createSupplier(req.body);\r\n    res.status(201).json({\r\n      success: true,\r\n      message: 'Supplier created successfully',\r\n      data: supplier\r\n    });\r\n  } catch (error) {\r\n    logger.error('Failed to create supplier:', error);\r\n    handleError(error, res, 400);\r\n  }\r\n});\r\n\r\n/**\r\n * GET /api/supply-chain/suppliers\r\n * List all suppliers with filters\r\n */\r\nrouter.get('/suppliers', async (req, res) => {\r\n  try {\r\n    // In mock mode, return sample data instead of querying database\r\n    if (process.env.USE_MOCK_DB === 'true') {\r\n      const mockSuppliers = [\r\n        { _id: '1', name: 'Supplier 1', email: 'supplier1@test.com', status: 'active', rating: 4.5 },\r\n        { _id: '2', name: 'Supplier 2', email: 'supplier2@test.com', status: 'active', rating: 4.0 }\r\n      ];\r\n      return res.json({\r\n        success: true,\r\n        data: { suppliers: mockSuppliers, total: mockSuppliers.length }\r\n      });\r\n    }\r\n\r\n    const filters = {\r\n      category: req.query.category,\r\n      status: req.query.status || 'active',\r\n      minRating: parseFloat(req.query.minRating) || 0,\r\n      limit: parseInt(req.query.limit) || 100,\r\n      offset: parseInt(req.query.offset) || 0\r\n    };\r\n\r\n    const result = await supplyChainService.listSuppliers(filters);\r\n    res.json({\r\n      success: true,\r\n      data: result\r\n    });\r\n  } catch (error) {\r\n    logger.error('Failed to list suppliers:', error);\r\n    handleError(error, res);\r\n  }\r\n});\r\n\r\n/**\r\n * GET /api/supply-chain/suppliers/:id\r\n * Get supplier details\r\n */\r\nrouter.get('/suppliers/:id', async (req, res) => {\r\n  try {\r\n    // Validate ID format\r\n    if (!req.params.id || req.params.id.length < 3) {\r\n      return res.status(400).json({\r\n        success: false,\r\n        error: 'Invalid supplier ID format'\r\n      });\r\n    }\r\n\r\n    const supplier = await supplyChainService.getSupplier(req.params.id);\r\n    res.json({\r\n      success: true,\r\n      data: supplier\r\n    });\r\n  } catch (error) {\r\n    logger.error('Failed to get supplier:', error);\r\n    if (error.message && error.message.includes('not found')) {\r\n      return res.status(404).json({ success: false, error: 'Supplier not found' });\r\n    }\r\n    handleError(error, res, error.statusCode === 404 ? 404 : 400);\r\n  }\r\n});\r\n\r\n/**\r\n * PUT /api/supply-chain/suppliers/:id\r\n * Update supplier\r\n */\r\nrouter.put('/suppliers/:id', async (req, res) => {\r\n  try {\r\n    if (!req.body || Object.keys(req.body).length === 0) {\r\n      return res.status(400).json({\r\n        success: false,\r\n        error: 'Request body cannot be empty'\r\n      });\r\n    }\r\n\r\n    const supplier = await supplyChainService.updateSupplier(req.params.id, req.body);\r\n    res.json({\r\n      success: true,\r\n      message: 'Supplier updated successfully',\r\n      data: supplier\r\n    });\r\n  } catch (error) {\r\n    logger.error('Failed to update supplier:', error);\r\n    handleError(error, res, error.statusCode === 404 ? 404 : 500);\r\n  }\r\n});\r\n\r\n/**\r\n * DELETE /api/supply-chain/suppliers/:id\r\n * Delete supplier\r\n */\r\nrouter.delete('/suppliers/:id', async (req, res) => {\r\n  try {\r\n    // Validate ID format\r\n    if (!req.params.id || req.params.id.length < 3) {\r\n      return res.status(400).json({\r\n        success: false,\r\n        error: 'Invalid supplier ID format'\r\n      });\r\n    }\r\n\r\n    const supplier = await supplyChainService.deleteSupplier(req.params.id);\r\n    res.json({\r\n      success: true,\r\n      message: 'Supplier deleted successfully',\r\n      data: supplier\r\n    });\r\n  } catch (error) {\r\n    logger.error('Failed to delete supplier:', error);\r\n    if (error.message && error.message.includes('not found')) {\r\n      return res.status(404).json({ success: false, error: 'Supplier not found' });\r\n    }\r\n    handleError(error, res, error.statusCode === 404 ? 404 : 400);\r\n  }\r\n});\r\n\r\n// ============================================\r\n// INVENTORY ENDPOINTS\r\n// ============================================\r\n\r\n/**\r\n * POST /api/supply-chain/inventory\r\n * Add product to inventory\r\n */\r\nrouter.post('/inventory', async (req, res) => {\r\n  try {\r\n    // Validate required fields\r\n    const { sku, name, category, price, supplierId } = req.body;\r\n    if (!sku || !name || !category || !price || !supplierId) {\r\n      return res.status(400).json({\r\n        success: false,\r\n        error: 'Missing required fields: sku, name, category, price, supplierId'\r\n      });\r\n    }\r\n\r\n    const product = await supplyChainService.addToInventory(req.body);\r\n    res.status(201).json({\r\n      success: true,\r\n      message: 'Product added to inventory',\r\n      data: product\r\n    });\r\n  } catch (error) {\r\n    logger.error('Failed to add to inventory:', error);\r\n    handleError(error, res, 400);\r\n  }\r\n});\r\n\r\n/**\r\n * PATCH /api/supply-chain/inventory/:id\r\n * Update inventory quantity\r\n */\r\nrouter.patch('/inventory/:id', async (req, res) => {\r\n  try {\r\n    const { quantityChange, reason } = req.body;\r\n    \r\n    if (quantityChange === undefined || quantityChange === null) {\r\n      return res.status(400).json({\r\n        success: false,\r\n        error: 'quantityChange is required'\r\n      });\r\n    }\r\n\r\n    if (typeof quantityChange !== 'number') {\r\n      return res.status(400).json({\r\n        success: false,\r\n        error: 'quantityChange must be a number'\r\n      });\r\n    }\r\n\r\n    const result = await supplyChainService.updateInventory(\r\n      req.params.id,\r\n      quantityChange,\r\n      reason\r\n    );\r\n\r\n    res.json({\r\n      success: true,\r\n      message: 'Inventory updated',\r\n      data: result\r\n    });\r\n  } catch (error) {\r\n    logger.error('Failed to update inventory:', error);\r\n    handleError(error, res, error.statusCode === 404 ? 404 : 400);\r\n  }\r\n});\r\n\r\n/**\r\n * GET /api/supply-chain/inventory\r\n * List all inventory items\r\n */\r\nrouter.get('/inventory', async (req, res) => {\r\n  try {\r\n    // In mock mode, return sample data instead of querying database\r\n    if (process.env.USE_MOCK_DB === 'true') {\r\n      const mockInventory = [\r\n        { _id: '1', sku: 'SKU001', name: 'Product 1', category: 'Electronics', quantity: 100, price: 50 },\r\n        { _id: '2', sku: 'SKU002', name: 'Product 2', category: 'Accessories', quantity: 50, price: 25 }\r\n      ];\r\n      return res.json({\r\n        success: true,\r\n        data: mockInventory\r\n      });\r\n    }\r\n\r\n    const items = await supplyChainService.listInventory({\r\n      limit: parseInt(req.query.limit) || 100,\r\n      offset: parseInt(req.query.offset) || 0\r\n    });\r\n    res.json({\r\n      success: true,\r\n      data: items || []\r\n    });\r\n  } catch (error) {\r\n    logger.error('Failed to list inventory:', error);\r\n    handleError(error, res);\r\n  }\r\n});\r\n\r\n/**\r\n * GET /api/supply-chain/inventory/status\r\n * Get inventory status report\r\n */\r\nrouter.get('/inventory/status', async (req, res) => {\r\n  try {\r\n    // In mock mode, return sample status\r\n    if (process.env.USE_MOCK_DB === 'true') {\r\n      return res.json({\r\n        success: true,\r\n        data: {\r\n          totalItems: 150,\r\n          lowStockItems: 5,\r\n          outOfStockItems: 0,\r\n          totalValue: 10500\r\n        }\r\n      });\r\n    }\r\n\r\n    const status = await supplyChainService.getInventoryStatus();\r\n    res.json({\r\n      success: true,\r\n      data: status\r\n    });\r\n  } catch (error) {\r\n    logger.error('Failed to get inventory status:', error);\r\n    handleError(error, res);\r\n  }\r\n});\r\n\r\n// ============================================\r\n// PURCHASE ORDER ENDPOINTS\r\n// ============================================\r\n\r\n/**\r\n * POST /api/supply-chain/orders\r\n * Create purchase order\r\n */\r\nrouter.post('/orders', async (req, res) => {\r\n  try {\r\n    // Validate required fields\r\n    const { supplierId, items, totalAmount } = req.body;\r\n    if (!supplierId || !items || !Array.isArray(items) || items.length === 0 || totalAmount === undefined || totalAmount === null) {\r\n      return res.status(400).json({\r\n        success: false,\r\n        error: 'Missing required fields: supplierId, items (non-empty array), totalAmount'\r\n      });\r\n    }\r\n\r\n    // Validate totalAmount is positive\r\n    if (totalAmount <= 0) {\r\n      return res.status(400).json({\r\n        success: false,\r\n        error: 'Total amount must be greater than 0'\r\n      });\r\n    }\r\n\r\n    // In mock mode, return sample order\r\n    if (process.env.USE_MOCK_DB === 'true') {\r\n      return res.status(201).json({\r\n        success: true,\r\n        message: 'Purchase order created',\r\n        data: {\r\n          _id: 'mock-order-' + Date.now(),\r\n          orderNumber: `PO-${Date.now()}`,\r\n          supplierId,\r\n          items,\r\n          totalAmount,\r\n          status: 'pending',\r\n          createdAt: new Date()\r\n        }\r\n      });\r\n    }\r\n\r\n    const order = await supplyChainService.createPurchaseOrder(req.body);\r\n    res.status(201).json({\r\n      success: true,\r\n      message: 'Purchase order created',\r\n      data: order\r\n    });\r\n  } catch (error) {\r\n    logger.error('Failed to create purchase order:', error);\r\n    handleError(error, res, 400);\r\n  }\r\n});\r\n\r\n/**\r\n * GET /api/supply-chain/orders\r\n * List purchase orders\r\n */\r\nrouter.get('/orders', async (req, res) => {\r\n  try {\r\n    // In mock mode, return sample data\r\n    if (process.env.USE_MOCK_DB === 'true') {\r\n      const mockOrders = [\r\n        { _id: '1', orderNumber: 'PO001', status: 'pending', total: 5000, dueDate: new Date() },\r\n        { _id: '2', orderNumber: 'PO002', status: 'approved', total: 3500, dueDate: new Date() }\r\n      ];\r\n      return res.json({\r\n        success: true,\r\n        data: { orders: mockOrders, total: mockOrders.length }\r\n      });\r\n    }\r\n\r\n    const filters = {\r\n      status: req.query.status,\r\n      supplierId: req.query.supplierId,\r\n      priority: req.query.priority,\r\n      limit: parseInt(req.query.limit) || 100,\r\n      offset: parseInt(req.query.offset) || 0\r\n    };\r\n\r\n    const result = await supplyChainService.listPurchaseOrders(filters);\r\n    res.json({\r\n      success: true,\r\n      data: result\r\n    });\r\n  } catch (error) {\r\n    logger.error('Failed to list purchase orders:', error);\r\n    handleError(error, res);\r\n  }\r\n});\r\n\r\n/**\r\n * GET /api/supply-chain/orders/:id\r\n * Get purchase order details\r\n */\r\nrouter.get('/orders/:id', async (req, res) => {\r\n  try {\r\n    // Validate ID format\r\n    if (!req.params.id || req.params.id.length < 3) {\r\n      return res.status(400).json({\r\n        success: false,\r\n        error: 'Invalid order ID format'\r\n      });\r\n    }\r\n\r\n    const order = await supplyChainService.getPurchaseOrder(req.params.id);\r\n    res.json({\r\n      success: true,\r\n      data: order\r\n    });\r\n  } catch (error) {\r\n    logger.error('Failed to get purchase order:', error);\r\n    if (error.message && error.message.includes('not found')) {\r\n      return res.status(404).json({ success: false, error: 'Order not found' });\r\n    }\r\n    handleError(error, res, 400);\r\n  }\r\n});\r\n\r\n/**\r\n * PATCH /api/supply-chain/orders/:id/status\r\n * Update order status\r\n */\r\nrouter.patch('/orders/:id/status', async (req, res) => {\r\n  try {\r\n    const { status, note } = req.body;\r\n    \r\n    if (!status) {\r\n      return res.status(400).json({\r\n        success: false,\r\n        error: 'status is required'\r\n      });\r\n    }\r\n\r\n    const validStatuses = ['draft', 'confirmed', 'shipped', 'delivered', 'cancelled'];\r\n    if (!validStatuses.includes(status)) {\r\n      return res.status(400).json({\r\n        success: false,\r\n        error: `Invalid status. Must be one of: ${validStatuses.join(', ')}`\r\n      });\r\n    }\r\n\r\n    const order = await supplyChainService.updateOrderStatus(req.params.id, status, note);\r\n    res.json({\r\n      success: true,\r\n      message: 'Order status updated',\r\n      data: order\r\n    });\r\n  } catch (error) {\r\n    logger.error('Failed to update order status:', error);\r\n    handleError(error, res, error.statusCode === 404 ? 404 : 400);\r\n  }\r\n});\r\n\r\n/**\r\n * DELETE /api/supply-chain/orders/:id\r\n * Delete purchase order\r\n */\r\nrouter.delete('/orders/:id', async (req, res) => {\r\n  try {\r\n    // Validate ID format\r\n    if (!req.params.id || req.params.id.length < 3) {\r\n      return res.status(400).json({\r\n        success: false,\r\n        error: 'Invalid order ID format'\r\n      });\r\n    }\r\n\r\n    const order = await supplyChainService.deletePurchaseOrder(req.params.id);\r\n    res.json({\r\n      success: true,\r\n      message: 'Purchase order deleted',\r\n      data: order\r\n    });\r\n  } catch (error) {\r\n    logger.error('Failed to delete purchase order:', error);\r\n    if (error.message && error.message.includes('not found')) {\r\n      return res.status(404).json({ success: false, error: 'Order not found' });\r\n    }\r\n    handleError(error, res, error.statusCode === 404 ? 404 : 400);\r\n  }\r\n});\r\n\r\n// ============================================\r\n// SHIPMENT ENDPOINTS\r\n// ============================================\r\n\r\n/**\r\n * GET /api/supply-chain/shipments\r\n * List all shipments\r\n */\r\nrouter.get('/shipments', async (req, res) => {\r\n  try {\r\n    // In mock mode, return sample data\r\n    if (process.env.USE_MOCK_DB === 'true') {\r\n      const mockShipments = [\r\n        { _id: '1', trackingNumber: 'TRACK001', status: 'in_transit', origin: 'Warehouse A', destination: 'Client B' },\r\n        { _id: '2', trackingNumber: 'TRACK002', status: 'delivered', origin: 'Warehouse A', destination: 'Client C' }\r\n      ];\r\n      return res.json({\r\n        success: true,\r\n        data: mockShipments\r\n      });\r\n    }\r\n\r\n    const shipments = await supplyChainService.listShipments({\r\n      status: req.query.status,\r\n      limit: parseInt(req.query.limit) || 100,\r\n      offset: parseInt(req.query.offset) || 0\r\n    });\r\n    res.json({\r\n      success: true,\r\n      data: shipments || []\r\n    });\r\n  } catch (error) {\r\n    logger.error('Failed to list shipments:', error);\r\n    handleError(error, res);\r\n  }\r\n});\r\n\r\n/**\r\n * POST /api/supply-chain/shipments\r\n * Create shipment\r\n */\r\nrouter.post('/shipments', async (req, res) => {\r\n  try {\r\n    // Validate required fields\r\n    const { orderId, carrier, estimatedDelivery } = req.body;\r\n    if (!orderId || !carrier || !estimatedDelivery) {\r\n      return res.status(400).json({\r\n        success: false,\r\n        error: 'Missing required fields: orderId, carrier, estimatedDelivery'\r\n      });\r\n    }\r\n\r\n    const shipment = await supplyChainService.createShipment(req.body);\r\n    res.status(201).json({\r\n      success: true,\r\n      message: 'Shipment created',\r\n      data: shipment\r\n    });\r\n  } catch (error) {\r\n    logger.error('Failed to create shipment:', error);\r\n    handleError(error, res, 400);\r\n  }\r\n});\r\n\r\n/**\r\n * PATCH /api/supply-chain/shipments/:id/status\r\n * Update shipment status\r\n */\r\nrouter.patch('/shipments/:id/status', async (req, res) => {\r\n  try {\r\n    const { status, location, coordinates } = req.body;\r\n    \r\n    if (!status) {\r\n      return res.status(400).json({\r\n        success: false,\r\n        error: 'status is required'\r\n      });\r\n    }\r\n\r\n    const validStatuses = ['pending', 'in-transit', 'delivered', 'cancelled'];\r\n    if (!validStatuses.includes(status)) {\r\n      return res.status(400).json({\r\n        success: false,\r\n        error: `Invalid status. Must be one of: ${validStatuses.join(', ')}`\r\n      });\r\n    }\r\n\r\n    const shipment = await supplyChainService.updateShipmentStatus(\r\n      req.params.id,\r\n      status,\r\n      location,\r\n      coordinates\r\n    );\r\n\r\n    res.json({\r\n      success: true,\r\n      message: 'Shipment status updated',\r\n      data: shipment\r\n    });\r\n  } catch (error) {\r\n    logger.error('Failed to update shipment status:', error);\r\n    handleError(error, res, error.statusCode === 404 ? 404 : 400);\r\n  }\r\n});\r\n\r\n/**\r\n * GET /api/supply-chain/shipments/track/:trackingNumber\r\n * Track shipment by tracking number\r\n */\r\nrouter.get('/shipments/track/:trackingNumber', async (req, res) => {\r\n  try {\r\n    const shipment = await supplyChainService.trackShipment(req.params.trackingNumber);\r\n    if (!shipment) {\r\n      return res.status(404).json({\r\n        success: false,\r\n        error: 'Shipment not found'\r\n      });\r\n    }\r\n\r\n    res.json({\r\n      success: true,\r\n      data: shipment\r\n    });\r\n  } catch (error) {\r\n    logger.error('Failed to track shipment:', error);\r\n    handleError(error, res);\r\n  }\r\n});\r\n\r\n/**\r\n * DELETE /api/supply-chain/shipments/:id\r\n * Delete shipment\r\n */\r\nrouter.delete('/shipments/:id', async (req, res) => {\r\n  try {\r\n    const shipment = await supplyChainService.deleteShipment(req.params.id);\r\n    res.json({\r\n      success: true,\r\n      message: 'Shipment deleted',\r\n      data: shipment\r\n    });\r\n  } catch (error) {\r\n    logger.error('Failed to delete shipment:', error);\r\n    handleError(error, res, error.statusCode === 404 ? 404 : 500);\r\n  }\r\n});\r\n\r\n// ============================================\r\n// ANALYTICS ENDPOINTS\r\n// ============================================\r\n\r\n/**\r\n * GET /api/supply-chain/analytics\r\n * Get supply chain analytics\r\n */\r\nrouter.get('/analytics', async (req, res) => {\r\n  try {\r\n    // In mock mode, return sample analytics\r\n    if (process.env.USE_MOCK_DB === 'true') {\r\n      return res.json({\r\n        success: true,\r\n        data: {\r\n          totalOrders: 45,\r\n          pendingOrders: 12,\r\n          totalInventoryValue: 125000,\r\n          shipmentsMade: 38,\r\n          shippingCosts: 4500,\r\n          supplierCount: 15\r\n        }\r\n      });\r\n    }\r\n\r\n    const analytics = await supplyChainService.getSupplyChainAnalytics();\r\n    res.json({\r\n      success: true,\r\n      data: analytics\r\n    });\r\n  } catch (error) {\r\n    logger.error('Failed to get analytics:', error);\r\n    handleError(error, res);\r\n  }\r\n});\r\n\r\n/**\r\n * GET /api/supply-chain/status\r\n * Health check\r\n */\r\nrouter.get('/status', (req, res) => {\r\n  res.json({\r\n    success: true,\r\n    status: 'operational',\r\n    message: 'Supply Chain Management system is operational',\r\n    features: {\r\n      suppliers: true,\r\n      inventory: true,\r\n      orders: true,\r\n      shipments: true,\r\n      analytics: true\r\n    }\r\n  });\r\n});\r\n\r\nmodule.exports = router;\r\n"],"mappings":"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","ignoreList":[]}