c236ec21f49fb52f885e22ca31b68a07
/**
 * Driver GPS Location Tracking Model
 * نموذج تتبع موقع السائق في الوقت الفعلي
 * Phase 30 - GPS Tracking System
 */

const mongoose = require('mongoose');
const GPSLocationSchema = new mongoose.Schema({
  // ===== معلومات السائق والمركبة =====
  driver: {
    type: mongoose.Schema.Types.ObjectId,
    ref: 'Driver',
    required: true,
    index: true
  },
  vehicle: {
    type: mongoose.Schema.Types.ObjectId,
    ref: 'Vehicle',
    required: true
  },
  trip: {
    type: mongoose.Schema.Types.ObjectId,
    ref: 'Trip',
    sparse: true // قد لا تكون هناك رحلة نشطة
  },
  // ===== إحداثيات الموقع =====
  location: {
    type: {
      type: String,
      enum: ['Point'],
      default: 'Point'
    },
    coordinates: {
      type: [Number],
      // [longitude, latitude]
      required: true,
      // الفهرس الجغرافي لعمليات البحث بالقرب من الموقع
      validate: {
        validator: function (arr) {
          return arr.length === 2 && arr[0] >= -180 && arr[0] <= 180 && arr[1] >= -90 && arr[1] <= 90;
        },
        message: 'إحداثيات غير صحيحة'
      }
    }
  },
  // ===== معلومات السرعة والاتجاه =====
  speed: {
    type: Number,
    // بالكيلومتر في الساعة
    default: 0,
    min: 0,
    max: 300
  },
  speedLimitViolation: {
    type: Boolean,
    default: false
  },
  maxSpeedAllowed: {
    type: Number,
    default: 120
  },
  heading: {
    type: Number,
    // الاتجاه بالدرجات (0-360)
    min: 0,
    max: 360
  },
  altitude: Number,
  // الارتفاع بالأمتار

  // ===== جودة الإشارة =====
  accuracy: {
    type: Number,
    // دقة الـ GPS بالأمتار
    default: 0
  },
  satellites: {
    type: Number,
    // عدد الأقمار الصناعية المرئية
    min: 0,
    max: 50
  },
  // ===== حالة المحرك =====
  engineRunning: {
    type: Boolean,
    default: false
  },
  seatbeltStatus: {
    type: String,
    enum: ['fastened', 'unfastened', 'unknown'],
    default: 'unknown'
  },
  doorsLocked: Boolean,
  // ===== البيانات الحسية المتقدمة =====
  acceleration: {
    x: Number,
    // التسارع الجانبي
    y: Number,
    // التسارع الأمامي/الخلفي
    z: Number // التسارع العمودي
  },
  harshAcceleration: Boolean,
  harshBraking: Boolean,
  sharpTurn: Boolean,
  idleTime: Number,
  // وقت التوقف بالثواني

  // ===== حالة الرحلة =====
  drivingStatus: {
    type: String,
    enum: ['stopped', 'idling', 'driving', 'parked'],
    default: 'stopped'
  },
  distanceDriven: {
    type: Number,
    default: 0 // بالكيلومتر
  },
  fuelConsumption: Number,
  // لترات في الساعة

  // ===== التنبيهات والتحذيرات =====
  alerts: [{
    type: {
      type: String,
      enum: ['speeding', 'harsh_acceleration', 'harsh_braking', 'sharp_turn', 'seatbelt_unbuckled', 'drowsy_driving', 'distracted_driving', 'off_route', 'geofence_breach', 'battery_low']
    },
    severity: {
      type: String,
      enum: ['low', 'medium', 'high', 'critical'],
      default: 'medium'
    },
    message: String,
    createdAt: {
      type: Date,
      default: Date.now
    },
    acknowledged: {
      type: Boolean,
      default: false
    },
    acknowledgedAt: Date,
    acknowledgedBy: String
  }],
  // ===== الجيوفنس (الحدود الجغرافية) =====
  geofences: [{
    fenceId: mongoose.Schema.Types.ObjectId,
    status: {
      type: String,
      enum: ['inside', 'outside', 'boundary']
    },
    entryTime: Date,
    exitTime: Date
  }],
  // ===== البيانات التاريخية =====
  previousLocations: [{
    coordinates: [Number],
    timestamp: Date,
    speed: Number
  }],
  // آخر 10 مواقع

  // ===== معالجة البيانات =====
  processed: {
    type: Boolean,
    default: false
  },
  processingNotes: String,
  // ===== البيانات الوصفية =====
  source: {
    type: String,
    enum: ['gps', 'cellular', 'wifi', 'hybrid'],
    default: 'gps'
  },
  deviceModel: String,
  osVersion: String,
  appVersion: String,
  // الوقت
  timestamp: {
    type: Date,
    required: true,
    default: Date.now,
    index: true
  }
}, {
  timestamps: {
    createdAt: 'createdAt',
    updatedAt: 'updatedAt'
  }
});

// ===== INDEXES =====

// فهرس جغرافي لعمليات البحث المكانية
GPSLocationSchema.index({
  'location.coordinates': '2dsphere'
});

// فهرس مركب للسائق والوقت
GPSLocationSchema.index({
  driver: 1,
  timestamp: -1
});

// فهرس للرحلة
GPSLocationSchema.index({
  trip: 1,
  timestamp: -1
});

// فهرس لجودة الإشارة
GPSLocationSchema.index({
  accuracy: 1
});

// ===== VIRTUAL FIELDS =====

/**
 * حساب الموقع بصيغة عددية لسهولة الاستخدام
 */
GPSLocationSchema.virtual('lat').get(function () {
  return this.location?.coordinates?.[1];
});
GPSLocationSchema.virtual('lon').get(function () {
  return this.location?.coordinates?.[0];
});

/**
 * هل الموقع حديث (أقل من دقيقة)
 */
GPSLocationSchema.virtual('isRecent').get(function () {
  const now = Date.now();
  const locTime = this.timestamp?.getTime() || 0;
  return now - locTime < 60000;
});

/**
 * هل هناك انتهاك السرعة
 */
GPSLocationSchema.virtual('isSpeedingViolation').get(function () {
  return this.speed > this.maxSpeedAllowed;
});

// ===== METHODS =====

/**
 * التحقق من وجود تنبيهات نشطة
 */
GPSLocationSchema.methods.hasActiveAlerts = function () {
  return this.alerts.some(alert => !alert.acknowledged);
};

/**
 * الحصول على التنبيهات النشطة
 */
GPSLocationSchema.methods.getActiveAlerts = function () {
  return this.alerts.filter(alert => !alert.acknowledged);
};

/**
 * تأكيد تنبيه
 */
GPSLocationSchema.methods.acknowledgeAlert = async function (alertIndex, acknowledgedBy) {
  if (this.alerts[alertIndex]) {
    this.alerts[alertIndex].acknowledged = true;
    this.alerts[alertIndex].acknowledgedAt = new Date();
    this.alerts[alertIndex].acknowledgedBy = acknowledgedBy;
    await this.save();
  }
};

/**
 * حساب المسافة من موقع آخر (بالكيلومتر)
 */
GPSLocationSchema.methods.getDistanceTo = function (otherLocation) {
  const [lon1, lat1] = this.location.coordinates;
  const [lon2, lat2] = otherLocation.location.coordinates;

  // صيغة Haversine
  const R = 6371; // نصف قطر الأرض بالكيلومتر
  const dLat = (lat2 - lat1) * Math.PI / 180;
  const dLon = (lon2 - lon1) * Math.PI / 180;
  const a = Math.sin(dLat / 2) * Math.sin(dLat / 2) + Math.cos(lat1 * Math.PI / 180) * Math.cos(lat2 * Math.PI / 180) * Math.sin(dLon / 2) * Math.sin(dLon / 2);
  const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));
  return R * c;
};

/**
 * إضافة موقع سابق (للتتبع التاريخي)
 */
GPSLocationSchema.methods.addPreviousLocation = function () {
  this.previousLocations.unshift({
    coordinates: this.location.coordinates,
    timestamp: this.timestamp,
    speed: this.speed
  });

  // الاحتفاظ بآخر 10 مواقع فقط
  if (this.previousLocations.length > 10) {
    this.previousLocations.pop();
  }
};

/**
 * حساب الزمن المقضي في الرحلة
 */
GPSLocationSchema.methods.calculateTripDuration = async function () {
  if (!this.trip) return null;
  const Trip = mongoose.model('Trip');
  const tripData = await Trip.findById(this.trip).select('startTime endTime');
  if (tripData && tripData.startTime && tripData.endTime) {
    return (tripData.endTime - tripData.startTime) / (1000 * 60); // بالدقائق
  }
  return null;
};

// ===== STATICS =====

/**
 * الحصول على الموقع الأخير للسائق
 */
GPSLocationSchema.statics.getLatestLocation = async function (driverId) {
  return this.findOne({
    driver: driverId
  }).sort({
    timestamp: -1
  });
};

/**
 * الحصول على جميع المواقع في نطاق زمني
 */
GPSLocationSchema.statics.getLocationsInTimeRange = async function (driverId, startTime, endTime) {
  return this.find({
    driver: driverId,
    timestamp: {
      $gte: new Date(startTime),
      $lte: new Date(endTime)
    }
  }).sort({
    timestamp: -1
  });
};

/**
 * البحث عن سائقين بالقرب من موقع معين
 */
GPSLocationSchema.statics.findNearby = async function (longitude, latitude, maxDistance = 1000) {
  return this.find({
    'location.coordinates': {
      $near: {
        $geometry: {
          type: 'Point',
          coordinates: [longitude, latitude]
        },
        $maxDistance: maxDistance // بالأمتار
      }
    }
  });
};

/**
 * حساب عدد انتهاكات السرعة في فترة
 */
GPSLocationSchema.statics.getSpeedingViolations = async function (driverId, startTime, endTime) {
  return this.countDocuments({
    driver: driverId,
    speedLimitViolation: true,
    timestamp: {
      $gte: new Date(startTime),
      $lte: new Date(endTime)
    }
  });
};

/**
 * الحصول على متوسط السرعة
 */
GPSLocationSchema.statics.getAverageSpeed = async function (driverId, startTime, endTime) {
  const result = await this.aggregate([{
    $match: {
      driver: mongoose.Types.ObjectId.createFromHexString(driverId),
      timestamp: {
        $gte: new Date(startTime),
        $lte: new Date(endTime)
      }
    }
  }, {
    $group: {
      _id: '$driver',
      averageSpeed: {
        $avg: '$speed'
      },
      maxSpeed: {
        $max: '$speed'
      },
      minSpeed: {
        $min: '$speed'
      }
    }
  }]);
  return result[0] || null;
};

// ===== HOOKS =====

// تحديث حالة الرحلة تلقائياً بناءً على السرعة
GPSLocationSchema.pre('save', function (next) {
  if (this.speed === 0) {
    this.drivingStatus = 'stopped';
  } else if (this.speed < 5) {
    this.drivingStatus = 'idling';
  } else {
    this.drivingStatus = 'driving';
  }

  // التحقق من انتهاك السرعة
  if (this.speed > this.maxSpeedAllowed) {
    this.speedLimitViolation = true;
  }
  next();
});
module.exports = mongoose.model('GPSLocation', GPSLocationSchema);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJtb25nb29zZSIsInJlcXVpcmUiLCJHUFNMb2NhdGlvblNjaGVtYSIsIlNjaGVtYSIsImRyaXZlciIsInR5cGUiLCJUeXBlcyIsIk9iamVjdElkIiwicmVmIiwicmVxdWlyZWQiLCJpbmRleCIsInZlaGljbGUiLCJ0cmlwIiwic3BhcnNlIiwibG9jYXRpb24iLCJTdHJpbmciLCJlbnVtIiwiZGVmYXVsdCIsImNvb3JkaW5hdGVzIiwiTnVtYmVyIiwidmFsaWRhdGUiLCJ2YWxpZGF0b3IiLCJhcnIiLCJsZW5ndGgiLCJtZXNzYWdlIiwic3BlZWQiLCJtaW4iLCJtYXgiLCJzcGVlZExpbWl0VmlvbGF0aW9uIiwiQm9vbGVhbiIsIm1heFNwZWVkQWxsb3dlZCIsImhlYWRpbmciLCJhbHRpdHVkZSIsImFjY3VyYWN5Iiwic2F0ZWxsaXRlcyIsImVuZ2luZVJ1bm5pbmciLCJzZWF0YmVsdFN0YXR1cyIsImRvb3JzTG9ja2VkIiwiYWNjZWxlcmF0aW9uIiwieCIsInkiLCJ6IiwiaGFyc2hBY2NlbGVyYXRpb24iLCJoYXJzaEJyYWtpbmciLCJzaGFycFR1cm4iLCJpZGxlVGltZSIsImRyaXZpbmdTdGF0dXMiLCJkaXN0YW5jZURyaXZlbiIsImZ1ZWxDb25zdW1wdGlvbiIsImFsZXJ0cyIsInNldmVyaXR5IiwiY3JlYXRlZEF0IiwiRGF0ZSIsIm5vdyIsImFja25vd2xlZGdlZCIsImFja25vd2xlZGdlZEF0IiwiYWNrbm93bGVkZ2VkQnkiLCJnZW9mZW5jZXMiLCJmZW5jZUlkIiwic3RhdHVzIiwiZW50cnlUaW1lIiwiZXhpdFRpbWUiLCJwcmV2aW91c0xvY2F0aW9ucyIsInRpbWVzdGFtcCIsInByb2Nlc3NlZCIsInByb2Nlc3NpbmdOb3RlcyIsInNvdXJjZSIsImRldmljZU1vZGVsIiwib3NWZXJzaW9uIiwiYXBwVmVyc2lvbiIsInRpbWVzdGFtcHMiLCJ1cGRhdGVkQXQiLCJ2aXJ0dWFsIiwiZ2V0IiwibG9jVGltZSIsImdldFRpbWUiLCJtZXRob2RzIiwiaGFzQWN0aXZlQWxlcnRzIiwic29tZSIsImFsZXJ0IiwiZ2V0QWN0aXZlQWxlcnRzIiwiZmlsdGVyIiwiYWNrbm93bGVkZ2VBbGVydCIsImFsZXJ0SW5kZXgiLCJzYXZlIiwiZ2V0RGlzdGFuY2VUbyIsIm90aGVyTG9jYXRpb24iLCJsb24xIiwibGF0MSIsImxvbjIiLCJsYXQyIiwiUiIsImRMYXQiLCJNYXRoIiwiUEkiLCJkTG9uIiwiYSIsInNpbiIsImNvcyIsImMiLCJhdGFuMiIsInNxcnQiLCJhZGRQcmV2aW91c0xvY2F0aW9uIiwidW5zaGlmdCIsInBvcCIsImNhbGN1bGF0ZVRyaXBEdXJhdGlvbiIsIlRyaXAiLCJtb2RlbCIsInRyaXBEYXRhIiwiZmluZEJ5SWQiLCJzZWxlY3QiLCJzdGFydFRpbWUiLCJlbmRUaW1lIiwic3RhdGljcyIsImdldExhdGVzdExvY2F0aW9uIiwiZHJpdmVySWQiLCJmaW5kT25lIiwic29ydCIsImdldExvY2F0aW9uc0luVGltZVJhbmdlIiwiZmluZCIsIiRndGUiLCIkbHRlIiwiZmluZE5lYXJieSIsImxvbmdpdHVkZSIsImxhdGl0dWRlIiwibWF4RGlzdGFuY2UiLCIkbmVhciIsIiRnZW9tZXRyeSIsIiRtYXhEaXN0YW5jZSIsImdldFNwZWVkaW5nVmlvbGF0aW9ucyIsImNvdW50RG9jdW1lbnRzIiwiZ2V0QXZlcmFnZVNwZWVkIiwicmVzdWx0IiwiYWdncmVnYXRlIiwiJG1hdGNoIiwiY3JlYXRlRnJvbUhleFN0cmluZyIsIiRncm91cCIsIl9pZCIsImF2ZXJhZ2VTcGVlZCIsIiRhdmciLCJtYXhTcGVlZCIsIiRtYXgiLCJtaW5TcGVlZCIsIiRtaW4iLCJwcmUiLCJuZXh0IiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VzIjpbIkdQU0xvY2F0aW9uLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiBEcml2ZXIgR1BTIExvY2F0aW9uIFRyYWNraW5nIE1vZGVsXHJcbiAqINmG2YXZiNiw2Kwg2KrYqtio2Lkg2YXZiNmC2Lkg2KfZhNiz2KfYptmCINmB2Yog2KfZhNmI2YLYqiDYp9mE2YHYudmE2YpcclxuICogUGhhc2UgMzAgLSBHUFMgVHJhY2tpbmcgU3lzdGVtXHJcbiAqL1xyXG5cclxuY29uc3QgbW9uZ29vc2UgPSByZXF1aXJlKCdtb25nb29zZScpO1xyXG5cclxuY29uc3QgR1BTTG9jYXRpb25TY2hlbWEgPSBuZXcgbW9uZ29vc2UuU2NoZW1hKFxyXG4gIHtcclxuICAgIC8vID09PT09INmF2LnZhNmI2YXYp9iqINin2YTYs9in2KbZgiDZiNin2YTZhdix2YPYqNipID09PT09XHJcbiAgICBkcml2ZXI6IHtcclxuICAgICAgdHlwZTogbW9uZ29vc2UuU2NoZW1hLlR5cGVzLk9iamVjdElkLFxyXG4gICAgICByZWY6ICdEcml2ZXInLFxyXG4gICAgICByZXF1aXJlZDogdHJ1ZSxcclxuICAgICAgaW5kZXg6IHRydWUsXHJcbiAgICB9LFxyXG4gICAgdmVoaWNsZToge1xyXG4gICAgICB0eXBlOiBtb25nb29zZS5TY2hlbWEuVHlwZXMuT2JqZWN0SWQsXHJcbiAgICAgIHJlZjogJ1ZlaGljbGUnLFxyXG4gICAgICByZXF1aXJlZDogdHJ1ZSxcclxuICAgIH0sXHJcbiAgICB0cmlwOiB7XHJcbiAgICAgIHR5cGU6IG1vbmdvb3NlLlNjaGVtYS5UeXBlcy5PYmplY3RJZCxcclxuICAgICAgcmVmOiAnVHJpcCcsXHJcbiAgICAgIHNwYXJzZTogdHJ1ZSwgLy8g2YLYryDZhNinINiq2YPZiNmGINmH2YbYp9mDINix2K3ZhNipINmG2LTYt9ipXHJcbiAgICB9LFxyXG5cclxuICAgIC8vID09PT09INil2K3Yr9in2KvZitin2Kog2KfZhNmF2YjZgti5ID09PT09XHJcbiAgICBsb2NhdGlvbjoge1xyXG4gICAgICB0eXBlOiB7XHJcbiAgICAgICAgdHlwZTogU3RyaW5nLFxyXG4gICAgICAgIGVudW06IFsnUG9pbnQnXSxcclxuICAgICAgICBkZWZhdWx0OiAnUG9pbnQnLFxyXG4gICAgICB9LFxyXG4gICAgICBjb29yZGluYXRlczoge1xyXG4gICAgICAgIHR5cGU6IFtOdW1iZXJdLCAvLyBbbG9uZ2l0dWRlLCBsYXRpdHVkZV1cclxuICAgICAgICByZXF1aXJlZDogdHJ1ZSxcclxuICAgICAgICAvLyDYp9mE2YHZh9ix2LMg2KfZhNis2LrYsdin2YHZiiDZhNi52YXZhNmK2KfYqiDYp9mE2KjYrdirINio2KfZhNmC2LHYqCDZhdmGINin2YTZhdmI2YLYuVxyXG4gICAgICAgIHZhbGlkYXRlOiB7XHJcbiAgICAgICAgICB2YWxpZGF0b3I6IGZ1bmN0aW9uIChhcnIpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGFyci5sZW5ndGggPT09IDIgJiYgYXJyWzBdID49IC0xODAgJiYgYXJyWzBdIDw9IDE4MCAmJiBhcnJbMV0gPj0gLTkwICYmIGFyclsxXSA8PSA5MDtcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgICBtZXNzYWdlOiAn2KXYrdiv2KfYq9mK2KfYqiDYutmK2LEg2LXYrdmK2K3YqScsXHJcbiAgICAgICAgfSxcclxuICAgICAgfSxcclxuICAgIH0sXHJcblxyXG4gICAgLy8gPT09PT0g2YXYudmE2YjZhdin2Kog2KfZhNiz2LHYudipINmI2KfZhNin2KrYrNin2YcgPT09PT1cclxuICAgIHNwZWVkOiB7XHJcbiAgICAgIHR5cGU6IE51bWJlciwgLy8g2KjYp9mE2YPZitmE2YjZhdiq2LEg2YHZiiDYp9mE2LPYp9i52KlcclxuICAgICAgZGVmYXVsdDogMCxcclxuICAgICAgbWluOiAwLFxyXG4gICAgICBtYXg6IDMwMCxcclxuICAgIH0sXHJcbiAgICBzcGVlZExpbWl0VmlvbGF0aW9uOiB7XHJcbiAgICAgIHR5cGU6IEJvb2xlYW4sXHJcbiAgICAgIGRlZmF1bHQ6IGZhbHNlLFxyXG4gICAgfSxcclxuICAgIG1heFNwZWVkQWxsb3dlZDoge1xyXG4gICAgICB0eXBlOiBOdW1iZXIsXHJcbiAgICAgIGRlZmF1bHQ6IDEyMCxcclxuICAgIH0sXHJcbiAgICBoZWFkaW5nOiB7XHJcbiAgICAgIHR5cGU6IE51bWJlciwgLy8g2KfZhNin2KrYrNin2Ycg2KjYp9mE2K/Ysdis2KfYqiAoMC0zNjApXHJcbiAgICAgIG1pbjogMCxcclxuICAgICAgbWF4OiAzNjAsXHJcbiAgICB9LFxyXG4gICAgYWx0aXR1ZGU6IE51bWJlciwgLy8g2KfZhNin2LHYqtmB2KfYuSDYqNin2YTYo9mF2KrYp9ixXHJcblxyXG4gICAgLy8gPT09PT0g2KzZiNiv2Kkg2KfZhNil2LTYp9ix2KkgPT09PT1cclxuICAgIGFjY3VyYWN5OiB7XHJcbiAgICAgIHR5cGU6IE51bWJlciwgLy8g2K/ZgtipINin2YTZgCBHUFMg2KjYp9mE2KPZhdiq2KfYsVxyXG4gICAgICBkZWZhdWx0OiAwLFxyXG4gICAgfSxcclxuICAgIHNhdGVsbGl0ZXM6IHtcclxuICAgICAgdHlwZTogTnVtYmVyLCAvLyDYudiv2K8g2KfZhNij2YLZhdin2LEg2KfZhNi12YbYp9i52YrYqSDYp9mE2YXYsdim2YrYqVxyXG4gICAgICBtaW46IDAsXHJcbiAgICAgIG1heDogNTAsXHJcbiAgICB9LFxyXG5cclxuICAgIC8vID09PT09INit2KfZhNipINin2YTZhdit2LHZgyA9PT09PVxyXG4gICAgZW5naW5lUnVubmluZzoge1xyXG4gICAgICB0eXBlOiBCb29sZWFuLFxyXG4gICAgICBkZWZhdWx0OiBmYWxzZSxcclxuICAgIH0sXHJcbiAgICBzZWF0YmVsdFN0YXR1czoge1xyXG4gICAgICB0eXBlOiBTdHJpbmcsXHJcbiAgICAgIGVudW06IFsnZmFzdGVuZWQnLCAndW5mYXN0ZW5lZCcsICd1bmtub3duJ10sXHJcbiAgICAgIGRlZmF1bHQ6ICd1bmtub3duJyxcclxuICAgIH0sXHJcbiAgICBkb29yc0xvY2tlZDogQm9vbGVhbixcclxuXHJcbiAgICAvLyA9PT09PSDYp9mE2KjZitin2YbYp9iqINin2YTYrdiz2YrYqSDYp9mE2YXYqtmC2K/ZhdipID09PT09XHJcbiAgICBhY2NlbGVyYXRpb246IHtcclxuICAgICAgeDogTnVtYmVyLCAvLyDYp9mE2KrYs9in2LHYuSDYp9mE2KzYp9mG2KjZilxyXG4gICAgICB5OiBOdW1iZXIsIC8vINin2YTYqtiz2KfYsdi5INin2YTYo9mF2KfZhdmKL9in2YTYrtmE2YHZilxyXG4gICAgICB6OiBOdW1iZXIsIC8vINin2YTYqtiz2KfYsdi5INin2YTYudmF2YjYr9mKXHJcbiAgICB9LFxyXG4gICAgaGFyc2hBY2NlbGVyYXRpb246IEJvb2xlYW4sXHJcbiAgICBoYXJzaEJyYWtpbmc6IEJvb2xlYW4sXHJcbiAgICBzaGFycFR1cm46IEJvb2xlYW4sXHJcbiAgICBpZGxlVGltZTogTnVtYmVyLCAvLyDZiNmC2Kog2KfZhNiq2YjZgtmBINio2KfZhNir2YjYp9mG2YpcclxuXHJcbiAgICAvLyA9PT09PSDYrdin2YTYqSDYp9mE2LHYrdmE2KkgPT09PT1cclxuICAgIGRyaXZpbmdTdGF0dXM6IHtcclxuICAgICAgdHlwZTogU3RyaW5nLFxyXG4gICAgICBlbnVtOiBbJ3N0b3BwZWQnLCAnaWRsaW5nJywgJ2RyaXZpbmcnLCAncGFya2VkJ10sXHJcbiAgICAgIGRlZmF1bHQ6ICdzdG9wcGVkJyxcclxuICAgIH0sXHJcbiAgICBkaXN0YW5jZURyaXZlbjoge1xyXG4gICAgICB0eXBlOiBOdW1iZXIsXHJcbiAgICAgIGRlZmF1bHQ6IDAsIC8vINio2KfZhNmD2YrZhNmI2YXYqtixXHJcbiAgICB9LFxyXG4gICAgZnVlbENvbnN1bXB0aW9uOiBOdW1iZXIsIC8vINmE2KrYsdin2Kog2YHZiiDYp9mE2LPYp9i52KlcclxuXHJcbiAgICAvLyA9PT09PSDYp9mE2KrZhtio2YrZh9in2Kog2YjYp9mE2KrYrdiw2YrYsdin2KogPT09PT1cclxuICAgIGFsZXJ0czogW1xyXG4gICAgICB7XHJcbiAgICAgICAgdHlwZToge1xyXG4gICAgICAgICAgdHlwZTogU3RyaW5nLFxyXG4gICAgICAgICAgZW51bTogW1xyXG4gICAgICAgICAgICAnc3BlZWRpbmcnLFxyXG4gICAgICAgICAgICAnaGFyc2hfYWNjZWxlcmF0aW9uJyxcclxuICAgICAgICAgICAgJ2hhcnNoX2JyYWtpbmcnLFxyXG4gICAgICAgICAgICAnc2hhcnBfdHVybicsXHJcbiAgICAgICAgICAgICdzZWF0YmVsdF91bmJ1Y2tsZWQnLFxyXG4gICAgICAgICAgICAnZHJvd3N5X2RyaXZpbmcnLFxyXG4gICAgICAgICAgICAnZGlzdHJhY3RlZF9kcml2aW5nJyxcclxuICAgICAgICAgICAgJ29mZl9yb3V0ZScsXHJcbiAgICAgICAgICAgICdnZW9mZW5jZV9icmVhY2gnLFxyXG4gICAgICAgICAgICAnYmF0dGVyeV9sb3cnLFxyXG4gICAgICAgICAgXSxcclxuICAgICAgICB9LFxyXG4gICAgICAgIHNldmVyaXR5OiB7XHJcbiAgICAgICAgICB0eXBlOiBTdHJpbmcsXHJcbiAgICAgICAgICBlbnVtOiBbJ2xvdycsICdtZWRpdW0nLCAnaGlnaCcsICdjcml0aWNhbCddLFxyXG4gICAgICAgICAgZGVmYXVsdDogJ21lZGl1bScsXHJcbiAgICAgICAgfSxcclxuICAgICAgICBtZXNzYWdlOiBTdHJpbmcsXHJcbiAgICAgICAgY3JlYXRlZEF0OiB7XHJcbiAgICAgICAgICB0eXBlOiBEYXRlLFxyXG4gICAgICAgICAgZGVmYXVsdDogRGF0ZS5ub3csXHJcbiAgICAgICAgfSxcclxuICAgICAgICBhY2tub3dsZWRnZWQ6IHtcclxuICAgICAgICAgIHR5cGU6IEJvb2xlYW4sXHJcbiAgICAgICAgICBkZWZhdWx0OiBmYWxzZSxcclxuICAgICAgICB9LFxyXG4gICAgICAgIGFja25vd2xlZGdlZEF0OiBEYXRlLFxyXG4gICAgICAgIGFja25vd2xlZGdlZEJ5OiBTdHJpbmcsXHJcbiAgICAgIH0sXHJcbiAgICBdLFxyXG5cclxuICAgIC8vID09PT09INin2YTYrNmK2YjZgdmG2LMgKNin2YTYrdiv2YjYryDYp9mE2KzYutix2KfZgdmK2KkpID09PT09XHJcbiAgICBnZW9mZW5jZXM6IFtcclxuICAgICAge1xyXG4gICAgICAgIGZlbmNlSWQ6IG1vbmdvb3NlLlNjaGVtYS5UeXBlcy5PYmplY3RJZCxcclxuICAgICAgICBzdGF0dXM6IHtcclxuICAgICAgICAgIHR5cGU6IFN0cmluZyxcclxuICAgICAgICAgIGVudW06IFsnaW5zaWRlJywgJ291dHNpZGUnLCAnYm91bmRhcnknXSxcclxuICAgICAgICB9LFxyXG4gICAgICAgIGVudHJ5VGltZTogRGF0ZSxcclxuICAgICAgICBleGl0VGltZTogRGF0ZSxcclxuICAgICAgfSxcclxuICAgIF0sXHJcblxyXG4gICAgLy8gPT09PT0g2KfZhNio2YrYp9mG2KfYqiDYp9mE2KrYp9ix2YrYrtmK2KkgPT09PT1cclxuICAgIHByZXZpb3VzTG9jYXRpb25zOiBbXHJcbiAgICAgIHtcclxuICAgICAgICBjb29yZGluYXRlczogW051bWJlcl0sXHJcbiAgICAgICAgdGltZXN0YW1wOiBEYXRlLFxyXG4gICAgICAgIHNwZWVkOiBOdW1iZXIsXHJcbiAgICAgIH0sXHJcbiAgICBdLCAvLyDYotiu2LEgMTAg2YXZiNin2YLYuVxyXG5cclxuICAgIC8vID09PT09INmF2LnYp9mE2KzYqSDYp9mE2KjZitin2YbYp9iqID09PT09XHJcbiAgICBwcm9jZXNzZWQ6IHtcclxuICAgICAgdHlwZTogQm9vbGVhbixcclxuICAgICAgZGVmYXVsdDogZmFsc2UsXHJcbiAgICB9LFxyXG4gICAgcHJvY2Vzc2luZ05vdGVzOiBTdHJpbmcsXHJcblxyXG4gICAgLy8gPT09PT0g2KfZhNio2YrYp9mG2KfYqiDYp9mE2YjYtdmB2YrYqSA9PT09PVxyXG4gICAgc291cmNlOiB7XHJcbiAgICAgIHR5cGU6IFN0cmluZyxcclxuICAgICAgZW51bTogWydncHMnLCAnY2VsbHVsYXInLCAnd2lmaScsICdoeWJyaWQnXSxcclxuICAgICAgZGVmYXVsdDogJ2dwcycsXHJcbiAgICB9LFxyXG4gICAgZGV2aWNlTW9kZWw6IFN0cmluZyxcclxuICAgIG9zVmVyc2lvbjogU3RyaW5nLFxyXG4gICAgYXBwVmVyc2lvbjogU3RyaW5nLFxyXG5cclxuICAgIC8vINin2YTZiNmC2KpcclxuICAgIHRpbWVzdGFtcDoge1xyXG4gICAgICB0eXBlOiBEYXRlLFxyXG4gICAgICByZXF1aXJlZDogdHJ1ZSxcclxuICAgICAgZGVmYXVsdDogRGF0ZS5ub3csXHJcbiAgICAgIGluZGV4OiB0cnVlLFxyXG4gICAgfSxcclxuICB9LFxyXG4gIHtcclxuICAgIHRpbWVzdGFtcHM6IHtcclxuICAgICAgY3JlYXRlZEF0OiAnY3JlYXRlZEF0JyxcclxuICAgICAgdXBkYXRlZEF0OiAndXBkYXRlZEF0JyxcclxuICAgIH0sXHJcbiAgfVxyXG4pO1xyXG5cclxuLy8gPT09PT0gSU5ERVhFUyA9PT09PVxyXG5cclxuLy8g2YHZh9ix2LMg2KzYutix2KfZgdmKINmE2LnZhdmE2YrYp9iqINin2YTYqNit2Ksg2KfZhNmF2YPYp9mG2YrYqVxyXG5HUFNMb2NhdGlvblNjaGVtYS5pbmRleCh7ICdsb2NhdGlvbi5jb29yZGluYXRlcyc6ICcyZHNwaGVyZScgfSk7XHJcblxyXG4vLyDZgdmH2LHYsyDZhdix2YPYqCDZhNmE2LPYp9im2YIg2YjYp9mE2YjZgtiqXHJcbkdQU0xvY2F0aW9uU2NoZW1hLmluZGV4KHsgZHJpdmVyOiAxLCB0aW1lc3RhbXA6IC0xIH0pO1xyXG5cclxuLy8g2YHZh9ix2LMg2YTZhNix2K3ZhNipXHJcbkdQU0xvY2F0aW9uU2NoZW1hLmluZGV4KHsgdHJpcDogMSwgdGltZXN0YW1wOiAtMSB9KTtcclxuXHJcbi8vINmB2YfYsdizINmE2KzZiNiv2Kkg2KfZhNil2LTYp9ix2KlcclxuR1BTTG9jYXRpb25TY2hlbWEuaW5kZXgoeyBhY2N1cmFjeTogMSB9KTtcclxuXHJcbi8vID09PT09IFZJUlRVQUwgRklFTERTID09PT09XHJcblxyXG4vKipcclxuICog2K3Ys9in2Kgg2KfZhNmF2YjZgti5INio2LXZiti62Kkg2LnYr9iv2YrYqSDZhNiz2YfZiNmE2Kkg2KfZhNin2LPYqtiu2K/Yp9mFXHJcbiAqL1xyXG5HUFNMb2NhdGlvblNjaGVtYS52aXJ0dWFsKCdsYXQnKS5nZXQoZnVuY3Rpb24gKCkge1xyXG4gIHJldHVybiB0aGlzLmxvY2F0aW9uPy5jb29yZGluYXRlcz8uWzFdO1xyXG59KTtcclxuXHJcbkdQU0xvY2F0aW9uU2NoZW1hLnZpcnR1YWwoJ2xvbicpLmdldChmdW5jdGlvbiAoKSB7XHJcbiAgcmV0dXJuIHRoaXMubG9jYXRpb24/LmNvb3JkaW5hdGVzPy5bMF07XHJcbn0pO1xyXG5cclxuLyoqXHJcbiAqINmH2YQg2KfZhNmF2YjZgti5INit2K/ZitirICjYo9mC2YQg2YXZhiDYr9mC2YrZgtipKVxyXG4gKi9cclxuR1BTTG9jYXRpb25TY2hlbWEudmlydHVhbCgnaXNSZWNlbnQnKS5nZXQoZnVuY3Rpb24gKCkge1xyXG4gIGNvbnN0IG5vdyA9IERhdGUubm93KCk7XHJcbiAgY29uc3QgbG9jVGltZSA9IHRoaXMudGltZXN0YW1wPy5nZXRUaW1lKCkgfHwgMDtcclxuICByZXR1cm4gbm93IC0gbG9jVGltZSA8IDYwMDAwO1xyXG59KTtcclxuXHJcbi8qKlxyXG4gKiDZh9mEINmH2YbYp9mDINin2YbYqtmH2KfZgyDYp9mE2LPYsdi52KlcclxuICovXHJcbkdQU0xvY2F0aW9uU2NoZW1hLnZpcnR1YWwoJ2lzU3BlZWRpbmdWaW9sYXRpb24nKS5nZXQoZnVuY3Rpb24gKCkge1xyXG4gIHJldHVybiB0aGlzLnNwZWVkID4gdGhpcy5tYXhTcGVlZEFsbG93ZWQ7XHJcbn0pO1xyXG5cclxuLy8gPT09PT0gTUVUSE9EUyA9PT09PVxyXG5cclxuLyoqXHJcbiAqINin2YTYqtit2YLZgiDZhdmGINmI2KzZiNivINiq2YbYqNmK2YfYp9iqINmG2LTYt9ipXHJcbiAqL1xyXG5HUFNMb2NhdGlvblNjaGVtYS5tZXRob2RzLmhhc0FjdGl2ZUFsZXJ0cyA9IGZ1bmN0aW9uICgpIHtcclxuICByZXR1cm4gdGhpcy5hbGVydHMuc29tZSgoYWxlcnQpID0+ICFhbGVydC5hY2tub3dsZWRnZWQpO1xyXG59O1xyXG5cclxuLyoqXHJcbiAqINin2YTYrdi12YjZhCDYudmE2Ykg2KfZhNiq2YbYqNmK2YfYp9iqINin2YTZhti02LfYqVxyXG4gKi9cclxuR1BTTG9jYXRpb25TY2hlbWEubWV0aG9kcy5nZXRBY3RpdmVBbGVydHMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgcmV0dXJuIHRoaXMuYWxlcnRzLmZpbHRlcigoYWxlcnQpID0+ICFhbGVydC5hY2tub3dsZWRnZWQpO1xyXG59O1xyXG5cclxuLyoqXHJcbiAqINiq2KPZg9mK2K8g2KrZhtio2YrZh1xyXG4gKi9cclxuR1BTTG9jYXRpb25TY2hlbWEubWV0aG9kcy5hY2tub3dsZWRnZUFsZXJ0ID0gYXN5bmMgZnVuY3Rpb24gKGFsZXJ0SW5kZXgsIGFja25vd2xlZGdlZEJ5KSB7XHJcbiAgaWYgKHRoaXMuYWxlcnRzW2FsZXJ0SW5kZXhdKSB7XHJcbiAgICB0aGlzLmFsZXJ0c1thbGVydEluZGV4XS5hY2tub3dsZWRnZWQgPSB0cnVlO1xyXG4gICAgdGhpcy5hbGVydHNbYWxlcnRJbmRleF0uYWNrbm93bGVkZ2VkQXQgPSBuZXcgRGF0ZSgpO1xyXG4gICAgdGhpcy5hbGVydHNbYWxlcnRJbmRleF0uYWNrbm93bGVkZ2VkQnkgPSBhY2tub3dsZWRnZWRCeTtcclxuICAgIGF3YWl0IHRoaXMuc2F2ZSgpO1xyXG4gIH1cclxufTtcclxuXHJcbi8qKlxyXG4gKiDYrdiz2KfYqCDYp9mE2YXYs9in2YHYqSDZhdmGINmF2YjZgti5INii2K7YsSAo2KjYp9mE2YPZitmE2YjZhdiq2LEpXHJcbiAqL1xyXG5HUFNMb2NhdGlvblNjaGVtYS5tZXRob2RzLmdldERpc3RhbmNlVG8gPSBmdW5jdGlvbiAob3RoZXJMb2NhdGlvbikge1xyXG4gIGNvbnN0IFtsb24xLCBsYXQxXSA9IHRoaXMubG9jYXRpb24uY29vcmRpbmF0ZXM7XHJcbiAgY29uc3QgW2xvbjIsIGxhdDJdID0gb3RoZXJMb2NhdGlvbi5sb2NhdGlvbi5jb29yZGluYXRlcztcclxuXHJcbiAgLy8g2LXZiti62KkgSGF2ZXJzaW5lXHJcbiAgY29uc3QgUiA9IDYzNzE7IC8vINmG2LXZgSDZgti32LEg2KfZhNij2LHYtiDYqNin2YTZg9mK2YTZiNmF2KrYsVxyXG4gIGNvbnN0IGRMYXQgPSAoKGxhdDIgLSBsYXQxKSAqIE1hdGguUEkpIC8gMTgwO1xyXG4gIGNvbnN0IGRMb24gPSAoKGxvbjIgLSBsb24xKSAqIE1hdGguUEkpIC8gMTgwO1xyXG5cclxuICBjb25zdCBhID1cclxuICAgIE1hdGguc2luKGRMYXQgLyAyKSAqIE1hdGguc2luKGRMYXQgLyAyKSArXHJcbiAgICBNYXRoLmNvcygobGF0MSAqIE1hdGguUEkpIC8gMTgwKSAqXHJcbiAgICAgIE1hdGguY29zKChsYXQyICogTWF0aC5QSSkgLyAxODApICpcclxuICAgICAgTWF0aC5zaW4oZExvbiAvIDIpICpcclxuICAgICAgTWF0aC5zaW4oZExvbiAvIDIpO1xyXG5cclxuICBjb25zdCBjID0gMiAqIE1hdGguYXRhbjIoTWF0aC5zcXJ0KGEpLCBNYXRoLnNxcnQoMSAtIGEpKTtcclxuICByZXR1cm4gUiAqIGM7XHJcbn07XHJcblxyXG4vKipcclxuICog2KXYttin2YHYqSDZhdmI2YLYuSDYs9in2KjZgiAo2YTZhNiq2KrYqNi5INin2YTYqtin2LHZitiu2YopXHJcbiAqL1xyXG5HUFNMb2NhdGlvblNjaGVtYS5tZXRob2RzLmFkZFByZXZpb3VzTG9jYXRpb24gPSBmdW5jdGlvbiAoKSB7XHJcbiAgdGhpcy5wcmV2aW91c0xvY2F0aW9ucy51bnNoaWZ0KHtcclxuICAgIGNvb3JkaW5hdGVzOiB0aGlzLmxvY2F0aW9uLmNvb3JkaW5hdGVzLFxyXG4gICAgdGltZXN0YW1wOiB0aGlzLnRpbWVzdGFtcCxcclxuICAgIHNwZWVkOiB0aGlzLnNwZWVkLFxyXG4gIH0pO1xyXG5cclxuICAvLyDYp9mE2KfYrdiq2YHYp9i4INio2KLYrtixIDEwINmF2YjYp9mC2Lkg2YHZgti3XHJcbiAgaWYgKHRoaXMucHJldmlvdXNMb2NhdGlvbnMubGVuZ3RoID4gMTApIHtcclxuICAgIHRoaXMucHJldmlvdXNMb2NhdGlvbnMucG9wKCk7XHJcbiAgfVxyXG59O1xyXG5cclxuLyoqXHJcbiAqINit2LPYp9ioINin2YTYstmF2YYg2KfZhNmF2YLYttmKINmB2Yog2KfZhNix2K3ZhNipXHJcbiAqL1xyXG5HUFNMb2NhdGlvblNjaGVtYS5tZXRob2RzLmNhbGN1bGF0ZVRyaXBEdXJhdGlvbiA9IGFzeW5jIGZ1bmN0aW9uICgpIHtcclxuICBpZiAoIXRoaXMudHJpcCkgcmV0dXJuIG51bGw7XHJcblxyXG4gIGNvbnN0IFRyaXAgPSBtb25nb29zZS5tb2RlbCgnVHJpcCcpO1xyXG4gIGNvbnN0IHRyaXBEYXRhID0gYXdhaXQgVHJpcC5maW5kQnlJZCh0aGlzLnRyaXApLnNlbGVjdCgnc3RhcnRUaW1lIGVuZFRpbWUnKTtcclxuXHJcbiAgaWYgKHRyaXBEYXRhICYmIHRyaXBEYXRhLnN0YXJ0VGltZSAmJiB0cmlwRGF0YS5lbmRUaW1lKSB7XHJcbiAgICByZXR1cm4gKHRyaXBEYXRhLmVuZFRpbWUgLSB0cmlwRGF0YS5zdGFydFRpbWUpIC8gKDEwMDAgKiA2MCk7IC8vINio2KfZhNiv2YLYp9im2YJcclxuICB9XHJcblxyXG4gIHJldHVybiBudWxsO1xyXG59O1xyXG5cclxuLy8gPT09PT0gU1RBVElDUyA9PT09PVxyXG5cclxuLyoqXHJcbiAqINin2YTYrdi12YjZhCDYudmE2Ykg2KfZhNmF2YjZgti5INin2YTYo9iu2YrYsSDZhNmE2LPYp9im2YJcclxuICovXHJcbkdQU0xvY2F0aW9uU2NoZW1hLnN0YXRpY3MuZ2V0TGF0ZXN0TG9jYXRpb24gPSBhc3luYyBmdW5jdGlvbiAoZHJpdmVySWQpIHtcclxuICByZXR1cm4gdGhpcy5maW5kT25lKHsgZHJpdmVyOiBkcml2ZXJJZCB9KS5zb3J0KHsgdGltZXN0YW1wOiAtMSB9KTtcclxufTtcclxuXHJcbi8qKlxyXG4gKiDYp9mE2K3YtdmI2YQg2LnZhNmJINis2YXZiti5INin2YTZhdmI2KfZgti5INmB2Yog2YbYt9in2YIg2LLZhdmG2YpcclxuICovXHJcbkdQU0xvY2F0aW9uU2NoZW1hLnN0YXRpY3MuZ2V0TG9jYXRpb25zSW5UaW1lUmFuZ2UgPSBhc3luYyBmdW5jdGlvbiAoZHJpdmVySWQsIHN0YXJ0VGltZSwgZW5kVGltZSkge1xyXG4gIHJldHVybiB0aGlzLmZpbmQoe1xyXG4gICAgZHJpdmVyOiBkcml2ZXJJZCxcclxuICAgIHRpbWVzdGFtcDoge1xyXG4gICAgICAkZ3RlOiBuZXcgRGF0ZShzdGFydFRpbWUpLFxyXG4gICAgICAkbHRlOiBuZXcgRGF0ZShlbmRUaW1lKSxcclxuICAgIH0sXHJcbiAgfSkuc29ydCh7IHRpbWVzdGFtcDogLTEgfSk7XHJcbn07XHJcblxyXG4vKipcclxuICog2KfZhNio2K3YqyDYudmGINiz2KfYptmC2YrZhiDYqNin2YTZgtix2Kgg2YXZhiDZhdmI2YLYuSDZhdi52YrZhlxyXG4gKi9cclxuR1BTTG9jYXRpb25TY2hlbWEuc3RhdGljcy5maW5kTmVhcmJ5ID0gYXN5bmMgZnVuY3Rpb24gKGxvbmdpdHVkZSwgbGF0aXR1ZGUsIG1heERpc3RhbmNlID0gMTAwMCkge1xyXG4gIHJldHVybiB0aGlzLmZpbmQoe1xyXG4gICAgJ2xvY2F0aW9uLmNvb3JkaW5hdGVzJzoge1xyXG4gICAgICAkbmVhcjoge1xyXG4gICAgICAgICRnZW9tZXRyeToge1xyXG4gICAgICAgICAgdHlwZTogJ1BvaW50JyxcclxuICAgICAgICAgIGNvb3JkaW5hdGVzOiBbbG9uZ2l0dWRlLCBsYXRpdHVkZV0sXHJcbiAgICAgICAgfSxcclxuICAgICAgICAkbWF4RGlzdGFuY2U6IG1heERpc3RhbmNlLCAvLyDYqNin2YTYo9mF2KrYp9ixXHJcbiAgICAgIH0sXHJcbiAgICB9LFxyXG4gIH0pO1xyXG59O1xyXG5cclxuLyoqXHJcbiAqINit2LPYp9ioINi52K/YryDYp9mG2KrZh9in2YPYp9iqINin2YTYs9ix2LnYqSDZgdmKINmB2KrYsdipXHJcbiAqL1xyXG5HUFNMb2NhdGlvblNjaGVtYS5zdGF0aWNzLmdldFNwZWVkaW5nVmlvbGF0aW9ucyA9IGFzeW5jIGZ1bmN0aW9uIChkcml2ZXJJZCwgc3RhcnRUaW1lLCBlbmRUaW1lKSB7XHJcbiAgcmV0dXJuIHRoaXMuY291bnREb2N1bWVudHMoe1xyXG4gICAgZHJpdmVyOiBkcml2ZXJJZCxcclxuICAgIHNwZWVkTGltaXRWaW9sYXRpb246IHRydWUsXHJcbiAgICB0aW1lc3RhbXA6IHtcclxuICAgICAgJGd0ZTogbmV3IERhdGUoc3RhcnRUaW1lKSxcclxuICAgICAgJGx0ZTogbmV3IERhdGUoZW5kVGltZSksXHJcbiAgICB9LFxyXG4gIH0pO1xyXG59O1xyXG5cclxuLyoqXHJcbiAqINin2YTYrdi12YjZhCDYudmE2Ykg2YXYqtmI2LPYtyDYp9mE2LPYsdi52KlcclxuICovXHJcbkdQU0xvY2F0aW9uU2NoZW1hLnN0YXRpY3MuZ2V0QXZlcmFnZVNwZWVkID0gYXN5bmMgZnVuY3Rpb24gKGRyaXZlcklkLCBzdGFydFRpbWUsIGVuZFRpbWUpIHtcclxuICBjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLmFnZ3JlZ2F0ZShbXHJcbiAgICB7XHJcbiAgICAgICRtYXRjaDoge1xyXG4gICAgICAgIGRyaXZlcjogbW9uZ29vc2UuVHlwZXMuT2JqZWN0SWQuY3JlYXRlRnJvbUhleFN0cmluZyhkcml2ZXJJZCksXHJcbiAgICAgICAgdGltZXN0YW1wOiB7XHJcbiAgICAgICAgICAkZ3RlOiBuZXcgRGF0ZShzdGFydFRpbWUpLFxyXG4gICAgICAgICAgJGx0ZTogbmV3IERhdGUoZW5kVGltZSksXHJcbiAgICAgICAgfSxcclxuICAgICAgfSxcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICRncm91cDoge1xyXG4gICAgICAgIF9pZDogJyRkcml2ZXInLFxyXG4gICAgICAgIGF2ZXJhZ2VTcGVlZDogeyAkYXZnOiAnJHNwZWVkJyB9LFxyXG4gICAgICAgIG1heFNwZWVkOiB7ICRtYXg6ICckc3BlZWQnIH0sXHJcbiAgICAgICAgbWluU3BlZWQ6IHsgJG1pbjogJyRzcGVlZCcgfSxcclxuICAgICAgfSxcclxuICAgIH0sXHJcbiAgXSk7XHJcblxyXG4gIHJldHVybiByZXN1bHRbMF0gfHwgbnVsbDtcclxufTtcclxuXHJcbi8vID09PT09IEhPT0tTID09PT09XHJcblxyXG4vLyDYqtit2K/ZitirINit2KfZhNipINin2YTYsdit2YTYqSDYqtmE2YLYp9im2YrYp9mLINio2YbYp9ih2Ysg2LnZhNmJINin2YTYs9ix2LnYqVxyXG5HUFNMb2NhdGlvblNjaGVtYS5wcmUoJ3NhdmUnLCBmdW5jdGlvbiAobmV4dCkge1xyXG4gIGlmICh0aGlzLnNwZWVkID09PSAwKSB7XHJcbiAgICB0aGlzLmRyaXZpbmdTdGF0dXMgPSAnc3RvcHBlZCc7XHJcbiAgfSBlbHNlIGlmICh0aGlzLnNwZWVkIDwgNSkge1xyXG4gICAgdGhpcy5kcml2aW5nU3RhdHVzID0gJ2lkbGluZyc7XHJcbiAgfSBlbHNlIHtcclxuICAgIHRoaXMuZHJpdmluZ1N0YXR1cyA9ICdkcml2aW5nJztcclxuICB9XHJcblxyXG4gIC8vINin2YTYqtit2YLZgiDZhdmGINin2YbYqtmH2KfZgyDYp9mE2LPYsdi52KlcclxuICBpZiAodGhpcy5zcGVlZCA+IHRoaXMubWF4U3BlZWRBbGxvd2VkKSB7XHJcbiAgICB0aGlzLnNwZWVkTGltaXRWaW9sYXRpb24gPSB0cnVlO1xyXG4gIH1cclxuXHJcbiAgbmV4dCgpO1xyXG59KTtcclxuXHJcbm1vZHVsZS5leHBvcnRzID0gbW9uZ29vc2UubW9kZWwoJ0dQU0xvY2F0aW9uJywgR1BTTG9jYXRpb25TY2hlbWEpO1xyXG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsTUFBTUEsUUFBUSxHQUFHQyxPQUFPLENBQUMsVUFBVSxDQUFDO0FBRXBDLE1BQU1DLGlCQUFpQixHQUFHLElBQUlGLFFBQVEsQ0FBQ0csTUFBTSxDQUMzQztFQUNFO0VBQ0FDLE1BQU0sRUFBRTtJQUNOQyxJQUFJLEVBQUVMLFFBQVEsQ0FBQ0csTUFBTSxDQUFDRyxLQUFLLENBQUNDLFFBQVE7SUFDcENDLEdBQUcsRUFBRSxRQUFRO0lBQ2JDLFFBQVEsRUFBRSxJQUFJO0lBQ2RDLEtBQUssRUFBRTtFQUNULENBQUM7RUFDREMsT0FBTyxFQUFFO0lBQ1BOLElB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QixDQUFDK0csT0FBTyxDQUFDa0IsZUFBZSxHQUFHLGdCQUFnQmhCLFFBQVEsRUFBRUosU0FBUyxFQUFFQyxPQUFPLEVBQUU7RUFDeEYsTUFBTW9CLE1BQU0sR0FBRyxNQUFNLElBQUksQ0FBQ0MsU0FBUyxDQUFDLENBQ2xDO0lBQ0VDLE1BQU0sRUFBRTtNQUNObEksTUFBTSxFQUFFSixRQUFRLENBQUNNLEtBQUssQ0FBQ0MsUUFBUSxDQUFDZ0ksbUJBQW1CLENBQUNwQixRQUFRLENBQUM7TUFDN0RwRCxTQUFTLEVBQUU7UUFDVHlELElBQUksRUFBRSxJQUFJcEUsSUFBSSxDQUFDMkQsU0FBUyxDQUFDO1FBQ3pCVSxJQUFJLEVBQUUsSUFBSXJFLElBQUksQ0FBQzRELE9BQU87TUFDeEI7SUFDRjtFQUNGLENBQUMsRUFDRDtJQUNFd0IsTUFBTSxFQUFFO01BQ05DLEdBQUcsRUFBRSxTQUFTO01BQ2RDLFlBQVksRUFBRTtRQUFFQyxJQUFJLEVBQUU7TUFBUyxDQUFDO01BQ2hDQyxRQUFRLEVBQUU7UUFBRUMsSUFBSSxFQUFFO01BQVMsQ0FBQztNQUM1QkMsUUFBUSxFQUFFO1FBQUVDLElBQUksRUFBRTtNQUFTO0lBQzdCO0VBQ0YsQ0FBQyxDQUNGLENBQUM7RUFFRixPQUFPWCxNQUFNLENBQUMsQ0FBQyxDQUFDLElBQUksSUFBSTtBQUMxQixDQUFDOztBQUVEOztBQUVBO0FBQ0FsSSxpQkFBaUIsQ0FBQzhJLEdBQUcsQ0FBQyxNQUFNLEVBQUUsVUFBVUMsSUFBSSxFQUFFO0VBQzVDLElBQUksSUFBSSxDQUFDeEgsS0FBSyxLQUFLLENBQUMsRUFBRTtJQUNwQixJQUFJLENBQUNxQixhQUFhLEdBQUcsU0FBUztFQUNoQyxDQUFDLE1BQU0sSUFBSSxJQUFJLENBQUNyQixLQUFLLEdBQUcsQ0FBQyxFQUFFO0lBQ3pCLElBQUksQ0FBQ3FCLGFBQWEsR0FBRyxRQUFRO0VBQy9CLENBQUMsTUFBTTtJQUNMLElBQUksQ0FBQ0EsYUFBYSxHQUFHLFNBQVM7RUFDaEM7O0VBRUE7RUFDQSxJQUFJLElBQUksQ0FBQ3JCLEtBQUssR0FBRyxJQUFJLENBQUNLLGVBQWUsRUFBRTtJQUNyQyxJQUFJLENBQUNGLG1CQUFtQixHQUFHLElBQUk7RUFDakM7RUFFQXFILElBQUksQ0FBQyxDQUFDO0FBQ1IsQ0FBQyxDQUFDO0FBRUZDLE1BQU0sQ0FBQ0MsT0FBTyxHQUFHbkosUUFBUSxDQUFDMkcsS0FBSyxDQUFDLGFBQWEsRUFBRXpHLGlCQUFpQixDQUFDIiwiaWdub3JlTGlzdCI6W119