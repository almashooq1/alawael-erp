c2ed48f3edb9a7c17077e747f2fbe693
// Authentication Routes
// نقاط المصادقة والتوثيق

const express = require('express');
const router = express.Router();
const AuthService = require('../services/authService');
const {
  validateRegistration,
  validateLogin
} = require('../middleware/validation');
const {
  ApiResponse,
  ApiError
} = require('../utils/apiResponse');

// تسجيل مستخدم جديد
router.post('/register', validateRegistration, (req, res, _next) => {
  try {
    const {
      name,
      email,
      password,
      passwordConfirm
    } = req.body;
    if (password !== passwordConfirm) {
      return res.status(400).json({
        success: false,
        message: 'Passwords do not match',
        data: {}
      });
    }
    const result = AuthService.registerUser({
      name,
      email,
      password
    });
    return res.status(201).json({
      success: true,
      message: 'User registered successfully',
      user: result.user,
      data: {
        user: result.user
      }
    });
  } catch (error) {
    console.error('Registration error:', error);
    return res.status(500).json({
      success: false,
      message: 'Registration failed',
      error: error.message
    });
  }
});

// تسجيل الدخول
router.post('/login', validateLogin, async (req, res, next) => {
  try {
    const {
      email,
      password
    } = req.body;
    const User = require('../models/User');

    // Check if user exists in database
    let dbUser = null;
    try {
      dbUser = await User.findOne({
        email
      }).select('+password');
    } catch (e) {
      // User model might not be available in all environments
      console.debug('Could not check database user:', e.message);
    }

    // If user exists in DB, include their actual role in the token
    let loginPayload = {
      email,
      password
    };
    if (dbUser) {
      loginPayload.role = dbUser.role;
      loginPayload.userId = dbUser._id?.toString();
    }
    const result = AuthService.login(loginPayload);
    if (!result.success) {
      return res.status(401).json({
        success: false,
        message: result.message || 'Invalid credentials',
        data: {}
      });
    }

    // If 2FA is required, return sessionId and do not issue token yet
    if (result.requires2fa) {
      return res.status(200).json({
        success: true,
        message: result.message || '2FA required',
        requires2fa: true,
        sessionId: result.sessionId,
        user: result.user,
        // Expose devCode only for development/testing
        devCode: result.devCode,
        data: {
          user: result.user,
          requires2fa: true,
          sessionId: result.sessionId
        }
      });
    }
    return res.status(200).json({
      success: true,
      message: 'Login successful',
      accessToken: result.token,
      user: result.user,
      data: {
        user: result.user,
        token: result.token
      }
    });
  } catch (error) {
    console.error('Login error:', error);
    return res.status(500).json({
      success: false,
      message: 'Login failed',
      error: error.message
    });
  }
});

// تسجيل الخروج
router.post('/logout', (req, res, _next) => {
  try {
    const token = req.headers.authorization?.split(' ')[1];
    if (!token) {
      return res.status(400).json({
        success: false,
        message: 'Token required',
        data: {}
      });
    }
    const result = AuthService.logout(token);
    return res.status(200).json({
      success: true,
      message: 'Logout successful',
      data: result || {}
    });
  } catch (error) {
    return res.status(500).json({
      success: false,
      message: 'Logout failed',
      error: error.message
    });
  }
});

// التحقق من رمز التحقق
router.post('/verify-token', (req, res, _next) => {
  try {
    const token = req.headers.authorization?.split(' ')[1];
    if (!token) {
      return res.status(400).json({
        success: false,
        message: 'Token required',
        data: {}
      });
    }
    const result = AuthService.verifyToken(token);
    if (!result?.valid) {
      return res.status(401).json({
        success: false,
        message: result?.error || 'Invalid token',
        data: {}
      });
    }
    return res.status(200).json({
      success: true,
      message: 'Token verified',
      user: result.user,
      data: {
        user: result.user,
        tokenValid: true
      }
    });
  } catch (error) {
    return res.status(500).json({
      success: false,
      message: 'Token verification failed',
      error: error.message
    });
  }
});

// إرسال كود التحقق من البريد الإلكتروني
router.post('/send-verification-code', (req, res, next) => {
  try {
    const {
      email
    } = req.body;
    if (!email) {
      return res.status(400).json(new ApiResponse(400, {}, 'Email required'));
    }
    const result = AuthService.sendVerificationCode(email);
    return res.status(200).json(new ApiResponse(200, result, 'Verification code sent'));
  } catch (error) {
    return next(new ApiError(500, 'Failed to send verification code', [error.message]));
  }
});

// التحقق من البريد الإلكتروني
router.post('/verify-email', (req, res, next) => {
  try {
    const {
      email,
      code
    } = req.body;
    if (!email || !code) {
      return res.status(400).json(new ApiResponse(400, {}, 'Email and code required'));
    }
    const result = AuthService.verifyEmail(email, code);
    return res.status(200).json(new ApiResponse(200, result, 'Email verified'));
  } catch (error) {
    return next(new ApiError(500, 'Email verification failed', [error.message]));
  }
});

// نسيان كلمة المرور
router.post('/forgot-password', (req, res, next) => {
  try {
    const {
      email
    } = req.body;
    if (!email) {
      return res.status(400).json(new ApiResponse(400, {}, 'Email required'));
    }
    const result = AuthService.forgotPassword(email);
    return res.status(200).json(new ApiResponse(200, result, 'Recovery email sent'));
  } catch (error) {
    return next(new ApiError(500, 'Password recovery failed', [error.message]));
  }
});

// إعادة تعيين كلمة المرور
router.post('/reset-password', (req, res, next) => {
  try {
    const {
      token,
      newPassword,
      confirmPassword
    } = req.body;
    if (!token || !newPassword) {
      return res.status(400).json(new ApiResponse(400, {}, 'Token and new password required'));
    }
    if (newPassword !== confirmPassword) {
      return res.status(400).json(new ApiResponse(400, {}, 'Passwords do not match'));
    }
    const result = AuthService.resetPassword(token, newPassword);
    return res.status(200).json(new ApiResponse(200, result, 'Password reset successfully'));
  } catch (error) {
    return next(new ApiError(500, 'Password reset failed', [error.message]));
  }
});

// تغيير كلمة المرور
router.post('/change-password', (req, res, next) => {
  try {
    const {
      userId,
      oldPassword,
      newPassword,
      confirmPassword
    } = req.body;
    if (!userId || !oldPassword || !newPassword) {
      return res.status(400).json(new ApiResponse(400, {}, 'Missing required fields'));
    }
    if (newPassword !== confirmPassword) {
      return res.status(400).json(new ApiResponse(400, {}, 'Passwords do not match'));
    }
    const result = AuthService.changePassword(userId, oldPassword, newPassword);
    return res.status(200).json(new ApiResponse(200, result, 'Password changed successfully'));
  } catch (error) {
    return next(new ApiError(500, 'Password change failed', [error.message]));
  }
});

// تفعيل المصادقة الثنائية
router.post('/enable-2fa', (req, res, next) => {
  try {
    const {
      userId
    } = req.body;
    if (!userId) {
      return res.status(400).json(new ApiResponse(400, {}, 'User ID required'));
    }
    const result = AuthService.enableTwoFactor(userId);
    return res.status(200).json(new ApiResponse(200, result, '2FA enabled'));
  } catch (error) {
    return next(new ApiError(500, 'Failed to enable 2FA', [error.message]));
  }
});

// التحقق من المصادقة الثنائية
router.post('/verify-2fa', (req, res, next) => {
  try {
    const {
      userId,
      code,
      sessionId
    } = req.body;
    if (!userId || !code) {
      return res.status(400).json(new ApiResponse(400, {}, 'User ID and code required'));
    }
    const result = AuthService.verifyTwoFactor(userId, code, sessionId);
    return res.status(200).json(new ApiResponse(200, result, '2FA verified'));
  } catch (error) {
    return next(new ApiError(500, '2FA verification failed', [error.message]));
  }
});

// تحديث الملف الشخصي
router.put('/update-profile', (req, res, next) => {
  try {
    const {
      userId,
      ...data
    } = req.body;
    if (!userId) {
      return res.status(400).json(new ApiResponse(400, {}, 'User ID required'));
    }
    const result = AuthService.updateProfile(userId, data);
    return res.status(200).json(new ApiResponse(200, result, 'Profile updated'));
  } catch (error) {
    return next(new ApiError(500, 'Profile update failed', [error.message]));
  }
});

// الحصول على جلسات المستخدم
router.get('/sessions/:userId', (req, res, next) => {
  try {
    const {
      userId
    } = req.params;
    const result = AuthService.getUserSessions(userId);
    return res.status(200).json(new ApiResponse(200, result, 'Sessions fetched'));
  } catch (error) {
    return next(new ApiError(500, 'Failed to fetch sessions', [error.message]));
  }
});

// إنهاء جلسة
router.delete('/sessions/:userId/:sessionId', (req, res, next) => {
  try {
    const {
      userId,
      sessionId
    } = req.params;
    const result = AuthService.terminateSession(userId, sessionId);
    return res.status(200).json(new ApiResponse(200, result, 'Session terminated'));
  } catch (error) {
    return next(new ApiError(500, 'Failed to terminate session', [error.message]));
  }
});

// الحصول على معلومات المستخدم الحالي
router.get('/me', (req, res, next) => {
  try {
    const token = req.headers.authorization?.split(' ')[1];
    if (!token) {
      return res.status(401).json({
        success: false,
        message: 'No token provided',
        data: {}
      });
    }
    const result = AuthService.verifyToken(token);
    if (!result.success) {
      return res.status(401).json({
        success: false,
        message: 'Invalid token',
        data: {}
      });
    }
    return res.status(200).json({
      success: true,
      message: 'User info fetched',
      user: result.user,
      data: {
        user: result.user
      }
    });
  } catch (error) {
    return res.status(500).json({
      success: false,
      message: 'Failed to fetch user info',
      error: error.message
    });
  }
});
module.exports = router;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJleHByZXNzIiwicmVxdWlyZSIsInJvdXRlciIsIlJvdXRlciIsIkF1dGhTZXJ2aWNlIiwidmFsaWRhdGVSZWdpc3RyYXRpb24iLCJ2YWxpZGF0ZUxvZ2luIiwiQXBpUmVzcG9uc2UiLCJBcGlFcnJvciIsInBvc3QiLCJyZXEiLCJyZXMiLCJfbmV4dCIsIm5hbWUiLCJlbWFpbCIsInBhc3N3b3JkIiwicGFzc3dvcmRDb25maXJtIiwiYm9keSIsInN0YXR1cyIsImpzb24iLCJzdWNjZXNzIiwibWVzc2FnZSIsImRhdGEiLCJyZXN1bHQiLCJyZWdpc3RlclVzZXIiLCJ1c2VyIiwiZXJyb3IiLCJjb25zb2xlIiwibmV4dCIsIlVzZXIiLCJkYlVzZXIiLCJmaW5kT25lIiwic2VsZWN0IiwiZSIsImRlYnVnIiwibG9naW5QYXlsb2FkIiwicm9sZSIsInVzZXJJZCIsIl9pZCIsInRvU3RyaW5nIiwibG9naW4iLCJyZXF1aXJlczJmYSIsInNlc3Npb25JZCIsImRldkNvZGUiLCJhY2Nlc3NUb2tlbiIsInRva2VuIiwiaGVhZGVycyIsImF1dGhvcml6YXRpb24iLCJzcGxpdCIsImxvZ291dCIsInZlcmlmeVRva2VuIiwidmFsaWQiLCJ0b2tlblZhbGlkIiwic2VuZFZlcmlmaWNhdGlvbkNvZGUiLCJjb2RlIiwidmVyaWZ5RW1haWwiLCJmb3Jnb3RQYXNzd29yZCIsIm5ld1Bhc3N3b3JkIiwiY29uZmlybVBhc3N3b3JkIiwicmVzZXRQYXNzd29yZCIsIm9sZFBhc3N3b3JkIiwiY2hhbmdlUGFzc3dvcmQiLCJlbmFibGVUd29GYWN0b3IiLCJ2ZXJpZnlUd29GYWN0b3IiLCJwdXQiLCJ1cGRhdGVQcm9maWxlIiwiZ2V0IiwicGFyYW1zIiwiZ2V0VXNlclNlc3Npb25zIiwiZGVsZXRlIiwidGVybWluYXRlU2Vzc2lvbiIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlcyI6WyJhdXRoLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIEF1dGhlbnRpY2F0aW9uIFJvdXRlc1xyXG4vLyDZhtmC2KfYtyDYp9mE2YXYtdin2K/ZgtipINmI2KfZhNiq2YjYq9mK2YJcclxuXHJcbmNvbnN0IGV4cHJlc3MgPSByZXF1aXJlKCdleHByZXNzJyk7XHJcbmNvbnN0IHJvdXRlciA9IGV4cHJlc3MuUm91dGVyKCk7XHJcbmNvbnN0IEF1dGhTZXJ2aWNlID0gcmVxdWlyZSgnLi4vc2VydmljZXMvYXV0aFNlcnZpY2UnKTtcclxuY29uc3QgeyB2YWxpZGF0ZVJlZ2lzdHJhdGlvbiwgdmFsaWRhdGVMb2dpbiB9ID0gcmVxdWlyZSgnLi4vbWlkZGxld2FyZS92YWxpZGF0aW9uJyk7XHJcbmNvbnN0IHsgQXBpUmVzcG9uc2UsIEFwaUVycm9yIH0gPSByZXF1aXJlKCcuLi91dGlscy9hcGlSZXNwb25zZScpO1xyXG5cclxuLy8g2KrYs9is2YrZhCDZhdiz2KrYrtiv2YUg2KzYr9mK2K9cclxucm91dGVyLnBvc3QoJy9yZWdpc3RlcicsIHZhbGlkYXRlUmVnaXN0cmF0aW9uLCAocmVxLCByZXMsIF9uZXh0KSA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IHsgbmFtZSwgZW1haWwsIHBhc3N3b3JkLCBwYXNzd29yZENvbmZpcm0gfSA9IHJlcS5ib2R5O1xyXG5cclxuICAgIGlmIChwYXNzd29yZCAhPT0gcGFzc3dvcmRDb25maXJtKSB7XHJcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7XHJcbiAgICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICAgICAgbWVzc2FnZTogJ1Bhc3N3b3JkcyBkbyBub3QgbWF0Y2gnLFxyXG4gICAgICAgIGRhdGE6IHt9LFxyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCByZXN1bHQgPSBBdXRoU2VydmljZS5yZWdpc3RlclVzZXIoeyBuYW1lLCBlbWFpbCwgcGFzc3dvcmQgfSk7XHJcblxyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAxKS5qc29uKHtcclxuICAgICAgc3VjY2VzczogdHJ1ZSxcclxuICAgICAgbWVzc2FnZTogJ1VzZXIgcmVnaXN0ZXJlZCBzdWNjZXNzZnVsbHknLFxyXG4gICAgICB1c2VyOiByZXN1bHQudXNlcixcclxuICAgICAgZGF0YTogeyB1c2VyOiByZXN1bHQudXNlciB9LFxyXG4gICAgfSk7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ1JlZ2lzdHJhdGlvbiBlcnJvcjonLCBlcnJvcik7XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLmpzb24oe1xyXG4gICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgICAgbWVzc2FnZTogJ1JlZ2lzdHJhdGlvbiBmYWlsZWQnLFxyXG4gICAgICBlcnJvcjogZXJyb3IubWVzc2FnZSxcclxuICAgIH0pO1xyXG4gIH1cclxufSk7XHJcblxyXG4vLyDYqtiz2KzZitmEINin2YTYr9iu2YjZhFxyXG5yb3V0ZXIucG9zdCgnL2xvZ2luJywgdmFsaWRhdGVMb2dpbiwgYXN5bmMgKHJlcSwgcmVzLCBuZXh0KSA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IHsgZW1haWwsIHBhc3N3b3JkIH0gPSByZXEuYm9keTtcclxuICAgIGNvbnN0IFVzZXIgPSByZXF1aXJlKCcuLi9tb2RlbHMvVXNlcicpO1xyXG5cclxuICAgIC8vIENoZWNrIGlmIHVzZXIgZXhpc3RzIGluIGRhdGFiYXNlXHJcbiAgICBsZXQgZGJVc2VyID0gbnVsbDtcclxuICAgIHRyeSB7XHJcbiAgICAgIGRiVXNlciA9IGF3YWl0IFVzZXIuZmluZE9uZSh7IGVtYWlsIH0pLnNlbGVjdCgnK3Bhc3N3b3JkJyk7XHJcbiAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgIC8vIFVzZXIgbW9kZWwgbWlnaHQgbm90IGJlIGF2YWlsYWJsZSBpbiBhbGwgZW52aXJvbm1lbnRzXHJcbiAgICAgIGNvbnNvbGUuZGVidWcoJ0NvdWxkIG5vdCBjaGVjayBkYXRhYmFzZSB1c2VyOicsIGUubWVzc2FnZSk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gSWYgdXNlciBleGlzdHMgaW4gREIsIGluY2x1ZGUgdGhlaXIgYWN0dWFsIHJvbGUgaW4gdGhlIHRva2VuXHJcbiAgICBsZXQgbG9naW5QYXlsb2FkID0geyBlbWFpbCwgcGFzc3dvcmQgfTtcclxuICAgIGlmIChkYlVzZXIpIHtcclxuICAgICAgbG9naW5QYXlsb2FkLnJvbGUgPSBkYlVzZXIucm9sZTtcclxuICAgICAgbG9naW5QYXlsb2FkLnVzZXJJZCA9IGRiVXNlci5faWQ/LnRvU3RyaW5nKCk7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgcmVzdWx0ID0gQXV0aFNlcnZpY2UubG9naW4obG9naW5QYXlsb2FkKTtcclxuXHJcbiAgICBpZiAoIXJlc3VsdC5zdWNjZXNzKSB7XHJcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMSkuanNvbih7XHJcbiAgICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICAgICAgbWVzc2FnZTogcmVzdWx0Lm1lc3NhZ2UgfHwgJ0ludmFsaWQgY3JlZGVudGlhbHMnLFxyXG4gICAgICAgIGRhdGE6IHt9LFxyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBJZiAyRkEgaXMgcmVxdWlyZWQsIHJldHVybiBzZXNzaW9uSWQgYW5kIGRvIG5vdCBpc3N1ZSB0b2tlbiB5ZXRcclxuICAgIGlmIChyZXN1bHQucmVxdWlyZXMyZmEpIHtcclxuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICBzdWNjZXNzOiB0cnVlLFxyXG4gICAgICAgIG1lc3NhZ2U6IHJlc3VsdC5tZXNzYWdlIHx8ICcyRkEgcmVxdWlyZWQnLFxyXG4gICAgICAgIHJlcXVpcmVzMmZhOiB0cnVlLFxyXG4gICAgICAgIHNlc3Npb25JZDogcmVzdWx0LnNlc3Npb25JZCxcclxuICAgICAgICB1c2VyOiByZXN1bHQudXNlcixcclxuICAgICAgICAvLyBFeHBvc2UgZGV2Q29kZSBvbmx5IGZvciBkZXZlbG9wbWVudC90ZXN0aW5nXHJcbiAgICAgICAgZGV2Q29kZTogcmVzdWx0LmRldkNvZGUsXHJcbiAgICAgICAgZGF0YTogeyB1c2VyOiByZXN1bHQudXNlciwgcmVxdWlyZXMyZmE6IHRydWUsIHNlc3Npb25JZDogcmVzdWx0LnNlc3Npb25JZCB9LFxyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oe1xyXG4gICAgICBzdWNjZXNzOiB0cnVlLFxyXG4gICAgICBtZXNzYWdlOiAnTG9naW4gc3VjY2Vzc2Z1bCcsXHJcbiAgICAgIGFjY2Vzc1Rva2VuOiByZXN1bHQudG9rZW4sXHJcbiAgICAgIHVzZXI6IHJlc3VsdC51c2VyLFxyXG4gICAgICBkYXRhOiB7IHVzZXI6IHJlc3VsdC51c2VyLCB0b2tlbjogcmVzdWx0LnRva2VuIH0sXHJcbiAgICB9KTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcignTG9naW4gZXJyb3I6JywgZXJyb3IpO1xyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5qc29uKHtcclxuICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICAgIG1lc3NhZ2U6ICdMb2dpbiBmYWlsZWQnLFxyXG4gICAgICBlcnJvcjogZXJyb3IubWVzc2FnZSxcclxuICAgIH0pO1xyXG4gIH1cclxufSk7XHJcblxyXG4vLyDYqtiz2KzZitmEINin2YTYrtix2YjYrFxyXG5yb3V0ZXIucG9zdCgnL2xvZ291dCcsIChyZXEsIHJlcywgX25leHQpID0+IHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgdG9rZW4gPSByZXEuaGVhZGVycy5hdXRob3JpemF0aW9uPy5zcGxpdCgnICcpWzFdO1xyXG5cclxuICAgIGlmICghdG9rZW4pIHtcclxuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHsgc3VjY2VzczogZmFsc2UsIG1lc3NhZ2U6ICdUb2tlbiByZXF1aXJlZCcsIGRhdGE6IHt9IH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHJlc3VsdCA9IEF1dGhTZXJ2aWNlLmxvZ291dCh0b2tlbik7XHJcblxyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgc3VjY2VzczogdHJ1ZSxcclxuICAgICAgbWVzc2FnZTogJ0xvZ291dCBzdWNjZXNzZnVsJyxcclxuICAgICAgZGF0YTogcmVzdWx0IHx8IHt9LFxyXG4gICAgfSk7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIHJldHVybiByZXMuc3RhdHVzKDUwMCkuanNvbih7IHN1Y2Nlc3M6IGZhbHNlLCBtZXNzYWdlOiAnTG9nb3V0IGZhaWxlZCcsIGVycm9yOiBlcnJvci5tZXNzYWdlIH0pO1xyXG4gIH1cclxufSk7XHJcblxyXG4vLyDYp9mE2KrYrdmC2YIg2YXZhiDYsdmF2LIg2KfZhNiq2K3ZgtmCXHJcbnJvdXRlci5wb3N0KCcvdmVyaWZ5LXRva2VuJywgKHJlcSwgcmVzLCBfbmV4dCkgPT4ge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCB0b2tlbiA9IHJlcS5oZWFkZXJzLmF1dGhvcml6YXRpb24/LnNwbGl0KCcgJylbMV07XHJcblxyXG4gICAgaWYgKCF0b2tlbikge1xyXG4gICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oeyBzdWNjZXNzOiBmYWxzZSwgbWVzc2FnZTogJ1Rva2VuIHJlcXVpcmVkJywgZGF0YToge30gfSk7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgcmVzdWx0ID0gQXV0aFNlcnZpY2UudmVyaWZ5VG9rZW4odG9rZW4pO1xyXG5cclxuICAgIGlmICghcmVzdWx0Py52YWxpZCkge1xyXG4gICAgICByZXR1cm4gcmVzXHJcbiAgICAgICAgLnN0YXR1cyg0MDEpXHJcbiAgICAgICAgLmpzb24oeyBzdWNjZXNzOiBmYWxzZSwgbWVzc2FnZTogcmVzdWx0Py5lcnJvciB8fCAnSW52YWxpZCB0b2tlbicsIGRhdGE6IHt9IH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgIHN1Y2Nlc3M6IHRydWUsXHJcbiAgICAgIG1lc3NhZ2U6ICdUb2tlbiB2ZXJpZmllZCcsXHJcbiAgICAgIHVzZXI6IHJlc3VsdC51c2VyLFxyXG4gICAgICBkYXRhOiB7IHVzZXI6IHJlc3VsdC51c2VyLCB0b2tlblZhbGlkOiB0cnVlIH0sXHJcbiAgICB9KTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgcmV0dXJuIHJlc1xyXG4gICAgICAuc3RhdHVzKDUwMClcclxuICAgICAgLmpzb24oeyBzdWNjZXNzOiBmYWxzZSwgbWVzc2FnZTogJ1Rva2VuIHZlcmlmaWNhdGlvbiBmYWlsZWQnLCBlcnJvcjogZXJyb3IubWVzc2FnZSB9KTtcclxuICB9XHJcbn0pO1xyXG5cclxuLy8g2KXYsdiz2KfZhCDZg9mI2K8g2KfZhNiq2K3ZgtmCINmF2YYg2KfZhNio2LHZitivINin2YTYpdmE2YPYqtix2YjZhtmKXHJcbnJvdXRlci5wb3N0KCcvc2VuZC12ZXJpZmljYXRpb24tY29kZScsIChyZXEsIHJlcywgbmV4dCkgPT4ge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCB7IGVtYWlsIH0gPSByZXEuYm9keTtcclxuXHJcbiAgICBpZiAoIWVtYWlsKSB7XHJcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbihuZXcgQXBpUmVzcG9uc2UoNDAwLCB7fSwgJ0VtYWlsIHJlcXVpcmVkJykpO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHJlc3VsdCA9IEF1dGhTZXJ2aWNlLnNlbmRWZXJpZmljYXRpb25Db2RlKGVtYWlsKTtcclxuXHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24obmV3IEFwaVJlc3BvbnNlKDIwMCwgcmVzdWx0LCAnVmVyaWZpY2F0aW9uIGNvZGUgc2VudCcpKTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgcmV0dXJuIG5leHQobmV3IEFwaUVycm9yKDUwMCwgJ0ZhaWxlZCB0byBzZW5kIHZlcmlmaWNhdGlvbiBjb2RlJywgW2Vycm9yLm1lc3NhZ2VdKSk7XHJcbiAgfVxyXG59KTtcclxuXHJcbi8vINin2YTYqtit2YLZgiDZhdmGINin2YTYqNix2YrYryDYp9mE2KXZhNmD2KrYsdmI2YbZilxyXG5yb3V0ZXIucG9zdCgnL3ZlcmlmeS1lbWFpbCcsIChyZXEsIHJlcywgbmV4dCkgPT4ge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCB7IGVtYWlsLCBjb2RlIH0gPSByZXEuYm9keTtcclxuXHJcbiAgICBpZiAoIWVtYWlsIHx8ICFjb2RlKSB7XHJcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbihuZXcgQXBpUmVzcG9uc2UoNDAwLCB7fSwgJ0VtYWlsIGFuZCBjb2RlIHJlcXVpcmVkJykpO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHJlc3VsdCA9IEF1dGhTZXJ2aWNlLnZlcmlmeUVtYWlsKGVtYWlsLCBjb2RlKTtcclxuXHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24obmV3IEFwaVJlc3BvbnNlKDIwMCwgcmVzdWx0LCAnRW1haWwgdmVyaWZpZWQnKSk7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIHJldHVybiBuZXh0KG5ldyBBcGlFcnJvcig1MDAsICdFbWFpbCB2ZXJpZmljYXRpb24gZmFpbGVkJywgW2Vycm9yLm1lc3NhZ2VdKSk7XHJcbiAgfVxyXG59KTtcclxuXHJcbi8vINmG2LPZitin2YYg2YPZhNmF2Kkg2KfZhNmF2LHZiNixXHJcbnJvdXRlci5wb3N0KCcvZm9yZ290LXBhc3N3b3JkJywgKHJlcSwgcmVzLCBuZXh0KSA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IHsgZW1haWwgfSA9IHJlcS5ib2R5O1xyXG5cclxuICAgIGlmICghZW1haWwpIHtcclxuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKG5ldyBBcGlSZXNwb25zZSg0MDAsIHt9LCAnRW1haWwgcmVxdWlyZWQnKSk7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgcmVzdWx0ID0gQXV0aFNlcnZpY2UuZm9yZ290UGFzc3dvcmQoZW1haWwpO1xyXG5cclxuICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbihuZXcgQXBpUmVzcG9uc2UoMjAwLCByZXN1bHQsICdSZWNvdmVyeSBlbWFpbCBzZW50JykpO1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICByZXR1cm4gbmV4dChuZXcgQXBpRXJyb3IoNTAwLCAnUGFzc3dvcmQgcmVjb3ZlcnkgZmFpbGVkJywgW2Vycm9yLm1lc3NhZ2VdKSk7XHJcbiAgfVxyXG59KTtcclxuXHJcbi8vINil2LnYp9iv2Kkg2KrYudmK2YrZhiDZg9mE2YXYqSDYp9mE2YXYsdmI2LFcclxucm91dGVyLnBvc3QoJy9yZXNldC1wYXNzd29yZCcsIChyZXEsIHJlcywgbmV4dCkgPT4ge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCB7IHRva2VuLCBuZXdQYXNzd29yZCwgY29uZmlybVBhc3N3b3JkIH0gPSByZXEuYm9keTtcclxuXHJcbiAgICBpZiAoIXRva2VuIHx8ICFuZXdQYXNzd29yZCkge1xyXG4gICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24obmV3IEFwaVJlc3BvbnNlKDQwMCwge30sICdUb2tlbiBhbmQgbmV3IHBhc3N3b3JkIHJlcXVpcmVkJykpO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChuZXdQYXNzd29yZCAhPT0gY29uZmlybVBhc3N3b3JkKSB7XHJcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbihuZXcgQXBpUmVzcG9uc2UoNDAwLCB7fSwgJ1Bhc3N3b3JkcyBkbyBub3QgbWF0Y2gnKSk7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgcmVzdWx0ID0gQXV0aFNlcnZpY2UucmVzZXRQYXNzd29yZCh0b2tlbiwgbmV3UGFzc3dvcmQpO1xyXG5cclxuICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbihuZXcgQXBpUmVzcG9uc2UoMjAwLCByZXN1bHQsICdQYXNzd29yZCByZXNldCBzdWNjZXNzZnVsbHknKSk7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIHJldHVybiBuZXh0KG5ldyBBcGlFcnJvcig1MDAsICdQYXNzd29yZCByZXNldCBmYWlsZWQnLCBbZXJyb3IubWVzc2FnZV0pKTtcclxuICB9XHJcbn0pO1xyXG5cclxuLy8g2KrYutmK2YrYsSDZg9mE2YXYqSDYp9mE2YXYsdmI2LFcclxucm91dGVyLnBvc3QoJy9jaGFuZ2UtcGFzc3dvcmQnLCAocmVxLCByZXMsIG5leHQpID0+IHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgeyB1c2VySWQsIG9sZFBhc3N3b3JkLCBuZXdQYXNzd29yZCwgY29uZmlybVBhc3N3b3JkIH0gPSByZXEuYm9keTtcclxuXHJcbiAgICBpZiAoIXVzZXJJZCB8fCAhb2xkUGFzc3dvcmQgfHwgIW5ld1Bhc3N3b3JkKSB7XHJcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbihuZXcgQXBpUmVzcG9uc2UoNDAwLCB7fSwgJ01pc3NpbmcgcmVxdWlyZWQgZmllbGRzJykpO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChuZXdQYXNzd29yZCAhPT0gY29uZmlybVBhc3N3b3JkKSB7XHJcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbihuZXcgQXBpUmVzcG9uc2UoNDAwLCB7fSwgJ1Bhc3N3b3JkcyBkbyBub3QgbWF0Y2gnKSk7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgcmVzdWx0ID0gQXV0aFNlcnZpY2UuY2hhbmdlUGFzc3dvcmQodXNlcklkLCBvbGRQYXNzd29yZCwgbmV3UGFzc3dvcmQpO1xyXG5cclxuICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbihuZXcgQXBpUmVzcG9uc2UoMjAwLCByZXN1bHQsICdQYXNzd29yZCBjaGFuZ2VkIHN1Y2Nlc3NmdWxseScpKTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgcmV0dXJuIG5leHQobmV3IEFwaUVycm9yKDUwMCwgJ1Bhc3N3b3JkIGNoYW5nZSBmYWlsZWQnLCBbZXJyb3IubWVzc2FnZV0pKTtcclxuICB9XHJcbn0pO1xyXG5cclxuLy8g2KrZgdi52YrZhCDYp9mE2YXYtdin2K/ZgtipINin2YTYq9mG2KfYptmK2Klcclxucm91dGVyLnBvc3QoJy9lbmFibGUtMmZhJywgKHJlcSwgcmVzLCBuZXh0KSA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IHsgdXNlcklkIH0gPSByZXEuYm9keTtcclxuXHJcbiAgICBpZiAoIXVzZXJJZCkge1xyXG4gICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24obmV3IEFwaVJlc3BvbnNlKDQwMCwge30sICdVc2VyIElEIHJlcXVpcmVkJykpO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHJlc3VsdCA9IEF1dGhTZXJ2aWNlLmVuYWJsZVR3b0ZhY3Rvcih1c2VySWQpO1xyXG5cclxuICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbihuZXcgQXBpUmVzcG9uc2UoMjAwLCByZXN1bHQsICcyRkEgZW5hYmxlZCcpKTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgcmV0dXJuIG5leHQobmV3IEFwaUVycm9yKDUwMCwgJ0ZhaWxlZCB0byBlbmFibGUgMkZBJywgW2Vycm9yLm1lc3NhZ2VdKSk7XHJcbiAgfVxyXG59KTtcclxuXHJcbi8vINin2YTYqtit2YLZgiDZhdmGINin2YTZhdi12KfYr9mC2Kkg2KfZhNir2YbYp9im2YrYqVxyXG5yb3V0ZXIucG9zdCgnL3ZlcmlmeS0yZmEnLCAocmVxLCByZXMsIG5leHQpID0+IHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgeyB1c2VySWQsIGNvZGUsIHNlc3Npb25JZCB9ID0gcmVxLmJvZHk7XHJcblxyXG4gICAgaWYgKCF1c2VySWQgfHwgIWNvZGUpIHtcclxuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKG5ldyBBcGlSZXNwb25zZSg0MDAsIHt9LCAnVXNlciBJRCBhbmQgY29kZSByZXF1aXJlZCcpKTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCByZXN1bHQgPSBBdXRoU2VydmljZS52ZXJpZnlUd29GYWN0b3IodXNlcklkLCBjb2RlLCBzZXNzaW9uSWQpO1xyXG5cclxuICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbihuZXcgQXBpUmVzcG9uc2UoMjAwLCByZXN1bHQsICcyRkEgdmVyaWZpZWQnKSk7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIHJldHVybiBuZXh0KG5ldyBBcGlFcnJvcig1MDAsICcyRkEgdmVyaWZpY2F0aW9uIGZhaWxlZCcsIFtlcnJvci5tZXNzYWdlXSkpO1xyXG4gIH1cclxufSk7XHJcblxyXG4vLyDYqtit2K/ZitirINin2YTZhdmE2YEg2KfZhNi02K7YtdmKXHJcbnJvdXRlci5wdXQoJy91cGRhdGUtcHJvZmlsZScsIChyZXEsIHJlcywgbmV4dCkgPT4ge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCB7IHVzZXJJZCwgLi4uZGF0YSB9ID0gcmVxLmJvZHk7XHJcblxyXG4gICAgaWYgKCF1c2VySWQpIHtcclxuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKG5ldyBBcGlSZXNwb25zZSg0MDAsIHt9LCAnVXNlciBJRCByZXF1aXJlZCcpKTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCByZXN1bHQgPSBBdXRoU2VydmljZS51cGRhdGVQcm9maWxlKHVzZXJJZCwgZGF0YSk7XHJcblxyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKG5ldyBBcGlSZXNwb25zZSgyMDAsIHJlc3VsdCwgJ1Byb2ZpbGUgdXBkYXRlZCcpKTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgcmV0dXJuIG5leHQobmV3IEFwaUVycm9yKDUwMCwgJ1Byb2ZpbGUgdXBkYXRlIGZhaWxlZCcsIFtlcnJvci5tZXNzYWdlXSkpO1xyXG4gIH1cclxufSk7XHJcblxyXG4vLyDYp9mE2K3YtdmI2YQg2LnZhNmJINis2YTYs9in2Kog2KfZhNmF2LPYqtiu2K/ZhVxyXG5yb3V0ZXIuZ2V0KCcvc2Vzc2lvbnMvOnVzZXJJZCcsIChyZXEsIHJlcywgbmV4dCkgPT4ge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCB7IHVzZXJJZCB9ID0gcmVxLnBhcmFtcztcclxuXHJcbiAgICBjb25zdCByZXN1bHQgPSBBdXRoU2VydmljZS5nZXRVc2VyU2Vzc2lvbnModXNlcklkKTtcclxuXHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24obmV3IEFwaVJlc3BvbnNlKDIwMCwgcmVzdWx0LCAnU2Vzc2lvbnMgZmV0Y2hlZCcpKTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgcmV0dXJuIG5leHQobmV3IEFwaUVycm9yKDUwMCwgJ0ZhaWxlZCB0byBmZXRjaCBzZXNzaW9ucycsIFtlcnJvci5tZXNzYWdlXSkpO1xyXG4gIH1cclxufSk7XHJcblxyXG4vLyDYpdmG2YfYp9ihINis2YTYs9ipXHJcbnJvdXRlci5kZWxldGUoJy9zZXNzaW9ucy86dXNlcklkLzpzZXNzaW9uSWQnLCAocmVxLCByZXMsIG5leHQpID0+IHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgeyB1c2VySWQsIHNlc3Npb25JZCB9ID0gcmVxLnBhcmFtcztcclxuXHJcbiAgICBjb25zdCByZXN1bHQgPSBBdXRoU2VydmljZS50ZXJtaW5hdGVTZXNzaW9uKHVzZXJJZCwgc2Vzc2lvbklkKTtcclxuXHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24obmV3IEFwaVJlc3BvbnNlKDIwMCwgcmVzdWx0LCAnU2Vzc2lvbiB0ZXJtaW5hdGVkJykpO1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICByZXR1cm4gbmV4dChuZXcgQXBpRXJyb3IoNTAwLCAnRmFpbGVkIHRvIHRlcm1pbmF0ZSBzZXNzaW9uJywgW2Vycm9yLm1lc3NhZ2VdKSk7XHJcbiAgfVxyXG59KTtcclxuXHJcbi8vINin2YTYrdi12YjZhCDYudmE2Ykg2YXYudmE2YjZhdin2Kog2KfZhNmF2LPYqtiu2K/ZhSDYp9mE2K3Yp9mE2Ypcclxucm91dGVyLmdldCgnL21lJywgKHJlcSwgcmVzLCBuZXh0KSA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IHRva2VuID0gcmVxLmhlYWRlcnMuYXV0aG9yaXphdGlvbj8uc3BsaXQoJyAnKVsxXTtcclxuXHJcbiAgICBpZiAoIXRva2VuKSB7XHJcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMSkuanNvbih7IHN1Y2Nlc3M6IGZhbHNlLCBtZXNzYWdlOiAnTm8gdG9rZW4gcHJvdmlkZWQnLCBkYXRhOiB7fSB9KTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCByZXN1bHQgPSBBdXRoU2VydmljZS52ZXJpZnlUb2tlbih0b2tlbik7XHJcblxyXG4gICAgaWYgKCFyZXN1bHQuc3VjY2Vzcykge1xyXG4gICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDEpLmpzb24oeyBzdWNjZXNzOiBmYWxzZSwgbWVzc2FnZTogJ0ludmFsaWQgdG9rZW4nLCBkYXRhOiB7fSB9KTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oe1xyXG4gICAgICBzdWNjZXNzOiB0cnVlLFxyXG4gICAgICBtZXNzYWdlOiAnVXNlciBpbmZvIGZldGNoZWQnLFxyXG4gICAgICB1c2VyOiByZXN1bHQudXNlcixcclxuICAgICAgZGF0YTogeyB1c2VyOiByZXN1bHQudXNlciB9LFxyXG4gICAgfSk7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIHJldHVybiByZXNcclxuICAgICAgLnN0YXR1cyg1MDApXHJcbiAgICAgIC5qc29uKHsgc3VjY2VzczogZmFsc2UsIG1lc3NhZ2U6ICdGYWlsZWQgdG8gZmV0Y2ggdXNlciBpbmZvJywgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfSk7XHJcbiAgfVxyXG59KTtcclxuXHJcbm1vZHVsZS5leHBvcnRzID0gcm91dGVyO1xyXG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7O0FBRUEsTUFBTUEsT0FBTyxHQUFHQyxPQUFPLENBQUMsU0FBUyxDQUFDO0FBQ2xDLE1BQU1DLE1BQU0sR0FBR0YsT0FBTyxDQUFDRyxNQUFNLENBQUMs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