fb41add332418f762484fbc658e326fa
/**
 * Advanced Comprehensive Testing Suite
 * ŸÖÿ¨ŸÖŸàÿπÿ© ÿßÿÆÿ™ÿ®ÿßÿ±ÿßÿ™ ŸÖÿ™ŸÇÿØŸÖÿ© ÿ¥ÿßŸÖŸÑÿ© ÿ¨ÿØÿßŸã
 * 
 * Ÿäÿ™ÿ∂ŸÖŸÜ:
 * ‚úÖ ÿßÿÆÿ™ÿ®ÿßÿ±ÿßÿ™ ÿßŸÑÿ£ÿØÿßÿ° (Performance Tests)
 * ‚úÖ ÿßÿÆÿ™ÿ®ÿßÿ±ÿßÿ™ ÿßŸÑÿ£ŸÖÿßŸÜ (Security Tests)
 * ‚úÖ ÿßÿÆÿ™ÿ®ÿßÿ±ÿßÿ™ ÿßŸÑÿ™ŸÉÿßŸÖŸÑ (Integration Tests)
 * ‚úÖ ÿßÿÆÿ™ÿ®ÿßÿ±ÿßÿ™ ÿßŸÑÿ≠ÿßŸÑÿßÿ™ ÿßŸÑŸÖÿπŸÇÿØÿ© (Complex Scenarios)
 * ‚úÖ ÿßÿÆÿ™ÿ®ÿßÿ±ÿßÿ™ ÿ™ÿ≠ŸÖŸÑ ÿßŸÑÿ≠ŸÖŸÑ (Stress Tests)
 * ‚úÖ ÿßÿÆÿ™ÿ®ÿßÿ±ÿßÿ™ ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™ (Data Validation Tests)
 */

const axios = require('axios');
const assert = require('assert');

// ========================
// Configuration
// ========================
const API_BASE_URL = process.env.API_BASE_URL || 'http://localhost:3001/api';
const TIMEOUT = 30000;
const PERFORMANCE_THRESHOLD = 500; // ms

// ========================
// Helper Functions
// ========================

class TestRunner {
  constructor() {
    this.results = {
      passed: 0,
      failed: 0,
      skipped: 0,
      total: 0,
      duration: 0
    };
    this.tests = [];
    this.startTime = null;
  }
  async runTest(name, testFn) {
    this.results.total++;
    const testStartTime = Date.now();
    try {
      await testFn();
      this.results.passed++;
      console.log(`‚úÖ ${name}`);
      this.tests.push({
        name,
        status: 'PASSED',
        duration: Date.now() - testStartTime
      });
    } catch (error) {
      this.results.failed++;
      console.error(`‚ùå ${name}: ${error.message}`);
      this.tests.push({
        name,
        status: 'FAILED',
        error: error.message,
        duration: Date.now() - testStartTime
      });
    }
  }
  async runAll(tests) {
    this.startTime = Date.now();
    console.log('\n' + '='.repeat(80));
    console.log('üß™ ÿ®ÿØÿ° ŸÖÿ¨ŸÖŸàÿπÿ© ÿßŸÑÿßÿÆÿ™ÿ®ÿßÿ±ÿßÿ™ ÿßŸÑŸÖÿ™ŸÇÿØŸÖÿ© ÿßŸÑÿ¥ÿßŸÖŸÑÿ©');
    console.log('='.repeat(80) + '\n');
    for (const test of tests) {
      await this.runTest(test.name, test.fn);
    }
    this.results.duration = Date.now() - this.startTime;
    this.printSummary();
  }
  printSummary() {
    const passPercentage = (this.results.passed / this.results.total * 100).toFixed(2);
    console.log('\n' + '='.repeat(80));
    console.log('üìä ŸÖŸÑÿÆÿµ ÿßŸÑŸÜÿ™ÿßÿ¶ÿ¨');
    console.log('='.repeat(80));
    console.log(`‚úÖ ŸÜÿ¨ÿ≠: ${this.results.passed}/${this.results.total}`);
    console.log(`‚ùå ŸÅÿ¥ŸÑ: ${this.results.failed}/${this.results.total}`);
    console.log(`‚è≠Ô∏è  ÿ™ŸÖ ÿ™ÿÆÿ∑ŸäŸá: ${this.results.skipped}/${this.results.total}`);
    console.log(`üìà ŸÜÿ≥ÿ®ÿ© ÿßŸÑŸÜÿ¨ÿßÿ≠: ${passPercentage}%`);
    console.log(`‚è±Ô∏è  ÿßŸÑŸàŸÇÿ™ ÿßŸÑÿ•ÿ¨ŸÖÿßŸÑŸä: ${this.results.duration}ms`);
    console.log('='.repeat(80) + '\n');
    if (this.results.failed > 0) {
      console.log('‚ùå ÿßŸÑÿßÿÆÿ™ÿ®ÿßÿ±ÿßÿ™ ÿßŸÑŸÅÿßÿ¥ŸÑÿ©:');
      this.tests.filter(t => t.status === 'FAILED').forEach(t => {
        console.log(`  - ${t.name}: ${t.error}`);
      });
    }
  }
}

// ========================
// Performance Tests
// ========================

const performanceTests = [{
  name: 'ÿßÿÆÿ™ÿ®ÿßÿ± ÿßŸÑÿ£ÿØÿßÿ° - ÿßÿ≥ÿ™ÿØÿπÿßÿ° ŸÇÿßÿ¶ŸÖÿ© ÿßŸÑŸÖŸÇÿßŸäŸäÿ≥',
  fn: async () => {
    const startTime = Date.now();
    await axios.get(`${API_BASE_URL}/measurements`, {
      timeout: TIMEOUT
    });
    const duration = Date.now() - startTime;
    if (duration > PERFORMANCE_THRESHOLD) {
      throw new Error(`ÿßŸÑÿßÿ≥ÿ™ÿØÿπÿßÿ° ÿßÿ≥ÿ™ÿ∫ÿ±ŸÇ ${duration}ms (Ÿäÿ¨ÿ® ÿ£ŸÜ ŸäŸÉŸàŸÜ ÿ£ŸÇŸÑ ŸÖŸÜ ${PERFORMANCE_THRESHOLD}ms)`);
    }
  }
}, {
  name: 'ÿßÿÆÿ™ÿ®ÿßÿ± ÿßŸÑÿ£ÿØÿßÿ° - ÿßÿ≥ÿ™ÿØÿπÿßÿ° ŸÇÿßÿ¶ŸÖÿ© ÿßŸÑÿ®ÿ±ÿßŸÖÿ¨',
  fn: async () => {
    const startTime = Date.now();
    await axios.get(`${API_BASE_URL}/programs`, {
      timeout: TIMEOUT
    });
    const duration = Date.now() - startTime;
    if (duration > PERFORMANCE_THRESHOLD) {
      throw new Error(`ÿßŸÑÿßÿ≥ÿ™ÿØÿπÿßÿ° ÿßÿ≥ÿ™ÿ∫ÿ±ŸÇ ${duration}ms`);
    }
  }
}, {
  name: 'ÿßÿÆÿ™ÿ®ÿßÿ± ÿßŸÑÿ£ÿØÿßÿ° - ÿßŸÑÿ±ÿ®ÿ∑ ÿßŸÑÿ∞ŸÉŸä',
  fn: async () => {
    const startTime = Date.now();
    const result = await axios.post(`${API_BASE_URL}/measurements/analyze-and-link`, {
      measurementCode: 'INTEL_003',
      interpretationLevel: 'MODERATE'
    }, {
      timeout: TIMEOUT
    });
    const duration = Date.now() - startTime;
    if (duration > PERFORMANCE_THRESHOLD * 2) {
      throw new Error(`ÿßŸÑÿ±ÿ®ÿ∑ ÿßÿ≥ÿ™ÿ∫ÿ±ŸÇ ${duration}ms (Ÿäÿ¨ÿ® ÿ£ŸÜ ŸäŸÉŸàŸÜ ÿ£ŸÇŸÑ ŸÖŸÜ ${PERFORMANCE_THRESHOLD * 2}ms)`);
    }
    if (!result.data.recommendedPrograms) {
      throw new Error('ŸÑŸÖ Ÿäÿ™ŸÖ ÿ•ÿ±ÿ¨ÿßÿπ ÿßŸÑÿ®ÿ±ÿßŸÖÿ¨ ÿßŸÑŸÖŸàÿµŸâ ÿ®Ÿáÿß');
    }
  }
}, {
  name: 'ÿßÿÆÿ™ÿ®ÿßÿ± ÿßŸÑÿ£ÿØÿßÿ° - ÿ•ŸÜÿ¥ÿßÿ° ŸÖŸÇŸäÿßÿ≥ ŸÜÿ™Ÿäÿ¨ÿ©',
  fn: async () => {
    const startTime = Date.now();
    await axios.post(`${API_BASE_URL}/measurements/results`, {
      measurementCode: 'MOTOR_002',
      score: 75,
      interpretationLevel: 'AVERAGE',
      beneficiaryId: 'test-user-1'
    }, {
      timeout: TIMEOUT
    });
    const duration = Date.now() - startTime;
    if (duration > PERFORMANCE_THRESHOLD) {
      throw new Error(`ÿßŸÑÿ•ŸÜÿ¥ÿßÿ° ÿßÿ≥ÿ™ÿ∫ÿ±ŸÇ ${duration}ms`);
    }
  }
}];

// ========================
// Security Tests
// ========================

const securityTests = [{
  name: 'ÿßÿÆÿ™ÿ®ÿßÿ± ÿßŸÑÿ£ŸÖÿßŸÜ - ÿßŸÑÿ™ÿ≠ŸÇŸÇ ŸÖŸÜ ÿµÿ≠ÿ© ÿßŸÑÿ•ÿØÿÆÿßŸÑ',
  fn: async () => {
    try {
      await axios.post(`${API_BASE_URL}/measurements/results`, {
        measurementCode: 'INVALID<script>alert("XSS")</script>',
        score: 1000,
        // ÿ£ŸÉÿ®ÿ± ŸÖŸÜ ÿßŸÑÿ≠ÿØ ÿßŸÑÿ£ŸÇÿµŸâ
        beneficiaryId: 'test<img src=x>'
      }, {
        timeout: TIMEOUT
      });
      throw new Error('Ÿäÿ¨ÿ® ÿ£ŸÜ Ÿäÿ±ŸÅÿ∂ ÿßŸÑÿ•ÿØÿÆÿßŸÑ ÿ∫Ÿäÿ± ÿßŸÑÿµÿ≠Ÿäÿ≠');
    } catch (error) {
      if (error.response && error.response.status >= 400) {
        // ŸÖÿ™ŸàŸÇÿπ
        return;
      }
      throw error;
    }
  }
}, {
  name: 'ÿßÿÆÿ™ÿ®ÿßÿ± ÿßŸÑÿ£ŸÖÿßŸÜ - ÿßŸÑÿ™ÿ≠ŸÇŸÇ ŸÖŸÜ ŸÜÿ∑ÿßŸÇ ÿßŸÑÿØÿ±ÿ¨ÿßÿ™',
  fn: async () => {
    try {
      await axios.post(`${API_BASE_URL}/measurements/results`, {
        measurementCode: 'INTEL_003',
        score: -50,
        interpretationLevel: 'NORMAL',
        beneficiaryId: 'test-user-1'
      }, {
        timeout: TIMEOUT
      });
      throw new Error('Ÿäÿ¨ÿ® ÿ£ŸÜ Ÿäÿ±ŸÅÿ∂ ÿßŸÑÿØÿ±ÿ¨ÿßÿ™ ÿßŸÑÿ≥ÿßŸÑÿ®ÿ©');
    } catch (error) {
      if (error.response && error.response.status >= 400) {
        return;
      }
      throw error;
    }
  }
}, {
  name: 'ÿßÿÆÿ™ÿ®ÿßÿ± ÿßŸÑÿ£ŸÖÿßŸÜ - ŸÖÿπÿßŸÑÿ¨ÿ© ÿßŸÑÿ≠ŸÇŸàŸÑ ÿßŸÑŸÖŸÅŸÇŸàÿØÿ©',
  fn: async () => {
    try {
      await axios.post(`${API_BASE_URL}/measurements/results`, {
        measurementCode: 'MOTOR_002'
        // ÿ≠ŸÇŸàŸÑ ŸÖŸÅŸÇŸàÿØÿ©
      }, {
        timeout: TIMEOUT
      });
      throw new Error('Ÿäÿ¨ÿ® ÿ£ŸÜ Ÿäÿ±ŸÅÿ∂ ÿßŸÑÿ∑ŸÑÿ® ÿ®ÿ≠ŸÇŸàŸÑ ŸÖŸÅŸÇŸàÿØÿ©');
    } catch (error) {
      if (error.response && error.response.status >= 400) {
        return;
      }
      throw error;
    }
  }
}, {
  name: 'ÿßÿÆÿ™ÿ®ÿßÿ± ÿßŸÑÿ£ŸÖÿßŸÜ - ÿßŸÑÿ™ÿ≠ŸÇŸÇ ŸÖŸÜ ÿµÿ≠ÿ© ÿ±ŸÖŸàÿ≤ ÿßŸÑŸÖŸÇÿßŸäŸäÿ≥',
  fn: async () => {
    try {
      await axios.post(`${API_BASE_URL}/measurements/analyze-and-link`, {
        measurementCode: 'NONEXISTENT_CODE_12345',
        interpretationLevel: 'NORMAL'
      }, {
        timeout: TIMEOUT
      });
      throw new Error('Ÿäÿ¨ÿ® ÿ£ŸÜ Ÿäÿ±ŸÅÿ∂ ÿ±ŸÖŸàÿ≤ ÿßŸÑŸÖŸÇÿßŸäŸäÿ≥ ÿ∫Ÿäÿ± ÿßŸÑŸÖŸàÿ¨ŸàÿØÿ©');
    } catch (error) {
      if (error.response && error.response.status >= 400) {
        return;
      }
      throw error;
    }
  }
}];

// ========================
// Integration Tests
// ========================

const integrationTests = [{
  name: 'ÿßÿÆÿ™ÿ®ÿßÿ± ÿßŸÑÿ™ŸÉÿßŸÖŸÑ - ÿßŸÑŸÇÿ±ÿßÿ°ÿ© ŸàÿßŸÑŸÉÿ™ÿßÿ®ÿ© ŸàÿßŸÑŸÇÿ±ÿßÿ°ÿ© ŸÖÿ±ÿ© ÿ£ÿÆÿ±Ÿâ',
  fn: async () => {
    // ÿßŸÉÿ™ÿ® ŸÜÿ™Ÿäÿ¨ÿ©
    const writeResult = await axios.post(`${API_BASE_URL}/measurements/results`, {
      measurementCode: 'LANG_001',
      score: 85,
      interpretationLevel: 'ABOVE_AVERAGE',
      beneficiaryId: 'test-integration-1',
      notes: 'ÿßÿÆÿ™ÿ®ÿßÿ± ÿßŸÑÿ™ŸÉÿßŸÖŸÑ'
    }, {
      timeout: TIMEOUT
    });
    if (!writeResult.data.id) {
      throw new Error('ŸÑŸÖ Ÿäÿ™ŸÖ ÿ•ÿ±ÿ¨ÿßÿπ ŸÖÿπÿ±ŸÅ ÿßŸÑŸÜÿ™Ÿäÿ¨ÿ©');
    }

    // ÿßŸÇÿ±ÿ£ ÿßŸÑŸÜÿ™Ÿäÿ¨ÿ©
    const readResult = await axios.get(`${API_BASE_URL}/measurements/results/${writeResult.data.id}`, {
      timeout: TIMEOUT
    });
    if (readResult.data.score !== 85) {
      throw new Error('ÿßŸÑÿØÿ±ÿ¨ÿ© ÿßŸÑŸÖŸÇÿ±Ÿàÿ°ÿ© ŸÑÿß ÿ™ÿ∑ÿßÿ®ŸÇ ÿßŸÑÿØÿ±ÿ¨ÿ© ÿßŸÑŸÖŸÉÿ™Ÿàÿ®ÿ©');
    }
  }
}, {
  name: 'ÿßÿÆÿ™ÿ®ÿßÿ± ÿßŸÑÿ™ŸÉÿßŸÖŸÑ - ÿ±ÿ®ÿ∑ ŸÜÿ™Ÿäÿ¨ÿ© ÿ®ÿßŸÑÿ®ÿ±ÿßŸÖÿ¨ ÿ™ŸÑŸÇÿßÿ¶ŸäÿßŸã',
  fn: async () => {
    const result = await axios.post(`${API_BASE_URL}/measurements/results`, {
      measurementCode: 'AUTISM_004',
      score: 35,
      interpretationLevel: 'SEVERE_IMPAIRMENT',
      beneficiaryId: 'test-integration-2'
    }, {
      timeout: TIMEOUT
    });
    if (!result.data.activatedPrograms || result.data.activatedPrograms.length === 0) {
      throw new Error('ŸÑŸÖ Ÿäÿ™ŸÖ ÿ™ŸÜÿ¥Ÿäÿ∑ ÿ£Ÿä ÿ®ÿ±ÿßŸÖÿ¨ ÿ™ŸÑŸÇÿßÿ¶ŸäÿßŸã');
    }
    const programs = result.data.activatedPrograms;
    const hasCriticalPrograms = programs.some(p => p.recommendationLevel === 'CRITICAL');
    if (!hasCriticalPrograms) {
      throw new Error('Ÿäÿ¨ÿ® ÿ£ŸÜ ÿ™ŸÉŸàŸÜ ŸáŸÜÿßŸÉ ÿ®ÿ±ÿßŸÖÿ¨ ÿ≠ÿ±ÿ¨ÿ© ŸÑŸÑÿ≠ÿßŸÑÿßÿ™ ÿßŸÑÿ¥ÿØŸäÿØÿ©');
    }
  }
}, {
  name: 'ÿßÿÆÿ™ÿ®ÿßÿ± ÿßŸÑÿ™ŸÉÿßŸÖŸÑ - ÿßŸÑÿ≠ÿµŸàŸÑ ÿπŸÑŸâ ÿ™ŸÇÿ±Ÿäÿ± ÿ¥ÿßŸÖŸÑ',
  fn: async () => {
    const report = await axios.get(`${API_BASE_URL}/measurements/report/test-integration-1`, {
      timeout: TIMEOUT
    });
    if (!report.data.measurements) {
      throw new Error('ÿßŸÑÿ™ŸÇÿ±Ÿäÿ± ŸÑÿß Ÿäÿ≠ÿ™ŸàŸä ÿπŸÑŸâ ŸÇÿßÿ¶ŸÖÿ© ÿßŸÑŸÖŸÇÿßŸäŸäÿ≥');
    }
    if (!report.data.recommendations) {
      throw new Error('ÿßŸÑÿ™ŸÇÿ±Ÿäÿ± ŸÑÿß Ÿäÿ≠ÿ™ŸàŸä ÿπŸÑŸâ ÿßŸÑÿ™ŸàÿµŸäÿßÿ™');
    }
    if (!report.data.summary) {
      throw new Error('ÿßŸÑÿ™ŸÇÿ±Ÿäÿ± ŸÑÿß Ÿäÿ≠ÿ™ŸàŸä ÿπŸÑŸâ ŸÖŸÑÿÆÿµ');
    }
  }
}, {
  name: 'ÿßÿÆÿ™ÿ®ÿßÿ± ÿßŸÑÿ™ŸÉÿßŸÖŸÑ - ŸÖÿπÿßŸÑÿ¨ÿ© ÿ≠ÿßŸÑÿßÿ™ ŸÖÿ™ÿπÿØÿØÿ©',
  fn: async () => {
    const measurements = [{
      code: 'MOTOR_002',
      score: 45,
      level: 'MILD_IMPAIRMENT'
    }, {
      code: 'LANG_001',
      score: 55,
      level: 'BELOW_AVERAGE'
    }, {
      code: 'SOCIAL_001',
      score: 40,
      level: 'POOR'
    }];
    for (const measurement of measurements) {
      await axios.post(`${API_BASE_URL}/measurements/results`, {
        measurementCode: measurement.code,
        score: measurement.score,
        interpretationLevel: measurement.level,
        beneficiaryId: 'test-multi-measure'
      }, {
        timeout: TIMEOUT
      });
    }
    const report = await axios.get(`${API_BASE_URL}/measurements/report/test-multi-measure`, {
      timeout: TIMEOUT
    });
    if (report.data.measurements.length !== 3) {
      throw new Error('Ÿäÿ¨ÿ® ÿ£ŸÜ ŸäŸÉŸàŸÜ ŸáŸÜÿßŸÉ 3 ŸÖŸÇÿßŸäŸäÿ≥ ŸÅŸä ÿßŸÑÿ™ŸÇÿ±Ÿäÿ±');
    }
  }
}, {
  name: 'ÿßÿÆÿ™ÿ®ÿßÿ± ÿßŸÑÿ™ŸÉÿßŸÖŸÑ - ÿßÿ≥ÿ™ÿØÿπÿßÿ°ÿßÿ™ ŸÖÿ™ÿπÿØÿØÿ© ŸÖÿ™ÿ≤ÿßŸÖŸÜÿ©',
  fn: async () => {
    const promises = [];
    for (let i = 0; i < 10; i++) {
      promises.push(axios.post(`${API_BASE_URL}/measurements/results`, {
        measurementCode: `ELITE_TEST_${i}`,
        score: 50 + i * 5,
        interpretationLevel: 'AVERAGE',
        beneficiaryId: `test-concurrent-${i}`
      }, {
        timeout: TIMEOUT
      }));
    }
    const results = await Promise.all(promises);
    if (results.length !== 10) {
      throw new Error('ÿßŸÇŸÑ ŸÖŸÜ 10 ÿßÿ≥ÿ™ÿØÿπÿßÿ°ÿßÿ™ ŸÜÿ¨ÿ≠ÿ™');
    }
    const allSuccessful = results.every(r => r.status === 200);
    if (!allSuccessful) {
      throw new Error('ŸÑŸäÿ≥ÿ™ ÿ¨ŸÖŸäÿπ ÿßŸÑÿßÿ≥ÿ™ÿØÿπÿßÿ°ÿßÿ™ ŸÜÿßÿ¨ÿ≠ÿ©');
    }
  }
}];

// ========================
// Complex Scenario Tests
// ========================

const complexScenarioTests = [{
  name: 'ÿ≥ŸäŸÜÿßÿ±ŸäŸà ŸÖÿπŸÇÿØ - ÿ≠ÿßŸÑÿ© ÿßŸÑÿ™Ÿàÿ≠ÿØ ÿßŸÑÿ¥ÿØŸäÿØÿ©',
  fn: async () => {
    // ÿ≠ÿßŸÑÿ© ÿ™Ÿàÿ≠ÿØ ÿ¥ÿØŸäÿØÿ© ŸÖÿπ ÿ™ÿ£ÿÆÿ± ŸÑÿ∫ŸàŸä
    const measurements = [{
      code: 'AUTISM_004',
      score: 25,
      level: 'SEVERE_IMPAIRMENT'
    }, {
      code: 'LANG_001',
      score: 20,
      level: 'SEVERE_IMPAIRMENT'
    }, {
      code: 'SOCIAL_001',
      score: 15,
      level: 'SEVERE_IMPAIRMENT'
    }, {
      code: 'MOTOR_002',
      score: 60,
      level: 'AVERAGE'
    }];
    for (const measurement of measurements) {
      await axios.post(`${API_BASE_URL}/measurements/results`, {
        measurementCode: measurement.code,
        score: measurement.score,
        interpretationLevel: measurement.level,
        beneficiaryId: 'case-autism-severe'
      }, {
        timeout: TIMEOUT
      });
    }
    const analysis = await axios.post(`${API_BASE_URL}/measurements/analyze-and-link`, {
      measurementCode: 'AUTISM_004',
      interpretationLevel: 'SEVERE_IMPAIRMENT'
    }, {
      timeout: TIMEOUT
    });
    if (!analysis.data.recommendedPrograms) {
      throw new Error('ŸÑŸÖ Ÿäÿ™ŸÖ ÿßŸÑÿ≠ÿµŸàŸÑ ÿπŸÑŸâ ÿ®ÿ±ÿßŸÖÿ¨ ŸÖŸàÿµŸâ ÿ®Ÿáÿß');
    }
    const criticalPrograms = analysis.data.recommendedPrograms.filter(p => p.priority === 'CRITICAL');
    if (criticalPrograms.length === 0) {
      throw new Error('Ÿäÿ¨ÿ® ÿ£ŸÜ ÿ™ŸÉŸàŸÜ ŸáŸÜÿßŸÉ ÿ®ÿ±ÿßŸÖÿ¨ ÿ≠ÿ±ÿ¨ÿ©');
    }
  }
}, {
  name: 'ÿ≥ŸäŸÜÿßÿ±ŸäŸà ŸÖÿπŸÇÿØ - ÿµÿπŸàÿ®ÿßÿ™ ÿ™ÿπŸÑŸÖŸäÿ© ŸÖÿπŸÇÿØÿ©',
  fn: async () => {
    const measurements = [{
      code: 'ACADEMIC_ELITE_001',
      score: 30,
      level: 'POOR'
    },
    // ÿØÿ≥ŸÑŸÉÿ≥Ÿäÿß
    {
      code: 'ACADEMIC_ELITE_002',
      score: 35,
      level: 'POOR'
    },
    // ÿØÿ≥ÿ¨ÿ±ÿßŸÅŸäÿß
    {
      code: 'ACADEMIC_ELITE_003',
      score: 40,
      level: 'POOR'
    },
    // ÿØÿ≥ŸÉÿßŸÑŸÉŸàŸÑŸäÿß
    {
      code: 'COGNITION_ELITE_001',
      score: 55,
      level: 'AVERAGE'
    } // ŸÖÿπÿßŸÑÿ¨ÿ© ÿπÿßÿØŸäÿ©
    ];
    for (const measurement of measurements) {
      await axios.post(`${API_BASE_URL}/measurements/results`, {
        measurementCode: measurement.code,
        score: measurement.score,
        interpretationLevel: measurement.level,
        beneficiaryId: 'case-learning-complex'
      }, {
        timeout: TIMEOUT
      });
    }
    const report = await axios.get(`${API_BASE_URL}/measurements/report/case-learning-complex`, {
      timeout: TIMEOUT
    });
    if (!report.data.summary) {
      throw new Error('Ÿäÿ¨ÿ® ÿ£ŸÜ ŸäŸÉŸàŸÜ ŸáŸÜÿßŸÉ ŸÖŸÑÿÆÿµ');
    }
    const shouldHighlightMultipleIssues = report.data.measurements.length >= 3;
    if (!shouldHighlightMultipleIssues) {
      throw new Error('ÿ™ŸÖ ÿßŸÉÿ™ÿ¥ÿßŸÅ ÿπÿØÿ© ÿµÿπŸàÿ®ÿßÿ™ ŸÑŸÉŸÜ ŸÑŸÖ Ÿäÿ™ŸÖ ÿ™ŸÖŸäÿ≤Ÿáÿß');
    }
  }
}, {
  name: 'ÿ≥ŸäŸÜÿßÿ±ŸäŸà ŸÖÿπŸÇÿØ - ÿ≠ÿßŸÑÿ© ÿ•ÿπÿßŸÇÿ© ÿ≠ÿ±ŸÉŸäÿ© ŸÖÿπ ÿ™ÿ£ÿ´ÿ± ŸÖÿπÿ±ŸÅŸä',
  fn: async () => {
    const measurements = [{
      code: 'PHYSIO_ELITE_001',
      score: 20,
      level: 'SEVERE_IMPAIRMENT'
    },
    // ÿ≠ÿ±ŸÉÿ© ÿ≥Ÿäÿ¶ÿ©
    {
      code: 'PHYSIO_ELITE_004',
      score: 25,
      level: 'POOR'
    },
    // ÿ™Ÿàÿßÿ≤ŸÜ ÿ≥Ÿäÿ°
    {
      code: 'COGNITION_ELITE_001',
      score: 70,
      level: 'AVERAGE'
    } // ŸÖÿπÿ±ŸÅÿ© ÿ¨ŸäÿØÿ© ŸÜÿ≥ÿ®ŸäÿßŸã
    ];
    for (const measurement of measurements) {
      await axios.post(`${API_BASE_URL}/measurements/results`, {
        measurementCode: measurement.code,
        score: measurement.score,
        interpretationLevel: measurement.level,
        beneficiaryId: 'case-motor-cognitive'
      }, {
        timeout: TIMEOUT
      });
    }
    const analysis = await axios.post(`${API_BASE_URL}/measurements/analyze-and-link`, {
      measurementCode: 'PHYSIO_ELITE_001',
      interpretationLevel: 'SEVERE_IMPAIRMENT'
    }, {
      timeout: TIMEOUT
    });
    const hasMotorPrograms = analysis.data.recommendedPrograms.some(p => p.id && p.id.includes('MOTOR'));
    if (!hasMotorPrograms) {
      throw new Error('Ÿäÿ¨ÿ® ÿ£ŸÜ ÿ™ŸÉŸàŸÜ ŸáŸÜÿßŸÉ ÿ®ÿ±ÿßŸÖÿ¨ ÿ≠ÿ±ŸÉŸäÿ©');
    }
  }
}];

// ========================
// Stress Tests
// ========================

const stressTests = [{
  name: 'ÿßÿÆÿ™ÿ®ÿßÿ± ÿßŸÑÿ•ÿ¨ŸáÿßÿØ - 50 ÿßÿ≥ÿ™ÿØÿπÿßÿ° ŸÖÿ™ÿ™ÿßŸÑŸä',
  fn: async () => {
    const startTime = Date.now();
    for (let i = 0; i < 50; i++) {
      try {
        await axios.get(`${API_BASE_URL}/measurements`, {
          timeout: TIMEOUT
        });
      } catch (error) {
        throw new Error(`ŸÅÿ¥ŸÑ ÿßŸÑÿßÿ≥ÿ™ÿØÿπÿßÿ° ${i + 1}: ${error.message}`);
      }
    }
    const duration = Date.now() - startTime;
    console.log(`    ‚è±Ô∏è  50 ÿßÿ≥ÿ™ÿØÿπÿßÿ° ŸÅŸä ${duration}ms`);
    if (duration > 15000) {
      throw new Error(`ÿßŸÑÿßÿ≥ÿ™ÿØÿπÿßÿ°ÿßÿ™ ÿßÿ≥ÿ™ÿ∫ÿ±ŸÇÿ™ ŸàŸÇÿ™ÿßŸã ÿ∑ŸàŸäŸÑÿßŸã ÿ¨ÿØÿßŸã: ${duration}ms`);
    }
  }
}, {
  name: 'ÿßÿÆÿ™ÿ®ÿßÿ± ÿßŸÑÿ•ÿ¨ŸáÿßÿØ - 20 ÿπŸÖŸÑŸäÿ© ŸÉÿ™ÿßÿ®ÿ© ŸÖÿ™ÿ≤ÿßŸÖŸÜ',
  fn: async () => {
    const promises = [];
    for (let i = 0; i < 20; i++) {
      promises.push(axios.post(`${API_BASE_URL}/measurements/results`, {
        measurementCode: 'MOTOR_002',
        score: Math.floor(Math.random() * 100),
        interpretationLevel: 'AVERAGE',
        beneficiaryId: `stress-test-${i}`
      }, {
        timeout: TIMEOUT
      }));
    }
    try {
      await Promise.all(promises);
    } catch (error) {
      throw new Error(`ŸÅÿ¥ŸÑ Ÿàÿßÿ≠ÿØ ÿπŸÑŸâ ÿßŸÑÿ£ŸÇŸÑ ŸÖŸÜ 20 ÿπŸÖŸÑŸäÿ© ŸÉÿ™ÿßÿ®ÿ©: ${error.message}`);
    }
  }
}];

// ========================
// Data Validation Tests
// ========================

const dataValidationTests = [{
  name: 'ÿßÿÆÿ™ÿ®ÿßÿ± ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™ - ÿßŸÑÿ™ÿ≠ŸÇŸÇ ŸÖŸÜ Ÿàÿ¨ŸàÿØ ÿ®ŸäÿßŸÜÿßÿ™ ÿßŸÑŸÖŸÇÿßŸäŸäÿ≥',
  fn: async () => {
    const result = await axios.get(`${API_BASE_URL}/measurements`, {
      timeout: TIMEOUT
    });
    if (!Array.isArray(result.data)) {
      throw new Error('Ÿäÿ¨ÿ® ÿ£ŸÜ ÿ™ŸÉŸàŸÜ ÿßŸÑŸÜÿ™Ÿäÿ¨ÿ© ŸÖÿµŸÅŸàŸÅÿ©');
    }
    if (result.data.length === 0) {
      throw new Error('Ÿäÿ¨ÿ® ÿ£ŸÜ ŸäŸÉŸàŸÜ ŸáŸÜÿßŸÉ ŸÖŸÇÿßŸäŸäÿ≥ ÿπŸÑŸâ ÿßŸÑÿ£ŸÇŸÑ');
    }
    const measurement = result.data[0];
    const requiredFields = ['code', 'name', 'description', 'category'];
    for (const field of requiredFields) {
      if (!measurement[field]) {
        throw new Error(`ÿßŸÑŸÖŸÇŸäÿßÿ≥ ŸäŸÅÿ™ŸÇÿØ ÿßŸÑÿ≠ŸÇŸÑ: ${field}`);
      }
    }
  }
}, {
  name: 'ÿßÿÆÿ™ÿ®ÿßÿ± ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™ - ÿßŸÑÿ™ÿ≠ŸÇŸÇ ŸÖŸÜ Ÿàÿ¨ŸàÿØ ÿ®ŸäÿßŸÜÿßÿ™ ÿßŸÑÿ®ÿ±ÿßŸÖÿ¨',
  fn: async () => {
    const result = await axios.get(`${API_BASE_URL}/programs`, {
      timeout: TIMEOUT
    });
    if (!Array.isArray(result.data)) {
      throw new Error('Ÿäÿ¨ÿ® ÿ£ŸÜ ÿ™ŸÉŸàŸÜ ÿßŸÑŸÜÿ™Ÿäÿ¨ÿ© ŸÖÿµŸÅŸàŸÅÿ©');
    }
    if (result.data.length === 0) {
      throw new Error('Ÿäÿ¨ÿ® ÿ£ŸÜ ŸäŸÉŸàŸÜ ŸáŸÜÿßŸÉ ÿ®ÿ±ÿßŸÖÿ¨ ÿπŸÑŸâ ÿßŸÑÿ£ŸÇŸÑ');
    }
    const program = result.data[0];
    const requiredFields = ['code', 'name', 'description', 'category'];
    for (const field of requiredFields) {
      if (!program[field]) {
        throw new Error(`ÿßŸÑÿ®ÿ±ŸÜÿßŸÖÿ¨ ŸäŸÅÿ™ŸÇÿØ ÿßŸÑÿ≠ŸÇŸÑ: ${field}`);
      }
    }
  }
}, {
  name: 'ÿßÿÆÿ™ÿ®ÿßÿ± ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™ - ÿßŸÑÿ™ÿ≠ŸÇŸÇ ŸÖŸÜ ÿßŸÑŸÅÿ¶ÿßÿ™',
  fn: async () => {
    const measurements = await axios.get(`${API_BASE_URL}/measurements`, {
      timeout: TIMEOUT
    });
    const categories = new Set(measurements.data.map(m => m.category));
    if (categories.size === 0) {
      throw new Error('Ÿäÿ¨ÿ® ÿ£ŸÜ ŸäŸÉŸàŸÜ ŸáŸÜÿßŸÉ ŸÅÿ¶ÿßÿ™ ÿπŸÑŸâ ÿßŸÑÿ£ŸÇŸÑ');
    }
    console.log(`    üìÇ Ÿàÿ¨ÿØÿ™ ${categories.size} ŸÅÿ¶ÿ©`);
  }
}];

// ========================
// Main Test Execution
// ========================

async function runAllTests() {
  const runner = new TestRunner();
  const allTests = [{
    category: '‚ö° ÿßÿÆÿ™ÿ®ÿßÿ±ÿßÿ™ ÿßŸÑÿ£ÿØÿßÿ°',
    tests: performanceTests
  }, {
    category: 'üîí ÿßÿÆÿ™ÿ®ÿßÿ±ÿßÿ™ ÿßŸÑÿ£ŸÖÿßŸÜ',
    tests: securityTests
  }, {
    category: 'üîó ÿßÿÆÿ™ÿ®ÿßÿ±ÿßÿ™ ÿßŸÑÿ™ŸÉÿßŸÖŸÑ',
    tests: integrationTests
  }, {
    category: 'üéØ ÿßŸÑÿ≠ÿßŸÑÿßÿ™ ÿßŸÑŸÖÿπŸÇÿØÿ©',
    tests: complexScenarioTests
  }, {
    category: 'üí™ ÿßÿÆÿ™ÿ®ÿßÿ±ÿßÿ™ ÿßŸÑÿ•ÿ¨ŸáÿßÿØ',
    tests: stressTests
  }, {
    category: 'üìä ÿßÿÆÿ™ÿ®ÿßÿ±ÿßÿ™ ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™',
    tests: dataValidationTests
  }];
  for (const category of allTests) {
    console.log(`\n${category.category}\n` + '‚îÄ'.repeat(50));
    for (const test of category.tests) {
      await runner.runTest(test.name, test.fn);
    }
  }
  runner.printSummary();
  return runner.results.failed === 0;
}

// ========================
// Export
// ========================

module.exports = {
  runAllTests,
  TestRunner,
  performanceTests,
  securityTests,
  integrationTests,
  complexScenarioTests,
  stressTests,
  dataValidationTests
};

// ========================
// CLI Execution
// ========================

if (require.main === module) {
  runAllTests().then(success => {
    process.exit(success ? 0 : 1);
  }).catch(error => {
    console.error('‚ùå ÿÆÿ∑ÿ£ ÿ≠ÿ±ÿ¨:', error);
    process.exit(1);
  });
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJheGlvcyIsInJlcXVpcmUiLCJhc3NlcnQiLCJBUElfQkFTRV9VUkwiLCJwcm9jZXNzIiwiZW52IiwiVElNRU9VVCIsIlBFUkZPUk1BTkNFX1RIUkVTSE9MRCIsIlRlc3RSdW5uZXIiLCJjb25zdHJ1Y3RvciIsInJlc3VsdHMiLCJwYXNzZWQiLCJmYWlsZWQiLCJza2lwcGVkIiwidG90YWwiLCJkdXJhdGlvbiIsInRlc3RzIiwic3RhcnRUaW1lIiwicnVuVGVzdCIsIm5hbWUiLCJ0ZXN0Rm4iLCJ0ZXN0U3RhcnRUaW1lIiwiRGF0ZSIsIm5vdyIsImNvbnNvbGUiLCJsb2ciLCJwdXNoIiwic3RhdHVzIiwiZXJyb3IiLCJtZXNzYWdlIiwicnVuQWxsIiwicmVwZWF0IiwidGVzdCIsImZuIiwicHJpbnRTdW1tYXJ5IiwicGFzc1BlcmNlbnRhZ2UiLCJ0b0ZpeGVkIiwiZmlsdGVyIiwidCIsImZvckVhY2giLCJwZXJmb3JtYW5jZVRlc3RzIiwiZ2V0IiwidGltZW91dCIsIkVycm9yIiwicmVzdWx0IiwicG9zdCIsIm1lYXN1cmVtZW50Q29kZSIsImludGVycHJldGF0aW9uTGV2ZWwiLCJkYXRhIiwicmVjb21tZW5kZWRQcm9ncmFtcyIsInNjb3JlIiwiYmVuZWZpY2lhcnlJZCIsInNlY3VyaXR5VGVzdHMiLCJyZXNwb25zZSIsImludGVncmF0aW9uVGVzdHMiLCJ3cml0ZVJlc3VsdCIsIm5vdGVzIiwiaWQiLCJyZWFkUmVzdWx0IiwiYWN0aXZhdGVkUHJvZ3JhbXMiLCJsZW5ndGgiLCJwcm9ncmFtcyIsImhhc0NyaXRpY2FsUHJvZ3JhbXMiLCJzb21lIiwicCIsInJlY29tbWVuZGF0aW9uTGV2ZWwiLCJyZXBvcnQiLCJtZWFzdXJlbWVudHMiLCJyZWNvbW1lbmRhdGlvbnMiLCJzdW1tYXJ5IiwiY29kZSIsImxldmVsIiwibWVhc3VyZW1lbnQiLCJwcm9taXNlcyIsImkiLCJQcm9taXNlIiwiYWxsIiwiYWxsU3VjY2Vzc2Z1bCIsImV2ZXJ5IiwiciIsImNvbXBsZXhTY2VuYXJpb1Rlc3RzIiwiYW5hbHlzaXMiLCJjcml0aWNhbFByb2dyYW1zIiwicHJpb3JpdHkiLCJzaG91bGRIaWdobGlnaHRNdWx0aXBsZUlzc3VlcyIsImhhc01vdG9yUHJvZ3JhbXMiLCJpbmNsdWRlcyIsInN0cmVzc1Rlc3RzIiwiTWF0aCIsImZsb29yIiwicmFuZG9tIiwiZGF0YVZhbGlkYXRpb25UZXN0cyIsIkFycmF5IiwiaXNBcnJheSIsInJlcXVpcmVkRmllbGRzIiwiZmllbGQiLCJwcm9ncmFtIiwiY2F0ZWdvcmllcyIsIlNldCIsIm1hcCIsIm0iLCJjYXRlZ29yeSIsInNpemUiLCJydW5BbGxUZXN0cyIsInJ1bm5lciIsImFsbFRlc3RzIiwibW9kdWxlIiwiZXhwb3J0cyIsIm1haW4iLCJ0aGVuIiwic3VjY2VzcyIsImV4aXQiLCJjYXRjaCJdLCJzb3VyY2VzIjpbImNvbXByZWhlbnNpdmUtYWR2YW5jZWQudGVzdC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICogQWR2YW5jZWQgQ29tcHJlaGVuc2l2ZSBUZXN0aW5nIFN1aXRlXHJcbiAqINmF2KzZhdmI2LnYqSDYp9iu2KrYqNin2LHYp9iqINmF2KrZgtiv2YXYqSDYtNin2YXZhNipINis2K/Yp9mLXHJcbiAqIFxyXG4gKiDZitiq2LbZhdmGOlxyXG4gKiDinIUg2KfYrtiq2KjYp9ix2KfYqiDYp9mE2KPYr9in2KEgKFBlcmZvcm1hbmNlIFRlc3RzKVxyXG4gKiDinIUg2KfYrtiq2KjYp9ix2KfYqiDYp9mE2KPZhdin2YYgKFNlY3VyaXR5IFRlc3RzKVxyXG4gKiDinIUg2KfYrtiq2KjYp9ix2KfYqiDYp9mE2KrZg9in2YXZhCAoSW50ZWdyYXRpb24gVGVzdHMpXHJcbiAqIOKchSDYp9iu2KrYqNin2LHYp9iqINin2YTYrdin2YTYp9iqINin2YTZhdi52YLYr9ipIChDb21wbGV4IFNjZW5hcmlvcylcclxuICog4pyFINin2K7Yqtio2KfYsdin2Kog2KrYrdmF2YQg2KfZhNit2YXZhCAoU3RyZXNzIFRlc3RzKVxyXG4gKiDinIUg2KfYrtiq2KjYp9ix2KfYqiDYp9mE2KjZitin2YbYp9iqIChEYXRhIFZhbGlkYXRpb24gVGVzdHMpXHJcbiAqL1xyXG5cclxuY29uc3QgYXhpb3MgPSByZXF1aXJlKCdheGlvcycpO1xyXG5jb25zdCBhc3NlcnQgPSByZXF1aXJlKCdhc3NlcnQnKTtcclxuXHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PVxyXG4vLyBDb25maWd1cmF0aW9uXHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PVxyXG5jb25zdCBBUElfQkFTRV9VUkwgPSBwcm9jZXNzLmVudi5BUElfQkFTRV9VUkwgfHwgJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMS9hcGknO1xyXG5jb25zdCBUSU1FT1VUID0gMzAwMDA7XHJcbmNvbnN0IFBFUkZPUk1BTkNFX1RIUkVTSE9MRCA9IDUwMDsgLy8gbXNcclxuXHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PVxyXG4vLyBIZWxwZXIgRnVuY3Rpb25zXHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cclxuY2xhc3MgVGVzdFJ1bm5lciB7XHJcbiAgY29uc3RydWN0b3IoKSB7XHJcbiAgICB0aGlzLnJlc3VsdHMgPSB7XHJcbiAgICAgIHBhc3NlZDogMCxcclxuICAgICAgZmFpbGVkOiAwLFxyXG4gICAgICBza2lwcGVkOiAwLFxyXG4gICAgICB0b3RhbDogMCxcclxuICAgICAgZHVyYXRpb246IDAsXHJcbiAgICB9O1xyXG4gICAgdGhpcy50ZXN0cyA9IFtdO1xyXG4gICAgdGhpcy5zdGFydFRpbWUgPSBudWxsO1xyXG4gIH1cclxuXHJcbiAgYXN5bmMgcnVuVGVzdChuYW1lLCB0ZXN0Rm4pIHtcclxuICAgIHRoaXMucmVzdWx0cy50b3RhbCsrO1xyXG4gICAgY29uc3QgdGVzdFN0YXJ0VGltZSA9IERhdGUubm93KCk7XHJcbiAgICBcclxuICAgIHRyeSB7XHJcbiAgICAgIGF3YWl0IHRlc3RGbigpO1xyXG4gICAgICB0aGlzLnJlc3VsdHMucGFzc2VkKys7XHJcbiAgICAgIGNvbnNvbGUubG9nKGDinIUgJHtuYW1lfWApO1xyXG4gICAgICB0aGlzLnRlc3RzLnB1c2goeyBuYW1lLCBzdGF0dXM6ICdQQVNTRUQnLCBkdXJhdGlvbjogRGF0ZS5ub3coKSAtIHRlc3RTdGFydFRpbWUgfSk7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICB0aGlzLnJlc3VsdHMuZmFpbGVkKys7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoYOKdjCAke25hbWV9OiAke2Vycm9yLm1lc3NhZ2V9YCk7XHJcbiAgICAgIHRoaXMudGVzdHMucHVzaCh7IG5hbWUsIHN0YXR1czogJ0ZBSUxFRCcsIGVycm9yOiBlcnJvci5tZXNzYWdlLCBkdXJhdGlvbjogRGF0ZS5ub3coKSAtIHRlc3RTdGFydFRpbWUgfSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBhc3luYyBydW5BbGwodGVzdHMpIHtcclxuICAgIHRoaXMuc3RhcnRUaW1lID0gRGF0ZS5ub3coKTtcclxuICAgIFxyXG4gICAgY29uc29sZS5sb2coJ1xcbicgKyAnPScucmVwZWF0KDgwKSk7XHJcbiAgICBjb25zb2xlLmxvZygn8J+nqiDYqNiv2KEg2YXYrNmF2YjYudipINin2YTYp9iu2KrYqNin2LHYp9iqINin2YTZhdiq2YLYr9mF2Kkg2KfZhNi02KfZhdmE2KknKTtcclxuICAgIGNvbnNvbGUubG9nKCc9Jy5yZXBlYXQoODApICsgJ1xcbicpO1xyXG5cclxuICAgIGZvciAoY29uc3QgdGVzdCBvZiB0ZXN0cykge1xyXG4gICAgICBhd2FpdCB0aGlzLnJ1blRlc3QodGVzdC5uYW1lLCB0ZXN0LmZuKTtcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLnJlc3VsdHMuZHVyYXRpb24gPSBEYXRlLm5vdygpIC0gdGhpcy5zdGFydFRpbWU7XHJcbiAgICB0aGlzLnByaW50U3VtbWFyeSgpO1xyXG4gIH1cclxuXHJcbiAgcHJpbnRTdW1tYXJ5KCkge1xyXG4gICAgY29uc3QgcGFzc1BlcmNlbnRhZ2UgPSAoKHRoaXMucmVzdWx0cy5wYXNzZWQgLyB0aGlzLnJlc3VsdHMudG90YWwpICogMTAwKS50b0ZpeGVkKDIpO1xyXG4gICAgXHJcbiAgICBjb25zb2xlLmxvZygnXFxuJyArICc9Jy5yZXBlYXQoODApKTtcclxuICAgIGNvbnNvbGUubG9nKCfwn5OKINmF2YTYrti1INin2YTZhtiq2KfYptisJyk7XHJcbiAgICBjb25zb2xlLmxvZygnPScucmVwZWF0KDgwKSk7XHJcbiAgICBjb25zb2xlLmxvZyhg4pyFINmG2KzYrTogJHt0aGlzLnJlc3VsdHMucGFzc2VkfS8ke3RoaXMucmVzdWx0cy50b3RhbH1gKTtcclxuICAgIGNvbnNvbGUubG9nKGDinYwg2YHYtNmEOiAke3RoaXMucmVzdWx0cy5mYWlsZWR9LyR7dGhpcy5yZXN1bHRzLnRvdGFsfWApO1xyXG4gICAgY29uc29sZS5sb2coYOKPre+4jyAg2KrZhSDYqtiu2LfZitmHOiAke3RoaXMucmVzdWx0cy5za2lwcGVkfS8ke3RoaXMucmVzdWx0cy50b3RhbH1gKTtcclxuICAgIGNvbnNvbGUubG9nKGDwn5OIINmG2LPYqNipINin2YTZhtis2KfYrTogJHtwYXNzUGVyY2VudGFnZX0lYCk7XHJcbiAgICBjb25zb2xlLmxvZyhg4o+x77iPICDYp9mE2YjZgtiqINin2YTYpdis2YXYp9mE2Yo6ICR7dGhpcy5yZXN1bHRzLmR1cmF0aW9ufW1zYCk7XHJcbiAgICBjb25zb2xlLmxvZygnPScucmVwZWF0KDgwKSArICdcXG4nKTtcclxuXHJcbiAgICBpZiAodGhpcy5yZXN1bHRzLmZhaWxlZCA+IDApIHtcclxuICAgICAgY29uc29sZS5sb2coJ+KdjCDYp9mE2KfYrtiq2KjYp9ix2KfYqiDYp9mE2YHYp9i02YTYqTonKTtcclxuICAgICAgdGhpcy50ZXN0c1xyXG4gICAgICAgIC5maWx0ZXIodCA9PiB0LnN0YXR1cyA9PT0gJ0ZBSUxFRCcpXHJcbiAgICAgICAgLmZvckVhY2godCA9PiB7XHJcbiAgICAgICAgICBjb25zb2xlLmxvZyhgICAtICR7dC5uYW1lfTogJHt0LmVycm9yfWApO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09XHJcbi8vIFBlcmZvcm1hbmNlIFRlc3RzXHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cclxuY29uc3QgcGVyZm9ybWFuY2VUZXN0cyA9IFtcclxuICB7XHJcbiAgICBuYW1lOiAn2KfYrtiq2KjYp9ixINin2YTYo9iv2KfYoSAtINin2LPYqtiv2LnYp9ihINmC2KfYptmF2Kkg2KfZhNmF2YLYp9mK2YrYsycsXHJcbiAgICBmbjogYXN5bmMgKCkgPT4ge1xyXG4gICAgICBjb25zdCBzdGFydFRpbWUgPSBEYXRlLm5vdygpO1xyXG4gICAgICBhd2FpdCBheGlvcy5nZXQoYCR7QVBJX0JBU0VfVVJMfS9tZWFzdXJlbWVudHNgLCB7IHRpbWVvdXQ6IFRJTUVPVVQgfSk7XHJcbiAgICAgIGNvbnN0IGR1cmF0aW9uID0gRGF0ZS5ub3coKSAtIHN0YXJ0VGltZTtcclxuICAgICAgXHJcbiAgICAgIGlmIChkdXJhdGlvbiA+IFBFUkZPUk1BTkNFX1RIUkVTSE9MRCkge1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihg2KfZhNin2LPYqtiv2LnYp9ihINin2LPYqti62LHZgiAke2R1cmF0aW9ufW1zICjZitis2Kgg2KPZhiDZitmD2YjZhiDYo9mC2YQg2YXZhiAke1BFUkZPUk1BTkNFX1RIUkVTSE9MRH1tcylgKTtcclxuICAgICAgfVxyXG4gICAgfSxcclxuICB9LFxyXG5cclxuICB7XHJcbiAgICBuYW1lOiAn2KfYrtiq2KjYp9ixINin2YTYo9iv2KfYoSAtINin2LPYqtiv2LnYp9ihINmC2KfYptmF2Kkg2KfZhNio2LHYp9mF2KwnLFxyXG4gICAgZm46IGFzeW5jICgpID0+IHtcclxuICAgICAgY29uc3Qgc3RhcnRUaW1lID0gRGF0ZS5ub3coKTtcclxuICAgICAgYXdhaXQgYXhpb3MuZ2V0KGAke0FQSV9CQVNFX1VSTH0vcHJvZ3JhbXNgLCB7IHRpbWVvdXQ6IFRJTUVPVVQgfSk7XHJcbiAgICAgIGNvbnN0IGR1cmF0aW9uID0gRGF0ZS5ub3coKSAtIHN0YXJ0VGltZTtcclxuICAgICAgXHJcbiAgICAgIGlmIChkdXJhdGlvbiA+IFBFUkZPUk1BTkNFX1RIUkVTSE9MRCkge1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihg2KfZhNin2LPYqtiv2LnYp9ihINin2LPYqti62LHZgiAke2R1cmF0aW9ufW1zYCk7XHJcbiAgICAgIH1cclxuICAgIH0sXHJcbiAgfSxcclxuXHJcbiAge1xyXG4gICAgbmFtZTogJ9in2K7Yqtio2KfYsSDYp9mE2KPYr9in2KEgLSDYp9mE2LHYqNi3INin2YTYsNmD2YonLFxyXG4gICAgZm46IGFzeW5jICgpID0+IHtcclxuICAgICAgY29uc3Qgc3RhcnRUaW1lID0gRGF0ZS5ub3coKTtcclxuICAgICAgXHJcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGF4aW9zLnBvc3QoYCR7QVBJX0JBU0VfVVJMfS9tZWFzdXJlbWVudHMvYW5hbHl6ZS1hbmQtbGlua2AsIHtcclxuICAgICAgICBtZWFzdXJlbWVudENvZGU6ICdJTlRFTF8wMDMnLFxyXG4gICAgICAgIGludGVycHJldGF0aW9uTGV2ZWw6ICdNT0RFUkFURScsXHJcbiAgICAgIH0sIHsgdGltZW91dDogVElNRU9VVCB9KTtcclxuICAgICAgXHJcbiAgICAgIGNvbnN0IGR1cmF0aW9uID0gRGF0ZS5ub3coKSAtIHN0YXJ0VGltZTtcclxuICAgICAgXHJcbiAgICAgIGlmIChkdXJhdGlvbiA+IFBFUkZPUk1BTkNFX1RIUkVTSE9MRCAqIDIpIHtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYNin2YTYsdio2Lcg2KfYs9iq2LrYsdmCICR7ZHVyYXRpb259bXMgKNmK2KzYqCDYo9mGINmK2YPZiNmGINij2YLZhCDZhdmGICR7UEVSRk9STUFOQ0VfVEhSRVNIT0xEICogMn1tcylgKTtcclxuICAgICAgfVxyXG4gICAgICBcclxuICAgICAgaWYgKCFyZXN1bHQuZGF0YS5yZWNvbW1lbmRlZFByb2dyYW1zKSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCfZhNmFINmK2KrZhSDYpdix2KzYp9i5INin2YTYqNix2KfZhdisINin2YTZhdmI2LXZiSDYqNmH2KcnKTtcclxuICAgICAgfVxyXG4gICAgfSxcclxuICB9LFxyXG5cclxuICB7XHJcbiAgICBuYW1lOiAn2KfYrtiq2KjYp9ixINin2YTYo9iv2KfYoSAtINil2YbYtNin2KEg2YXZgtmK2KfYsyDZhtiq2YrYrNipJyxcclxuICAgIGZuOiBhc3luYyAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IHN0YXJ0VGltZSA9IERhdGUubm93KCk7XHJcbiAgICAgIFxyXG4gICAgICBhd2FpdCBheGlvcy5wb3N0KGAke0FQSV9CQVNFX1VSTH0vbWVhc3VyZW1lbnRzL3Jlc3VsdHNgLCB7XHJcbiAgICAgICAgbWVhc3VyZW1lbnRDb2RlOiAnTU9UT1JfMDAyJyxcclxuICAgICAgICBzY29yZTogNzUsXHJcbiAgICAgICAgaW50ZXJwcmV0YXRpb25MZXZlbDogJ0FWRVJBR0UnLFxyXG4gICAgICAgIGJlbmVmaWNpYXJ5SWQ6ICd0ZXN0LXVzZXItMScsXHJcbiAgICAgIH0sIHsgdGltZW91dDogVElNRU9VVCB9KTtcclxuICAgICAgXHJcbiAgICAgIGNvbnN0IGR1cmF0aW9uID0gRGF0ZS5ub3coKSAtIHN0YXJ0VGltZTtcclxuICAgICAgXHJcbiAgICAgIGlmIChkdXJhdGlvbiA+IFBFUkZPUk1BTkNFX1RIUkVTSE9MRCkge1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihg2KfZhNil2YbYtNin2KEg2KfYs9iq2LrYsdmCICR7ZHVyYXRpb259bXNgKTtcclxuICAgICAgfVxyXG4gICAgfSxcclxuICB9LFxyXG5dO1xyXG5cclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09XHJcbi8vIFNlY3VyaXR5IFRlc3RzXHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cclxuY29uc3Qgc2VjdXJpdHlUZXN0cyA9IFtcclxuICB7XHJcbiAgICBuYW1lOiAn2KfYrtiq2KjYp9ixINin2YTYo9mF2KfZhiAtINin2YTYqtit2YLZgiDZhdmGINi12K3YqSDYp9mE2KXYr9iu2KfZhCcsXHJcbiAgICBmbjogYXN5bmMgKCkgPT4ge1xyXG4gICAgICB0cnkge1xyXG4gICAgICAgIGF3YWl0IGF4aW9zLnBvc3QoYCR7QVBJX0JBU0VfVVJMfS9tZWFzdXJlbWVudHMvcmVzdWx0c2AsIHtcclxuICAgICAgICAgIG1lYXN1cmVtZW50Q29kZTogJ0lOVkFMSUQ8c2NyaXB0PmFsZXJ0KFwiWFNTXCIpPC9zY3JpcHQ+JyxcclxuICAgICAgICAgIHNjb3JlOiAxMDAwLCAvLyDYo9mD2KjYsSDZhdmGINin2YTYrdivINin2YTYo9mC2LXZiVxyXG4gICAgICAgICAgYmVuZWZpY2lhcnlJZDogJ3Rlc3Q8aW1nIHNyYz14PicsXHJcbiAgICAgICAgfSwgeyB0aW1lb3V0OiBUSU1FT1VUIH0pO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcign2YrYrNioINij2YYg2YrYsdmB2LYg2KfZhNil2K/Yrtin2YQg2LrZitixINin2YTYtdit2YrYrScpO1xyXG4gICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgIGlmIChlcnJvci5yZXNwb25zZSAmJiBlcnJvci5yZXNwb25zZS5zdGF0dXMgPj0gNDAwKSB7XHJcbiAgICAgICAgICAvLyDZhdiq2YjZgti5XHJcbiAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRocm93IGVycm9yO1xyXG4gICAgICB9XHJcbiAgICB9LFxyXG4gIH0sXHJcblxyXG4gIHtcclxuICAgIG5hbWU6ICfYp9iu2KrYqNin2LEg2KfZhNij2YXYp9mGIC0g2KfZhNiq2K3ZgtmCINmF2YYg2YbYt9in2YIg2KfZhNiv2LHYrNin2KonLFxyXG4gICAgZm46IGFzeW5jICgpID0+IHtcclxuICAgICAgdHJ5IHtcclxuICAgICAgICBhd2FpdCBheGlvcy5wb3N0KGAke0FQSV9CQVNFX1VSTH0vbWVhc3VyZW1lbnRzL3Jlc3VsdHNgLCB7XHJcbiAgICAgICAgICBtZWFzdXJlbWVudENvZGU6ICdJTlRFTF8wMDMnLFxyXG4gICAgICAgICAgc2NvcmU6IC01MCxcclxuICAgICAgICAgIGludGVycHJldGF0aW9uTGV2ZWw6ICdOT1JNQUwnLFxyXG4gICAgICAgICAgYmVuZWZpY2lhcnlJZDogJ3Rlc3QtdXNlci0xJyxcclxuICAgICAgICB9LCB7IHRpbWVvdXQ6IFRJTUVPVVQgfSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCfZitis2Kgg2KPZhiDZitix2YHYtiDYp9mE2K/Ysdis2KfYqiDYp9mE2LPYp9mE2KjYqScpO1xyXG4gICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgIGlmIChlcnJvci5yZXNwb25zZSAmJiBlcnJvci5yZXNwb25zZS5zdGF0dXMgPj0gNDAwKSB7XHJcbiAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRocm93IGVycm9yO1xyXG4gICAgICB9XHJcbiAgICB9LFxyXG4gIH0sXHJcblxyXG4gIHtcclxuICAgIG5hbWU6ICfYp9iu2KrYqNin2LEg2KfZhNij2YXYp9mGIC0g2YXYudin2YTYrNipINin2YTYrdmC2YjZhCDYp9mE2YXZgdmC2YjYr9ipJyxcclxuICAgIGZuOiBhc3luYyAoKSA9PiB7XHJcbiAgICAgIHRyeSB7XHJcbiAgICAgICAgYXdhaXQgYXhpb3MucG9zdChgJHtBUElfQkFTRV9VUkx9L21lYXN1cmVtZW50cy9yZXN1bHRzYCwge1xyXG4gICAgICAgICAgbWVhc3VyZW1lbnRDb2RlOiAnTU9UT1JfMDAyJyxcclxuICAgICAgICAgIC8vINit2YLZiNmEINmF2YHZgtmI2K/YqVxyXG4gICAgICAgIH0sIHsgdGltZW91dDogVElNRU9VVCB9KTtcclxuICAgICAgICBcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ9mK2KzYqCDYo9mGINmK2LHZgdi2INin2YTYt9mE2Kgg2KjYrdmC2YjZhCDZhdmB2YLZiNiv2KknKTtcclxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICBpZiAoZXJyb3IucmVzcG9uc2UgJiYgZXJyb3IucmVzcG9uc2Uuc3RhdHVzID49IDQwMCkge1xyXG4gICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aHJvdyBlcnJvcjtcclxuICAgICAgfVxyXG4gICAgfSxcclxuICB9LFxyXG5cclxuICB7XHJcbiAgICBuYW1lOiAn2KfYrtiq2KjYp9ixINin2YTYo9mF2KfZhiAtINin2YTYqtit2YLZgiDZhdmGINi12K3YqSDYsdmF2YjYsiDYp9mE2YXZgtin2YrZitizJyxcclxuICAgIGZuOiBhc3luYyAoKSA9PiB7XHJcbiAgICAgIHRyeSB7XHJcbiAgICAgICAgYXdhaXQgYXhpb3MucG9zdChgJHtBUElfQkFTRV9VUkx9L21lYXN1cmVtZW50cy9hbmFseXplLWFuZC1saW5rYCwge1xyXG4gICAgICAgICAgbWVhc3VyZW1lbnRDb2RlOiAnTk9ORVhJU1RFTlRfQ09ERV8xMjM0NScsXHJcbiAgICAgICAgICBpbnRlcnByZXRhdGlvbkxldmVsOiAnTk9STUFMJyxcclxuICAgICAgICB9LCB7IHRpbWVvdXQ6IFRJTUVPVVQgfSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCfZitis2Kgg2KPZhiDZitix2YHYtiDYsdmF2YjYsiDYp9mE2YXZgtin2YrZitizINi62YrYsSDYp9mE2YXZiNis2YjYr9ipJyk7XHJcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgaWYgKGVycm9yLnJlc3BvbnNlICYmIGVycm9yLnJlc3BvbnNlLnN0YXR1cyA+PSA0MDApIHtcclxuICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhyb3cgZXJyb3I7XHJcbiAgICAgIH1cclxuICAgIH0sXHJcbiAgfSxcclxuXTtcclxuXHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PVxyXG4vLyBJbnRlZ3JhdGlvbiBUZXN0c1xyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHJcbmNvbnN0IGludGVncmF0aW9uVGVzdHMgPSBbXHJcbiAge1xyXG4gICAgbmFtZTogJ9in2K7Yqtio2KfYsSDYp9mE2KrZg9in2YXZhCAtINin2YTZgtix2KfYodipINmI2KfZhNmD2KrYp9io2Kkg2YjYp9mE2YLYsdin2KHYqSDZhdix2Kkg2KPYrtix2YknLFxyXG4gICAgZm46IGFzeW5jICgpID0+IHtcclxuICAgICAgLy8g2KfZg9iq2Kgg2YbYqtmK2KzYqVxyXG4gICAgICBjb25zdCB3cml0ZVJlc3VsdCA9IGF3YWl0IGF4aW9zLnBvc3QoYCR7QVBJX0JBU0VfVVJMfS9tZWFzdXJlbWVudHMvcmVzdWx0c2AsIHtcclxuICAgICAgICBtZWFzdXJlbWVudENvZGU6ICdMQU5HXzAwMScsXHJcbiAgICAgICAgc2NvcmU6IDg1LFxyXG4gICAgICAgIGludGVycHJldGF0aW9uTGV2ZWw6ICdBQk9WRV9BVkVSQUdFJyxcclxuICAgICAgICBiZW5lZmljaWFyeUlkOiAndGVzdC1pbnRlZ3JhdGlvbi0xJyxcclxuICAgICAgICBub3RlczogJ9in2K7Yqtio2KfYsSDYp9mE2KrZg9in2YXZhCcsXHJcbiAgICAgIH0sIHsgdGltZW91dDogVElNRU9VVCB9KTtcclxuXHJcbiAgICAgIGlmICghd3JpdGVSZXN1bHQuZGF0YS5pZCkge1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcign2YTZhSDZitiq2YUg2KXYsdis2KfYuSDZhdi52LHZgSDYp9mE2YbYqtmK2KzYqScpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyDYp9mC2LHYoyDYp9mE2YbYqtmK2KzYqVxyXG4gICAgICBjb25zdCByZWFkUmVzdWx0ID0gYXdhaXQgYXhpb3MuZ2V0KFxyXG4gICAgICAgIGAke0FQSV9CQVNFX1VSTH0vbWVhc3VyZW1lbnRzL3Jlc3VsdHMvJHt3cml0ZVJlc3VsdC5kYXRhLmlkfWAsXHJcbiAgICAgICAgeyB0aW1lb3V0OiBUSU1FT1VUIH1cclxuICAgICAgKTtcclxuXHJcbiAgICAgIGlmIChyZWFkUmVzdWx0LmRhdGEuc2NvcmUgIT09IDg1KSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCfYp9mE2K/Ysdis2Kkg2KfZhNmF2YLYsdmI2KHYqSDZhNinINiq2LfYp9io2YIg2KfZhNiv2LHYrNipINin2YTZhdmD2KrZiNio2KknKTtcclxuICAgICAgfVxyXG4gICAgfSxcclxuICB9LFxyXG5cclxuICB7XHJcbiAgICBuYW1lOiAn2KfYrtiq2KjYp9ixINin2YTYqtmD2KfZhdmEIC0g2LHYqNi3INmG2KrZitis2Kkg2KjYp9mE2KjYsdin2YXYrCDYqtmE2YLYp9im2YrYp9mLJyxcclxuICAgIGZuOiBhc3luYyAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGF4aW9zLnBvc3QoYCR7QVBJX0JBU0VfVVJMfS9tZWFzdXJlbWVudHMvcmVzdWx0c2AsIHtcclxuICAgICAgICBtZWFzdXJlbWVudENvZGU6ICdBVVRJU01fMDA0JyxcclxuICAgICAgICBzY29yZTogMzUsXHJcbiAgICAgICAgaW50ZXJwcmV0YXRpb25MZXZlbDogJ1NFVkVSRV9JTVBBSVJNRU5UJyxcclxuICAgICAgICBiZW5lZmljaWFyeUlkOiAndGVzdC1pbnRlZ3JhdGlvbi0yJyxcclxuICAgICAgfSwgeyB0aW1lb3V0OiBUSU1FT1VUIH0pO1xyXG5cclxuICAgICAgaWYgKCFyZXN1bHQuZGF0YS5hY3RpdmF0ZWRQcm9ncmFtcyB8fCByZXN1bHQuZGF0YS5hY3RpdmF0ZWRQcm9ncmFtcy5sZW5ndGggPT09IDApIHtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ9mE2YUg2YrYqtmFINiq2YbYtNmK2Lcg2KPZiiDYqNix2KfZhdisINiq2YTZgtin2KbZitin2YsnKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgY29uc3QgcHJvZ3JhbXMgPSByZXN1bHQuZGF0YS5hY3RpdmF0ZWRQcm9ncmFtcztcclxuICAgICAgY29uc3QgaGFzQ3JpdGljYWxQcm9ncmFtcyA9IHByb2dyYW1zLnNvbWUocCA9PiBwLnJlY29tbWVuZGF0aW9uTGV2ZWwgPT09ICdDUklUSUNBTCcpO1xyXG4gICAgICBcclxuICAgICAgaWYgKCFoYXNDcml0aWNhbFByb2dyYW1zKSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCfZitis2Kgg2KPZhiDYqtmD2YjZhiDZh9mG2KfZgyDYqNix2KfZhdisINit2LHYrNipINmE2YTYrdin2YTYp9iqINin2YTYtNiv2YrYr9ipJyk7XHJcbiAgICAgIH1cclxuICAgIH0sXHJcbiAgfSxcclxuXHJcbiAge1xyXG4gICAgbmFtZTogJ9in2K7Yqtio2KfYsSDYp9mE2KrZg9in2YXZhCAtINin2YTYrdi12YjZhCDYudmE2Ykg2KrZgtix2YrYsSDYtNin2YXZhCcsXHJcbiAgICBmbjogYXN5bmMgKCkgPT4ge1xyXG4gICAgICBjb25zdCByZXBvcnQgPSBhd2FpdCBheGlvcy5nZXQoXHJcbiAgICAgICAgYCR7QVBJX0JBU0VfVVJMfS9tZWFzdXJlbWVudHMvcmVwb3J0L3Rlc3QtaW50ZWdyYXRpb24tMWAsXHJcbiAgICAgICAgeyB0aW1lb3V0OiBUSU1FT1VUIH1cclxuICAgICAgKTtcclxuXHJcbiAgICAgIGlmICghcmVwb3J0LmRhdGEubWVhc3VyZW1lbnRzKSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCfYp9mE2KrZgtix2YrYsSDZhNinINmK2K3YqtmI2Yog2LnZhNmJINmC2KfYptmF2Kkg2KfZhNmF2YLYp9mK2YrYsycpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAoIXJlcG9ydC5kYXRhLnJlY29tbWVuZGF0aW9ucykge1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcign2KfZhNiq2YLYsdmK2LEg2YTYpyDZitit2KrZiNmKINi52YTZiSDYp9mE2KrZiNi12YrYp9iqJyk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmICghcmVwb3J0LmRhdGEuc3VtbWFyeSkge1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcign2KfZhNiq2YLYsdmK2LEg2YTYpyDZitit2KrZiNmKINi52YTZiSDZhdmE2K7YtScpO1xyXG4gICAgICB9XHJcbiAgICB9LFxyXG4gIH0sXHJcblxyXG4gIHtcclxuICAgIG5hbWU6ICfYp9iu2KrYqNin2LEg2KfZhNiq2YPYp9mF2YQgLSDZhdi52KfZhNis2Kkg2K3Yp9mE2KfYqiDZhdiq2LnYr9iv2KknLFxyXG4gICAgZm46IGFzeW5jICgpID0+IHtcclxuICAgICAgY29uc3QgbWVhc3VyZW1lbnRzID0gW1xyXG4gICAgICAgIHsgY29kZTogJ01PVE9SXzAwMicsIHNjb3JlOiA0NSwgbGV2ZWw6ICdNSUxEX0lNUEFJUk1FTlQnIH0sXHJcbiAgICAgICAgeyBjb2RlOiAnTEFOR18wMDEnLCBzY29yZTogNTUsIGxldmVsOiAnQkVMT1dfQVZFUkFHRScgfSxcclxuICAgICAgICB7IGNvZGU6ICdTT0NJQUxfMDAxJywgc2NvcmU6IDQwLCBsZXZlbDogJ1BPT1InIH0sXHJcbiAgICAgIF07XHJcblxyXG4gICAgICBmb3IgKGNvbnN0IG1lYXN1cmVtZW50IG9mIG1lYXN1cmVtZW50cykge1xyXG4gICAgICAgIGF3YWl0IGF4aW9zLnBvc3QoYCR7QVBJX0JBU0VfVVJMfS9tZWFzdXJlbWVudHMvcmVzdWx0c2AsIHtcclxuICAgICAgICAgIG1lYXN1cmVtZW50Q29kZTogbWVhc3VyZW1lbnQuY29kZSxcclxuICAgICAgICAgIHNjb3JlOiBtZWFzdXJlbWVudC5zY29yZSxcclxuICAgICAgICAgIGludGVycHJldGF0aW9uTGV2ZWw6IG1lYXN1cmVtZW50LmxldmVsLFxyXG4gICAgICAgICAgYmVuZWZpY2lhcnlJZDogJ3Rlc3QtbXVsdGktbWVhc3VyZScsXHJcbiAgICAgICAgfSwgeyB0aW1lb3V0OiBUSU1FT1VUIH0pO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBjb25zdCByZXBvcnQgPSBhd2FpdCBheGlvcy5nZXQoXHJcbiAgICAgICAgYCR7QVBJX0JBU0VfVVJMfS9tZWFzdXJlbWVudHMvcmVwb3J0L3Rlc3QtbXVsdGktbWVhc3VyZWAsXHJcbiAgICAgICAgeyB0aW1lb3V0OiBUSU1FT1VUIH1cclxuICAgICAgKTtcclxuXHJcbiAgICAgIGlmIChyZXBvcnQuZGF0YS5tZWFzdXJlbWVudHMubGVuZ3RoICE9PSAzKSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCfZitis2Kgg2KPZhiDZitmD2YjZhiDZh9mG2KfZgyAzINmF2YLYp9mK2YrYsyDZgdmKINin2YTYqtmC2LHZitixJyk7XHJcbiAgICAgIH1cclxuICAgIH0sXHJcbiAgfSxcclxuXHJcbiAge1xyXG4gICAgbmFtZTogJ9in2K7Yqtio2KfYsSDYp9mE2KrZg9in2YXZhCAtINin2LPYqtiv2LnYp9ih2KfYqiDZhdiq2LnYr9iv2Kkg2YXYqtiy2KfZhdmG2KknLFxyXG4gICAgZm46IGFzeW5jICgpID0+IHtcclxuICAgICAgY29uc3QgcHJvbWlzZXMgPSBbXTtcclxuICAgICAgXHJcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMTA7IGkrKykge1xyXG4gICAgICAgIHByb21pc2VzLnB1c2goXHJcbiAgICAgICAgICBheGlvcy5wb3N0KGAke0FQSV9CQVNFX1VSTH0vbWVhc3VyZW1lbnRzL3Jlc3VsdHNgLCB7XHJcbiAgICAgICAgICAgIG1lYXN1cmVtZW50Q29kZTogYEVMSVRFX1RFU1RfJHtpfWAsXHJcbiAgICAgICAgICAgIHNjb3JlOiA1MCArIChpICogNSksXHJcbiAgICAgICAgICAgIGludGVycHJldGF0aW9uTGV2ZWw6ICdBVkVSQUdFJyxcclxuICAgICAgICAgICAgYmVuZWZpY2lhcnlJZDogYHRlc3QtY29uY3VycmVudC0ke2l9YCxcclxuICAgICAgICAgIH0sIHsgdGltZW91dDogVElNRU9VVCB9KVxyXG4gICAgICAgICk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGNvbnN0IHJlc3VsdHMgPSBhd2FpdCBQcm9taXNlLmFsbChwcm9taXNlcyk7XHJcbiAgICAgIFxyXG4gICAgICBpZiAocmVzdWx0cy5sZW5ndGggIT09IDEwKSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCfYp9mC2YQg2YXZhiAxMCDYp9iz2KrYr9i52KfYodin2Kog2YbYrNit2KonKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgY29uc3QgYWxsU3VjY2Vzc2Z1bCA9IHJlc3VsdHMuZXZlcnkociA9PiByLnN0YXR1cyA9PT0gMjAwKTtcclxuICAgICAgaWYgKCFhbGxTdWNjZXNzZnVsKSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCfZhNmK2LPYqiDYrNmF2YrYuSDYp9mE2KfYs9iq2K/Yudin2KHYp9iqINmG2KfYrNit2KknKTtcclxuICAgICAgfVxyXG4gICAgfSxcclxuICB9LFxyXG5dO1xyXG5cclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09XHJcbi8vIENvbXBsZXggU2NlbmFyaW8gVGVzdHNcclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09XHJcblxyXG5jb25zdCBjb21wbGV4U2NlbmFyaW9UZXN0cyA9IFtcclxuICB7XHJcbiAgICBuYW1lOiAn2LPZitmG2KfYsdmK2Ygg2YXYudmC2K8gLSDYrdin2YTYqSDYp9mE2KrZiNit2K8g2KfZhNi02K/Zitiv2KknLFxyXG4gICAgZm46IGFzeW5jICgpID0+IHtcclxuICAgICAgLy8g2K3Yp9mE2Kkg2KrZiNit2K8g2LTYr9mK2K/YqSDZhdi5INiq2KPYrtixINmE2LrZiNmKXHJcbiAgICAgIGNvbnN0IG1lYXN1cmVtZW50cyA9IFtcclxuICAgICAgICB7IGNvZGU6ICdBVVRJU01fMDA0Jywgc2NvcmU6IDI1LCBsZXZlbDogJ1NFVkVSRV9JTVBBSVJNRU5UJyB9LFxyXG4gICAgICAgIHsgY29kZTogJ0xBTkdfMDAxJywgc2NvcmU6IDIwLCBsZXZlbDogJ1NFVkVSRV9JTVBBSVJNRU5UJyB9LFxyXG4gICAgICAgIHsgY29kZTogJ1NPQ0lBTF8wMDEnLCBzY29yZTogMTUsIGxldmVsOiAnU0VWRVJFX0lNUEFJUk1FTlQnIH0sXHJcbiAgICAgICAgeyBjb2RlOiAnTU9UT1JfMDAyJywgc2NvcmU6IDYwLCBsZXZlbDogJ0FWRVJBR0UnIH0sXHJcbiAgICAgIF07XHJcblxyXG4gICAgICBmb3IgKGNvbnN0IG1lYXN1cmVtZW50IG9mIG1lYXN1cmVtZW50cykge1xyXG4gICAgICAgIGF3YWl0IGF4aW9zLnBvc3QoYCR7QVBJX0JBU0VfVVJMfS9tZWFzdXJlbWVudHMvcmVzdWx0c2AsIHtcclxuICAgICAgICAgIG1lYXN1cmVtZW50Q29kZTogbWVhc3VyZW1lbnQuY29kZSxcclxuICAgICAgICAgIHNjb3JlOiBtZWFzdXJlbWVudC5zY29yZSxcclxuICAgICAgICAgIGludGVycHJldGF0aW9uTGV2ZWw6IG1lYXN1cmVtZW50LmxldmVsLFxyXG4gICAgICAgICAgYmVuZWZpY2lhcnlJZDogJ2Nhc2UtYXV0aXNtLXNldmVyZScsXHJcbiAgICAgICAgfSwgeyB0aW1lb3V0OiBUSU1FT1VUIH0pO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBjb25zdCBhbmFseXNpcyA9IGF3YWl0IGF4aW9zLnBvc3QoYCR7QVBJX0JBU0VfVVJMfS9tZWFzdXJlbWVudHMvYW5hbHl6ZS1hbmQtbGlua2AsIHtcclxuICAgICAgICBtZWFzdXJlbWVudENvZGU6ICdBVVRJU01fMDA0JyxcclxuICAgICAgICBpbnRlcnByZXRhdGlvbkxldmVsOiAnU0VWRVJFX0lNUEFJUk1FTlQnLFxyXG4gICAgICB9LCB7IHRpbWVvdXQ6IFRJTUVPVVQgfSk7XHJcblxyXG4gICAgICBpZiAoIWFuYWx5c2lzLmRhdGEucmVjb21tZW5kZWRQcm9ncmFtcykge1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcign2YTZhSDZitiq2YUg2KfZhNit2LXZiNmEINi52YTZiSDYqNix2KfZhdisINmF2YjYtdmJINio2YfYpycpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBjb25zdCBjcml0aWNhbFByb2dyYW1zID0gYW5hbHlzaXMuZGF0YS5yZWNvbW1lbmRlZFByb2dyYW1zLmZpbHRlcihwID0+IHAucHJpb3JpdHkgPT09ICdDUklUSUNBTCcpO1xyXG4gICAgICBpZiAoY3JpdGljYWxQcm9ncmFtcy5sZW5ndGggPT09IDApIHtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ9mK2KzYqCDYo9mGINiq2YPZiNmGINmH2YbYp9mDINio2LHYp9mF2Kwg2K3Ysdis2KknKTtcclxuICAgICAgfVxyXG4gICAgfSxcclxuICB9LFxyXG5cclxuICB7XHJcbiAgICBuYW1lOiAn2LPZitmG2KfYsdmK2Ygg2YXYudmC2K8gLSDYtdi52YjYqNin2Kog2KrYudmE2YXZitipINmF2LnZgtiv2KknLFxyXG4gICAgZm46IGFzeW5jICgpID0+IHtcclxuICAgICAgY29uc3QgbWVhc3VyZW1lbnRzID0gW1xyXG4gICAgICAgIHsgY29kZTogJ0FDQURFTUlDX0VMSVRFXzAwMScsIHNjb3JlOiAzMCwgbGV2ZWw6ICdQT09SJyB9LCAvLyDYr9iz2YTZg9iz2YrYp1xyXG4gICAgICAgIHsgY29kZTogJ0FDQURFTUlDX0VMSVRFXzAwMicsIHNjb3JlOiAzNSwgbGV2ZWw6ICdQT09SJyB9LCAvLyDYr9iz2KzYsdin2YHZitinXHJcbiAgICAgICAgeyBjb2RlOiAnQUNBREVNSUNfRUxJVEVfMDAzJywgc2NvcmU6IDQwLCBsZXZlbDogJ1BPT1InIH0sIC8vINiv2LPZg9in2YTZg9mI2YTZitinXHJcbiAgICAgICAgeyBjb2RlOiAnQ09HTklUSU9OX0VMSVRFXzAwMScsIHNjb3JlOiA1NSwgbGV2ZWw6ICdBVkVSQUdFJyB9LCAvLyDZhdi52KfZhNis2Kkg2LnYp9iv2YrYqVxyXG4gICAgICBdO1xyXG5cclxuICAgICAgZm9yIChjb25zdCBtZWFzdXJlbWVudCBvZiBtZWFzdXJlbWVudHMpIHtcclxuICAgICAgICBhd2FpdCBheGlvcy5wb3N0KGAke0FQSV9CQVNFX1VSTH0vbWVhc3VyZW1lbnRzL3Jlc3VsdHNgLCB7XHJcbiAgICAgICAgICBtZWFzdXJlbWVudENvZGU6IG1lYXN1cmVtZW50LmNvZGUsXHJcbiAgICAgICAgICBzY29yZTogbWVhc3VyZW1lbnQuc2NvcmUsXHJcbiAgICAgICAgICBpbnRlcnByZXRhdGlvbkxldmVsOiBtZWFzdXJlbWVudC5sZXZlbCxcclxuICAgICAgICAgIGJlbmVmaWNpYXJ5SWQ6ICdjYXNlLWxlYXJuaW5nLWNvbXBsZXgnLFxyXG4gICAgICAgIH0sIHsgdGltZW91dDogVElNRU9VVCB9KTtcclxuICAgICAgfVxyXG5cclxuICAgICAgY29uc3QgcmVwb3J0ID0gYXdhaXQgYXhpb3MuZ2V0KFxyXG4gICAgICAgIGAke0FQSV9CQVNFX1VSTH0vbWVhc3VyZW1lbnRzL3JlcG9ydC9jYXNlLWxlYXJuaW5nLWNvbXBsZXhgLFxyXG4gICAgICAgIHsgdGltZW91dDogVElNRU9VVCB9XHJcbiAgICAgICk7XHJcblxyXG4gICAgICBpZiAoIXJlcG9ydC5kYXRhLnN1bW1hcnkpIHtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ9mK2KzYqCDYo9mGINmK2YPZiNmGINmH2YbYp9mDINmF2YTYrti1Jyk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGNvbnN0IHNob3VsZEhpZ2hsaWdodE11bHRpcGxlSXNzdWVzID0gcmVwb3J0LmRhdGEubWVhc3VyZW1lbnRzLmxlbmd0aCA+PSAzO1xyXG4gICAgICBpZiAoIXNob3VsZEhpZ2hsaWdodE11bHRpcGxlSXNzdWVzKSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCfYqtmFINin2YPYqti02KfZgSDYudiv2Kkg2LXYudmI2KjYp9iqINmE2YPZhiDZhNmFINmK2KrZhSDYqtmF2YrYstmH2KcnKTtcclxuICAgICAgfVxyXG4gICAgfSxcclxuICB9LFxyXG5cclxuICB7XHJcbiAgICBuYW1lOiAn2LPZitmG2KfYsdmK2Ygg2YXYudmC2K8gLSDYrdin2YTYqSDYpdi52KfZgtipINit2LHZg9mK2Kkg2YXYuSDYqtij2KvYsSDZhdi52LHZgdmKJyxcclxuICAgIGZuOiBhc3luYyAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IG1lYXN1cmVtZW50cyA9IFtcclxuICAgICAgICB7IGNvZGU6ICdQSFlTSU9fRUxJVEVfMDAxJywgc2NvcmU6IDIwLCBsZXZlbDogJ1NFVkVSRV9JTVBBSVJNRU5UJyB9LCAvLyDYrdix2YPYqSDYs9mK2KbYqVxyXG4gICAgICAgIHsgY29kZTogJ1BIWVNJT19FTElURV8wMDQnLCBzY29yZTogMjUsIGxldmVsOiAnUE9PUicgfSwgLy8g2KrZiNin2LLZhiDYs9mK2KFcclxuICAgICAgICB7IGNvZGU6ICdDT0dOSVRJT05fRUxJVEVfMDAxJywgc2NvcmU6IDcwLCBsZXZlbDogJ0FWRVJBR0UnIH0sIC8vINmF2LnYsdmB2Kkg2KzZitiv2Kkg2YbYs9io2YrYp9mLXHJcbiAgICAgIF07XHJcblxyXG4gICAgICBmb3IgKGNvbnN0IG1lYXN1cmVtZW50IG9mIG1lYXN1cmVtZW50cykge1xyXG4gICAgICAgIGF3YWl0IGF4aW9zLnBvc3QoYCR7QVBJX0JBU0VfVVJMfS9tZWFzdXJlbWVudHMvcmVzdWx0c2AsIHtcclxuICAgICAgICAgIG1lYXN1cmVtZW50Q29kZTogbWVhc3VyZW1lbnQuY29kZSxcclxuICAgICAgICAgIHNjb3JlOiBtZWFzdXJlbWVudC5zY29yZSxcclxuICAgICAgICAgIGludGVycHJldGF0aW9uTGV2ZWw6IG1lYXN1cmVtZW50LmxldmVsLFxyXG4gICAgICAgICAgYmVuZWZpY2lhcnlJZDogJ2Nhc2UtbW90b3ItY29nbml0aXZlJyxcclxuICAgICAgICB9LCB7IHRpbWVvdXQ6IFRJTUVPVVQgfSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGNvbnN0IGFuYWx5c2lzID0gYXdhaXQgYXhpb3MucG9zdChgJHtBUElfQkFTRV9VUkx9L21lYXN1cmVtZW50cy9hbmFseXplLWFuZC1saW5rYCwge1xyXG4gICAgICAgIG1lYXN1cmVtZW50Q29kZTogJ1BIWVNJT19FTElURV8wMDEnLFxyXG4gICAgICAgIGludGVycHJldGF0aW9uTGV2ZWw6ICdTRVZFUkVfSU1QQUlSTUVOVCcsXHJcbiAgICAgIH0sIHsgdGltZW91dDogVElNRU9VVCB9KTtcclxuXHJcbiAgICAgIGNvbnN0IGhhc01vdG9yUHJvZ3JhbXMgPSBhbmFseXNpcy5kYXRhLnJlY29tbWVuZGVkUHJvZ3JhbXMuc29tZShwID0+IFxyXG4gICAgICAgIHAuaWQgJiYgcC5pZC5pbmNsdWRlcygnTU9UT1InKVxyXG4gICAgICApO1xyXG4gICAgICBcclxuICAgICAgaWYgKCFoYXNNb3RvclByb2dyYW1zKSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCfZitis2Kgg2KPZhiDYqtmD2YjZhiDZh9mG2KfZgyDYqNix2KfZhdisINit2LHZg9mK2KknKTtcclxuICAgICAgfVxyXG4gICAgfSxcclxuICB9LFxyXG5dO1xyXG5cclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09XHJcbi8vIFN0cmVzcyBUZXN0c1xyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHJcbmNvbnN0IHN0cmVzc1Rlc3RzID0gW1xyXG4gIHtcclxuICAgIG5hbWU6ICfYp9iu2KrYqNin2LEg2KfZhNil2KzZh9in2K8gLSA1MCDYp9iz2KrYr9i52KfYoSDZhdiq2KrYp9mE2YonLFxyXG4gICAgZm46IGFzeW5jICgpID0+IHtcclxuICAgICAgY29uc3Qgc3RhcnRUaW1lID0gRGF0ZS5ub3coKTtcclxuICAgICAgXHJcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgNTA7IGkrKykge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICBhd2FpdCBheGlvcy5nZXQoYCR7QVBJX0JBU0VfVVJMfS9tZWFzdXJlbWVudHNgLCB7IHRpbWVvdXQ6IFRJTUVPVVQgfSk7XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihg2YHYtNmEINin2YTYp9iz2KrYr9i52KfYoSAke2kgKyAxfTogJHtlcnJvci5tZXNzYWdlfWApO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICBcclxuICAgICAgY29uc3QgZHVyYXRpb24gPSBEYXRlLm5vdygpIC0gc3RhcnRUaW1lO1xyXG4gICAgICBjb25zb2xlLmxvZyhgICAgIOKPse+4jyAgNTAg2KfYs9iq2K/Yudin2KEg2YHZiiAke2R1cmF0aW9ufW1zYCk7XHJcbiAgICAgIFxyXG4gICAgICBpZiAoZHVyYXRpb24gPiAxNTAwMCkge1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihg2KfZhNin2LPYqtiv2LnYp9ih2KfYqiDYp9iz2KrYutix2YLYqiDZiNmC2KrYp9mLINi32YjZitmE2KfZiyDYrNiv2KfZizogJHtkdXJhdGlvbn1tc2ApO1xyXG4gICAgICB9XHJcbiAgICB9LFxyXG4gIH0sXHJcblxyXG4gIHtcclxuICAgIG5hbWU6ICfYp9iu2KrYqNin2LEg2KfZhNil2KzZh9in2K8gLSAyMCDYudmF2YTZitipINmD2KrYp9io2Kkg2YXYqtiy2KfZhdmGJyxcclxuICAgIGZuOiBhc3luYyAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IHByb21pc2VzID0gW107XHJcbiAgICAgIFxyXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDIwOyBpKyspIHtcclxuICAgICAgICBwcm9taXNlcy5wdXNoKFxyXG4gICAgICAgICAgYXhpb3MucG9zdChgJHtBUElfQkFTRV9VUkx9L21lYXN1cmVtZW50cy9yZXN1bHRzYCwge1xyXG4gICAgICAgICAgICBtZWFzdXJlbWVudENvZGU6ICdNT1RPUl8wMDInLFxyXG4gICAgICAgICAgICBzY29yZTogTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTAwKSxcclxuICAgICAgICAgICAgaW50ZXJwcmV0YXRpb25MZXZlbDogJ0FWRVJBR0UnLFxyXG4gICAgICAgICAgICBiZW5lZmljaWFyeUlkOiBgc3RyZXNzLXRlc3QtJHtpfWAsXHJcbiAgICAgICAgICB9LCB7IHRpbWVvdXQ6IFRJTUVPVVQgfSlcclxuICAgICAgICApO1xyXG4gICAgICB9XHJcblxyXG4gICAgICB0cnkge1xyXG4gICAgICAgIGF3YWl0IFByb21pc2UuYWxsKHByb21pc2VzKTtcclxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYNmB2LTZhCDZiNin2K3YryDYudmE2Ykg2KfZhNij2YLZhCDZhdmGIDIwINi52YXZhNmK2Kkg2YPYqtin2KjYqTogJHtlcnJvci5tZXNzYWdlfWApO1xyXG4gICAgICB9XHJcbiAgICB9LFxyXG4gIH0sXHJcbl07XHJcblxyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT1cclxuLy8gRGF0YSBWYWxpZGF0aW9uIFRlc3RzXHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cclxuY29uc3QgZGF0YVZhbGlkYXRpb25UZXN0cyA9IFtcclxuICB7XHJcbiAgICBuYW1lOiAn2KfYrtiq2KjYp9ixINin2YTYqNmK2KfZhtin2KogLSDYp9mE2KrYrdmC2YIg2YXZhiDZiNis2YjYryDYqNmK2KfZhtin2Kog2KfZhNmF2YLYp9mK2YrYsycsXHJcbiAgICBmbjogYXN5bmMgKCkgPT4ge1xyXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBheGlvcy5nZXQoYCR7QVBJX0JBU0VfVVJMfS9tZWFzdXJlbWVudHNgLCB7IHRpbWVvdXQ6IFRJTUVPVVQgfSk7XHJcbiAgICAgIFxyXG4gICAgICBpZiAoIUFycmF5LmlzQXJyYXkocmVzdWx0LmRhdGEpKSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCfZitis2Kgg2KPZhiDYqtmD2YjZhiDYp9mE2YbYqtmK2KzYqSDZhdi12YHZiNmB2KknKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKHJlc3VsdC5kYXRhLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcign2YrYrNioINij2YYg2YrZg9mI2YYg2YfZhtin2YMg2YXZgtin2YrZitizINi52YTZiSDYp9mE2KPZgtmEJyk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGNvbnN0IG1lYXN1cmVtZW50ID0gcmVzdWx0LmRhdGFbMF07XHJcbiAgICAgIGNvbnN0IHJlcXVpcmVkRmllbGRzID0gWydjb2RlJywgJ25hbWUnLCAnZGVzY3JpcHRpb24nLCAnY2F0ZWdvcnknXTtcclxuICAgICAgXHJcbiAgICAgIGZvciAoY29uc3QgZmllbGQgb2YgcmVxdWlyZWRGaWVsZHMpIHtcclxuICAgICAgICBpZiAoIW1lYXN1cmVtZW50W2ZpZWxkXSkge1xyXG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGDYp9mE2YXZgtmK2KfYsyDZitmB2KrZgtivINin2YTYrdmC2YQ6ICR7ZmllbGR9YCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9LFxyXG4gIH0sXHJcblxyXG4gIHtcclxuICAgIG5hbWU6ICfYp9iu2KrYqNin2LEg2KfZhNio2YrYp9mG2KfYqiAtINin2YTYqtit2YLZgiDZhdmGINmI2KzZiNivINio2YrYp9mG2KfYqiDYp9mE2KjYsdin2YXYrCcsXHJcbiAgICBmbjogYXN5bmMgKCkgPT4ge1xyXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBheGlvcy5nZXQoYCR7QVBJX0JBU0VfVVJMfS9wcm9ncmFtc2AsIHsgdGltZW91dDogVElNRU9VVCB9KTtcclxuICAgICAgXHJcbiAgICAgIGlmICghQXJyYXkuaXNBcnJheShyZXN1bHQuZGF0YSkpIHtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ9mK2KzYqCDYo9mGINiq2YPZiNmGINin2YTZhtiq2YrYrNipINmF2LXZgdmI2YHYqScpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAocmVzdWx0LmRhdGEubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCfZitis2Kgg2KPZhiDZitmD2YjZhiDZh9mG2KfZgyDYqNix2KfZhdisINi52YTZiSDYp9mE2KPZgtmEJyk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGNvbnN0IHByb2dyYW0gPSByZXN1bHQuZGF0YVswXTtcclxuICAgICAgY29uc3QgcmVxdWlyZWRGaWVsZHMgPSBbJ2NvZGUnLCAnbmFtZScsICdkZXNjcmlwdGlvbicsICdjYXRlZ29yeSddO1xyXG4gICAgICBcclxuICAgICAgZm9yIChjb25zdCBmaWVsZCBvZiByZXF1aXJlZEZpZWxkcykge1xyXG4gICAgICAgIGlmICghcHJvZ3JhbVtmaWVsZF0pIHtcclxuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihg2KfZhNio2LHZhtin2YXYrCDZitmB2KrZgtivINin2YTYrdmC2YQ6ICR7ZmllbGR9YCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9LFxyXG4gIH0sXHJcblxyXG4gIHtcclxuICAgIG5hbWU6ICfYp9iu2KrYqNin2LEg2KfZhNio2YrYp9mG2KfYqiAtINin2YTYqtit2YLZgiDZhdmGINin2YTZgdim2KfYqicsXHJcbiAgICBmbjogYXN5bmMgKCkgPT4ge1xyXG4gICAgICBjb25zdCBtZWFzdXJlbWVudHMgPSBhd2FpdCBheGlvcy5nZXQoYCR7QVBJX0JBU0VfVVJMfS9tZWFzdXJlbWVudHNgLCB7IHRpbWVvdXQ6IFRJTUVPVVQgfSk7XHJcbiAgICAgIGNvbnN0IGNhdGVnb3JpZXMgPSBuZXcgU2V0KG1lYXN1cmVtZW50cy5kYXRhLm1hcChtID0+IG0uY2F0ZWdvcnkpKTtcclxuICAgICAgXHJcbiAgICAgIGlmIChjYXRlZ29yaWVzLnNpemUgPT09IDApIHtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ9mK2KzYqCDYo9mGINmK2YPZiNmGINmH2YbYp9mDINmB2KbYp9iqINi52YTZiSDYp9mE2KPZgtmEJyk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGNvbnNvbGUubG9nKGAgICAg8J+TgiDZiNis2K/YqiAke2NhdGVnb3JpZXMuc2l6ZX0g2YHYptipYCk7XHJcbiAgICB9LFxyXG4gIH0sXHJcbl07XHJcblxyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT1cclxuLy8gTWFpbiBUZXN0IEV4ZWN1dGlvblxyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHJcbmFzeW5jIGZ1bmN0aW9uIHJ1bkFsbFRlc3RzKCkge1xyXG4gIGNvbnN0IHJ1bm5lciA9IG5ldyBUZXN0UnVubmVyKCk7XHJcblxyXG4gIGNvbnN0IGFsbFRlc3RzID0gW1xyXG4gICAge1xyXG4gICAgICBjYXRlZ29yeTogJ+KaoSDYp9iu2KrYqNin2LHYp9iqINin2YTYo9iv2KfYoScsXHJcbiAgICAgIHRlc3RzOiBwZXJmb3JtYW5jZVRlc3RzLFxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgY2F0ZWdvcnk6ICfwn5SSINin2K7Yqtio2KfYsdin2Kog2KfZhNij2YXYp9mGJyxcclxuICAgICAgdGVzdHM6IHNlY3VyaXR5VGVzdHMsXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICBjYXRlZ29yeTogJ/CflJcg2KfYrtiq2KjYp9ix2KfYqiDYp9mE2KrZg9in2YXZhCcsXHJcbiAgICAgIHRlc3RzOiBpbnRlZ3JhdGlvblRlc3RzLFxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgY2F0ZWdvcnk6ICfwn46vINin2YTYrdin2YTYp9iqINin2YTZhdi52YLYr9ipJyxcclxuICAgICAgdGVzdHM6IGNvbXBsZXhTY2VuYXJpb1Rlc3RzLFxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgY2F0ZWdvcnk6ICfwn5KqINin2K7Yqtio2KfYsdin2Kog2KfZhNil2KzZh9in2K8nLFxyXG4gICAgICB0ZXN0czogc3RyZXNzVGVzdHMsXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICBjYXRlZ29yeTogJ/Cfk4og2KfYrtiq2KjYp9ix2KfYqiDYp9mE2KjZitin2YbYp9iqJyxcclxuICAgICAgdGVzdHM6IGRhdGFWYWxpZGF0aW9uVGVzdHMsXHJcbiAgICB9LFxyXG4gIF07XHJcblxyXG4gIGZvciAoY29uc3QgY2F0ZWdvcnkgb2YgYWxsVGVzdHMpIHtcclxuICAgIGNvbnNvbGUubG9nKGBcXG4ke2NhdGVnb3J5LmNhdGVnb3J5fVxcbmAgKyAn4pSAJy5yZXBlYXQoNTApKTtcclxuICAgIFxyXG4gICAgZm9yIChjb25zdCB0ZXN0IG9mIGNhdGVnb3J5LnRlc3RzKSB7XHJcbiAgICAgIGF3YWl0IHJ1bm5lci5ydW5UZXN0KHRlc3QubmFtZSwgdGVzdC5mbik7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBydW5uZXIucHJpbnRTdW1tYXJ5KCk7XHJcbiAgXHJcbiAgcmV0dXJuIHJ1bm5lci5yZXN1bHRzLmZhaWxlZCA9PT0gMDtcclxufVxyXG5cclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09XHJcbi8vIEV4cG9ydFxyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHJcbm1vZHVsZS5leHBvcnRzID0ge1xyXG4gIHJ1bkFsbFRlc3RzLFxyXG4gIFRlc3RSdW5uZXIsXHJcbiAgcGVyZm9ybWFuY2VUZXN0cyxcclxuICBzZWN1cml0eVRlc3RzLFxyXG4gIGludGVncmF0aW9uVGVzdHMsXHJcbiAgY29tcGxleFNjZW5hcmlvVGVzdHMsXHJcbiAgc3RyZXNzVGVzdHMsXHJcbiAgZGF0YVZhbGlkYXRpb25UZXN0cyxcclxufTtcclxuXHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PVxyXG4vLyBDTEkgRXhlY3V0aW9uXHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cclxuaWYgKHJlcXVpcmUubWFpbiA9PT0gbW9kdWxlKSB7XHJcbiAgcnVuQWxsVGVzdHMoKVxyXG4gICAgLnRoZW4oc3VjY2VzcyA9PiB7XHJcbiAgICAgIHByb2Nlc3MuZXhpdChzdWNjZXNzID8gMCA6IDEpO1xyXG4gICAgfSlcclxuICAgIC5jYXRjaChlcnJvciA9PiB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCDYrti32KMg2K3YsdisOicsIGVycm9yKTtcclxuICAgICAgcHJvY2Vzcy5leGl0KDEpO1xyXG4gICAgfSk7XHJcbn1cclxuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsTUFBTUEsS0FBSyxHQUFHQyxPQUFPLENBQUMsT0FBTyxDQUFDO0FBQzlCLE1BQU1DLE1BQU0sR0FBR0QsT0FBTyxD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