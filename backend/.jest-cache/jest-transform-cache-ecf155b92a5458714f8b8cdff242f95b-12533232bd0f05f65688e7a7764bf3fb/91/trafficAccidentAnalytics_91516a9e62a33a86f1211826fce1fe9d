f4246b2fe6b6fbe8d7e8e47ff94b678a
/**
 * Traffic Accident Analytics Routes - مسارات تحليلات الحوادث المرورية
 */

const express = require('express');
const router = express.Router();
const trafficAccidentAnalytics = require('../services/trafficAccidentAnalytics');
const logger = require('../utils/logger');
const authenticate = require('../middleware/authenticate');
const authorize = require('../middleware/authorize');
router.use(authenticate);

/**
 * GET /api/traffic-accidents/analytics/timeline-trends
 * تحليل الاتجاهات على مدى الوقت
 */
router.get('/timeline-trends', authorize('view_accident_analytics'), async (req, res) => {
  try {
    const {
      startDate,
      endDate
    } = req.query;
    if (!startDate || !endDate) {
      return res.status(400).json({
        success: false,
        message: 'التواريخ (startDate, endDate) مطلوبة'
      });
    }
    const trends = await trafficAccidentAnalytics.analyzeTimelineTrends(startDate, endDate);
    res.status(200).json({
      success: true,
      data: trends
    });
  } catch (error) {
    logger.error('Error analyzing timeline trends', {
      error: error.message
    });
    res.status(500).json({
      success: false,
      message: error.message
    });
  }
});

/**
 * GET /api/traffic-accidents/analytics/hotspots
 * تحليل الأماكن الخطرة (Hotspots)
 */
router.get('/hotspots', authorize('view_accident_analytics'), async (req, res) => {
  try {
    const {
      limit = 10
    } = req.query;
    const hotspots = await trafficAccidentAnalytics.analyzeHotspots(parseInt(limit));
    res.status(200).json({
      success: true,
      data: hotspots
    });
  } catch (error) {
    logger.error('Error analyzing hotspots', {
      error: error.message
    });
    res.status(500).json({
      success: false,
      message: error.message
    });
  }
});

/**
 * GET /api/traffic-accidents/analytics/violations
 * تحليل أنماط المخالفات
 */
router.get('/violations', authorize('view_accident_analytics'), async (req, res) => {
  try {
    const patterns = await trafficAccidentAnalytics.analyzeViolationPatterns();
    res.status(200).json({
      success: true,
      data: patterns
    });
  } catch (error) {
    logger.error('Error analyzing violation patterns', {
      error: error.message
    });
    res.status(500).json({
      success: false,
      message: error.message
    });
  }
});

/**
 * GET /api/traffic-accidents/analytics/injury-fatality-rates
 * تحليل معدلات الإصابات والوفيات
 */
router.get('/injury-fatality-rates', authorize('view_accident_analytics'), async (req, res) => {
  try {
    const {
      startDate,
      endDate
    } = req.query;
    const filters = {};
    if (startDate && endDate) {
      filters.startDate = startDate;
      filters.endDate = endDate;
    }
    const rates = await trafficAccidentAnalytics.analyzeInjuryAndFatalityRates(filters);
    res.status(200).json({
      success: true,
      data: rates
    });
  } catch (error) {
    logger.error('Error analyzing injury rates', {
      error: error.message
    });
    res.status(500).json({
      success: false,
      message: error.message
    });
  }
});

/**
 * GET /api/traffic-accidents/analytics/financial-impact
 * تحليل الخسائر المالية
 */
router.get('/financial-impact', authorize('view_accident_analytics'), async (req, res) => {
  try {
    const {
      severity,
      startDate,
      endDate
    } = req.query;
    const filters = {};
    if (severity) filters.severity = severity;
    if (startDate && endDate) {
      filters.startDate = startDate;
      filters.endDate = endDate;
    }
    const analysis = await trafficAccidentAnalytics.analyzeFinancialImpact(filters);
    res.status(200).json({
      success: true,
      data: analysis
    });
  } catch (error) {
    logger.error('Error analyzing financial impact', {
      error: error.message
    });
    res.status(500).json({
      success: false,
      message: error.message
    });
  }
});

/**
 * GET /api/traffic-accidents/analytics/investigator-performance
 * تقرير أداء المحققين
 */
router.get('/investigator-performance', authorize('view_accident_analytics'), async (req, res) => {
  try {
    const performance = await trafficAccidentAnalytics.getInvestigatorPerformance();
    res.status(200).json({
      success: true,
      data: performance
    });
  } catch (error) {
    logger.error('Error analyzing investigator performance', {
      error: error.message
    });
    res.status(500).json({
      success: false,
      message: error.message
    });
  }
});

/**
 * GET /api/traffic-accidents/analytics/seasonal-trends
 * تحليل الاتجاهات الموسمية
 */
router.get('/seasonal-trends', authorize('view_accident_analytics'), async (req, res) => {
  try {
    const trends = await trafficAccidentAnalytics.analyzeSeasonalTrends();
    res.status(200).json({
      success: true,
      data: trends
    });
  } catch (error) {
    logger.error('Error analyzing seasonal trends', {
      error: error.message
    });
    res.status(500).json({
      success: false,
      message: error.message
    });
  }
});

/**
 * GET /api/traffic-accidents/analytics/comprehensive-summary
 * الملخص الشامل
 */
router.get('/comprehensive-summary', authorize('view_accident_analytics'), async (req, res) => {
  try {
    const {
      severity,
      startDate,
      endDate,
      city
    } = req.query;
    const filters = {};
    if (severity) filters.severity = severity;
    if (startDate && endDate) {
      filters.startDate = startDate;
      filters.endDate = endDate;
    }
    if (city) filters.city = city;
    const summary = await trafficAccidentAnalytics.generateComprehensiveSummary(filters);
    res.status(200).json({
      success: true,
      data: summary
    });
  } catch (error) {
    logger.error('Error generating comprehensive summary', {
      error: error.message
    });
    res.status(500).json({
      success: false,
      message: error.message
    });
  }
});

/**
 * GET /api/traffic-accidents/analytics/key-insights
 * استخراج الرؤى الرئيسية
 */
router.get('/key-insights', authorize('view_accident_analytics'), async (req, res) => {
  try {
    const {
      severity,
      startDate,
      endDate,
      city
    } = req.query;
    const filters = {};
    if (severity) filters.severity = severity;
    if (startDate && endDate) {
      filters.startDate = startDate;
      filters.endDate = endDate;
    }
    if (city) filters.city = city;
    const insights = await trafficAccidentAnalytics.extractKeyInsights(filters);
    res.status(200).json({
      success: true,
      data: insights
    });
  } catch (error) {
    logger.error('Error extracting key insights', {
      error: error.message
    });
    res.status(500).json({
      success: false,
      message: error.message
    });
  }
});
module.exports = router;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJleHByZXNzIiwicmVxdWlyZSIsInJvdXRlciIsIlJvdXRlciIsInRyYWZmaWNBY2NpZGVudEFuYWx5dGljcyIsImxvZ2dlciIsImF1dGhlbnRpY2F0ZSIsImF1dGhvcml6ZSIsInVzZSIsImdldCIsInJlcSIsInJlcyIsInN0YXJ0RGF0ZSIsImVuZERhdGUiLCJxdWVyeSIsInN0YXR1cyIsImpzb24iLCJzdWNjZXNzIiwibWVzc2FnZSIsInRyZW5kcyIsImFuYWx5emVUaW1lbGluZVRyZW5kcyIsImRhdGEiLCJlcnJvciIsImxpbWl0IiwiaG90c3BvdHMiLCJhbmFseXplSG90c3BvdHMiLCJwYXJzZUludCIsInBhdHRlcm5zIiwiYW5hbHl6ZVZpb2xhdGlvblBhdHRlcm5zIiwiZmlsdGVycyIsInJhdGVzIiwiYW5hbHl6ZUluanVyeUFuZEZhdGFsaXR5UmF0ZXMiLCJzZXZlcml0eSIsImFuYWx5c2lzIiwiYW5hbHl6ZUZpbmFuY2lhbEltcGFjdCIsInBlcmZvcm1hbmNlIiwiZ2V0SW52ZXN0aWdhdG9yUGVyZm9ybWFuY2UiLCJhbmFseXplU2Vhc29uYWxUcmVuZHMiLCJjaXR5Iiwic3VtbWFyeSIsImdlbmVyYXRlQ29tcHJlaGVuc2l2ZVN1bW1hcnkiLCJpbnNpZ2h0cyIsImV4dHJhY3RLZXlJbnNpZ2h0cyIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlcyI6WyJ0cmFmZmljQWNjaWRlbnRBbmFseXRpY3MuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXHJcbiAqIFRyYWZmaWMgQWNjaWRlbnQgQW5hbHl0aWNzIFJvdXRlcyAtINmF2LPYp9ix2KfYqiDYqtit2YTZitmE2KfYqiDYp9mE2K3ZiNin2K/YqyDYp9mE2YXYsdmI2LHZitipXHJcbiAqL1xyXG5cclxuY29uc3QgZXhwcmVzcyA9IHJlcXVpcmUoJ2V4cHJlc3MnKTtcclxuY29uc3Qgcm91dGVyID0gZXhwcmVzcy5Sb3V0ZXIoKTtcclxuY29uc3QgdHJhZmZpY0FjY2lkZW50QW5hbHl0aWNzID0gcmVxdWlyZSgnLi4vc2VydmljZXMvdHJhZmZpY0FjY2lkZW50QW5hbHl0aWNzJyk7XHJcbmNvbnN0IGxvZ2dlciA9IHJlcXVpcmUoJy4uL3V0aWxzL2xvZ2dlcicpO1xyXG5jb25zdCBhdXRoZW50aWNhdGUgPSByZXF1aXJlKCcuLi9taWRkbGV3YXJlL2F1dGhlbnRpY2F0ZScpO1xyXG5jb25zdCBhdXRob3JpemUgPSByZXF1aXJlKCcuLi9taWRkbGV3YXJlL2F1dGhvcml6ZScpO1xyXG5cclxucm91dGVyLnVzZShhdXRoZW50aWNhdGUpO1xyXG5cclxuLyoqXHJcbiAqIEdFVCAvYXBpL3RyYWZmaWMtYWNjaWRlbnRzL2FuYWx5dGljcy90aW1lbGluZS10cmVuZHNcclxuICog2KrYrdmE2YrZhCDYp9mE2KfYqtis2KfZh9in2Kog2LnZhNmJINmF2K/ZiSDYp9mE2YjZgtiqXHJcbiAqL1xyXG5yb3V0ZXIuZ2V0KFxyXG4gICcvdGltZWxpbmUtdHJlbmRzJyxcclxuICBhdXRob3JpemUoJ3ZpZXdfYWNjaWRlbnRfYW5hbHl0aWNzJyksXHJcbiAgYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCB7IHN0YXJ0RGF0ZSwgZW5kRGF0ZSB9ID0gcmVxLnF1ZXJ5O1xyXG5cclxuICAgICAgaWYgKCFzdGFydERhdGUgfHwgIWVuZERhdGUpIHtcclxuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oe1xyXG4gICAgICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICAgICAgICBtZXNzYWdlOiAn2KfZhNiq2YjYp9ix2YrYriAoc3RhcnREYXRlLCBlbmREYXRlKSDZhdi32YTZiNio2KknXHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGNvbnN0IHRyZW5kcyA9IGF3YWl0IHRyYWZmaWNBY2NpZGVudEFuYWx5dGljcy5hbmFseXplVGltZWxpbmVUcmVuZHMoXHJcbiAgICAgICAgc3RhcnREYXRlLFxyXG4gICAgICAgIGVuZERhdGVcclxuICAgICAgKTtcclxuXHJcbiAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICBzdWNjZXNzOiB0cnVlLFxyXG4gICAgICAgIGRhdGE6IHRyZW5kc1xyXG4gICAgICB9KTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGxvZ2dlci5lcnJvcignRXJyb3IgYW5hbHl6aW5nIHRpbWVsaW5lIHRyZW5kcycsIHtcclxuICAgICAgICBlcnJvcjogZXJyb3IubWVzc2FnZVxyXG4gICAgICB9KTtcclxuICAgICAgcmVzLnN0YXR1cyg1MDApLmpzb24oe1xyXG4gICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgICAgIG1lc3NhZ2U6IGVycm9yLm1lc3NhZ2VcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgfVxyXG4pO1xyXG5cclxuLyoqXHJcbiAqIEdFVCAvYXBpL3RyYWZmaWMtYWNjaWRlbnRzL2FuYWx5dGljcy9ob3RzcG90c1xyXG4gKiDYqtit2YTZitmEINin2YTYo9mF2KfZg9mGINin2YTYrti32LHYqSAoSG90c3BvdHMpXHJcbiAqL1xyXG5yb3V0ZXIuZ2V0KFxyXG4gICcvaG90c3BvdHMnLFxyXG4gIGF1dGhvcml6ZSgndmlld19hY2NpZGVudF9hbmFseXRpY3MnKSxcclxuICBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IHsgbGltaXQgPSAxMCB9ID0gcmVxLnF1ZXJ5O1xyXG5cclxuICAgICAgY29uc3QgaG90c3BvdHMgPSBhd2FpdCB0cmFmZmljQWNjaWRlbnRBbmFseXRpY3MuYW5hbHl6ZUhvdHNwb3RzKFxyXG4gICAgICAgIHBhcnNlSW50KGxpbWl0KVxyXG4gICAgICApO1xyXG5cclxuICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xyXG4gICAgICAgIHN1Y2Nlc3M6IHRydWUsXHJcbiAgICAgICAgZGF0YTogaG90c3BvdHNcclxuICAgICAgfSk7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBsb2dnZXIuZXJyb3IoJ0Vycm9yIGFuYWx5emluZyBob3RzcG90cycsIHsgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfSk7XHJcbiAgICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHtcclxuICAgICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgICAgICBtZXNzYWdlOiBlcnJvci5tZXNzYWdlXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gIH1cclxuKTtcclxuXHJcbi8qKlxyXG4gKiBHRVQgL2FwaS90cmFmZmljLWFjY2lkZW50cy9hbmFseXRpY3MvdmlvbGF0aW9uc1xyXG4gKiDYqtit2YTZitmEINij2YbZhdin2Lcg2KfZhNmF2K7Yp9mE2YHYp9iqXHJcbiAqL1xyXG5yb3V0ZXIuZ2V0KFxyXG4gICcvdmlvbGF0aW9ucycsXHJcbiAgYXV0aG9yaXplKCd2aWV3X2FjY2lkZW50X2FuYWx5dGljcycpLFxyXG4gIGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3QgcGF0dGVybnMgPSBhd2FpdCB0cmFmZmljQWNjaWRlbnRBbmFseXRpY3MuYW5hbHl6ZVZpb2xhdGlvblBhdHRlcm5zKCk7XHJcblxyXG4gICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgICAgc3VjY2VzczogdHJ1ZSxcclxuICAgICAgICBkYXRhOiBwYXR0ZXJuc1xyXG4gICAgICB9KTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGxvZ2dlci5lcnJvcignRXJyb3IgYW5hbHl6aW5nIHZpb2xhdGlvbiBwYXR0ZXJucycsIHtcclxuICAgICAgICBlcnJvcjogZXJyb3IubWVzc2FnZVxyXG4gICAgICB9KTtcclxuICAgICAgcmVzLnN0YXR1cyg1MDApLmpzb24oe1xyXG4gICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgICAgIG1lc3NhZ2U6IGVycm9yLm1lc3NhZ2VcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgfVxyXG4pO1xyXG5cclxuLyoqXHJcbiAqIEdFVCAvYXBpL3RyYWZmaWMtYWNjaWRlbnRzL2FuYWx5dGljcy9pbmp1cnktZmF0YWxpdHktcmF0ZXNcclxuICog2KrYrdmE2YrZhCDZhdi52K/ZhNin2Kog2KfZhNil2LXYp9io2KfYqiDZiNin2YTZiNmB2YrYp9iqXHJcbiAqL1xyXG5yb3V0ZXIuZ2V0KFxyXG4gICcvaW5qdXJ5LWZhdGFsaXR5LXJhdGVzJyxcclxuICBhdXRob3JpemUoJ3ZpZXdfYWNjaWRlbnRfYW5hbHl0aWNzJyksXHJcbiAgYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCB7IHN0YXJ0RGF0ZSwgZW5kRGF0ZSB9ID0gcmVxLnF1ZXJ5O1xyXG4gICAgICBjb25zdCBmaWx0ZXJzID0ge307XHJcblxyXG4gICAgICBpZiAoc3RhcnREYXRlICYmIGVuZERhdGUpIHtcclxuICAgICAgICBmaWx0ZXJzLnN0YXJ0RGF0ZSA9IHN0YXJ0RGF0ZTtcclxuICAgICAgICBmaWx0ZXJzLmVuZERhdGUgPSBlbmREYXRlO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBjb25zdCByYXRlcyA9IGF3YWl0IHRyYWZmaWNBY2NpZGVudEFuYWx5dGljcy5hbmFseXplSW5qdXJ5QW5kRmF0YWxpdHlSYXRlcyhcclxuICAgICAgICBmaWx0ZXJzXHJcbiAgICAgICk7XHJcblxyXG4gICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgICAgc3VjY2VzczogdHJ1ZSxcclxuICAgICAgICBkYXRhOiByYXRlc1xyXG4gICAgICB9KTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGxvZ2dlci5lcnJvcignRXJyb3IgYW5hbHl6aW5nIGluanVyeSByYXRlcycsIHsgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfSk7XHJcbiAgICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHtcclxuICAgICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgICAgICBtZXNzYWdlOiBlcnJvci5tZXNzYWdlXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gIH1cclxuKTtcclxuXHJcbi8qKlxyXG4gKiBHRVQgL2FwaS90cmFmZmljLWFjY2lkZW50cy9hbmFseXRpY3MvZmluYW5jaWFsLWltcGFjdFxyXG4gKiDYqtit2YTZitmEINin2YTYrtiz2KfYptixINin2YTZhdin2YTZitipXHJcbiAqL1xyXG5yb3V0ZXIuZ2V0KFxyXG4gICcvZmluYW5jaWFsLWltcGFjdCcsXHJcbiAgYXV0aG9yaXplKCd2aWV3X2FjY2lkZW50X2FuYWx5dGljcycpLFxyXG4gIGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3QgeyBzZXZlcml0eSwgc3RhcnREYXRlLCBlbmREYXRlIH0gPSByZXEucXVlcnk7XHJcbiAgICAgIGNvbnN0IGZpbHRlcnMgPSB7fTtcclxuXHJcbiAgICAgIGlmIChzZXZlcml0eSkgZmlsdGVycy5zZXZlcml0eSA9IHNldmVyaXR5O1xyXG4gICAgICBpZiAoc3RhcnREYXRlICYmIGVuZERhdGUpIHtcclxuICAgICAgICBmaWx0ZXJzLnN0YXJ0RGF0ZSA9IHN0YXJ0RGF0ZTtcclxuICAgICAgICBmaWx0ZXJzLmVuZERhdGUgPSBlbmREYXRlO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBjb25zdCBhbmFseXNpcyA9IGF3YWl0IHRyYWZmaWNBY2NpZGVudEFuYWx5dGljcy5hbmFseXplRmluYW5jaWFsSW1wYWN0KFxyXG4gICAgICAgIGZpbHRlcnNcclxuICAgICAgKTtcclxuXHJcbiAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICBzdWNjZXNzOiB0cnVlLFxyXG4gICAgICAgIGRhdGE6IGFuYWx5c2lzXHJcbiAgICAgIH0pO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgbG9nZ2VyLmVycm9yKCdFcnJvciBhbmFseXppbmcgZmluYW5jaWFsIGltcGFjdCcsIHtcclxuICAgICAgICBlcnJvcjogZXJyb3IubWVzc2FnZVxyXG4gICAgICB9KTtcclxuICAgICAgcmVzLnN0YXR1cyg1MDApLmpzb24oe1xyXG4gICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgICAgIG1lc3NhZ2U6IGVycm9yLm1lc3NhZ2VcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgfVxyXG4pO1xyXG5cclxuLyoqXHJcbiAqIEdFVCAvYXBpL3RyYWZmaWMtYWNjaWRlbnRzL2FuYWx5dGljcy9pbnZlc3RpZ2F0b3ItcGVyZm9ybWFuY2VcclxuICog2KrZgtix2YrYsSDYo9iv2KfYoSDYp9mE2YXYrdmC2YLZitmGXHJcbiAqL1xyXG5yb3V0ZXIuZ2V0KFxyXG4gICcvaW52ZXN0aWdhdG9yLXBlcmZvcm1hbmNlJyxcclxuICBhdXRob3JpemUoJ3ZpZXdfYWNjaWRlbnRfYW5hbHl0aWNzJyksXHJcbiAgYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCBwZXJmb3JtYW5jZSA9IGF3YWl0IHRyYWZmaWNBY2NpZGVudEFuYWx5dGljcy5nZXRJbnZlc3RpZ2F0b3JQZXJmb3JtYW5jZSgpO1xyXG5cclxuICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xyXG4gICAgICAgIHN1Y2Nlc3M6IHRydWUsXHJcbiAgICAgICAgZGF0YTogcGVyZm9ybWFuY2VcclxuICAgICAgfSk7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBsb2dnZXIuZXJyb3IoJ0Vycm9yIGFuYWx5emluZyBpbnZlc3RpZ2F0b3IgcGVyZm9ybWFuY2UnLCB7XHJcbiAgICAgICAgZXJyb3I6IGVycm9yLm1lc3NhZ2VcclxuICAgICAgfSk7XHJcbiAgICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHtcclxuICAgICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgICAgICBtZXNzYWdlOiBlcnJvci5tZXNzYWdlXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gIH1cclxuKTtcclxuXHJcbi8qKlxyXG4gKiBHRVQgL2FwaS90cmFmZmljLWFjY2lkZW50cy9hbmFseXRpY3Mvc2Vhc29uYWwtdHJlbmRzXHJcbiAqINiq2K3ZhNmK2YQg2KfZhNin2KrYrNin2YfYp9iqINin2YTZhdmI2LPZhdmK2KlcclxuICovXHJcbnJvdXRlci5nZXQoXHJcbiAgJy9zZWFzb25hbC10cmVuZHMnLFxyXG4gIGF1dGhvcml6ZSgndmlld19hY2NpZGVudF9hbmFseXRpY3MnKSxcclxuICBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IHRyZW5kcyA9IGF3YWl0IHRyYWZmaWNBY2NpZGVudEFuYWx5dGljcy5hbmFseXplU2Vhc29uYWxUcmVuZHMoKTtcclxuXHJcbiAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICBzdWNjZXNzOiB0cnVlLFxyXG4gICAgICAgIGRhdGE6IHRyZW5kc1xyXG4gICAgICB9KTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGxvZ2dlci5lcnJvcignRXJyb3IgYW5hbHl6aW5nIHNlYXNvbmFsIHRyZW5kcycsIHtcclxuICAgICAgICBlcnJvcjogZXJyb3IubWVzc2FnZVxyXG4gICAgICB9KTtcclxuICAgICAgcmVzLnN0YXR1cyg1MDApLmpzb24oe1xyXG4gICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgICAgIG1lc3NhZ2U6IGVycm9yLm1lc3NhZ2VcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgfVxyXG4pO1xyXG5cclxuLyoqXHJcbiAqIEdFVCAvYXBpL3RyYWZmaWMtYWNjaWRlbnRzL2FuYWx5dGljcy9jb21wcmVoZW5zaXZlLXN1bW1hcnlcclxuICog2KfZhNmF2YTYrti1INin2YTYtNin2YXZhFxyXG4gKi9cclxucm91dGVyLmdldChcclxuICAnL2NvbXByZWhlbnNpdmUtc3VtbWFyeScsXHJcbiAgYXV0aG9yaXplKCd2aWV3X2FjY2lkZW50X2FuYWx5dGljcycpLFxyXG4gIGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3QgeyBzZXZlcml0eSwgc3RhcnREYXRlLCBlbmREYXRlLCBjaXR5IH0gPSByZXEucXVlcnk7XHJcbiAgICAgIGNvbnN0IGZpbHRlcnMgPSB7fTtcclxuXHJcbiAgICAgIGlmIChzZXZlcml0eSkgZmlsdGVycy5zZXZlcml0eSA9IHNldmVyaXR5O1xyXG4gICAgICBpZiAoc3RhcnREYXRlICYmIGVuZERhdGUpIHtcclxuICAgICAgICBmaWx0ZXJzLnN0YXJ0RGF0ZSA9IHN0YXJ0RGF0ZTtcclxuICAgICAgICBmaWx0ZXJzLmVuZERhdGUgPSBlbmREYXRlO1xyXG4gICAgICB9XHJcbiAgICAgIGlmIChjaXR5KSBmaWx0ZXJzLmNpdHkgPSBjaXR5O1xyXG5cclxuICAgICAgY29uc3Qgc3VtbWFyeSA9IGF3YWl0IHRyYWZmaWNBY2NpZGVudEFuYWx5dGljcy5nZW5lcmF0ZUNvbXByZWhlbnNpdmVTdW1tYXJ5KFxyXG4gICAgICAgIGZpbHRlcnNcclxuICAgICAgKTtcclxuXHJcbiAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICBzdWNjZXNzOiB0cnVlLFxyXG4gICAgICAgIGRhdGE6IHN1bW1hcnlcclxuICAgICAgfSk7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBsb2dnZXIuZXJyb3IoJ0Vycm9yIGdlbmVyYXRpbmcgY29tcHJlaGVuc2l2ZSBzdW1tYXJ5Jywge1xyXG4gICAgICAgIGVycm9yOiBlcnJvci5tZXNzYWdlXHJcbiAgICAgIH0pO1xyXG4gICAgICByZXMuc3RhdHVzKDUwMCkuanNvbih7XHJcbiAgICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICAgICAgbWVzc2FnZTogZXJyb3IubWVzc2FnZVxyXG4gICAgICB9KTtcclxuICAgIH1cclxuICB9XHJcbik7XHJcblxyXG4vKipcclxuICogR0VUIC9hcGkvdHJhZmZpYy1hY2NpZGVudHMvYW5hbHl0aWNzL2tleS1pbnNpZ2h0c1xyXG4gKiDYp9iz2KrYrtix2KfYrCDYp9mE2LHYpNmJINin2YTYsdim2YrYs9mK2KlcclxuICovXHJcbnJvdXRlci5nZXQoXHJcbiAgJy9rZXktaW5zaWdodHMnLFxyXG4gIGF1dGhvcml6ZSgndmlld19hY2NpZGVudF9hbmFseXRpY3MnKSxcclxuICBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IHsgc2V2ZXJpdHksIHN0YXJ0RGF0ZSwgZW5kRGF0ZSwgY2l0eSB9ID0gcmVxLnF1ZXJ5O1xyXG4gICAgICBjb25zdCBmaWx0ZXJzID0ge307XHJcblxyXG4gICAgICBpZiAoc2V2ZXJpdHkpIGZpbHRlcnMuc2V2ZXJpdHkgPSBzZXZlcml0eTtcclxuICAgICAgaWYgKHN0YXJ0RGF0ZSAmJiBlbmREYXRlKSB7XHJcbiAgICAgICAgZmlsdGVycy5zdGFydERhdGUgPSBzdGFydERhdGU7XHJcbiAgICAgICAgZmlsdGVycy5lbmREYXRlID0gZW5kRGF0ZTtcclxuICAgICAgfVxyXG4gICAgICBpZiAoY2l0eSkgZmlsdGVycy5jaXR5ID0gY2l0eTtcclxuXHJcbiAgICAgIGNvbnN0IGluc2lnaHRzID0gYXdhaXQgdHJhZmZpY0FjY2lkZW50QW5hbHl0aWNzLmV4dHJhY3RLZXlJbnNpZ2h0cyhmaWx0ZXJzKTtcclxuXHJcbiAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICBzdWNjZXNzOiB0cnVlLFxyXG4gICAgICAgIGRhdGE6IGluc2lnaHRzXHJcbiAgICAgIH0pO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgbG9nZ2VyLmVycm9yKCdFcnJvciBleHRyYWN0aW5nIGtleSBpbnNpZ2h0cycsIHsgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfSk7XHJcbiAgICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHtcclxuICAgICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgICAgICBtZXNzYWdlOiBlcnJvci5tZXNzYWdlXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gIH1cclxuKTtcclxuXHJcbm1vZHVsZS5leHBvcnRzID0gcm91dGVyO1xy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