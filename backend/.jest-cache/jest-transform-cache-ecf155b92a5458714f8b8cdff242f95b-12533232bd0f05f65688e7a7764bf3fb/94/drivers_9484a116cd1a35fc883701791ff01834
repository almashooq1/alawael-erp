d8dc4f0b32cd1d85a6a0f8990ee0e553
/**
 * Driver Routes - مسارات إدارة السائقين
 */

const express = require('express');
const DriverController = require('../controllers/driver.controller');
const router = express.Router();

// ===== السائقين الأساسيين =====

/**
 * إنشاء سائق جديد
 * POST /api/drivers
 */
router.post('/', DriverController.createDriver);

/**
 * جلب جميع السائقين
 * GET /api/drivers
 */
router.get('/', DriverController.getAllDrivers);

/**
 * جلب سائق بواسطة ID
 * GET /api/drivers/:id
 */
router.get('/:id', DriverController.getDriver);

/**
 * تحديث بيانات السائق
 * PUT /api/drivers/:id
 */
router.put('/:id', DriverController.updateDriver);

/**
 * حذف سائق (إلغاء التفعيل)
 * DELETE /api/drivers/:id
 */
router.delete('/:id', DriverController.deleteDriver);

// ===== الأداء والتقييم =====

/**
 * جلب تقرير الأداء الشامل
 * GET /api/drivers/:id/performance
 */
router.get('/:id/performance', DriverController.getPerformance);

/**
 * جلب إحصائيات عامة عن السائقين
 * GET /api/drivers/analytics/overview
 */
router.get('/analytics/overview', DriverController.getAnalyticsOverview);

// ===== الانتهاكات =====

/**
 * إضافة انتهاك للسائق
 * POST /api/drivers/:id/violations
 */
router.post('/:id/violations', DriverController.addViolation);

/**
 * جلب قائمة الانتهاكات
 * GET /api/drivers/:id/violations
 */
router.get('/:id/violations', DriverController.getViolations);

// ===== الشهادات =====

/**
 * إضافة شهادة للسائق
 * POST /api/drivers/:id/certifications
 */
router.post('/:id/certifications', DriverController.addCertification);

// ===== تعيين السيارات =====

/**
 * تعيين سيارة للسائق
 * POST /api/drivers/:id/assign-vehicle
 */
router.post('/:id/assign-vehicle', DriverController.assignVehicle);

// ===== التدريب =====

/**
 * جلب السائقين الذين يحتاجون تدريب
 * GET /api/drivers/training/needs
 */
router.get('/training/needs', DriverController.getDriversNeedingTraining);

// ===== التنبؤات والمقاييس =====

/**
 * جلب أفضل السائقين
 * GET /api/drivers/top/performers
 */
router.get('/top/performers', DriverController.getTopPerformers);

/**
 * التنبؤ برخصات القيادة التي ستنتهي قريباً
 * GET /api/drivers/predictions/expiring-licenses
 */
router.get('/predictions/expiring-licenses', DriverController.getExpiringLicenses);

/**
 * جلب التنبؤ بمعدل الغياب
 * GET /api/drivers/:id/predictions/absence
 */
router.get('/:id/predictions/absence', DriverController.getAbsencePrediction);

/**
 * جلب اتجاه الأداء
 * GET /api/drivers/:id/predictions/trend
 */
router.get('/:id/predictions/trend', DriverController.getPerformanceTrend);
module.exports = router;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJleHByZXNzIiwicmVxdWlyZSIsIkRyaXZlckNvbnRyb2xsZXIiLCJyb3V0ZXIiLCJSb3V0ZXIiLCJwb3N0IiwiY3JlYXRlRHJpdmVyIiwiZ2V0IiwiZ2V0QWxsRHJpdmVycyIsImdldERyaXZlciIsInB1dCIsInVwZGF0ZURyaXZlciIsImRlbGV0ZSIsImRlbGV0ZURyaXZlciIsImdldFBlcmZvcm1hbmNlIiwiZ2V0QW5hbHl0aWNzT3ZlcnZpZXciLCJhZGRWaW9sYXRpb24iLCJnZXRWaW9sYXRpb25zIiwiYWRkQ2VydGlmaWNhdGlvbiIsImFzc2lnblZlaGljbGUiLCJnZXREcml2ZXJzTmVlZGluZ1RyYWluaW5nIiwiZ2V0VG9wUGVyZm9ybWVycyIsImdldEV4cGlyaW5nTGljZW5zZXMiLCJnZXRBYnNlbmNlUHJlZGljdGlvbiIsImdldFBlcmZvcm1hbmNlVHJlbmQiLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZXMiOlsiZHJpdmVycy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICogRHJpdmVyIFJvdXRlcyAtINmF2LPYp9ix2KfYqiDYpdiv2KfYsdipINin2YTYs9in2KbZgtmK2YZcclxuICovXHJcblxyXG5jb25zdCBleHByZXNzID0gcmVxdWlyZSgnZXhwcmVzcycpO1xyXG5jb25zdCBEcml2ZXJDb250cm9sbGVyID0gcmVxdWlyZSgnLi4vY29udHJvbGxlcnMvZHJpdmVyLmNvbnRyb2xsZXInKTtcclxuXHJcbmNvbnN0IHJvdXRlciA9IGV4cHJlc3MuUm91dGVyKCk7XHJcblxyXG4vLyA9PT09PSDYp9mE2LPYp9im2YLZitmGINin2YTYo9iz2KfYs9mK2YrZhiA9PT09PVxyXG5cclxuLyoqXHJcbiAqINil2YbYtNin2KEg2LPYp9im2YIg2KzYr9mK2K9cclxuICogUE9TVCAvYXBpL2RyaXZlcnNcclxuICovXHJcbnJvdXRlci5wb3N0KCcvJywgRHJpdmVyQ29udHJvbGxlci5jcmVhdGVEcml2ZXIpO1xyXG5cclxuLyoqXHJcbiAqINis2YTYqCDYrNmF2YrYuSDYp9mE2LPYp9im2YLZitmGXHJcbiAqIEdFVCAvYXBpL2RyaXZlcnNcclxuICovXHJcbnJvdXRlci5nZXQoJy8nLCBEcml2ZXJDb250cm9sbGVyLmdldEFsbERyaXZlcnMpO1xyXG5cclxuLyoqXHJcbiAqINis2YTYqCDYs9in2KbZgiDYqNmI2KfYs9i32KkgSURcclxuICogR0VUIC9hcGkvZHJpdmVycy86aWRcclxuICovXHJcbnJvdXRlci5nZXQoJy86aWQnLCBEcml2ZXJDb250cm9sbGVyLmdldERyaXZlcik7XHJcblxyXG4vKipcclxuICog2KrYrdiv2YrYqyDYqNmK2KfZhtin2Kog2KfZhNiz2KfYptmCXHJcbiAqIFBVVCAvYXBpL2RyaXZlcnMvOmlkXHJcbiAqL1xyXG5yb3V0ZXIucHV0KCcvOmlkJywgRHJpdmVyQ29udHJvbGxlci51cGRhdGVEcml2ZXIpO1xyXG5cclxuLyoqXHJcbiAqINit2LDZgSDYs9in2KbZgiAo2KXZhNi62KfYoSDYp9mE2KrZgdi52YrZhClcclxuICogREVMRVRFIC9hcGkvZHJpdmVycy86aWRcclxuICovXHJcbnJvdXRlci5kZWxldGUoJy86aWQnLCBEcml2ZXJDb250cm9sbGVyLmRlbGV0ZURyaXZlcik7XHJcblxyXG4vLyA9PT09PSDYp9mE2KPYr9in2KEg2YjYp9mE2KrZgtmK2YrZhSA9PT09PVxyXG5cclxuLyoqXHJcbiAqINis2YTYqCDYqtmC2LHZitixINin2YTYo9iv2KfYoSDYp9mE2LTYp9mF2YRcclxuICogR0VUIC9hcGkvZHJpdmVycy86aWQvcGVyZm9ybWFuY2VcclxuICovXHJcbnJvdXRlci5nZXQoJy86aWQvcGVyZm9ybWFuY2UnLCBEcml2ZXJDb250cm9sbGVyLmdldFBlcmZvcm1hbmNlKTtcclxuXHJcbi8qKlxyXG4gKiDYrNmE2Kgg2KXYrdi12KfYptmK2KfYqiDYudin2YXYqSDYudmGINin2YTYs9in2KbZgtmK2YZcclxuICogR0VUIC9hcGkvZHJpdmVycy9hbmFseXRpY3Mvb3ZlcnZpZXdcclxuICovXHJcbnJvdXRlci5nZXQoJy9hbmFseXRpY3Mvb3ZlcnZpZXcnLCBEcml2ZXJDb250cm9sbGVyLmdldEFuYWx5dGljc092ZXJ2aWV3KTtcclxuXHJcbi8vID09PT09INin2YTYp9mG2KrZh9in2YPYp9iqID09PT09XHJcblxyXG4vKipcclxuICog2KXYttin2YHYqSDYp9mG2KrZh9in2YMg2YTZhNiz2KfYptmCXHJcbiAqIFBPU1QgL2FwaS9kcml2ZXJzLzppZC92aW9sYXRpb25zXHJcbiAqL1xyXG5yb3V0ZXIucG9zdCgnLzppZC92aW9sYXRpb25zJywgRHJpdmVyQ29udHJvbGxlci5hZGRWaW9sYXRpb24pO1xyXG5cclxuLyoqXHJcbiAqINis2YTYqCDZgtin2KbZhdipINin2YTYp9mG2KrZh9in2YPYp9iqXHJcbiAqIEdFVCAvYXBpL2RyaXZlcnMvOmlkL3Zpb2xhdGlvbnNcclxuICovXHJcbnJvdXRlci5nZXQoJy86aWQvdmlvbGF0aW9ucycsIERyaXZlckNvbnRyb2xsZXIuZ2V0VmlvbGF0aW9ucyk7XHJcblxyXG4vLyA9PT09PSDYp9mE2LTZh9in2K/Yp9iqID09PT09XHJcblxyXG4vKipcclxuICog2KXYttin2YHYqSDYtNmH2KfYr9ipINmE2YTYs9in2KbZglxyXG4gKiBQT1NUIC9hcGkvZHJpdmVycy86aWQvY2VydGlmaWNhdGlvbnNcclxuICovXHJcbnJvdXRlci5wb3N0KCcvOmlkL2NlcnRpZmljYXRpb25zJywgRHJpdmVyQ29udHJvbGxlci5hZGRDZXJ0aWZpY2F0aW9uKTtcclxuXHJcbi8vID09PT09INiq2LnZitmK2YYg2KfZhNiz2YrYp9ix2KfYqiA9PT09PVxyXG5cclxuLyoqXHJcbiAqINiq2LnZitmK2YYg2LPZitin2LHYqSDZhNmE2LPYp9im2YJcclxuICogUE9TVCAvYXBpL2RyaXZlcnMvOmlkL2Fzc2lnbi12ZWhpY2xlXHJcbiAqL1xyXG5yb3V0ZXIucG9zdCgnLzppZC9hc3NpZ24tdmVoaWNsZScsIERyaXZlckNvbnRyb2xsZXIuYXNzaWduVmVoaWNsZSk7XHJcblxyXG4vLyA9PT09PSDYp9mE2KrYr9ix2YrYqCA9PT09PVxyXG5cclxuLyoqXHJcbiAqINis2YTYqCDYp9mE2LPYp9im2YLZitmGINin2YTYsNmK2YYg2YrYrdiq2KfYrNmI2YYg2KrYr9ix2YrYqFxyXG4gKiBHRVQgL2FwaS9kcml2ZXJzL3RyYWluaW5nL25lZWRzXHJcbiAqL1xyXG5yb3V0ZXIuZ2V0KCcvdHJhaW5pbmcvbmVlZHMnLCBEcml2ZXJDb250cm9sbGVyLmdldERyaXZlcnNOZWVkaW5nVHJhaW5pbmcpO1xyXG5cclxuLy8gPT09PT0g2KfZhNiq2YbYqNik2KfYqiDZiNin2YTZhdmC2KfZitmK2LMgPT09PT1cclxuXHJcbi8qKlxyXG4gKiDYrNmE2Kgg2KPZgdi22YQg2KfZhNiz2KfYptmC2YrZhlxyXG4gKiBHRVQgL2FwaS9kcml2ZXJzL3RvcC9wZXJmb3JtZXJzXHJcbiAqL1xyXG5yb3V0ZXIuZ2V0KCcvdG9wL3BlcmZvcm1lcnMnLCBEcml2ZXJDb250cm9sbGVyLmdldFRvcFBlcmZvcm1lcnMpO1xyXG5cclxuLyoqXHJcbiAqINin2YTYqtmG2KjYpCDYqNix2K7Ytdin2Kog2KfZhNmC2YrYp9iv2Kkg2KfZhNiq2Yog2LPYqtmG2KrZh9mKINmC2LHZitio2KfZi1xyXG4gKiBHRVQgL2FwaS9kcml2ZXJzL3ByZWRpY3Rpb25zL2V4cGlyaW5nLWxpY2Vuc2VzXHJcbiAqL1xyXG5yb3V0ZXIuZ2V0KCcvcHJlZGljdGlvbnMvZXhwaXJpbmctbGljZW5zZXMnLCBEcml2ZXJDb250cm9sbGVyLmdldEV4cGlyaW5nTGljZW5zZXMpO1xyXG5cclxuLyoqXHJcbiAqINis2YTYqCDYp9mE2KrZhtio2KQg2KjZhdi52K/ZhCDYp9mE2LrZitin2KhcclxuICogR0VUIC9hcGkvZHJpdmVycy86aWQvcHJlZGljdGlvbnMvYWJzZW5jZVxyXG4gKi9cclxucm91dGVyLmdldCgnLzppZC9wcmVkaWN0aW9ucy9hYnNlbmNlJywgRHJpdmVyQ29udHJvbGxlci5nZXRBYnNlbmNlUHJlZGljdGlvbik7XHJcblxyXG4vKipcclxuICog2KzZhNioINin2KrYrNin2Ycg2KfZhNij2K/Yp9ihXHJcbiAqIEdFVCAvYXBpL2RyaXZlcnMvOmlkL3ByZWRpY3Rpb25zL3RyZW5kXHJcbiAqL1xyXG5yb3V0ZXIuZ2V0KCcvOmlkL3ByZWRpY3Rpb25zL3RyZW5kJywgRHJpdmVyQ29udHJvbGxlci5nZXRQZXJmb3JtYW5jZVRyZW5kKTtcclxuXHJcbm1vZHVsZS5leHBvcnRzID0gcm91dGVyO1xyXG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTs7QUFFQSxNQUFNQSxPQUFPLEdBQUdDLE9BQU8sQ0FBQyxTQUFTLENBQUM7QUFDbEMsTUFBTUMsZ0JBQWdCLEdBQUdELE9BQU8sQ0FBQyxrQ0FBa0MsQ0FBQztBQUVwRSxNQUFNRSxNQUFNLEdBQUdILE9BQU8sQ0FBQ0ksTUFBTSxDQUFDLENBQUM7O0FBRS9COztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0FELE1BQU0sQ0FBQ0UsSUFBSSxDQUFDLEdBQUcsRUFBRUgsZ0JBQWdCLENBQUNJLFlBQVksQ0FBQzs7QUFFL0M7QUFDQTtBQUNBO0FBQ0E7QUFDQUgsTUFBTSxDQUFDSSxHQUFHLENBQUMsR0FBRyxFQUFFTCxnQkFBZ0IsQ0FBQ00sYUFBYSxDQUFDOztBQUUvQztBQUNBO0FBQ0E7QUFDQTtBQUNBTCxNQUFNLENBQUNJLEdBQUcsQ0FBQyxNQUFNLEVBQUVMLGdCQUFnQixDQUFDTyxTQUFTLENBQUM7O0FBRTlDO0FBQ0E7QUFDQTtBQUNBO0FBQ0FOLE1BQU0sQ0FBQ08sR0FBRyxDQUFDLE1BQU0sRUFBRVIsZ0JBQWdCLENBQUNTLFlBQVksQ0FBQzs7QUFFakQ7QUFDQTtBQUNBO0FBQ0E7QUFDQVIsTUFBTSxDQUFDUyxNQUFNLENBQUMsTUFBTSxFQUFFVixnQkFBZ0IsQ0FBQ1csWUFBWSxDQUFDOztBQUVwRDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBVixNQUFNLENBQUNJLEdBQUcsQ0FBQyxrQkFBa0IsRUFBRUwsZ0JBQWdCLENBQUNZLGNBQWMsQ0FBQzs7QUFFL0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQVgsTUFBTSxDQUFDSSxHQUFHLENBQUMscUJBQXFCLEVBQUVMLGdCQUFnQixDQUFDYSxvQkFBb0IsQ0FBQzs7QUFFeEU7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQVosTUFBTSxDQUFDRSxJQUFJLENBQUMsaUJBQWlCLEVBQUVILGdCQUFnQixDQUFDYyxZQUFZLENBQUM7O0FBRTdEO0FBQ0E7QUFDQTtBQUNBO0FBQ0FiLE1BQU0sQ0FBQ0ksR0FBRyxDQUFDLGlCQUFpQixFQUFFTCxnQkFBZ0IsQ0FBQ2UsYUFBYSxDQUFDOztBQUU3RDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBZCxNQUFNLENBQUNFLElBQUksQ0FBQyxxQkFBcUIsRUFBRUgsZ0JBQWdCLENBQUNnQixnQkFBZ0IsQ0FBQzs7QUFFckU7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQWYsTUFBTSxDQUFDRSxJQUFJLENBQUMscUJBQXFCLEVBQUVILGdCQUFnQixDQUFDaUIsYUFBYSxDQUFDOztBQUVsRTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBaEIsTUFBTSxDQUFDSSxHQUFHLENBQUMsaUJBQWlCLEVBQUVMLGdCQUFnQixDQUFDa0IseUJBQXlCLENBQUM7O0FBRXpFOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0FqQixNQUFNLENBQUNJLEdBQUcsQ0FBQyxpQkFBaUIsRUFBRUwsZ0JBQWdCLENBQUNtQixnQkFBZ0IsQ0FBQzs7QUFFaEU7QUFDQTtBQUNBO0FBQ0E7QUFDQWxCLE1BQU0sQ0FBQ0ksR0FBRyxDQUFDLGdDQUFnQyxFQUFFTCxnQkFBZ0IsQ0FBQ29CLG1CQUFtQixDQUFDOztBQUVsRjtBQUNBO0FBQ0E7QUFDQTtBQUNBbkIsTUFBTSxDQUFDSSxHQUFHLENBQUMsMEJBQTBCLEVBQUVMLGdCQUFnQixDQUFDcUIsb0JBQW9CLENBQUM7O0FBRTdFO0FBQ0E7QUFDQTtBQUNBO0FBQ0FwQixNQUFNLENBQUNJLEdBQUcsQ0FBQyx3QkFBd0IsRUFBRUwsZ0JBQWdCLENBQUNzQixtQkFBbUIsQ0FBQztBQUUxRUMsTUFBTSxDQUFDQyxPQUFPLEdBQUd2QixNQUFNIiwiaWdub3JlTGlzdCI6W119