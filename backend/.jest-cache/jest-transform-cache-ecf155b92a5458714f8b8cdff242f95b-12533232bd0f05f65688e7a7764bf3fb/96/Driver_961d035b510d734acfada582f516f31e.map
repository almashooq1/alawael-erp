{"version":3,"names":["mongoose","require","driverSchema","Schema","userId","type","Types","ObjectId","ref","required","unique","firstName","String","trim","lastName","email","lowercase","personalPhone","alternatePhone","dateOfBirth","Date","gender","enum","nationality","identityNumber","sparse","identityExpiry","employeeId","hireDate","status","default","department","manager","licenseDetails","licenseNumber","licenseType","issueDate","expiryDate","issuingAuthority","country","isValid","Boolean","certifications","name","certificateNumber","provider","isActive","assignedVehicles","vehicle","assignmentDate","unassignmentDate","address","street","city","state","zipCode","nearbyLandmark","bankDetails","bankName","accountNumber","iban","accountHolderName","emergencyContact","relationship","phone","performance","overallRating","Number","min","max","safetyScore","reliabilityScore","customerServiceScore","fuelEfficiencyScore","maintenanceScore","attendanceScore","lastAssessmentDate","violations","speedingIncidents","harshBraking","harshAcceleration","distraction","seatbeltViolations","trafficViolations","accidents","unauthorizedStops","totalViolations","lastViolationDate","statistics","totalTrips","completedTrips","cancelledTrips","totalHoursWorked","totalKilometersDriven","averagePassengerRating","onTimePercentage","lastTripDate","health","medicalCheckup","lastDate","nextDate","drinkingDriving","lastTest","result","blindspotCheck","visionTest","correction","drugTest","training","lastTrainingDate","trainingType","trainingDueDate","currentLevel","schedule","workingDays","offDays","preferredShift","maxHoursPerDay","leaves","totalAnnualLeave","usedLeave","remainingLeave","sickLeave","emergencyLeave","insurance","policyNumber","coverageAmount","policyDocument","safetyCompliance","safetyBriefingDate","safetyTrainingDate","vehicleInspectionStatus","notes","reportHistory","date","reportType","content","reportedBy","aiMetrics","predictedAbsenceRate","predictedPerformanceTrend","trainingRecommendations","riskFactors","strengths","lastActivityDate","deactivationReason","deactivationDate","metadata","document1","document2","document3","createdAt","now","updatedAt","timestamps","toJSON","virtuals","toObject","virtual","get","today","age","getFullYear","monthDiff","getMonth","getDate","years","diffTime","diffDays","Math","ceil","index","methods","calculateOverallRating","weights","safety","reliability","customerService","fuelEfficiency","maintenance","attendance","overall","round","isLicenseValid","getActiveCertifications","filter","cert","updateStatistics","tripData","duration","distance","save","addViolation","violationType","undefined","module","exports","model"],"sources":["Driver.js"],"sourcesContent":["/**\r\n * Driver Model - نموذج السائق الشامل\r\n * يتضمن جميع المعلومات الشخصية والقانونية والأداء\r\n */\r\n\r\nconst mongoose = require('mongoose');\r\n\r\nconst driverSchema = new mongoose.Schema(\r\n  {\r\n    // ===== معلومات شخصية =====\r\n    userId: {\r\n      type: mongoose.Schema.Types.ObjectId,\r\n      ref: 'User',\r\n      required: true,\r\n      unique: true,\r\n    },\r\n    firstName: {\r\n      type: String,\r\n      required: [true, 'الاسم الأول مطلوب'],\r\n      trim: true,\r\n    },\r\n    lastName: {\r\n      type: String,\r\n      required: [true, 'الاسم الأخير مطلوب'],\r\n      trim: true,\r\n    },\r\n    email: {\r\n      type: String,\r\n      required: true,\r\n      unique: true,\r\n      lowercase: true,\r\n    },\r\n    personalPhone: {\r\n      type: String,\r\n      required: true,\r\n    },\r\n    alternatePhone: String,\r\n    dateOfBirth: Date,\r\n    gender: {\r\n      type: String,\r\n      enum: ['male', 'female', 'other'],\r\n    },\r\n    nationality: String,\r\n    identityNumber: {\r\n      type: String,\r\n      unique: true,\r\n      sparse: true,\r\n    },\r\n    identityExpiry: Date,\r\n\r\n    // ===== معلومات العمل =====\r\n    employeeId: {\r\n      type: String,\r\n      unique: true,\r\n      required: true,\r\n      sparse: true,\r\n    },\r\n    hireDate: {\r\n      type: Date,\r\n      required: true,\r\n    },\r\n    status: {\r\n      type: String,\r\n      enum: ['active', 'on_leave', 'suspended', 'inactive', 'retired'],\r\n      default: 'active',\r\n    },\r\n    department: {\r\n      type: String,\r\n      default: 'Transportation',\r\n    },\r\n    manager: {\r\n      type: mongoose.Schema.Types.ObjectId,\r\n      ref: 'User',\r\n    },\r\n\r\n    // ===== معلومات الرخصة القيادة =====\r\n    licenseDetails: {\r\n      licenseNumber: {\r\n        type: String,\r\n        required: true,\r\n        unique: true,\r\n      },\r\n      licenseType: {\r\n        type: String,\r\n        enum: ['B', 'C', 'D', 'E', 'BE', 'CE', 'DE'],\r\n        required: true,\r\n      },\r\n      issueDate: Date,\r\n      expiryDate: {\r\n        type: Date,\r\n        required: true,\r\n      },\r\n      issuingAuthority: String,\r\n      country: String,\r\n      // التحقق من صلاحية الرخصة\r\n      isValid: {\r\n        type: Boolean,\r\n        default: true,\r\n      },\r\n    },\r\n\r\n    // ===== شهادات وتدريبات =====\r\n    certifications: [\r\n      {\r\n        name: {\r\n          type: String,\r\n          enum: [\r\n            'Basic Driver Training',\r\n            'Advanced Driving',\r\n            'Defensive Driving',\r\n            'Passenger Safety',\r\n            'Cargo Handling',\r\n            'Hazmat Transport',\r\n            'CPR/First Aid',\r\n            'Vehicle Maintenance',\r\n            'GPS Navigation',\r\n            'Customer Service',\r\n          ],\r\n        },\r\n        issueDate: Date,\r\n        expiryDate: Date,\r\n        certificateNumber: String,\r\n        provider: String,\r\n        isActive: {\r\n          type: Boolean,\r\n          default: true,\r\n        },\r\n      },\r\n    ],\r\n\r\n    // ===== معلومات عن السيارات المخصصة =====\r\n    assignedVehicles: [\r\n      {\r\n        vehicle: {\r\n          type: mongoose.Schema.Types.ObjectId,\r\n          ref: 'Vehicle',\r\n        },\r\n        assignmentDate: Date,\r\n        unassignmentDate: Date,\r\n        status: {\r\n          type: String,\r\n          enum: ['active', 'inactive'],\r\n          default: 'active',\r\n        },\r\n      },\r\n    ],\r\n\r\n    // ===== معلومات العنوان =====\r\n    address: {\r\n      street: String,\r\n      city: String,\r\n      state: String,\r\n      zipCode: String,\r\n      country: String,\r\n      nearbyLandmark: String,\r\n    },\r\n\r\n    // ===== البيانات المصرفية =====\r\n    bankDetails: {\r\n      bankName: String,\r\n      accountNumber: {\r\n        type: String,\r\n        // تشفير بيانات الحساب البنكي\r\n      },\r\n      iban: String,\r\n      accountHolderName: String,\r\n    },\r\n\r\n    // ===== معلومات الطوارئ =====\r\n    emergencyContact: {\r\n      name: String,\r\n      relationship: String,\r\n      phone: String,\r\n      email: String,\r\n    },\r\n\r\n    // ===== تقييم الأداء =====\r\n    performance: {\r\n      overallRating: {\r\n        type: Number,\r\n        min: 0,\r\n        max: 5,\r\n        default: 0,\r\n      },\r\n      safetyScore: {\r\n        type: Number,\r\n        min: 0,\r\n        max: 100,\r\n        default: 0,\r\n      },\r\n      reliabilityScore: {\r\n        type: Number,\r\n        min: 0,\r\n        max: 100,\r\n        default: 0,\r\n      },\r\n      customerServiceScore: {\r\n        type: Number,\r\n        min: 0,\r\n        max: 100,\r\n        default: 0,\r\n      },\r\n      fuelEfficiencyScore: {\r\n        type: Number,\r\n        min: 0,\r\n        max: 100,\r\n        default: 0,\r\n      },\r\n      maintenanceScore: {\r\n        type: Number,\r\n        min: 0,\r\n        max: 100,\r\n        default: 0,\r\n      },\r\n      attendanceScore: {\r\n        type: Number,\r\n        min: 0,\r\n        max: 100,\r\n        default: 0,\r\n      },\r\n      lastAssessmentDate: Date,\r\n    },\r\n\r\n    // ===== تتبع السلوك والانتهاكات =====\r\n    violations: {\r\n      speedingIncidents: {\r\n        type: Number,\r\n        default: 0,\r\n      },\r\n      harshBraking: {\r\n        type: Number,\r\n        default: 0,\r\n      },\r\n      harshAcceleration: {\r\n        type: Number,\r\n        default: 0,\r\n      },\r\n      distraction: {\r\n        type: Number,\r\n        default: 0,\r\n      },\r\n      seatbeltViolations: {\r\n        type: Number,\r\n        default: 0,\r\n      },\r\n      trafficViolations: {\r\n        type: Number,\r\n        default: 0,\r\n      },\r\n      accidents: {\r\n        type: Number,\r\n        default: 0,\r\n      },\r\n      unauthorizedStops: {\r\n        type: Number,\r\n        default: 0,\r\n      },\r\n      totalViolations: {\r\n        type: Number,\r\n        default: 0,\r\n      },\r\n      lastViolationDate: Date,\r\n    },\r\n\r\n    // ===== إحصائيات العمل =====\r\n    statistics: {\r\n      totalTrips: {\r\n        type: Number,\r\n        default: 0,\r\n      },\r\n      completedTrips: {\r\n        type: Number,\r\n        default: 0,\r\n      },\r\n      cancelledTrips: {\r\n        type: Number,\r\n        default: 0,\r\n      },\r\n      totalHoursWorked: {\r\n        type: Number,\r\n        default: 0,\r\n      },\r\n      totalKilometersDriven: {\r\n        type: Number,\r\n        default: 0,\r\n      },\r\n      averagePassengerRating: {\r\n        type: Number,\r\n        default: 0,\r\n      },\r\n      onTimePercentage: {\r\n        type: Number,\r\n        default: 0,\r\n      },\r\n      lastTripDate: Date,\r\n    },\r\n\r\n    // ===== الحالة الصحية والعافية =====\r\n    health: {\r\n      medicalCheckup: {\r\n        lastDate: Date,\r\n        nextDate: Date,\r\n        status: {\r\n          type: String,\r\n          enum: ['cleared', 'restricted', 'pending', 'failed'],\r\n          default: 'pending',\r\n        },\r\n      },\r\n      drinkingDriving: {\r\n        lastTest: Date,\r\n        result: String,\r\n      },\r\n      blindspotCheck: {\r\n        lastTest: Date,\r\n        result: String,\r\n      },\r\n      visionTest: {\r\n        lastTest: Date,\r\n        result: String,\r\n        correction: String, // نوع التصحيح إن وجد\r\n      },\r\n      drugTest: {\r\n        lastTest: Date,\r\n        result: String,\r\n      },\r\n    },\r\n\r\n    // ===== التدريب والتطوير =====\r\n    training: {\r\n      lastTrainingDate: Date,\r\n      trainingType: String,\r\n      trainingDueDate: Date,\r\n      currentLevel: {\r\n        type: String,\r\n        enum: ['beginner', 'intermediate', 'advanced', 'expert'],\r\n        default: 'beginner',\r\n      },\r\n    },\r\n\r\n    // ===== أيام الراحة والطلبات =====\r\n    schedule: {\r\n      workingDays: {\r\n        type: [String],\r\n        default: ['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday'],\r\n      },\r\n      offDays: [String],\r\n      preferredShift: {\r\n        type: String,\r\n        enum: ['morning', 'afternoon', 'evening', 'night', 'flexible'],\r\n        default: 'flexible',\r\n      },\r\n      maxHoursPerDay: {\r\n        type: Number,\r\n        default: 10,\r\n      },\r\n    },\r\n\r\n    // ===== الإجازات والعطل =====\r\n    leaves: {\r\n      totalAnnualLeave: {\r\n        type: Number,\r\n        default: 20,\r\n      },\r\n      usedLeave: {\r\n        type: Number,\r\n        default: 0,\r\n      },\r\n      remainingLeave: {\r\n        type: Number,\r\n        default: 20,\r\n      },\r\n      sickLeave: {\r\n        type: Number,\r\n        default: 0,\r\n      },\r\n      emergencyLeave: {\r\n        type: Number,\r\n        default: 0,\r\n      },\r\n    },\r\n\r\n    // ===== السلامة والتأمين =====\r\n    insurance: {\r\n      policyNumber: String,\r\n      provider: String,\r\n      expiryDate: Date,\r\n      coverageAmount: Number,\r\n      policyDocument: String, // رابط المستند\r\n    },\r\n\r\n    safetyCompliance: {\r\n      safetyBriefingDate: Date,\r\n      safetyTrainingDate: Date,\r\n      vehicleInspectionStatus: String,\r\n    },\r\n\r\n    // ===== الملاحظات والتقارير =====\r\n    notes: String,\r\n    reportHistory: [\r\n      {\r\n        date: Date,\r\n        reportType: String,\r\n        content: String,\r\n        reportedBy: {\r\n          type: mongoose.Schema.Types.ObjectId,\r\n          ref: 'User',\r\n        },\r\n      },\r\n    ],\r\n\r\n    // ===== البيانات الذكية =====\r\n    aiMetrics: {\r\n      predictedAbsenceRate: {\r\n        type: Number,\r\n        default: 0,\r\n      },\r\n      predictedPerformanceTrend: {\r\n        type: String,\r\n        enum: ['improving', 'stable', 'declining'],\r\n        default: 'stable',\r\n      },\r\n      trainingRecommendations: [String],\r\n      riskFactors: [String],\r\n      strengths: [String],\r\n    },\r\n\r\n    // ===== حالة النظام =====\r\n    isActive: {\r\n      type: Boolean,\r\n      default: true,\r\n    },\r\n    lastActivityDate: Date,\r\n    deactivationReason: String,\r\n    deactivationDate: Date,\r\n\r\n    // ===== البيانات الوصفية =====\r\n    metadata: {\r\n      document1: String,\r\n      document2: String,\r\n      document3: String,\r\n      notes: String,\r\n    },\r\n\r\n    createdAt: {\r\n      type: Date,\r\n      default: Date.now,\r\n    },\r\n    updatedAt: {\r\n      type: Date,\r\n      default: Date.now,\r\n    },\r\n  },\r\n  {\r\n    timestamps: true,\r\n    toJSON: { virtuals: true },\r\n    toObject: { virtuals: true },\r\n  }\r\n);\r\n\r\n// ===== Virtuals =====\r\ndriverSchema.virtual('fullName').get(function () {\r\n  return `${this.firstName} ${this.lastName}`;\r\n});\r\n\r\ndriverSchema.virtual('age').get(function () {\r\n  if (!this.dateOfBirth) return null;\r\n  const today = new Date();\r\n  let age = today.getFullYear() - this.dateOfBirth.getFullYear();\r\n  const monthDiff = today.getMonth() - this.dateOfBirth.getMonth();\r\n  if (monthDiff < 0 || (monthDiff === 0 && today.getDate() < this.dateOfBirth.getDate())) {\r\n    age--;\r\n  }\r\n  return age;\r\n});\r\n\r\ndriverSchema.virtual('experienceInYears').get(function () {\r\n  if (!this.hireDate) return 0;\r\n  const today = new Date();\r\n  let years = today.getFullYear() - this.hireDate.getFullYear();\r\n  const monthDiff = today.getMonth() - this.hireDate.getMonth();\r\n  if (monthDiff < 0) {\r\n    years--;\r\n  }\r\n  return years;\r\n});\r\n\r\ndriverSchema.virtual('daysUntilLicenseExpiry').get(function () {\r\n  if (!this.licenseDetails || !this.licenseDetails.expiryDate) return null;\r\n  const today = new Date();\r\n  const diffTime = this.licenseDetails.expiryDate - today;\r\n  const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));\r\n  return diffDays;\r\n});\r\n\r\n// ===== Indexes =====\r\ndriverSchema.index({ userId: 1 });\r\ndriverSchema.index({ employeeId: 1 });\r\ndriverSchema.index({ status: 1 });\r\ndriverSchema.index({ 'performance.overallRating': 1 });\r\ndriverSchema.index({ createdAt: -1 });\r\n\r\n// ===== Methods =====\r\n\r\n/**\r\n * حساب درجة الأداء الكلية\r\n */\r\ndriverSchema.methods.calculateOverallRating = function () {\r\n  const {\r\n    safetyScore = 0,\r\n    reliabilityScore = 0,\r\n    customerServiceScore = 0,\r\n    fuelEfficiencyScore = 0,\r\n    maintenanceScore = 0,\r\n    attendanceScore = 0,\r\n  } = this.performance;\r\n\r\n  // الأوزان\r\n  const weights = {\r\n    safety: 0.3,\r\n    reliability: 0.2,\r\n    customerService: 0.2,\r\n    fuelEfficiency: 0.1,\r\n    maintenance: 0.1,\r\n    attendance: 0.1,\r\n  };\r\n\r\n  const overall =\r\n    (safetyScore * weights.safety +\r\n      reliabilityScore * weights.reliability +\r\n      customerServiceScore * weights.customerService +\r\n      fuelEfficiencyScore * weights.fuelEfficiency +\r\n      maintenanceScore * weights.maintenance +\r\n      attendanceScore * weights.attendance) /\r\n    100;\r\n\r\n  this.performance.overallRating = Math.round(overall * 10) / 10;\r\n  return this.performance.overallRating;\r\n};\r\n\r\n/**\r\n * التحقق من صلاحية الرخصة\r\n */\r\ndriverSchema.methods.isLicenseValid = function () {\r\n  if (!this.licenseDetails || !this.licenseDetails.expiryDate) {\r\n    return false;\r\n  }\r\n  return this.licenseDetails.expiryDate > new Date();\r\n};\r\n\r\n/**\r\n * الحصول على كل الشهادات الصالحة\r\n */\r\ndriverSchema.methods.getActiveCertifications = function () {\r\n  const today = new Date();\r\n  return this.certifications.filter(\r\n    (cert) => cert.isActive && (!cert.expiryDate || cert.expiryDate > today)\r\n  );\r\n};\r\n\r\n/**\r\n * تحديث إحصائيات العمل\r\n */\r\ndriverSchema.methods.updateStatistics = async function (tripData) {\r\n  this.statistics.totalTrips += 1;\r\n  if (tripData.status === 'completed') {\r\n    this.statistics.completedTrips += 1;\r\n  }\r\n  if (tripData.duration) {\r\n    this.statistics.totalHoursWorked += tripData.duration;\r\n  }\r\n  if (tripData.distance) {\r\n    this.statistics.totalKilometersDriven += tripData.distance;\r\n  }\r\n  this.statistics.lastTripDate = new Date();\r\n  await this.save();\r\n};\r\n\r\n/**\r\n * إضافة انتهاك\r\n */\r\ndriverSchema.methods.addViolation = async function (violationType) {\r\n  if (this.violations[violationType] !== undefined) {\r\n    this.violations[violationType] += 1;\r\n  }\r\n  this.violations.totalViolations += 1;\r\n  this.violations.lastViolationDate = new Date();\r\n  await this.save();\r\n};\r\n\r\nmodule.exports = mongoose.model('Driver', driverSchema);\r\n"],"mappings":"AAAA;AACA;AACA;AACA;;AAEA,MAAMA,QAAQ,GAAGC,OAAO,CAAC,UAAU,CAAC;AAEpC,MAAMC,YAAY,GAAG,IAAIF,QAAQ,CAACG,MAAM,CACtC;EACE;EACAC,MAAM,EAAE;IACNC,IAAI,EAAEL,QAAQ,CAACG,MAAM,CAACG,KAAK,CAACC,QAAQ;IACpCC,GAAG,EAAE,MAAM;IACXC,QAAQ,EAAE,IAAI;IACdC,MAAM,EAAE;EACV,CAAC;EACDC,SAAS,EAAE;IACTN,IAAI,EAAEO,MAAM;IACZH,QAAQ,EAAE,CAAC,IAAI,EAAE,mBAAmB,CAAC;IACrCI,IAAI,EAAE;EACR,CAAC;EACDC,QAAQ,EAAE;IACRT,IAAI,EAAEO,MAAM;IACZH,QAAQ,EAAE,CAAC,IAAI,EAAE,oBAAoB,CAAC;IACtCI,IAAI,EAAE;EACR,CAAC;EACDE,KAAK,EAAE;IACLV,IAAI,EAAEO,MAAM;IACZH,QAAQ,EAAE,IAAI;IACdC,MAAM,EAAE,IAAI;IACZM,SAAS,EAAE;EACb,CAAC;EACDC,aAAa,EAAE;IACbZ,IAAI,EAAEO,MAAM;IACZH,QAAQ,EAAE;EACZ,CAAC;EACDS,cAAc,EAAEN,MAAM;EACtBO,WAAW,EAAEC,IAAI;EACjBC,MAAM,EAAE;IACNhB,IAAI,EAAEO,MAAM;IACZU,IAAI,EAAE,CAAC,MAAM,EAAE,QAAQ,EAAE,OAAO;EAClC,CAAC;EACDC,WAAW,EAAEX,MAAM;EACnBY,cAAc,EAAE;IACdnB,IAAI,EAAEO,MAAM;IACZF,MAAM,EAAE,IAAI;IACZe,MAAM,EAAE;EACV,CAAC;EACDC,cAAc,EAAEN,IAAI;EAEpB;EACAO,UAAU,EAAE;IACVtB,IAAI,EAAEO,MAAM;IACZF,MAAM,EAAE,IAAI;IACZD,QAAQ,EAAE,IAAI;IACdgB,MAAM,EAAE;EACV,CAAC;EACDG,QAAQ,EAAE;IACRvB,IAAI,EAAEe,IAAI;IACVX,QAAQ,EAAE;EACZ,CAAC;EACDoB,MAAM,EAAE;IACNxB,IAAI,EAAEO,MAAM;IACZU,IAAI,EAAE,CAAC,QAAQ,EAAE,UAAU,EAAE,WAAW,EAAE,UAAU,EAAE,SAAS,CAAC;IAChEQ,OAAO,EAAE;EACX,CAAC;EACDC,UAAU,EAAE;IACV1B,IAAI,EAAEO,MAAM;IACZkB,OAAO,EAAE;EACX,CAAC;EACDE,OAAO,EAAE;IACP3B,IAAI,EAAEL,QAAQ,CAACG,MAAM,CAACG,KAAK,CAACC,QAAQ;IACpCC,GAAG,EAAE;EACP,CAAC;EAED;EACAyB,cAAc,EAAE;IACdC,aAAa,EAAE;MACb7B,IAAI,EAAEO,MAAM;MACZH,QAAQ,EAAE,IAAI;MACdC,MAAM,EAAE;IACV,CAAC;IACDyB,WAAW,EAAE;MACX9B,IAAI,EAAEO,MAAM;MACZU,IAAI,EAAE,CAAC,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,CAAC;MAC5Cb,QAAQ,EAAE;IACZ,CAAC;IACD2B,SAAS,EAAEhB,IAAI;IACfiB,UAAU,EAAE;MACVhC,IAAI,EAAEe,IAAI;MACVX,QAAQ,EAAE;IACZ,CAAC;IACD6B,gBAAgB,EAAE1B,MAAM;IACxB2B,OAAO,EAAE3B,MAAM;IACf;IACA4B,OAAO,EAAE;MACPnC,IAAI,EAAEoC,OAAO;MACbX,OAAO,EAAE;IACX;EACF,CAAC;EAED;EACAY,cAAc,EAAE,CACd;IACEC,IAAI,EAAE;MACJtC,IAAI,EAAEO,MAAM;MACZU,IAAI,EAAE,CACJ,uBAAuB,EACvB,kBAAkB,EAClB,mBAAmB,EACnB,kBAAkB,EAClB,gBAAgB,EAChB,kBAAkB,EAClB,eAAe,EACf,qBAAqB,EACrB,gBAAgB,EAChB,kBAAkB;IAEtB,CAAC;IACDc,SAAS,EAAEhB,IAAI;IACfiB,UAAU,EAAEjB,IAAI;IAChBwB,iBAAiB,EAAEhC,MAAM;IACzBiC,QAAQ,EAAEjC,MAAM;IAChBkC,QAAQ,EAAE;MACRzC,IAAI,EAAEoC,OAAO;MACbX,OAAO,EAAE;IACX;EACF,CAAC,CACF;EAED;EACAiB,gBAAgB,EAAE,CAChB;IACEC,OAAO,EAAE;MACP3C,IAAI,EAAEL,QAAQ,CAACG,MAAM,CAACG,KAAK,CAACC,QAAQ;MACpCC,GAAG,EAAE;IACP,CAAC;IACDyC,cAAc,EAAE7B,IAAI;IACpB8B,gBAAgB,EAAE9B,IAAI;IACtBS,MAAM,EAAE;MACNxB,IAAI,EAAEO,MAAM;MACZU,IAAI,EAAE,CAAC,QAAQ,EAAE,UAAU,CAAC;MAC5BQ,OAAO,EAAE;IACX;EACF,CAAC,CACF;EAED;EACAqB,OAAO,EAAE;IACPC,MAAM,EAAExC,MAAM;IACdyC,IAAI,EAAEzC,MAAM;IACZ0C,KAAK,EAAE1C,MAAM;IACb2C,OAAO,EAAE3C,MAAM;IACf2B,OAAO,EAAE3B,MAAM;IACf4C,cAAc,EAAE5C;EAClB,CAAC;EAED;EACA6C,WAAW,EAAE;IACXC,QAAQ,EAAE9C,MAAM;IAChB+C,aAAa,EAAE;MACbtD,IAAI,EAAEO;MACN;IACF,CAAC;IACDgD,IAAI,EAAEhD,MAAM;IACZiD,iBAAiB,EAAEjD;EACrB,CAAC;EAED;EACAkD,gBAAgB,EAAE;IAChBnB,IAAI,EAAE/B,MAAM;IACZmD,YAAY,EAAEnD,MAAM;IACpBoD,KAAK,EAAEpD,MAAM;IACbG,KAAK,EAAEH;EACT,CAAC;EAED;EACAqD,WAAW,EAAE;IACXC,aAAa,EAAE;MACb7D,IAAI,EAAE8D,MAAM;MACZC,GAAG,EAAE,CAAC;MACNC,GAAG,EAAE,CAAC;MACNvC,OAAO,EAAE;IACX,CAAC;IACDwC,WAAW,EAAE;MACXjE,IAAI,EAAE8D,MAAM;MACZC,GAAG,EAAE,CAAC;MACNC,GAAG,EAAE,GAAG;MACRvC,OAAO,EAAE;IACX,CAAC;IACDyC,gBAAgB,EAAE;MAChBlE,IAAI,EAAE8D,MAAM;MACZC,GAAG,EAAE,CAAC;MACNC,GAAG,EAAE,GAAG;MACRvC,OAAO,EAAE;IACX,CAAC;IACD0C,oBAAoB,EAAE;MACpBnE,IAAI,EAAE8D,MAAM;MACZC,GAAG,EAAE,CAAC;MACNC,GAAG,EAAE,GAAG;MACRvC,OAAO,EAAE;IACX,CAAC;IACD2C,mBAAmB,EAAE;MACnBpE,IAAI,EAAE8D,MAAM;MACZC,GAAG,EAAE,CAAC;MACNC,GAAG,EAAE,GAAG;MACRvC,OAAO,EAAE;IACX,CAAC;IACD4C,gBAAgB,EAAE;MAChBrE,IAAI,EAAE8D,MAAM;MACZC,GAAG,EAAE,CAAC;MACNC,GAAG,EAAE,GAAG;MACRvC,OAAO,EAAE;IACX,CAAC;IACD6C,eAAe,EAAE;MACftE,IAAI,EAAE8D,MAAM;MACZC,GAAG,EAAE,CAAC;MACNC,GAAG,EAAE,GAAG;MACRvC,OAAO,EAAE;IACX,CAAC;IACD8C,kBAAkB,EAAExD;EACtB,CAAC;EAED;EACAyD,UAAU,EAAE;IACVC,iBAAiB,EAAE;MACjBzE,IAAI,EAAE8D,MAAM;MACZrC,OAAO,EAAE;IACX,CAAC;IACDiD,YAAY,EAAE;MACZ1E,IAAI,EAAE8D,MAAM;MACZrC,OAAO,EAAE;IACX,CAAC;IACDkD,iBAAiB,EAAE;MACjB3E,IAAI,EAAE8D,MAAM;MACZrC,OAAO,EAAE;IACX,CAAC;IACDmD,WAAW,EAAE;MACX5E,IAAI,EAAE8D,MAAM;MACZrC,OAAO,EAAE;IACX,CAAC;IACDoD,kBAAkB,EAAE;MAClB7E,IAAI,EAAE8D,MAAM;MACZrC,OAAO,EAAE;IACX,CAAC;IACDqD,iBAAiB,EAAE;MACjB9E,IAAI,EAAE8D,MAAM;MACZrC,OAAO,EAAE;IACX,CAAC;IACDsD,SAAS,EAAE;MACT/E,IAAI,EAAE8D,MAAM;MACZrC,OAAO,EAAE;IACX,CAAC;IACDuD,iBAAiB,EAAE;MACjBhF,IAAI,EAAE8D,MAAM;MACZrC,OAAO,EAAE;IACX,CAAC;IACDwD,eAAe,EAAE;MACfjF,IAAI,EAAE8D,MAAM;MACZrC,OAAO,EAAE;IACX,CAAC;IACDyD,iBAAiB,EAAEnE;EACrB,CAAC;EAED;EACAoE,UAAU,EAAE;IACVC,UAAU,EAAE;MACVpF,IAAI,EAAE8D,MAAM;MACZrC,OAAO,EAAE;IACX,CAAC;IACD4D,cAAc,EAAE;MACdrF,IAAI,EAAE8D,MAAM;MACZrC,OAAO,EAAE;IACX,CAAC;IACD6D,cAAc,EAAE;MACdtF,IAAI,EAAE8D,MAAM;MACZrC,OAAO,EAAE;IACX,CAAC;IACD8D,gBAAgB,EAAE;MAChBvF,IAAI,EAAE8D,MAAM;MACZrC,OAAO,EAAE;IACX,CAAC;IACD+D,qBAAqB,EAAE;MACrBxF,IAAI,EAAE8D,MAAM;MACZrC,OAAO,EAAE;IACX,CAAC;IACDgE,sBAAsB,EAAE;MACtBzF,IAAI,EAAE8D,MAAM;MACZrC,OAAO,EAAE;IACX,CAAC;IACDiE,gBAAgB,EAAE;MAChB1F,IAAI,EAAE8D,MAAM;MACZrC,OAAO,EAAE;IACX,CAAC;IACDkE,YAAY,EAAE5E;EAChB,CAAC;EAED;EACA6E,MAAM,EAAE;IACNC,cAAc,EAAE;MACdC,QAAQ,EAAE/E,IAAI;MACdgF,QAAQ,EAAEhF,IAAI;MACdS,MAAM,EAAE;QACNxB,IAAI,EAAEO,MAAM;QACZU,IAAI,EAAE,CAAC,SAAS,EAAE,YAAY,EAAE,SAAS,EAAE,QAAQ,CAAC;QACpDQ,OAAO,EAAE;MACX;IACF,CAAC;IACDuE,eAAe,EAAE;MACfC,QAAQ,EAAElF,IAAI;MACdmF,MAAM,EAAE3F;IACV,CAAC;IACD4F,cAAc,EAAE;MACdF,QAAQ,EAAElF,IAAI;MACdmF,MAAM,EAAE3F;IACV,CAAC;IACD6F,UAAU,EAAE;MACVH,QAAQ,EAAElF,IAAI;MACdmF,MAAM,EAAE3F,MAAM;MACd8F,UAAU,EAAE9F,MAAM,CAAE;IACtB,CAAC;IACD+F,QAAQ,EAAE;MACRL,QAAQ,EAAElF,IAAI;MACdmF,MAAM,EAAE3F;IACV;EACF,CAAC;EAED;EACAgG,QAAQ,EAAE;IACRC,gBAAgB,EAAEzF,IAAI;IACtB0F,YAAY,EAAElG,MAAM;IACpBmG,eAAe,EAAE3F,IAAI;IACrB4F,YAAY,EAAE;MACZ3G,IAAI,EAAEO,MAAM;MACZU,IAAI,EAAE,CAAC,UAAU,EAAE,cAAc,EAAE,UAAU,EAAE,QAAQ,CAAC;MACxDQ,OAAO,EAAE;IACX;EACF,CAAC;EAED;EACAmF,QAAQ,EAAE;IACRC,WAAW,EAAE;MACX7G,IAAI,EAAE,CAACO,MAAM,CAAC;MACdkB,OAAO,EAAE,CAAC,QAAQ,EAAE,SAAS,EAAE,WAAW,EAAE,UAAU,EAAE,QAAQ;IAClE,CAAC;IACDqF,OAAO,EAAE,CAACvG,MAAM,CAAC;IACjBwG,cAAc,EAAE;MACd/G,IAAI,EAAEO,MAAM;MACZU,IAAI,EAAE,CAAC,SAAS,EAAE,WAAW,EAAE,SAAS,EAAE,OAAO,EAAE,UAAU,CAAC;MAC9DQ,OAAO,EAAE;IACX,CAAC;IACDuF,cAAc,EAAE;MACdhH,IAAI,EAAE8D,MAAM;MACZrC,OAAO,EAAE;IACX;EACF,CAAC;EAED;EACAwF,MAAM,EAAE;IACNC,gBAAgB,EAAE;MAChBlH,IAAI,EAAE8D,MAAM;MACZrC,OAAO,EAAE;IACX,CAAC;IACD0F,SAAS,EAAE;MACTnH,IAAI,EAAE8D,MAAM;MACZrC,OAAO,EAAE;IACX,CAAC;IACD2F,cAAc,EAAE;MACdpH,IAAI,EAAE8D,MAAM;MACZrC,OAAO,EAAE;IACX,CAAC;IACD4F,SAAS,EAAE;MACTrH,IAAI,EAAE8D,MAAM;MACZrC,OAAO,EAAE;IACX,CAAC;IACD6F,cAAc,EAAE;MACdtH,IAAI,EAAE8D,MAAM;MACZrC,OAAO,EAAE;IACX;EACF,CAAC;EAED;EACA8F,SAAS,EAAE;IACTC,YAAY,EAAEjH,MAAM;IACpBiC,QAAQ,EAAEjC,MAAM;IAChByB,UAAU,EAAEjB,IAAI;IAChB0G,cAAc,EAAE3D,MAAM;IACtB4D,cAAc,EAAEnH,MAAM,CAAE;EAC1B,CAAC;EAEDoH,gBAAgB,EAAE;IAChBC,kBAAkB,EAAE7G,IAAI;IACxB8G,kBAAkB,EAAE9G,IAAI;IACxB+G,uBAAuB,EAAEvH;EAC3B,CAAC;EAED;EACAwH,KAAK,EAAExH,MAAM;EACbyH,aAAa,EAAE,CACb;IACEC,IAAI,EAAElH,IAAI;IACVmH,UAAU,EAAE3H,MAAM;IAClB4H,OAAO,EAAE5H,MAAM;IACf6H,UAAU,EAAE;MACVpI,IAAI,EAAEL,QAAQ,CAACG,MAAM,CAACG,KAAK,CAACC,QAAQ;MACpCC,GAAG,EAAE;IACP;EACF,CAAC,CACF;EAED;EACAkI,SAAS,EAAE;IACTC,oBAAoB,EAAE;MACpBtI,IAAI,EAAE8D,MAAM;MACZrC,OAAO,EAAE;IACX,CAAC;IACD8G,yBAAyB,EAAE;MACzBvI,IAAI,EAAEO,MAAM;MACZU,IAAI,EAAE,CAAC,WAAW,EAAE,QAAQ,EAAE,WAAW,CAAC;MAC1CQ,OAAO,EAAE;IACX,CAAC;IACD+G,uBAAuB,EAAE,CAACjI,MAAM,CAAC;IACjCkI,WAAW,EAAE,CAAClI,MAAM,CAAC;IACrBmI,SAAS,EAAE,CAACnI,MAAM;EACpB,CAAC;EAED;EACAkC,QAAQ,EAAE;IACRzC,IAAI,EAAEoC,OAAO;IACbX,OAAO,EAAE;EACX,CAAC;EACDkH,gBAAgB,EAAE5H,IAAI;EACtB6H,kBAAkB,EAAErI,MAAM;EAC1BsI,gBAAgB,EAAE9H,IAAI;EAEtB;EACA+H,QAAQ,EAAE;IACRC,SAAS,EAAExI,MAAM;IACjByI,SAAS,EAAEzI,MAAM;IACjB0I,SAAS,EAAE1I,MAAM;IACjBwH,KAAK,EAAExH;EACT,CAAC;EAED2I,SAAS,EAAE;IACTlJ,IAAI,EAAEe,IAAI;IACVU,OAAO,EAAEV,IAAI,CAACoI;EAChB,CAAC;EACDC,SAAS,EAAE;IACTpJ,IAAI,EAAEe,IAAI;IACVU,OAAO,EAAEV,IAAI,CAACoI;EAChB;AACF,CAAC,EACD;EACEE,UAAU,EAAE,IAAI;EAChBC,MAAM,EAAE;IAAEC,QAAQ,EAAE;EAAK,CAAC;EAC1BC,QAAQ,EAAE;IAAED,QAAQ,EAAE;EAAK;AAC7B,CACF,CAAC;;AAED;AACA1J,YAAY,CAAC4J,OAAO,CAAC,UAAU,CAAC,CAACC,GAAG,CAAC,YAAY;EAC/C,OAAO,GAAG,IAAI,CAACpJ,SAAS,IAAI,IAAI,CAACG,QAAQ,EAAE;AAC7C,CAAC,CAAC;AAEFZ,YAAY,CAAC4J,OAAO,CAAC,KAAK,CAAC,CAACC,GAAG,CAAC,YAAY;EAC1C,IAAI,CAAC,IAAI,CAAC5I,WAAW,EAAE,OAAO,IAAI;EAClC,MAAM6I,KAAK,GAAG,IAAI5I,IAAI,CAAC,CAAC;EACxB,IAAI6I,GAAG,GAAGD,KAAK,CAACE,WAAW,CAAC,CAAC,GAAG,IAAI,CAAC/I,WAAW,CAAC+I,WAAW,CAAC,CAAC;EAC9D,MAAMC,SAAS,GAAGH,KAAK,CAACI,QAAQ,CAAC,CAAC,GAAG,IAAI,CAACjJ,WAAW,CAACiJ,QAAQ,CAAC,CAAC;EAChE,IAAID,SAAS,GAAG,CAAC,IAAKA,SAAS,KAAK,CAAC,IAAIH,KAAK,CAACK,OAAO,CAAC,CAAC,GAAG,IAAI,CAAClJ,WAAW,CAACkJ,OAAO,CAAC,CAAE,EAAE;IACtFJ,GAAG,EAAE;EACP;EACA,OAAOA,GAAG;AACZ,CAAC,CAAC;AAEF/J,YAAY,CAAC4J,OAAO,CAAC,mBAAmB,CAAC,CAACC,GAAG,CAAC,YAAY;EACxD,IAAI,CAAC,IAAI,CAACnI,QAAQ,EAAE,OAAO,CAAC;EAC5B,MAAMoI,KAAK,GAAG,IAAI5I,IAAI,CAAC,CAAC;EACxB,IAAIkJ,KAAK,GAAGN,KAAK,CAACE,WAAW,CAAC,CAAC,GAAG,IAAI,CAACtI,QAAQ,CAACsI,WAAW,CAAC,CAAC;EAC7D,MAAMC,SAAS,GAAGH,KAAK,CAACI,QAAQ,CAAC,CAAC,GAAG,IAAI,CAACxI,QAAQ,CAACwI,QAAQ,CAAC,CAAC;EAC7D,IAAID,SAAS,GAAG,CAAC,EAAE;IACjBG,KAAK,EAAE;EACT;EACA,OAAOA,KAAK;AACd,CAAC,CAAC;AAEFpK,YAAY,CAAC4J,OAAO,CAAC,wBAAwB,CAAC,CAACC,GAAG,CAAC,YAAY;EAC7D,IAAI,CAAC,IAAI,CAAC9H,cAAc,IAAI,CAAC,IAAI,CAACA,cAAc,CAACI,UAAU,EAAE,OAAO,IAAI;EACxE,MAAM2H,KAAK,GAAG,IAAI5I,IAAI,CAAC,CAAC;EACxB,MAAMmJ,QAAQ,GAAG,IAAI,CAACtI,cAAc,CAACI,UAAU,GAAG2H,KAAK;EACvD,MAAMQ,QAAQ,GAAGC,IAAI,CAACC,IAAI,CAACH,QAAQ,IAAI,IAAI,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,CAAC,CAAC;EAC5D,OAAOC,QAAQ;AACjB,CAAC,CAAC;;AAEF;AACAtK,YAAY,CAACyK,KAAK,CAAC;EAAEvK,MAAM,EAAE;AAAE,CAAC,CAAC;AACjCF,YAAY,CAACyK,KAAK,CAAC;EAAEhJ,UAAU,EAAE;AAAE,CAAC,CAAC;AACrCzB,YAAY,CAACyK,KAAK,CAAC;EAAE9I,MAAM,EAAE;AAAE,CAAC,CAAC;AACjC3B,YAAY,CAACyK,KAAK,CAAC;EAAE,2BAA2B,EAAE;AAAE,CAAC,CAAC;AACtDzK,YAAY,CAACyK,KAAK,CAAC;EAAEpB,SAAS,EAAE,CAAC;AAAE,CAAC,CAAC;;AAErC;;AAEA;AACA;AACA;AACArJ,YAAY,CAAC0K,OAAO,CAACC,sBAAsB,GAAG,YAAY;EACxD,MAAM;IACJvG,WAAW,GAAG,CAAC;IACfC,gBAAgB,GAAG,CAAC;IACpBC,oBAAoB,GAAG,CAAC;IACxBC,mBAAmB,GAAG,CAAC;IACvBC,gBAAgB,GAAG,CAAC;IACpBC,eAAe,GAAG;EACpB,CAAC,GAAG,IAAI,CAACV,WAAW;;EAEpB;EACA,MAAM6G,OAAO,GAAG;IACdC,MAAM,EAAE,GAAG;IACXC,WAAW,EAAE,GAAG;IAChBC,eAAe,EAAE,GAAG;IACpBC,cAAc,EAAE,GAAG;IACnBC,WAAW,EAAE,GAAG;IAChBC,UAAU,EAAE;EACd,CAAC;EAED,MAAMC,OAAO,GACX,CAAC/G,WAAW,GAAGwG,OAAO,CAACC,MAAM,GAC3BxG,gBAAgB,GAAGuG,OAAO,CAACE,WAAW,GACtCxG,oBAAoB,GAAGsG,OAAO,CAACG,eAAe,GAC9CxG,mBAAmB,GAAGqG,OAAO,CAACI,cAAc,GAC5CxG,gBAAgB,GAAGoG,OAAO,CAACK,WAAW,GACtCxG,eAAe,GAAGmG,OAAO,CAACM,UAAU,IACtC,GAAG;EAEL,IAAI,CAACnH,WAAW,CAACC,aAAa,GAAGuG,IAAI,CAACa,KAAK,CAACD,OAAO,GAAG,EAAE,CAAC,GAAG,EAAE;EAC9D,OAAO,IAAI,CAACpH,WAAW,CAACC,aAAa;AACvC,CAAC;;AAED;AACA;AACA;AACAhE,YAAY,CAAC0K,OAAO,CAACW,cAAc,GAAG,YAAY;EAChD,IAAI,CAAC,IAAI,CAACtJ,cAAc,IAAI,CAAC,IAAI,CAACA,cAAc,CAACI,UAAU,EAAE;IAC3D,OAAO,KAAK;EACd;EACA,OAAO,IAAI,CAACJ,cAAc,CAACI,UAAU,GAAG,IAAIjB,IAAI,CAAC,CAAC;AACpD,CAAC;;AAED;AACA;AACA;AACAlB,YAAY,CAAC0K,OAAO,CAACY,uBAAuB,GAAG,YAAY;EACzD,MAAMxB,KAAK,GAAG,IAAI5I,IAAI,CAAC,CAAC;EACxB,OAAO,IAAI,CAACsB,cAAc,CAAC+I,MAAM,CAC9BC,IAAI,IAAKA,IAAI,CAAC5I,QAAQ,KAAK,CAAC4I,IAAI,CAACrJ,UAAU,IAAIqJ,IAAI,CAACrJ,UAAU,GAAG2H,KAAK,CACzE,CAAC;AACH,CAAC;;AAED;AACA;AACA;AACA9J,YAAY,CAAC0K,OAAO,CAACe,gBAAgB,GAAG,gBAAgBC,QAAQ,EAAE;EAChE,IAAI,CAACpG,UAAU,CAACC,UAAU,IAAI,CAAC;EAC/B,IAAImG,QAAQ,CAAC/J,MAAM,KAAK,WAAW,EAAE;IACnC,IAAI,CAAC2D,UAAU,CAACE,cAAc,IAAI,CAAC;EACrC;EACA,IAAIkG,QAAQ,CAACC,QAAQ,EAAE;IACrB,IAAI,CAACrG,UAAU,CAACI,gBAAgB,IAAIgG,QAAQ,CAACC,QAAQ;EACvD;EACA,IAAID,QAAQ,CAACE,QAAQ,EAAE;IACrB,IAAI,CAACtG,UAAU,CAACK,qBAAqB,IAAI+F,QAAQ,CAACE,QAAQ;EAC5D;EACA,IAAI,CAACtG,UAAU,CAACQ,YAAY,GAAG,IAAI5E,IAAI,CAAC,CAAC;EACzC,MAAM,IAAI,CAAC2K,IAAI,CAAC,CAAC;AACnB,CAAC;;AAED;AACA;AACA;AACA7L,YAAY,CAAC0K,OAAO,CAACoB,YAAY,GAAG,gBAAgBC,aAAa,EAAE;EACjE,IAAI,IAAI,CAACpH,UAAU,CAACoH,aAAa,CAAC,KAAKC,SAAS,EAAE;IAChD,IAAI,CAACrH,UAAU,CAACoH,aAAa,CAAC,IAAI,CAAC;EACrC;EACA,IAAI,CAACpH,UAAU,CAACS,eAAe,IAAI,CAAC;EACpC,IAAI,CAACT,UAAU,CAACU,iBAAiB,GAAG,IAAInE,IAAI,CAAC,CAAC;EAC9C,MAAM,IAAI,CAAC2K,IAAI,CAAC,CAAC;AACnB,CAAC;AAEDI,MAAM,CAACC,OAAO,GAAGpM,QAAQ,CAACqM,KAAK,CAAC,QAAQ,EAAEnM,YAAY,CAAC","ignoreList":[]}