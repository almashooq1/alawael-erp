175924040b69444ba03e68e0ec5f700f
/**
 * Employee Model (HR)
 * Modular, extensible employee profile for HR system
 */
const mongoose = require('mongoose');
const EmployeeSchema = new mongoose.Schema({
  userId: {
    type: mongoose.Schema.Types.ObjectId,
    ref: 'User',
    required: true,
    unique: true
  },
  personalInfo: {
    firstName: String,
    lastName: String,
    dateOfBirth: Date,
    nationality: String,
    nationalId: String,
    email: String,
    phone: String,
    address: String,
    city: String,
    emergencyContact: {
      name: String,
      relationship: String,
      phone: String
    }
  },
  jobInfo: {
    department: String,
    position: String,
    employmentType: {
      type: String,
      enum: ['دائم', 'عقد', 'متدرب', 'جزئي']
    },
    joinDate: Date,
    reportingTo: {
      type: mongoose.Schema.Types.ObjectId,
      ref: 'Employee'
    },
    salary: Number,
    salaryGrade: String,
    workLocation: String
  },
  status: {
    type: String,
    enum: ['active', 'inactive', 'on_leave', 'terminated'],
    default: 'active'
  },
  terminationReason: String,
  terminationDate: Date,
  createdAt: {
    type: Date,
    default: Date.now
  },
  updatedAt: {
    type: Date,
    default: Date.now
  },
  createdBy: mongoose.Schema.Types.ObjectId,
  updatedBy: mongoose.Schema.Types.ObjectId
});
EmployeeSchema.index({
  'personalInfo.email': 1
});
EmployeeSchema.index({
  'jobInfo.department': 1
});
EmployeeSchema.index({
  'jobInfo.position': 1
});
EmployeeSchema.index({
  status: 1
});
module.exports = mongoose.model('Employee', EmployeeSchema);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJtb25nb29zZSIsInJlcXVpcmUiLCJFbXBsb3llZVNjaGVtYSIsIlNjaGVtYSIsInVzZXJJZCIsInR5cGUiLCJUeXBlcyIsIk9iamVjdElkIiwicmVmIiwicmVxdWlyZWQiLCJ1bmlxdWUiLCJwZXJzb25hbEluZm8iLCJmaXJzdE5hbWUiLCJTdHJpbmciLCJsYXN0TmFtZSIsImRhdGVPZkJpcnRoIiwiRGF0ZSIsIm5hdGlvbmFsaXR5IiwibmF0aW9uYWxJZCIsImVtYWlsIiwicGhvbmUiLCJhZGRyZXNzIiwiY2l0eSIsImVtZXJnZW5jeUNvbnRhY3QiLCJuYW1lIiwicmVsYXRpb25zaGlwIiwiam9iSW5mbyIsImRlcGFydG1lbnQiLCJwb3NpdGlvbiIsImVtcGxveW1lbnRUeXBlIiwiZW51bSIsImpvaW5EYXRlIiwicmVwb3J0aW5nVG8iLCJzYWxhcnkiLCJOdW1iZXIiLCJzYWxhcnlHcmFkZSIsIndvcmtMb2NhdGlvbiIsInN0YXR1cyIsImRlZmF1bHQiLCJ0ZXJtaW5hdGlvblJlYXNvbiIsInRlcm1pbmF0aW9uRGF0ZSIsImNyZWF0ZWRBdCIsIm5vdyIsInVwZGF0ZWRBdCIsImNyZWF0ZWRCeSIsInVwZGF0ZWRCeSIsImluZGV4IiwibW9kdWxlIiwiZXhwb3J0cyIsIm1vZGVsIl0sInNvdXJjZXMiOlsiRW1wbG95ZWUuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXHJcbiAqIEVtcGxveWVlIE1vZGVsIChIUilcclxuICogTW9kdWxhciwgZXh0ZW5zaWJsZSBlbXBsb3llZSBwcm9maWxlIGZvciBIUiBzeXN0ZW1cclxuICovXHJcbmNvbnN0IG1vbmdvb3NlID0gcmVxdWlyZSgnbW9uZ29vc2UnKTtcclxuXHJcbmNvbnN0IEVtcGxveWVlU2NoZW1hID0gbmV3IG1vbmdvb3NlLlNjaGVtYSh7XHJcbiAgdXNlcklkOiB7XHJcbiAgICB0eXBlOiBtb25nb29zZS5TY2hlbWEuVHlwZXMuT2JqZWN0SWQsXHJcbiAgICByZWY6ICdVc2VyJyxcclxuICAgIHJlcXVpcmVkOiB0cnVlLFxyXG4gICAgdW5pcXVlOiB0cnVlLFxyXG4gIH0sXHJcbiAgcGVyc29uYWxJbmZvOiB7XHJcbiAgICBmaXJzdE5hbWU6IFN0cmluZyxcclxuICAgIGxhc3ROYW1lOiBTdHJpbmcsXHJcbiAgICBkYXRlT2ZCaXJ0aDogRGF0ZSxcclxuICAgIG5hdGlvbmFsaXR5OiBTdHJpbmcsXHJcbiAgICBuYXRpb25hbElkOiBTdHJpbmcsXHJcbiAgICBlbWFpbDogU3RyaW5nLFxyXG4gICAgcGhvbmU6IFN0cmluZyxcclxuICAgIGFkZHJlc3M6IFN0cmluZyxcclxuICAgIGNpdHk6IFN0cmluZyxcclxuICAgIGVtZXJnZW5jeUNvbnRhY3Q6IHtcclxuICAgICAgbmFtZTogU3RyaW5nLFxyXG4gICAgICByZWxhdGlvbnNoaXA6IFN0cmluZyxcclxuICAgICAgcGhvbmU6IFN0cmluZyxcclxuICAgIH0sXHJcbiAgfSxcclxuICBqb2JJbmZvOiB7XHJcbiAgICBkZXBhcnRtZW50OiBTdHJpbmcsXHJcbiAgICBwb3NpdGlvbjogU3RyaW5nLFxyXG4gICAgZW1wbG95bWVudFR5cGU6IHsgdHlwZTogU3RyaW5nLCBlbnVtOiBbJ9iv2KfYptmFJywgJ9i52YLYrycsICfZhdiq2K/YsdioJywgJ9is2LLYptmKJ10gfSxcclxuICAgIGpvaW5EYXRlOiBEYXRlLFxyXG4gICAgcmVwb3J0aW5nVG86IHsgdHlwZTogbW9uZ29vc2UuU2NoZW1hLlR5cGVzLk9iamVjdElkLCByZWY6ICdFbXBsb3llZScgfSxcclxuICAgIHNhbGFyeTogTnVtYmVyLFxyXG4gICAgc2FsYXJ5R3JhZGU6IFN0cmluZyxcclxuICAgIHdvcmtMb2NhdGlvbjogU3RyaW5nLFxyXG4gIH0sXHJcbiAgc3RhdHVzOiB7XHJcbiAgICB0eXBlOiBTdHJpbmcsXHJcbiAgICBlbnVtOiBbJ2FjdGl2ZScsICdpbmFjdGl2ZScsICdvbl9sZWF2ZScsICd0ZXJtaW5hdGVkJ10sXHJcbiAgICBkZWZhdWx0OiAnYWN0aXZlJyxcclxuICB9LFxyXG4gIHRlcm1pbmF0aW9uUmVhc29uOiBTdHJpbmcsXHJcbiAgdGVybWluYXRpb25EYXRlOiBEYXRlLFxyXG4gIGNyZWF0ZWRBdDogeyB0eXBlOiBEYXRlLCBkZWZhdWx0OiBEYXRlLm5vdyB9LFxyXG4gIHVwZGF0ZWRBdDogeyB0eXBlOiBEYXRlLCBkZWZhdWx0OiBEYXRlLm5vdyB9LFxyXG4gIGNyZWF0ZWRCeTogbW9uZ29vc2UuU2NoZW1hLlR5cGVzLk9iamVjdElkLFxyXG4gIHVwZGF0ZWRCeTogbW9uZ29vc2UuU2NoZW1hLlR5cGVzLk9iamVjdElkLFxyXG59KTtcclxuXHJcbkVtcGxveWVlU2NoZW1hLmluZGV4KHsgJ3BlcnNvbmFsSW5mby5lbWFpbCc6IDEgfSk7XHJcbkVtcGxveWVlU2NoZW1hLmluZGV4KHsgJ2pvYkluZm8uZGVwYXJ0bWVudCc6IDEgfSk7XHJcbkVtcGxveWVlU2NoZW1hLmluZGV4KHsgJ2pvYkluZm8ucG9zaXRpb24nOiAxIH0pO1xyXG5FbXBsb3llZVNjaGVtYS5pbmRleCh7IHN0YXR1czogMSB9KTtcclxuXHJcbm1vZHVsZS5leHBvcnRzID0gbW9uZ29vc2UubW9kZWwoJ0VtcGxveWVlJywgRW1wbG95ZWVTY2hlbWEpO1xyXG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTUEsUUFBUSxHQUFHQyxPQUFPLENBQUMsVUFBVSxDQUFDO0FBRXBDLE1BQU1DLGNBQWMsR0FBRyxJQUFJRixRQUFRLENBQUNHLE1BQU0sQ0FBQztFQUN6Q0MsTUFBTSxFQUFFO0lBQ05DLElBQUksRUFBRUwsUUFBUSxDQUFDRyxNQUFNLENBQUNHLEtBQUssQ0FBQ0MsUUFBUTtJQUNwQ0MsR0FBRyxFQUFFLE1BQU07SUFDWEMsUUFBUSxFQUFFLElBQUk7SUFDZEMsTUFBTSxFQUFFO0VBQ1YsQ0FBQztFQUNEQyxZQUFZLEVBQUU7SUFDWkMsU0FBUyxFQUFFQyxNQUFNO0lBQ2pCQyxRQUFRLEVBQUVELE1BQU07SUFDaEJFLFdBQVcsRUFBRUMsSUFBSTtJQUNqQkMsV0FBVyxFQUFFSixNQUFNO0lBQ25CSyxVQUFVLEVBQUVMLE1BQU07SUFDbEJNLEtBQUssRUFBRU4sTUFBTTtJQUNiTyxLQUFLLEVBQUVQLE1BQU07SUFDYlEsT0FBTyxFQUFFUixNQUFNO0lBQ2ZTLElBQUksRUFBRVQsTUFBTTtJQUNaVSxnQkFBZ0IsRUFBRTtNQUNoQkMsSUFBSSxFQUFFWCxNQUFNO01BQ1pZLFlBQVksRUFBRVosTUFBTTtNQUNwQk8sS0FBSyxFQUFFUDtJQUNUO0VBQ0YsQ0FBQztFQUNEYSxPQUFPLEVBQUU7SUFDUEMsVUFBVSxFQUFFZCxNQUFNO0lBQ2xCZSxRQUFRLEVBQUVmLE1BQU07SUFDaEJnQixjQUFjLEVBQUU7TUFBRXhCLElBQUksRUFBRVEsTUFBTTtNQUFFaUIsSUFBSSxFQUFFLENBQUMsTUFBTSxFQUFFLEtBQUssRUFBRSxPQUFPLEVBQUUsTUFBTTtJQUFFLENBQUM7SUFDeEVDLFFBQVEsRUFBRWYsSUFBSTtJQUNkZ0IsV0FBVyxFQUFFO01BQUUzQixJQUFJLEVBQUVMLFFBQVEsQ0FBQ0csTUFBTSxDQUFDRyxLQUFLLENBQUNDLFFBQVE7TUFBRUMsR0FBRyxFQUFFO0lBQVcsQ0FBQztJQUN0RXlCLE1BQU0sRUFBRUMsTUFBTTtJQUNkQyxXQUFXLEVBQUV0QixNQUFNO0lBQ25CdUIsWUFBWSxFQUFFdkI7RUFDaEIsQ0FBQztFQUNEd0IsTUFBTSxFQUFFO0lBQ05oQyxJQUFJLEVBQUVRLE1BQU07SUFDWmlCLElBQUksRUFBRSxDQUFDLFFBQVEsRUFBRSxVQUFVLEVBQUUsVUFBVSxFQUFFLFlBQVksQ0FBQztJQUN0RFEsT0FBTyxFQUFFO0VBQ1gsQ0FBQztFQUNEQyxpQkFBaUIsRUFBRTFCLE1BQU07RUFDekIyQixlQUFlLEVBQUV4QixJQUFJO0VBQ3JCeUIsU0FBUyxFQUFFO0lBQUVwQyxJQUFJLEVBQUVXLElBQUk7SUFBRXNCLE9BQU8sRUFBRXRCLElBQUksQ0FBQzBCO0VBQUksQ0FBQztFQUM1Q0MsU0FBUyxFQUFFO0lBQUV0QyxJQUFJLEVBQUVXLElBQUk7SUFBRXNCLE9BQU8sRUFBRXRCLElBQUksQ0FBQzBCO0VBQUksQ0FBQztFQUM1Q0UsU0FBUyxFQUFFNUMsUUFBUSxDQUFDRyxNQUFNLENBQUNHLEtBQUssQ0FBQ0MsUUFBUTtFQUN6Q3NDLFNBQVMsRUFBRTdDLFFBQVEsQ0FBQ0csTUFBTSxDQUFDRyxLQUFLLENBQUNDO0FBQ25DLENBQUMsQ0FBQztBQUVGTCxjQUFjLENBQUM0QyxLQUFLLENBQUM7RUFBRSxvQkFBb0IsRUFBRTtBQUFFLENBQUMsQ0FBQztBQUNqRDVDLGNBQWMsQ0FBQzRDLEtBQUssQ0FBQztFQUFFLG9CQUFvQixFQUFFO0FBQUUsQ0FBQyxDQUFDO0FBQ2pENUMsY0FBYyxDQUFDNEMsS0FBSyxDQUFDO0VBQUUsa0JBQWtCLEVBQUU7QUFBRSxDQUFDLENBQUM7QUFDL0M1QyxjQUFjLENBQUM0QyxLQUFLLENBQUM7RUFBRVQsTUFBTSxFQUFFO0FBQUUsQ0FBQyxDQUFDO0FBRW5DVSxNQUFNLENBQUNDLE9BQU8sR0FBR2hELFFBQVEsQ0FBQ2lELEtBQUssQ0FBQyxVQUFVLEVBQUUvQyxjQUFjLENBQUMiLCJpZ25vcmVMaXN0IjpbXX0=