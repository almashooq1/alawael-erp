cd3ea556af3ef4e87a29ed36dcd64952
/**
 * Jest Test Setup File
 * Initialize test environment and global configuration
 */

// =============================================
// ENVIRONMENT SETUP
// =============================================

// Set test environment
process.env.NODE_ENV = 'test';

// Configure environment variables for tests
process.env.BRANCH_API_URL = process.env.BRANCH_API_URL || 'http://localhost:5000/api/v2';
process.env.BRANCH_API_KEY = process.env.BRANCH_API_KEY || 'test-api-key-123';
process.env.SYNC_INTERVAL = process.env.SYNC_INTERVAL || '60000';
process.env.ENABLE_CONTINUOUS_SYNC = process.env.ENABLE_CONTINUOUS_SYNC || 'false';

// =============================================
// GLOBAL TEST TIMEOUT
// =============================================

jest.setTimeout(30000);

// =============================================
// GLOBAL FETCH MOCK
// =============================================

global.fetch = jest.fn();

// Default fetch mock implementation
global.fetch.mockImplementation(() => Promise.resolve({
  ok: true,
  status: 200,
  json: async () => ({})
}));

// =============================================
// GLOBAL ERROR HANDLING
// =============================================

// Suppress console errors in tests (comment out to see errors)
const originalConsoleError = console.error;
const originalConsoleWarn = console.warn;

// Only suppress specific patterns
console.error = (...args) => {
  const message = args[0]?.toString?.() || '';

  // Allow test-related errors
  if (message.includes('Error') || message.includes('Test')) {
    originalConsoleError(...args);
  }
  // Suppress specific known warnings
  else if (message.includes('ExperimentalWarning')) {
    // Suppress experimental warnings
  }
  // Log everything else
  else {
    originalConsoleError(...args);
  }
};
console.warn = (...args) => {
  const message = args[0]?.toString?.() || '';

  // Log all warnings
  originalConsoleWarn(...args);
};

// =============================================
// GLOBAL TEST UTILITIES
// =============================================

/**
 * Create a mock successful response
 */
global.mockSuccessResponse = (data = {}, status = 200) => ({
  ok: status < 400,
  status,
  json: async () => ({
    success: true,
    ...data
  })
});

/**
 * Create a mock error response
 */
global.mockErrorResponse = (error = 'Error', status = 500) => ({
  ok: false,
  status,
  json: async () => ({
    success: false,
    error
  })
});

/**
 * Create a mock timeout
 */
global.mockTimeout = () => Promise.reject(new Error('Timeout'));

/**
 * Reset all mocks
 */
global.resetMocks = () => {
  jest.clearAllMocks();
};

// =============================================
// GLOBAL TEST MATCHERS
// =============================================

expect.extend({
  /**
   * Custom matcher for checking if response is in valid ERP format
   */
  toBeValidERPResponse(received) {
    const pass = received && typeof received === 'object' && 'success' in received && 'timestamp' in received;
    return {
      pass,
      message: () => pass ? `Expected response not to be valid ERP format` : `Expected response to be valid ERP format with 'success' and 'timestamp' properties`
    };
  },
  /**
   * Custom matcher for checking if value is within range
   */
  toBeWithinRange(received, floor, ceiling) {
    const pass = received >= floor && received <= ceiling;
    return {
      pass,
      message: () => pass ? `Expected ${received} not to be within range ${floor} - ${ceiling}` : `Expected ${received} to be within range ${floor} - ${ceiling}`
    };
  },
  /**
   * Custom matcher for branch status validation
   */
  toBeValidBranchStatus(received) {
    const validStatuses = ['ACTIVE', 'INACTIVE', 'CLOSED', 'SUSPENDED', 'PLANNED'];
    const pass = validStatuses.includes(received);
    return {
      pass,
      message: () => pass ? `Expected status not to be valid` : `Expected status to be one of: ${validStatuses.join(', ')}, but got: ${received}`
    };
  }
});

// =============================================
// ASSERTION HELPERS
// =============================================

/**
 * Assert response structure
 */
global.assertResponseStructure = (response, expectedFields = []) => {
  expect(response).toBeDefined();
  expect(response).toHaveProperty('timestamp');
  expectedFields.forEach(field => {
    expect(response).toHaveProperty(field);
  });
};

/**
 * Assert error structure
 */
global.assertErrorStructure = response => {
  expect(response).toBeDefined();
  expect(response).toHaveProperty('error');
  expect(response).toHaveProperty('timestamp');
};

/**
 * Assert performance within SLA
 */
global.assertPerformanceSLA = (duration, slaMs, operation = 'Operation') => {
  expect(duration).toBeLessThan(slaMs);
  console.log(`‚úì ${operation} completed in ${duration}ms (SLA: ${slaMs}ms)`);
};

// =============================================
// MEMORY AND CLEANUP
// =============================================

// Track registered cleanup functions
const cleanupFunctions = [];

/**
 * Register cleanup function
 */
global.registerCleanup = fn => {
  cleanupFunctions.push(fn);
};

// Run cleanup after each test
afterEach(() => {
  cleanupFunctions.forEach(fn => {
    try {
      fn();
    } catch (error) {
      console.warn('Cleanup error:', error);
    }
  });
  cleanupFunctions.length = 0;
  jest.clearAllMocks();
});

// =============================================
// PERFORMANCE MONITORING
// =============================================

let testStartTime;
beforeEach(() => {
  testStartTime = performance.now();
});
afterEach(() => {
  const testDuration = performance.now() - testStartTime;
  const testName = expect.getState().currentTestName;
  if (testDuration > 1000) {
    console.warn(`‚ö†Ô∏è Slow test "${testName}": ${testDuration.toFixed(2)}ms`);
  }
});

// =============================================
// LOGGING
// =============================================

// Log test suite information
console.log('');
console.log('‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê');
console.log('üß™ Jest Test Suite Initialized');
console.log('‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê');
console.log(`Environment: ${process.env.NODE_ENV}`);
console.log(`Branch API: ${process.env.BRANCH_API_URL}`);
console.log(`Timeout: ${jest.getTestTimeout()}ms`);
console.log('‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê');
console.log('');

// =============================================
// ERROR TRACKING
// =============================================

// Track uncaught exceptions
process.on('uncaughtException', error => {
  console.error('Uncaught Exception:', error);
});

// Track unhandled promise rejections
process.on('unhandledRejection', (reason, promise) => {
  console.error('Unhandled Rejection at:', promise, 'reason:', reason);
});

// =============================================
// CLEANUP ON EXIT
// =============================================

// Ensure proper cleanup on process exit
afterAll(async () => {
  // Clear all timeouts
  jest.clearAllTimers();

  // Clear all intervals
  jest.clearAllTimers();

  // Reset mocks
  jest.resetAllMocks();
  console.log('');
  console.log('‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê');
  console.log('‚úì Test suite cleanup completed');
  console.log('‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê');
  console.log('');
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJwcm9jZXNzIiwiZW52IiwiTk9ERV9FTlYiLCJCUkFOQ0hfQVBJX1VSTCIsIkJSQU5DSF9BUElfS0VZIiwiU1lOQ19JTlRFUlZBTCIsIkVOQUJMRV9DT05USU5VT1VTX1NZTkMiLCJqZXN0Iiwic2V0VGltZW91dCIsImdsb2JhbCIsImZldGNoIiwiZm4iLCJtb2NrSW1wbGVtZW50YXRpb24iLCJQcm9taXNlIiwicmVzb2x2ZSIsIm9rIiwic3RhdHVzIiwianNvbiIsIm9yaWdpbmFsQ29uc29sZUVycm9yIiwiY29uc29sZSIsImVycm9yIiwib3JpZ2luYWxDb25zb2xlV2FybiIsIndhcm4iLCJhcmdzIiwibWVzc2FnZSIsInRvU3RyaW5nIiwiaW5jbHVkZXMiLCJtb2NrU3VjY2Vzc1Jlc3BvbnNlIiwiZGF0YSIsInN1Y2Nlc3MiLCJtb2NrRXJyb3JSZXNwb25zZSIsIm1vY2tUaW1lb3V0IiwicmVqZWN0IiwiRXJyb3IiLCJyZXNldE1vY2tzIiwiY2xlYXJBbGxNb2NrcyIsImV4cGVjdCIsImV4dGVuZCIsInRvQmVWYWxpZEVSUFJlc3BvbnNlIiwicmVjZWl2ZWQiLCJwYXNzIiwidG9CZVdpdGhpblJhbmdlIiwiZmxvb3IiLCJjZWlsaW5nIiwidG9CZVZhbGlkQnJhbmNoU3RhdHVzIiwidmFsaWRTdGF0dXNlcyIsImpvaW4iLCJhc3NlcnRSZXNwb25zZVN0cnVjdHVyZSIsInJlc3BvbnNlIiwiZXhwZWN0ZWRGaWVsZHMiLCJ0b0JlRGVmaW5lZCIsInRvSGF2ZVByb3BlcnR5IiwiZm9yRWFjaCIsImZpZWxkIiwiYXNzZXJ0RXJyb3JTdHJ1Y3R1cmUiLCJhc3NlcnRQZXJmb3JtYW5jZVNMQSIsImR1cmF0aW9uIiwic2xhTXMiLCJvcGVyYXRpb24iLCJ0b0JlTGVzc1RoYW4iLCJsb2ciLCJjbGVhbnVwRnVuY3Rpb25zIiwicmVnaXN0ZXJDbGVhbnVwIiwicHVzaCIsImFmdGVyRWFjaCIsImxlbmd0aCIsInRlc3RTdGFydFRpbWUiLCJiZWZvcmVFYWNoIiwicGVyZm9ybWFuY2UiLCJub3ciLCJ0ZXN0RHVyYXRpb24iLCJ0ZXN0TmFtZSIsImdldFN0YXRlIiwiY3VycmVudFRlc3ROYW1lIiwidG9GaXhlZCIsImdldFRlc3RUaW1lb3V0Iiwib24iLCJyZWFzb24iLCJwcm9taXNlIiwiYWZ0ZXJBbGwiLCJjbGVhckFsbFRpbWVycyIsInJlc2V0QWxsTW9ja3MiXSwic291cmNlcyI6WyJzZXR1cC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICogSmVzdCBUZXN0IFNldHVwIEZpbGVcclxuICogSW5pdGlhbGl6ZSB0ZXN0IGVudmlyb25tZW50IGFuZCBnbG9iYWwgY29uZmlndXJhdGlvblxyXG4gKi9cclxuXHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4vLyBFTlZJUk9OTUVOVCBTRVRVUFxyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHJcbi8vIFNldCB0ZXN0IGVudmlyb25tZW50XHJcbnByb2Nlc3MuZW52Lk5PREVfRU5WID0gJ3Rlc3QnO1xyXG5cclxuLy8gQ29uZmlndXJlIGVudmlyb25tZW50IHZhcmlhYmxlcyBmb3IgdGVzdHNcclxucHJvY2Vzcy5lbnYuQlJBTkNIX0FQSV9VUkwgPSBwcm9jZXNzLmVudi5CUkFOQ0hfQVBJX1VSTCB8fCAnaHR0cDovL2xvY2FsaG9zdDo1MDAwL2FwaS92Mic7XHJcbnByb2Nlc3MuZW52LkJSQU5DSF9BUElfS0VZID0gcHJvY2Vzcy5lbnYuQlJBTkNIX0FQSV9LRVkgfHwgJ3Rlc3QtYXBpLWtleS0xMjMnO1xyXG5wcm9jZXNzLmVudi5TWU5DX0lOVEVSVkFMID0gcHJvY2Vzcy5lbnYuU1lOQ19JTlRFUlZBTCB8fCAnNjAwMDAnO1xyXG5wcm9jZXNzLmVudi5FTkFCTEVfQ09OVElOVU9VU19TWU5DID0gcHJvY2Vzcy5lbnYuRU5BQkxFX0NPTlRJTlVPVVNfU1lOQyB8fCAnZmFsc2UnO1xyXG5cclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbi8vIEdMT0JBTCBURVNUIFRJTUVPVVRcclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblxyXG5qZXN0LnNldFRpbWVvdXQoMzAwMDApO1xyXG5cclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbi8vIEdMT0JBTCBGRVRDSCBNT0NLXHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cclxuZ2xvYmFsLmZldGNoID0gamVzdC5mbigpO1xyXG5cclxuLy8gRGVmYXVsdCBmZXRjaCBtb2NrIGltcGxlbWVudGF0aW9uXHJcbmdsb2JhbC5mZXRjaC5tb2NrSW1wbGVtZW50YXRpb24oKCkgPT5cclxuICBQcm9taXNlLnJlc29sdmUoe1xyXG4gICAgb2s6IHRydWUsXHJcbiAgICBzdGF0dXM6IDIwMCxcclxuICAgIGpzb246IGFzeW5jICgpID0+ICh7fSlcclxuICB9KVxyXG4pO1xyXG5cclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbi8vIEdMT0JBTCBFUlJPUiBIQU5ETElOR1xyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHJcbi8vIFN1cHByZXNzIGNvbnNvbGUgZXJyb3JzIGluIHRlc3RzIChjb21tZW50IG91dCB0byBzZWUgZXJyb3JzKVxyXG5jb25zdCBvcmlnaW5hbENvbnNvbGVFcnJvciA9IGNvbnNvbGUuZXJyb3I7XHJcbmNvbnN0IG9yaWdpbmFsQ29uc29sZVdhcm4gPSBjb25zb2xlLndhcm47XHJcblxyXG4vLyBPbmx5IHN1cHByZXNzIHNwZWNpZmljIHBhdHRlcm5zXHJcbmNvbnNvbGUuZXJyb3IgPSAoLi4uYXJncykgPT4ge1xyXG4gIGNvbnN0IG1lc3NhZ2UgPSBhcmdzWzBdPy50b1N0cmluZz8uKCkgfHwgJyc7XHJcbiAgXHJcbiAgLy8gQWxsb3cgdGVzdC1yZWxhdGVkIGVycm9yc1xyXG4gIGlmIChtZXNzYWdlLmluY2x1ZGVzKCdFcnJvcicpIHx8IG1lc3NhZ2UuaW5jbHVkZXMoJ1Rlc3QnKSkge1xyXG4gICAgb3JpZ2luYWxDb25zb2xlRXJyb3IoLi4uYXJncyk7XHJcbiAgfVxyXG4gIC8vIFN1cHByZXNzIHNwZWNpZmljIGtub3duIHdhcm5pbmdzXHJcbiAgZWxzZSBpZiAobWVzc2FnZS5pbmNsdWRlcygnRXhwZXJpbWVudGFsV2FybmluZycpKSB7XHJcbiAgICAvLyBTdXBwcmVzcyBleHBlcmltZW50YWwgd2FybmluZ3NcclxuICB9XHJcbiAgLy8gTG9nIGV2ZXJ5dGhpbmcgZWxzZVxyXG4gIGVsc2Uge1xyXG4gICAgb3JpZ2luYWxDb25zb2xlRXJyb3IoLi4uYXJncyk7XHJcbiAgfVxyXG59O1xyXG5cclxuY29uc29sZS53YXJuID0gKC4uLmFyZ3MpID0+IHtcclxuICBjb25zdCBtZXNzYWdlID0gYXJnc1swXT8udG9TdHJpbmc/LigpIHx8ICcnO1xyXG4gIFxyXG4gIC8vIExvZyBhbGwgd2FybmluZ3NcclxuICBvcmlnaW5hbENvbnNvbGVXYXJuKC4uLmFyZ3MpO1xyXG59O1xyXG5cclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbi8vIEdMT0JBTCBURVNUIFVUSUxJVElFU1xyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHJcbi8qKlxyXG4gKiBDcmVhdGUgYSBtb2NrIHN1Y2Nlc3NmdWwgcmVzcG9uc2VcclxuICovXHJcbmdsb2JhbC5tb2NrU3VjY2Vzc1Jlc3BvbnNlID0gKGRhdGEgPSB7fSwgc3RhdHVzID0gMjAwKSA9PiAoe1xyXG4gIG9rOiBzdGF0dXMgPCA0MDAsXHJcbiAgc3RhdHVzLFxyXG4gIGpzb246IGFzeW5jICgpID0+ICh7IHN1Y2Nlc3M6IHRydWUsIC4uLmRhdGEgfSlcclxufSk7XHJcblxyXG4vKipcclxuICogQ3JlYXRlIGEgbW9jayBlcnJvciByZXNwb25zZVxyXG4gKi9cclxuZ2xvYmFsLm1vY2tFcnJvclJlc3BvbnNlID0gKGVycm9yID0gJ0Vycm9yJywgc3RhdHVzID0gNTAwKSA9PiAoe1xyXG4gIG9rOiBmYWxzZSxcclxuICBzdGF0dXMsXHJcbiAganNvbjogYXN5bmMgKCkgPT4gKHsgc3VjY2VzczogZmFsc2UsIGVycm9yIH0pXHJcbn0pO1xyXG5cclxuLyoqXHJcbiAqIENyZWF0ZSBhIG1vY2sgdGltZW91dFxyXG4gKi9cclxuZ2xvYmFsLm1vY2tUaW1lb3V0ID0gKCkgPT5cclxuICBQcm9taXNlLnJlamVjdChuZXcgRXJyb3IoJ1RpbWVvdXQnKSk7XHJcblxyXG4vKipcclxuICogUmVzZXQgYWxsIG1vY2tzXHJcbiAqL1xyXG5nbG9iYWwucmVzZXRNb2NrcyA9ICgpID0+IHtcclxuICBqZXN0LmNsZWFyQWxsTW9ja3MoKTtcclxufTtcclxuXHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4vLyBHTE9CQUwgVEVTVCBNQVRDSEVSU1xyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHJcbmV4cGVjdC5leHRlbmQoe1xyXG4gIC8qKlxyXG4gICAqIEN1c3RvbSBtYXRjaGVyIGZvciBjaGVja2luZyBpZiByZXNwb25zZSBpcyBpbiB2YWxpZCBFUlAgZm9ybWF0XHJcbiAgICovXHJcbiAgdG9CZVZhbGlkRVJQUmVzcG9uc2UocmVjZWl2ZWQpIHtcclxuICAgIGNvbnN0IHBhc3MgPVxyXG4gICAgICByZWNlaXZlZCAmJlxyXG4gICAgICB0eXBlb2YgcmVjZWl2ZWQgPT09ICdvYmplY3QnICYmXHJcbiAgICAgICdzdWNjZXNzJyBpbiByZWNlaXZlZCAmJlxyXG4gICAgICAndGltZXN0YW1wJyBpbiByZWNlaXZlZDtcclxuXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBwYXNzLFxyXG4gICAgICBtZXNzYWdlOiAoKSA9PlxyXG4gICAgICAgIHBhc3NcclxuICAgICAgICAgID8gYEV4cGVjdGVkIHJlc3BvbnNlIG5vdCB0byBiZSB2YWxpZCBFUlAgZm9ybWF0YFxyXG4gICAgICAgICAgOiBgRXhwZWN0ZWQgcmVzcG9uc2UgdG8gYmUgdmFsaWQgRVJQIGZvcm1hdCB3aXRoICdzdWNjZXNzJyBhbmQgJ3RpbWVzdGFtcCcgcHJvcGVydGllc2BcclxuICAgIH07XHJcbiAgfSxcclxuXHJcbiAgLyoqXHJcbiAgICogQ3VzdG9tIG1hdGNoZXIgZm9yIGNoZWNraW5nIGlmIHZhbHVlIGlzIHdpdGhpbiByYW5nZVxyXG4gICAqL1xyXG4gIHRvQmVXaXRoaW5SYW5nZShyZWNlaXZlZCwgZmxvb3IsIGNlaWxpbmcpIHtcclxuICAgIGNvbnN0IHBhc3MgPSByZWNlaXZlZCA+PSBmbG9vciAmJiByZWNlaXZlZCA8PSBjZWlsaW5nO1xyXG5cclxuICAgIHJldHVybiB7XHJcbiAgICAgIHBhc3MsXHJcbiAgICAgIG1lc3NhZ2U6ICgpID0+XHJcbiAgICAgICAgcGFzc1xyXG4gICAgICAgICAgPyBgRXhwZWN0ZWQgJHtyZWNlaXZlZH0gbm90IHRvIGJlIHdpdGhpbiByYW5nZSAke2Zsb29yfSAtICR7Y2VpbGluZ31gXHJcbiAgICAgICAgICA6IGBFeHBlY3RlZCAke3JlY2VpdmVkfSB0byBiZSB3aXRoaW4gcmFuZ2UgJHtmbG9vcn0gLSAke2NlaWxpbmd9YFxyXG4gICAgfTtcclxuICB9LFxyXG5cclxuICAvKipcclxuICAgKiBDdXN0b20gbWF0Y2hlciBmb3IgYnJhbmNoIHN0YXR1cyB2YWxpZGF0aW9uXHJcbiAgICovXHJcbiAgdG9CZVZhbGlkQnJhbmNoU3RhdHVzKHJlY2VpdmVkKSB7XHJcbiAgICBjb25zdCB2YWxpZFN0YXR1c2VzID0gWydBQ1RJVkUnLCAnSU5BQ1RJVkUnLCAnQ0xPU0VEJywgJ1NVU1BFTkRFRCcsICdQTEFOTkVEJ107XHJcbiAgICBjb25zdCBwYXNzID0gdmFsaWRTdGF0dXNlcy5pbmNsdWRlcyhyZWNlaXZlZCk7XHJcblxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgcGFzcyxcclxuICAgICAgbWVzc2FnZTogKCkgPT5cclxuICAgICAgICBwYXNzXHJcbiAgICAgICAgICA/IGBFeHBlY3RlZCBzdGF0dXMgbm90IHRvIGJlIHZhbGlkYFxyXG4gICAgICAgICAgOiBgRXhwZWN0ZWQgc3RhdHVzIHRvIGJlIG9uZSBvZjogJHt2YWxpZFN0YXR1c2VzLmpvaW4oJywgJyl9LCBidXQgZ290OiAke3JlY2VpdmVkfWBcclxuICAgIH07XHJcbiAgfVxyXG59KTtcclxuXHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4vLyBBU1NFUlRJT04gSEVMUEVSU1xyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHJcbi8qKlxyXG4gKiBBc3NlcnQgcmVzcG9uc2Ugc3RydWN0dXJlXHJcbiAqL1xyXG5nbG9iYWwuYXNzZXJ0UmVzcG9uc2VTdHJ1Y3R1cmUgPSAocmVzcG9uc2UsIGV4cGVjdGVkRmllbGRzID0gW10pID0+IHtcclxuICBleHBlY3QocmVzcG9uc2UpLnRvQmVEZWZpbmVkKCk7XHJcbiAgZXhwZWN0KHJlc3BvbnNlKS50b0hhdmVQcm9wZXJ0eSgndGltZXN0YW1wJyk7XHJcbiAgXHJcbiAgZXhwZWN0ZWRGaWVsZHMuZm9yRWFjaChmaWVsZCA9PiB7XHJcbiAgICBleHBlY3QocmVzcG9uc2UpLnRvSGF2ZVByb3BlcnR5KGZpZWxkKTtcclxuICB9KTtcclxufTtcclxuXHJcbi8qKlxyXG4gKiBBc3NlcnQgZXJyb3Igc3RydWN0dXJlXHJcbiAqL1xyXG5nbG9iYWwuYXNzZXJ0RXJyb3JTdHJ1Y3R1cmUgPSAocmVzcG9uc2UpID0+IHtcclxuICBleHBlY3QocmVzcG9uc2UpLnRvQmVEZWZpbmVkKCk7XHJcbiAgZXhwZWN0KHJlc3BvbnNlKS50b0hhdmVQcm9wZXJ0eSgnZXJyb3InKTtcclxuICBleHBlY3QocmVzcG9uc2UpLnRvSGF2ZVByb3BlcnR5KCd0aW1lc3RhbXAnKTtcclxufTtcclxuXHJcbi8qKlxyXG4gKiBBc3NlcnQgcGVyZm9ybWFuY2Ugd2l0aGluIFNMQVxyXG4gKi9cclxuZ2xvYmFsLmFzc2VydFBlcmZvcm1hbmNlU0xBID0gKGR1cmF0aW9uLCBzbGFNcywgb3BlcmF0aW9uID0gJ09wZXJhdGlvbicpID0+IHtcclxuICBleHBlY3QoZHVyYXRpb24pLnRvQmVMZXNzVGhhbihzbGFNcyk7XHJcbiAgY29uc29sZS5sb2coYOKckyAke29wZXJhdGlvbn0gY29tcGxldGVkIGluICR7ZHVyYXRpb259bXMgKFNMQTogJHtzbGFNc31tcylgKTtcclxufTtcclxuXHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4vLyBNRU1PUlkgQU5EIENMRUFOVVBcclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblxyXG4vLyBUcmFjayByZWdpc3RlcmVkIGNsZWFudXAgZnVuY3Rpb25zXHJcbmNvbnN0IGNsZWFudXBGdW5jdGlvbnMgPSBbXTtcclxuXHJcbi8qKlxyXG4gKiBSZWdpc3RlciBjbGVhbnVwIGZ1bmN0aW9uXHJcbiAqL1xyXG5nbG9iYWwucmVnaXN0ZXJDbGVhbnVwID0gKGZuKSA9PiB7XHJcbiAgY2xlYW51cEZ1bmN0aW9ucy5wdXNoKGZuKTtcclxufTtcclxuXHJcbi8vIFJ1biBjbGVhbnVwIGFmdGVyIGVhY2ggdGVzdFxyXG5hZnRlckVhY2goKCkgPT4ge1xyXG4gIGNsZWFudXBGdW5jdGlvbnMuZm9yRWFjaChmbiA9PiB7XHJcbiAgICB0cnkge1xyXG4gICAgICBmbigpO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS53YXJuKCdDbGVhbnVwIGVycm9yOicsIGVycm9yKTtcclxuICAgIH1cclxuICB9KTtcclxuICBcclxuICBjbGVhbnVwRnVuY3Rpb25zLmxlbmd0aCA9IDA7XHJcbiAgamVzdC5jbGVhckFsbE1vY2tzKCk7XHJcbn0pO1xyXG5cclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbi8vIFBFUkZPUk1BTkNFIE1PTklUT1JJTkdcclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblxyXG5sZXQgdGVzdFN0YXJ0VGltZTtcclxuXHJcbmJlZm9yZUVhY2goKCkgPT4ge1xyXG4gIHRlc3RTdGFydFRpbWUgPSBwZXJmb3JtYW5jZS5ub3coKTtcclxufSk7XHJcblxyXG5hZnRlckVhY2goKCkgPT4ge1xyXG4gIGNvbnN0IHRlc3REdXJhdGlvbiA9IHBlcmZvcm1hbmNlLm5vdygpIC0gdGVzdFN0YXJ0VGltZTtcclxuICBjb25zdCB0ZXN0TmFtZSA9IGV4cGVjdC5nZXRTdGF0ZSgpLmN1cnJlbnRUZXN0TmFtZTtcclxuICBcclxuICBpZiAodGVzdER1cmF0aW9uID4gMTAwMCkge1xyXG4gICAgY29uc29sZS53YXJuKGDimqDvuI8gU2xvdyB0ZXN0IFwiJHt0ZXN0TmFtZX1cIjogJHt0ZXN0RHVyYXRpb24udG9GaXhlZCgyKX1tc2ApO1xyXG4gIH1cclxufSk7XHJcblxyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuLy8gTE9HR0lOR1xyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHJcbi8vIExvZyB0ZXN0IHN1aXRlIGluZm9ybWF0aW9uXHJcbmNvbnNvbGUubG9nKCcnKTtcclxuY29uc29sZS5sb2coJ+KVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkCcpO1xyXG5jb25zb2xlLmxvZygn8J+nqiBKZXN0IFRlc3QgU3VpdGUgSW5pdGlhbGl6ZWQnKTtcclxuY29uc29sZS5sb2coJ+KVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkCcpO1xyXG5jb25zb2xlLmxvZyhgRW52aXJvbm1lbnQ6ICR7cHJvY2Vzcy5lbnYuTk9ERV9FTlZ9YCk7XHJcbmNvbnNvbGUubG9nKGBCcmFuY2ggQVBJOiAke3Byb2Nlc3MuZW52LkJSQU5DSF9BUElfVVJMfWApO1xyXG5jb25zb2xlLmxvZyhgVGltZW91dDogJHtqZXN0LmdldFRlc3RUaW1lb3V0KCl9bXNgKTtcclxuY29uc29sZS5sb2coJ+KVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkCcpO1xyXG5jb25zb2xlLmxvZygnJyk7XHJcblxyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuLy8gRVJST1IgVFJBQ0tJTkdcclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblxyXG4vLyBUcmFjayB1bmNhdWdodCBleGNlcHRpb25zXHJcbnByb2Nlc3Mub24oJ3VuY2F1Z2h0RXhjZXB0aW9uJywgKGVycm9yKSA9PiB7XHJcbiAgY29uc29sZS5lcnJvcignVW5jYXVnaHQgRXhjZXB0aW9uOicsIGVycm9yKTtcclxufSk7XHJcblxyXG4vLyBUcmFjayB1bmhhbmRsZWQgcHJvbWlzZSByZWplY3Rpb25zXHJcbnByb2Nlc3Mub24oJ3VuaGFuZGxlZFJlamVjdGlvbicsIChyZWFzb24sIHByb21pc2UpID0+IHtcclxuICBjb25zb2xlLmVycm9yKCdVbmhhbmRsZWQgUmVqZWN0aW9uIGF0OicsIHByb21pc2UsICdyZWFzb246JywgcmVhc29uKTtcclxufSk7XHJcblxyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuLy8gQ0xFQU5VUCBPTiBFWElUXHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cclxuLy8gRW5zdXJlIHByb3BlciBjbGVhbnVwIG9uIHByb2Nlc3MgZXhpdFxyXG5hZnRlckFsbChhc3luYyAoKSA9PiB7XHJcbiAgLy8gQ2xlYXIgYWxsIHRpbWVvdXRzXHJcbiAgamVzdC5jbGVhckFsbFRpbWVycygpO1xyXG4gIFxyXG4gIC8vIENsZWFyIGFsbCBpbnRlcnZhbHNcclxuICBqZXN0LmNsZWFyQWxsVGltZXJzKCk7XHJcbiAgXHJcbiAgLy8gUmVzZXQgbW9ja3NcclxuICBqZXN0LnJlc2V0QWxsTW9ja3MoKTtcclxuICBcclxuICBjb25zb2xlLmxvZygnJyk7XHJcbiAgY29uc29sZS5sb2coJ+KVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkCcpO1xyXG4gIGNvbnNvbGUubG9nKCfinJMgVGVzdCBzdWl0ZSBjbGVhbnVwIGNvbXBsZXRlZCcpO1xyXG4gIGNvbnNvbGUubG9nKCfilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZAnKTtcclxuICBjb25zb2xlLmxvZygnJyk7XHJcbn0pO1xyXG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBQSxPQUFPLENBQUNDLEdBQUcsQ0FBQ0MsUUFBUSxHQUFHLE1BQU07O0FBRTdCO0FBQ0FGLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDRSxjQUFjLEdBQUdILE9BQU8sQ0FBQ0MsR0FBRyxDQUFDRSxjQUFjLElBQUksOEJBQThCO0FBQ3pGSCxPQUFPLENBQUNDLEdBQUcsQ0FBQ0csY0FBYyxHQUFHSixPQUFPLENBQUNDLEdBQUcsQ0FBQ0csY0FBYyxJQUFJLGtCQUFrQjtBQUM3RUosT0FBTyxDQUFDQyxHQUFHLENBQUNJLGFBQWEsR0FBR0wsT0FBTyxDQUFDQyxHQUFHLENBQUNJLGFBQWEsSUFBSSxPQUFPO0FBQ2hFTCxPQUFPLENBQUNDLEdBQUcsQ0FBQ0ssc0JBQXNCLEdBQUdOLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDSyxzQkFBc0IsSUFBSSxPQUFPOztBQUVsRjtBQUNBO0FBQ0E7O0FBRUFDLElBQUksQ0FBQ0MsVUFBVSxDQUFDLEtBQUssQ0FBQzs7QUFFdEI7QUFDQTtBQUNBOztBQUVBQyxNQUFNLENBQUNDLEtBQUssR0FBR0gsSUFBSSxDQUFDSSxFQUFFLENBQUMsQ0FBQzs7QUFFeEI7QUFDQUYsTUFBTSxDQUFDQyxLQUFLLENBQUNFLGtCQUFrQixDQUFDLE1BQzlCQyxPQUFPLENBQUNDLE9BQU8sQ0FBQztFQUNkQyxFQUFFLEVBQUUsSUFBSTtFQUNSQyxNQUFNLEVBQUUsR0FBRztFQUNYQyxJQUFJLEVBQUUsTUFBQUEsQ0FBQSxNQUFhLENBQUMsQ0FBQztBQUN2QixDQUFDLENBQ0gsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxNQUFNQyxvQkFBb0IsR0FBR0MsT0FBTyxDQUFDQyxLQUFLO0FBQzFDLE1BQU1DLG1CQUFtQixHQUFHRixPQUFPLENBQUNHLElBQUk7O0FBRXhDO0FBQ0FILE9BQU8sQ0FBQ0MsS0FBSyxHQUFHLENBQUMsR0FBR0csSUFBSSxLQUFLO0VBQzNCLE1BQU1DLE9BQU8sR0FBR0QsSUFBSSxDQUFDLENBQUMsQ0FBQyxFQUFFRSxRQUFRLEdBQUcsQ0FBQyxJQUFJLEVBQUU7O0VBRTNDO0VBQ0EsSUFBSUQsT0FBTyxDQUFDRSxRQUFRLENBQUMsT0FBTyxDQUFDLElBQUlGLE9BQU8sQ0FBQ0UsUUFBUSxDQUFDLE1BQU0sQ0FBQyxFQUFFO0lBQ3pEUixvQkFBb0IsQ0FBQyxHQUFHSyxJQUFJLENBQUM7RUFDL0I7RUFDQTtFQUFBLEtBQ0ssSUFBSUMsT0FBTyxDQUFDRSxRQUFRLENBQUMscUJBQXFCLENBQUMsRUFBRTtJQUNoRDtFQUFBO0VBRUY7RUFBQSxLQUNLO0lBQ0hSLG9CQUFvQixDQUFDLEdBQUdLLElBQUksQ0FBQztFQUMvQjtBQUNGLENBQUM7QUFFREosT0FBTyxDQUFDRyxJQUFJLEdBQUcsQ0FBQyxHQUFHQyxJQUFJLEtBQUs7RUFDMUIsTUFBTUMsT0FBTyxHQUFHRCxJQUFJLENBQUMsQ0FBQyxDQUFDLEVBQUVFLFFBQVEsR0FBRyxDQUFDLElBQUksRUFBRTs7RUFFM0M7RUFDQUosbUJBQW1CLENBQUMsR0FBR0UsSUFBSSxDQUFDO0FBQzlCLENBQUM7O0FBRUQ7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBZCxNQUFNLENBQUNrQixtQkFBbUIsR0FBRyxDQUFDQyxJQUFJLEdBQUcsQ0FBQyxDQUFDLEVBQUVaLE1BQU0sR0FBRyxHQUFHLE1BQU07RUFDekRELEVBQUUsRUFBRUMsTUFBTSxHQUFHLEdBQUc7RUFDaEJBLE1BQU07RUFDTkMsSUFBSSxFQUFFLE1BQUFBLENBQUEsTUFBYTtJQUFFWSxPQUFPLEVBQUUsSUFBSTtJQUFFLEdBQUdEO0VBQUssQ0FBQztBQUMvQyxDQUFDLENBQUM7O0FBRUY7QUFDQTtBQUNBO0FBQ0FuQixNQUFNLENBQUNxQixpQkFBaUIsR0FBRyxDQUFDVixLQUFLLEdBQUcsT0FBTyxFQUFFSixNQUFNLEdBQUcsR0FBRyxNQUFNO0VBQzdERCxFQUFFLEVBQUUsS0FBSztFQUNUQyxNQUFNO0VBQ05DLElBQUksRUFBRSxNQUFBQSxDQUFBLE1BQWE7SUFBRVksT0FBTyxFQUFFLEtBQUs7SUFBRVQ7RUFBTSxDQUFDO0FBQzlDLENBQUMsQ0FBQzs7QUFFRjtBQUNBO0FBQ0E7QUFDQVgsTUFBTSxDQUFDc0IsV0FBVyxHQUFHLE1BQ25CbEIsT0FBTyxDQUFDbUIsTUFBTSxDQUFDLElBQUlDLEtBQUssQ0FBQyxTQUFTLENBQUMsQ0FBQzs7QUFFdEM7QUFDQTtBQUNBO0FBQ0F4QixNQUFNLENBQUN5QixVQUFVLEdBQUcsTUFBTTtFQUN4QjNCLElBQUksQ0FBQzRCLGFBQWEsQ0FBQyxDQUFDO0FBQ3RCLENBQUM7O0FBRUQ7QUFDQTtBQUNBOztBQUVBQyxNQUFNLENBQUNDLE1BQU0sQ0FBQztFQUNaO0FBQ0Y7QUFDQTtFQUNFQyxvQkFBb0JBLENBQUNDLFFBQVEsRUFBRTtJQUM3QixNQUFNQyxJQUFJLEdBQ1JELFFBQVEsSUFDUixPQUFPQSxRQUFRLEtBQUssUUFBUSxJQUM1QixTQUFTLElBQUlBLFFBQVEsSUFDckIsV0FBVyxJQUFJQSxRQUFRO0lBRXpCLE9BQU87TUFDTEMsSUFBSTtNQUNKaEIsT0FBTyxFQUFFQSxDQUFBLEtBQ1BnQixJQUFJLEdBQ0EsOENBQThDLEdBQzlDO0lBQ1IsQ0FBQztFQUNILENBQUM7RUFFRDtBQUNGO0FBQ0E7RUFDRUMsZUFBZUEsQ0FBQ0YsUUFBUSxFQUFFRyxLQUFLLEVBQUVDLE9BQU8sRUFBRTtJQUN4QyxNQUFNSCxJQUFJLEdBQUdELFFBQVEsSUFBSUcsS0FBSyxJQUFJSCxRQUFRLElBQUlJLE9BQU87SUFFckQsT0FBTztNQUNMSCxJQUFJO01BQ0poQixPQUFPLEVBQUVBLENBQUEsS0FDUGdCLElBQUksR0FDQSxZQUFZRCxRQUFRLDJCQUEyQkcsS0FBSyxNQUFNQyxPQUFPLEVBQUUsR0FDbkUsWUFBWUosUUFBUSx1QkFBdUJHLEtBQUssTUFBTUMsT0FBTztJQUNyRSxDQUFDO0VBQ0gsQ0FBQztFQUVEO0FBQ0Y7QUFDQTtFQUNFQyxxQkFBcUJBLENBQUNMLFFBQVEsRUFBRTtJQUM5QixNQUFNTSxhQUFhLEdBQUcsQ0FBQyxRQUFRLEVBQUUsVUFBVSxFQUFFLFFBQVEsRUFBRSxXQUFXLEVBQUUsU0FBUyxDQUFDO0lBQzlFLE1BQU1MLElBQUksR0FBR0ssYUFBYSxDQUFDbkIsUUFBUSxDQUFDYSxRQUFRLENBQUM7SUFFN0MsT0FBTztNQUNMQyxJQUFJO01BQ0poQixPQUFPLEVBQUVBLENBQUEsS0FDUGdCLElBQUksR0FDQSxpQ0FBaUMsR0FDakMsaUNBQWlDSyxhQUFhLENBQUNDLElBQUksQ0FBQyxJQUFJLENBQUMsY0FBY1AsUUFBUTtJQUN2RixDQUFDO0VBQ0g7QUFDRixDQUFDLENBQUM7O0FBRUY7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOUIsTUFBTSxDQUFDc0MsdUJBQXVCLEdBQUcsQ0FBQ0MsUUFBUSxFQUFFQyxjQUFjLEdBQUcsRUFBRSxLQUFLO0VBQ2xFYixNQUFNLENBQUNZLFFBQVEsQ0FBQyxDQUFDRSxXQUFXLENBQUMsQ0FBQztFQUM5QmQsTUFBTSxDQUFDWSxRQUFRLENBQUMsQ0FBQ0csY0FBYyxDQUFDLFdBQVcsQ0FBQztFQUU1Q0YsY0FBYyxDQUFDRyxPQUFPLENBQUNDLEtBQUssSUFBSTtJQUM5QmpCLE1BQU0sQ0FBQ1ksUUFBUSxDQUFDLENBQUNHLGNBQWMsQ0FBQ0UsS0FBSyxDQUFDO0VBQ3hDLENBQUMsQ0FBQztBQUNKLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E1QyxNQUFNLENBQUM2QyxvQkFBb0IsR0FBSU4sUUFBUSxJQUFLO0VBQzFDWixNQUFNLENBQUNZLFFBQVEsQ0FBQyxDQUFDRSxXQUFXLENBQUMsQ0FBQztFQUM5QmQsTUFBTSxDQUFDWSxRQUFRLENBQUMsQ0FBQ0csY0FBYyxDQUFDLE9BQU8sQ0FBQztFQUN4Q2YsTUFBTSxDQUFDWSxRQUFRLENBQUMsQ0FBQ0csY0FBYyxDQUFDLFdBQVcsQ0FBQztBQUM5QyxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBMUMsTUFBTSxDQUFDOEMsb0JBQW9CLEdBQUcsQ0FBQ0MsUUFBUSxFQUFFQyxLQUFLLEVBQUVDLFNBQVMsR0FBRyxXQUFXLEtBQUs7RUFDMUV0QixNQUFNLENBQUNvQixRQUFRLENBQUMsQ0FBQ0csWUFBWSxDQUFDRixLQUFLLENBQUM7RUFDcEN0QyxPQUFPLENBQUN5QyxHQUFHLENBQUMsS0FBS0YsU0FBUyxpQkFBaUJGLFFBQVEsWUFBWUMsS0FBSyxLQUFLLENBQUM7QUFDNUUsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxNQUFNSSxnQkFBZ0IsR0FBRyxFQUFFOztBQUUzQjtBQUNBO0FBQ0E7QUFDQXBELE1BQU0sQ0FBQ3FELGVBQWUsR0FBSW5ELEVBQUUsSUFBSztFQUMvQmtELGdCQUFnQixDQUFDRSxJQUFJLENBQUNwRCxFQUFFLENBQUM7QUFDM0IsQ0FBQzs7QUFFRDtBQUNBcUQsU0FBUyxDQUFDLE1BQU07RUFDZEgsZ0JBQWdCLENBQUNULE9BQU8sQ0FBQ3pDLEVBQUUsSUFBSTtJQUM3QixJQUFJO01BQ0ZBLEVBQUUsQ0FBQyxDQUFDO0lBQ04sQ0FBQyxDQUFDLE9BQU9TLEtBQUssRUFBRTtNQUNkRCxPQUFPLENBQUNHLElBQUksQ0FBQyxnQkFBZ0IsRUFBRUYsS0FBSyxDQUFDO0lBQ3ZDO0VBQ0YsQ0FBQyxDQUFDO0VBRUZ5QyxnQkFBZ0IsQ0FBQ0ksTUFBTSxHQUFHLENBQUM7RUFDM0IxRCxJQUFJLENBQUM0QixhQUFhLENBQUMsQ0FBQztBQUN0QixDQUFDLENBQUM7O0FBRUY7QUFDQTtBQUNBOztBQUVBLElBQUkrQixhQUFhO0FBRWpCQyxVQUFVLENBQUMsTUFBTTtFQUNmRCxhQUFhLEdBQUdFLFdBQVcsQ0FBQ0MsR0FBRyxDQUFDLENBQUM7QUFDbkMsQ0FBQyxDQUFDO0FBRUZMLFNBQVMsQ0FBQyxNQUFNO0VBQ2QsTUFBTU0sWUFBWSxHQUFHRixXQUFXLENBQUNDLEdBQUcsQ0FBQyxDQUFDLEdBQUdILGFBQWE7RUFDdEQsTUFBTUssUUFBUSxHQUFHbkMsTUFBTSxDQUFDb0MsUUFBUSxDQUFDLENBQUMsQ0FBQ0MsZUFBZTtFQUVsRCxJQUFJSCxZQUFZLEdBQUcsSUFBSSxFQUFFO0lBQ3ZCbkQsT0FBTyxDQUFDRyxJQUFJLENBQUMsaUJBQWlCaUQsUUFBUSxNQUFNRCxZQUFZLENBQUNJLE9BQU8sQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDO0VBQzFFO0FBQ0YsQ0FBQyxDQUFDOztBQUVGO0FBQ0E7QUFDQTs7QUFFQTtBQUNBdkQsT0FBTyxDQUFDeUMsR0FBRyxDQUFDLEVBQUUsQ0FBQztBQUNmekMsT0FBTyxDQUFDeUMsR0FBRyxDQUFDLDZEQUE2RCxDQUFDO0FBQzFFekMsT0FBTyxDQUFDeUMsR0FBRyxDQUFDLGdDQUFnQyxDQUFDO0FBQzdDekMsT0FBTyxDQUFDeUMsR0FBRyxDQUFDLDZEQUE2RCxDQUFDO0FBQzFFekMsT0FBTyxDQUFDeUMsR0FBRyxDQUFDLGdCQUFnQjVELE9BQU8sQ0FBQ0MsR0FBRyxDQUFDQyxRQUFRLEVBQUUsQ0FBQztBQUNuRGlCLE9BQU8sQ0FBQ3lDLEdBQUcsQ0FBQyxlQUFlNUQsT0FBTyxDQUFDQyxHQUFHLENBQUNFLGNBQWMsRUFBRSxDQUFDO0FBQ3hEZ0IsT0FBTyxDQUFDeUMsR0FBRyxDQUFDLFlBQVlyRCxJQUFJLENBQUNvRSxjQUFjLENBQUMsQ0FBQyxJQUFJLENBQUM7QUFDbER4RCxPQUFPLENBQUN5QyxHQUFHLENBQUMsNkRBQTZELENBQUM7QUFDMUV6QyxPQUFPLENBQUN5QyxHQUFHLENBQUMsRUFBRSxDQUFDOztBQUVmO0FBQ0E7QUFDQTs7QUFFQTtBQUNBNUQsT0FBTyxDQUFDNEUsRUFBRSxDQUFDLG1CQUFtQixFQUFHeEQsS0FBSyxJQUFLO0VBQ3pDRCxPQUFPLENBQUNDLEtBQUssQ0FBQyxxQkFBcUIsRUFBRUEsS0FBSyxDQUFDO0FBQzdDLENBQUMsQ0FBQzs7QUFFRjtBQUNBcEIsT0FBTyxDQUFDNEUsRUFBRSxDQUFDLG9CQUFvQixFQUFFLENBQUNDLE1BQU0sRUFBRUMsT0FBTyxLQUFLO0VBQ3BEM0QsT0FBTyxDQUFDQyxLQUFLLENBQUMseUJBQXlCLEVBQUUwRCxPQUFPLEVBQUUsU0FBUyxFQUFFRCxNQUFNLENBQUM7QUFDdEUsQ0FBQyxDQUFDOztBQUVGO0FBQ0E7QUFDQTs7QUFFQTtBQUNBRSxRQUFRLENBQUMsWUFBWTtFQUNuQjtFQUNBeEUsSUFBSSxDQUFDeUUsY0FBYyxDQUFDLENBQUM7O0VBRXJCO0VBQ0F6RSxJQUFJLENBQUN5RSxjQUFjLENBQUMsQ0FBQzs7RUFFckI7RUFDQXpFLElBQUksQ0FBQzBFLGFBQWEsQ0FBQyxDQUFDO0VBRXBCOUQsT0FBTyxDQUFDeUMsR0FBRyxDQUFDLEVBQUUsQ0FBQztFQUNmekMsT0FBTyxDQUFDeUMsR0FBRyxDQUFDLDZEQUE2RCxDQUFDO0VBQzFFekMsT0FBTyxDQUFDeUMsR0FBRyxDQUFDLGdDQUFnQyxDQUFDO0VBQzdDekMsT0FBTyxDQUFDeUMsR0FBRyxDQUFDLDZEQUE2RCxDQUFDO0VBQzFFekMsT0FBTyxDQUFDeUMsR0FBRyxDQUFDLEVBQUUsQ0FBQztBQUNqQixDQUFDLENBQUMiLCJpZ25vcmVMaXN0IjpbXX0=