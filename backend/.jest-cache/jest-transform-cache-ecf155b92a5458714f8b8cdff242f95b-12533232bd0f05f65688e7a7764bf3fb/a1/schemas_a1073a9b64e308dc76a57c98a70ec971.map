{"version":3,"names":["mongoose","require","bcrypt","userSchema","Schema","name","type","String","required","trim","maxlength","fcmTokens","default","email","unique","lowercase","match","password","minlength","select","organizationId","index","branchId","role","enum","roles","permissions","department","phone","notificationChannels","Object","inApp","sms","whatsapp","notificationPreferences","avatar","status","twoFactorEnabled","Boolean","twoFactorSecret","emailVerified","emailVerificationToken","lastLogin","Date","loginAttempts","Number","lockUntil","createdAt","now","updatedAt","timestamps","pre","isModified","salt","genSalt","hash","error","methods","comparePassword","enteredPassword","compare","pageSchema","title","slug","content","excerpt","author","Types","ObjectId","ref","category","tags","seoTitle","seoDescription","featured","views","comments","publishedAt","scheduledFor","postSchema","commentSchema","authorEmail","authorName","page","post","mediaSchema","size","url","mimeType","uploadedBy","uploadedAt","public","analyticsSchema","userId","eventType","eventData","Mixed","userAgent","ipAddress","timestamp","referrer","expireAfterSeconds","auditLogSchema","action","resource","resourceId","changes","User","model","Page","Post","Comment","Media","Analytics","AuditLog","module","exports"],"sources":["schemas.js"],"sourcesContent":["const mongoose = require('mongoose');\r\nconst bcrypt = require('bcryptjs');\r\n\r\n// ============ USER SCHEMA ============\r\nconst userSchema = new mongoose.Schema(\r\n  {\r\n    name: {\r\n      type: String,\r\n      required: [true, 'Please provide a name'],\r\n      trim: true,\r\n      maxlength: 100,\r\n    },\r\n    // توكنات FCM للأجهزة (دعم إشعارات الجوال)\r\n    fcmTokens: {\r\n      type: [String],\r\n      default: [],\r\n    },\r\n    email: {\r\n      type: String,\r\n      required: [true, 'Please provide an email'],\r\n      unique: true,\r\n      lowercase: true,\r\n      match: [/^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$/, 'Please provide a valid email'],\r\n    },\r\n    password: {\r\n      type: String,\r\n      required: [true, 'Please provide a password'],\r\n      minlength: 6,\r\n      select: false, // Don't return password by default\r\n    },\r\n    // دعم متعدد المؤسسات والفروع\r\n    organizationId: {\r\n      type: String,\r\n      required: false,\r\n      index: true,\r\n    },\r\n    branchId: {\r\n      type: String,\r\n      required: false,\r\n      index: true,\r\n    },\r\n    // دعم صلاحيات متقدمة (RBAC)\r\n    role: {\r\n      type: String,\r\n      enum: ['admin', 'manager', 'user', 'viewer', 'driver', 'operator', 'supervisor', 'employee', 'staff'],\r\n      default: 'user',\r\n    },\r\n    roles: [{ type: String }], // أدوار إضافية (مثال: ['finance', 'hr', 'branch-admin'])\r\n    permissions: [{ type: String }], // صلاحيات granular (مثال: ['read:attendance', 'edit:invoice'])\r\n    department: {\r\n      type: String,\r\n      trim: true,\r\n    },\r\n    phone: {\r\n      type: String,\r\n      trim: true,\r\n    },\r\n    // إعدادات قنوات التنبيه\r\n    notificationChannels: {\r\n      type: Object,\r\n      default: () => ({\r\n        inApp: true,\r\n        email: true,\r\n        sms: true,\r\n        whatsapp: true,\r\n      }),\r\n    },\r\n    // granular event-based notification settings\r\n    notificationPreferences: {\r\n      type: Object,\r\n      default: () => ({\r\n        // مثال: event: { channel: enabled }\r\n        // templateApproved: { inApp: true, email: false, sms: false, whatsapp: false },\r\n      }),\r\n    },\r\n    avatar: String,\r\n    status: {\r\n      type: String,\r\n      enum: ['active', 'inactive', 'suspended'],\r\n      default: 'active',\r\n    },\r\n    twoFactorEnabled: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n    twoFactorSecret: String,\r\n    emailVerified: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n    emailVerificationToken: String,\r\n    lastLogin: Date,\r\n    loginAttempts: {\r\n      type: Number,\r\n      default: 0,\r\n    },\r\n    lockUntil: Date,\r\n    createdAt: {\r\n      type: Date,\r\n      default: Date.now,\r\n    },\r\n    updatedAt: {\r\n      type: Date,\r\n      default: Date.now,\r\n    },\r\n  },\r\n  { timestamps: true }\r\n);\r\n\r\n// Hash password before saving\r\nuserSchema.pre('save', async function () {\r\n  if (!this.isModified('password')) return;\r\n\r\n  try {\r\n    const salt = await bcrypt.genSalt(10);\r\n    this.password = await bcrypt.hash(this.password, salt);\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n});\r\n\r\n// Method to compare passwords\r\nuserSchema.methods.comparePassword = async function (enteredPassword) {\r\n  return await bcrypt.compare(enteredPassword, this.password);\r\n};\r\n\r\n// ============ PAGE SCHEMA ============\r\nconst pageSchema = new mongoose.Schema(\r\n  {\r\n    title: {\r\n      type: String,\r\n      required: true,\r\n      trim: true,\r\n    },\r\n    slug: {\r\n      type: String,\r\n      required: true,\r\n      unique: true,\r\n      lowercase: true,\r\n    },\r\n    content: {\r\n      type: String,\r\n      required: true,\r\n    },\r\n    excerpt: String,\r\n    author: {\r\n      type: mongoose.Schema.Types.ObjectId,\r\n      ref: 'User',\r\n      required: true,\r\n    },\r\n    status: {\r\n      type: String,\r\n      enum: ['draft', 'published', 'scheduled'],\r\n      default: 'draft',\r\n    },\r\n    category: String,\r\n    tags: [String],\r\n    seoTitle: String,\r\n    seoDescription: String,\r\n    featured: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n    views: {\r\n      type: Number,\r\n      default: 0,\r\n    },\r\n    comments: [\r\n      {\r\n        type: mongoose.Schema.Types.ObjectId,\r\n        ref: 'Comment',\r\n      },\r\n    ],\r\n    createdAt: {\r\n      type: Date,\r\n      default: Date.now,\r\n    },\r\n    updatedAt: {\r\n      type: Date,\r\n      default: Date.now,\r\n    },\r\n    publishedAt: Date,\r\n    scheduledFor: Date,\r\n  },\r\n  { timestamps: true }\r\n);\r\n\r\n// ============ POST SCHEMA ============\r\nconst postSchema = new mongoose.Schema(\r\n  {\r\n    title: {\r\n      type: String,\r\n      required: true,\r\n      trim: true,\r\n    },\r\n    slug: {\r\n      type: String,\r\n      required: true,\r\n      unique: true,\r\n    },\r\n    content: {\r\n      type: String,\r\n      required: true,\r\n    },\r\n    excerpt: String,\r\n    author: {\r\n      type: mongoose.Schema.Types.ObjectId,\r\n      ref: 'User',\r\n      required: true,\r\n    },\r\n    category: String,\r\n    tags: [String],\r\n    status: {\r\n      type: String,\r\n      enum: ['draft', 'published'],\r\n      default: 'draft',\r\n    },\r\n    featured: Boolean,\r\n    views: {\r\n      type: Number,\r\n      default: 0,\r\n    },\r\n    comments: [\r\n      {\r\n        type: mongoose.Schema.Types.ObjectId,\r\n        ref: 'Comment',\r\n      },\r\n    ],\r\n    createdAt: {\r\n      type: Date,\r\n      default: Date.now,\r\n    },\r\n    updatedAt: {\r\n      type: Date,\r\n      default: Date.now,\r\n    },\r\n  },\r\n  { timestamps: true }\r\n);\r\n\r\n// ============ COMMENT SCHEMA ============\r\nconst commentSchema = new mongoose.Schema(\r\n  {\r\n    content: {\r\n      type: String,\r\n      required: true,\r\n    },\r\n    author: {\r\n      type: mongoose.Schema.Types.ObjectId,\r\n      ref: 'User',\r\n      required: true,\r\n    },\r\n    authorEmail: String,\r\n    authorName: String,\r\n    page: {\r\n      type: mongoose.Schema.Types.ObjectId,\r\n      ref: 'Page',\r\n    },\r\n    post: {\r\n      type: mongoose.Schema.Types.ObjectId,\r\n      ref: 'Post',\r\n    },\r\n    status: {\r\n      type: String,\r\n      enum: ['pending', 'approved', 'rejected'],\r\n      default: 'pending',\r\n    },\r\n    createdAt: {\r\n      type: Date,\r\n      default: Date.now,\r\n    },\r\n  },\r\n  { timestamps: true }\r\n);\r\n\r\n// ============ MEDIA SCHEMA ============\r\nconst mediaSchema = new mongoose.Schema(\r\n  {\r\n    name: {\r\n      type: String,\r\n      required: true,\r\n    },\r\n    type: {\r\n      type: String,\r\n      enum: ['image', 'document', 'video', 'audio', 'other'],\r\n      required: true,\r\n    },\r\n    size: Number,\r\n    url: {\r\n      type: String,\r\n      required: true,\r\n    },\r\n    mimeType: String,\r\n    uploadedBy: {\r\n      type: mongoose.Schema.Types.ObjectId,\r\n      ref: 'User',\r\n    },\r\n    uploadedAt: {\r\n      type: Date,\r\n      default: Date.now,\r\n    },\r\n    public: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n  },\r\n  { timestamps: true }\r\n);\r\n\r\n// ============ ANALYTICS SCHEMA ============\r\nconst analyticsSchema = new mongoose.Schema(\r\n  {\r\n    userId: {\r\n      type: mongoose.Schema.Types.ObjectId,\r\n      ref: 'User',\r\n    },\r\n    eventType: String,\r\n    eventData: mongoose.Schema.Types.Mixed,\r\n    userAgent: String,\r\n    ipAddress: String,\r\n    timestamp: {\r\n      type: Date,\r\n      default: Date.now,\r\n    },\r\n    page: String,\r\n    referrer: String,\r\n  },\r\n  { timestamps: true }\r\n);\r\n\r\n// Create TTL index for analytics (auto-delete after 90 days)\r\nanalyticsSchema.index({ timestamp: 1 }, { expireAfterSeconds: 7776000 });\r\n\r\n// ============ AUDIT LOG SCHEMA ============\r\nconst auditLogSchema = new mongoose.Schema(\r\n  {\r\n    userId: {\r\n      type: mongoose.Schema.Types.ObjectId,\r\n      ref: 'User',\r\n    },\r\n    action: String,\r\n    resource: String,\r\n    resourceId: mongoose.Schema.Types.ObjectId,\r\n    changes: mongoose.Schema.Types.Mixed,\r\n    status: {\r\n      type: String,\r\n      enum: ['success', 'failure'],\r\n      default: 'success',\r\n    },\r\n    timestamp: {\r\n      type: Date,\r\n      default: Date.now,\r\n    },\r\n  },\r\n  { timestamps: true }\r\n);\r\n\r\n// Create TTL index for audit logs (auto-delete after 1 year)\r\nauditLogSchema.index({ timestamp: 1 }, { expireAfterSeconds: 31536000 });\r\n\r\n// ============ Create Models ============\r\nconst User = mongoose.model('User', userSchema);\r\nconst Page = mongoose.model('Page', pageSchema);\r\nconst Post = mongoose.model('Post', postSchema);\r\nconst Comment = mongoose.model('Comment', commentSchema);\r\nconst Media = mongoose.model('Media', mediaSchema);\r\nconst Analytics = mongoose.model('Analytics', analyticsSchema);\r\nconst AuditLog = mongoose.model('AuditLog', auditLogSchema);\r\n\r\nmodule.exports = {\r\n  User,\r\n  Page,\r\n  Post,\r\n  Comment,\r\n  Media,\r\n  Analytics,\r\n  AuditLog,\r\n  userSchema,\r\n  pageSchema,\r\n  postSchema,\r\n  commentSchema,\r\n  mediaSchema,\r\n  analyticsSchema,\r\n  auditLogSchema,\r\n};\r\n"],"mappings":"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","ignoreList":[]}