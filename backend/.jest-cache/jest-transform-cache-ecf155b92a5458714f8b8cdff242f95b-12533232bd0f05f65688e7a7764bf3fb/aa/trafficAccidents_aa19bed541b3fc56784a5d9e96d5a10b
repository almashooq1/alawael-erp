f2c6e1cd980a31b257f3c66f10226564
/**
 * Traffic Accident Routes - مسارات الحوادث المرورية
 * API endpoints لتقارير الحوادث المرورية الشاملة
 */

const express = require('express');
const router = express.Router();
const trafficAccidentController = require('../controllers/trafficAccidentController');
const authenticate = require('../middleware/authenticate');
const authorize = require('../middleware/authorize');

// ========================================
// MIDDLEWARE
// ========================================
router.use(authenticate);

// ========================================
// REPORTS ENDPOINTS
// ========================================

/**
 * POST /api/traffic-accidents
 * إنشاء تقرير حادث جديد
 */
router.post('/', authorize('create_accident_report'), trafficAccidentController.createAccidentReport);

/**
 * GET /api/traffic-accidents
 * الحصول على جميع التقارير مع التصفية والترقيم
 * Query params: status, severity, city, priority, startDate, endDate, page, limit
 */
router.get('/', authorize('view_accident_reports'), trafficAccidentController.getAllReports);

/**
 * GET /api/traffic-accidents/search
 * البحث المتقدم في التقارير
 * Query params: q, severity, status, page, limit
 */
router.get('/search', authorize('view_accident_reports'), trafficAccidentController.searchReports);

/**
 * GET /api/traffic-accidents/statistics
 * الحصول على الإحصائيات والتقارير
 * Query params: startDate, endDate, city, severity, status
 */
router.get('/statistics', authorize('view_accident_statistics'), trafficAccidentController.getStatistics);

/**
 * GET /api/traffic-accidents/overdue
 * الحصول على المتابعات المتأخرة
 * Query params: daysThreshold
 */
router.get('/overdue', authorize('view_accident_reports'), trafficAccidentController.getOverdueFollowUps);

/**
 * GET /api/traffic-accidents/nearby
 * الحصول على الحوادث القريبة جغرافياً
 * Query params: latitude, longitude, maxDistance
 */
router.get('/nearby', authorize('view_accident_reports'), trafficAccidentController.getNearbyAccidents);

/**
 * GET /api/traffic-accidents/:id
 * الحصول على تقرير محدد
 */
router.get('/:id', authorize('view_accident_reports'), trafficAccidentController.getReportById);

/**
 * PUT /api/traffic-accidents/:id
 * تحديث تقرير الحادث
 */
router.put('/:id', authorize('edit_accident_report'), trafficAccidentController.updateAccidentReport);

/**
 * DELETE /api/traffic-accidents/:id
 * حذف/أرشفة تقرير
 */
router.delete('/:id', authorize('delete_accident_report'), trafficAccidentController.deleteAccidentReport);

// ========================================
// STATUS MANAGEMENT ENDPOINTS
// ========================================

/**
 * PATCH /api/traffic-accidents/:id/status
 * تحديث حالة التقرير
 * Body: { status: string, notes?: string }
 */
router.patch('/:id/status', authorize('edit_accident_report'), trafficAccidentController.updateReportStatus);

/**
 * POST /api/traffic-accidents/:id/approve
 * الموافقة على التقرير
 */
router.post('/:id/approve', authorize('approve_accident_report'), (req, res, next) => {
  req.body.status = 'approved';
  trafficAccidentController.updateReportStatus(req, res);
});

/**
 * POST /api/traffic-accidents/:id/close
 * إغلاق التقرير
 * Body: { conclusionData: object }
 */
router.post('/:id/close', authorize('close_accident_report'), trafficAccidentController.closeReport);

// ========================================
// INVESTIGATION ENDPOINTS
// ========================================

/**
 * POST /api/traffic-accidents/:id/investigation/start
 * بدء التحقيق
 * Body: { investigatingOfficerId: string }
 */
router.post('/:id/investigation/start', authorize('start_investigation'), trafficAccidentController.startInvestigation);

/**
 * POST /api/traffic-accidents/:id/investigation/complete
 * إكمال التحقيق
 * Body: { findings, rootCause, contributingFactors, recommendations, primaryCause }
 */
router.post('/:id/investigation/complete', authorize('complete_investigation'), trafficAccidentController.completeInvestigation);

// ========================================
// LIABILITY & DAMAGE ENDPOINTS
// ========================================

/**
 * POST /api/traffic-accidents/:id/liability
 * تحديد المسؤولية
 * Body: { primaryResponsiblePartyId, responsibilityPercentage, determination }
 */
router.post('/:id/liability', authorize('determine_liability'), trafficAccidentController.determineLiability);

/**
 * PUT /api/traffic-accidents/:id/vehicles/:vehicleIndex/damage
 * تحديث معلومات الضرر
 * Body: damageData object
 */
router.put('/:id/vehicles/:vehicleIndex/damage', authorize('edit_accident_report'), trafficAccidentController.updateDamageInfo);

/**
 * POST /api/traffic-accidents/:id/vehicles/:vehicleIndex/insurance
 * إضافة معلومات التأمين
 * Body: insuranceData object
 */
router.post('/:id/vehicles/:vehicleIndex/insurance', authorize('edit_accident_report'), trafficAccidentController.addInsuranceInfo);

// ========================================
// COMMENTS & ATTACHMENTS ENDPOINTS
// ========================================

/**
 * POST /api/traffic-accidents/:id/comments
 * إضافة تعليق
 * Body: { comment: string, attachments?: array }
 */
router.post('/:id/comments', authorize('add_comment'), trafficAccidentController.addComment);

/**
 * POST /api/traffic-accidents/:id/attachments
 * إضافة مرفق
 * Body: { fileName: string, fileUrl: string, fileType: string }
 */
router.post('/:id/attachments', authorize('upload_attachment'), trafficAccidentController.addAttachment);

// ========================================
// WITNESSES ENDPOINTS
// ========================================

/**
 * POST /api/traffic-accidents/:id/witnesses
 * إضافة شاهد
 * Body: witnessData object
 */
router.post('/:id/witnesses', authorize('add_witness'), trafficAccidentController.addWitness);

// ========================================
// EXPORT ENDPOINTS
// ========================================

/**
 * GET /api/traffic-accidents/:id/export/pdf
 * تصدير التقرير بصيغة PDF
 */
router.get('/:id/export/pdf', authorize('export_report'), trafficAccidentController.exportPDF);

/**
 * GET /api/traffic-accidents/export/excel
 * تصدير التقارير بصيغة Excel
 * Query params: startDate, endDate, city, severity
 */
router.get('/export/excel', authorize('export_report'), trafficAccidentController.exportExcel);
module.exports = router;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJleHByZXNzIiwicmVxdWlyZSIsInJvdXRlciIsIlJvdXRlciIsInRyYWZmaWNBY2NpZGVudENvbnRyb2xsZXIiLCJhdXRoZW50aWNhdGUiLCJhdXRob3JpemUiLCJ1c2UiLCJwb3N0IiwiY3JlYXRlQWNjaWRlbnRSZXBvcnQiLCJnZXQiLCJnZXRBbGxSZXBvcnRzIiwic2VhcmNoUmVwb3J0cyIsImdldFN0YXRpc3RpY3MiLCJnZXRPdmVyZHVlRm9sbG93VXBzIiwiZ2V0TmVhcmJ5QWNjaWRlbnRzIiwiZ2V0UmVwb3J0QnlJZCIsInB1dCIsInVwZGF0ZUFjY2lkZW50UmVwb3J0IiwiZGVsZXRlIiwiZGVsZXRlQWNjaWRlbnRSZXBvcnQiLCJwYXRjaCIsInVwZGF0ZVJlcG9ydFN0YXR1cyIsInJlcSIsInJlcyIsIm5leHQiLCJib2R5Iiwic3RhdHVzIiwiY2xvc2VSZXBvcnQiLCJzdGFydEludmVzdGlnYXRpb24iLCJjb21wbGV0ZUludmVzdGlnYXRpb24iLCJkZXRlcm1pbmVMaWFiaWxpdHkiLCJ1cGRhdGVEYW1hZ2VJbmZvIiwiYWRkSW5zdXJhbmNlSW5mbyIsImFkZENvbW1lbnQiLCJhZGRBdHRhY2htZW50IiwiYWRkV2l0bmVzcyIsImV4cG9ydFBERiIsImV4cG9ydEV4Y2VsIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VzIjpbInRyYWZmaWNBY2NpZGVudHMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXHJcbiAqIFRyYWZmaWMgQWNjaWRlbnQgUm91dGVzIC0g2YXYs9in2LHYp9iqINin2YTYrdmI2KfYr9irINin2YTZhdix2YjYsdmK2KlcclxuICogQVBJIGVuZHBvaW50cyDZhNiq2YLYp9ix2YrYsSDYp9mE2K3ZiNin2K/YqyDYp9mE2YXYsdmI2LHZitipINin2YTYtNin2YXZhNipXHJcbiAqL1xyXG5cclxuY29uc3QgZXhwcmVzcyA9IHJlcXVpcmUoJ2V4cHJlc3MnKTtcclxuY29uc3Qgcm91dGVyID0gZXhwcmVzcy5Sb3V0ZXIoKTtcclxuY29uc3QgdHJhZmZpY0FjY2lkZW50Q29udHJvbGxlciA9IHJlcXVpcmUoJy4uL2NvbnRyb2xsZXJzL3RyYWZmaWNBY2NpZGVudENvbnRyb2xsZXInKTtcclxuY29uc3QgYXV0aGVudGljYXRlID0gcmVxdWlyZSgnLi4vbWlkZGxld2FyZS9hdXRoZW50aWNhdGUnKTtcclxuY29uc3QgYXV0aG9yaXplID0gcmVxdWlyZSgnLi4vbWlkZGxld2FyZS9hdXRob3JpemUnKTtcclxuXHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuLy8gTUlERExFV0FSRVxyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbnJvdXRlci51c2UoYXV0aGVudGljYXRlKTtcclxuXHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuLy8gUkVQT1JUUyBFTkRQT0lOVFNcclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cclxuLyoqXHJcbiAqIFBPU1QgL2FwaS90cmFmZmljLWFjY2lkZW50c1xyXG4gKiDYpdmG2LTYp9ihINiq2YLYsdmK2LEg2K3Yp9iv2Ksg2KzYr9mK2K9cclxuICovXHJcbnJvdXRlci5wb3N0KFxyXG4gICcvJyxcclxuICBhdXRob3JpemUoJ2NyZWF0ZV9hY2NpZGVudF9yZXBvcnQnKSxcclxuICB0cmFmZmljQWNjaWRlbnRDb250cm9sbGVyLmNyZWF0ZUFjY2lkZW50UmVwb3J0XHJcbik7XHJcblxyXG4vKipcclxuICogR0VUIC9hcGkvdHJhZmZpYy1hY2NpZGVudHNcclxuICog2KfZhNit2LXZiNmEINi52YTZiSDYrNmF2YrYuSDYp9mE2KrZgtin2LHZitixINmF2Lkg2KfZhNiq2LXZgdmK2Kkg2YjYp9mE2KrYsdmC2YrZhVxyXG4gKiBRdWVyeSBwYXJhbXM6IHN0YXR1cywgc2V2ZXJpdHksIGNpdHksIHByaW9yaXR5LCBzdGFydERhdGUsIGVuZERhdGUsIHBhZ2UsIGxpbWl0XHJcbiAqL1xyXG5yb3V0ZXIuZ2V0KFxyXG4gICcvJyxcclxuICBhdXRob3JpemUoJ3ZpZXdfYWNjaWRlbnRfcmVwb3J0cycpLFxyXG4gIHRyYWZmaWNBY2NpZGVudENvbnRyb2xsZXIuZ2V0QWxsUmVwb3J0c1xyXG4pO1xyXG5cclxuLyoqXHJcbiAqIEdFVCAvYXBpL3RyYWZmaWMtYWNjaWRlbnRzL3NlYXJjaFxyXG4gKiDYp9mE2KjYrdirINin2YTZhdiq2YLYr9mFINmB2Yog2KfZhNiq2YLYp9ix2YrYsVxyXG4gKiBRdWVyeSBwYXJhbXM6IHEsIHNldmVyaXR5LCBzdGF0dXMsIHBhZ2UsIGxpbWl0XHJcbiAqL1xyXG5yb3V0ZXIuZ2V0KFxyXG4gICcvc2VhcmNoJyxcclxuICBhdXRob3JpemUoJ3ZpZXdfYWNjaWRlbnRfcmVwb3J0cycpLFxyXG4gIHRyYWZmaWNBY2NpZGVudENvbnRyb2xsZXIuc2VhcmNoUmVwb3J0c1xyXG4pO1xyXG5cclxuLyoqXHJcbiAqIEdFVCAvYXBpL3RyYWZmaWMtYWNjaWRlbnRzL3N0YXRpc3RpY3NcclxuICog2KfZhNit2LXZiNmEINi52YTZiSDYp9mE2KXYrdi12KfYptmK2KfYqiDZiNin2YTYqtmC2KfYsdmK2LFcclxuICogUXVlcnkgcGFyYW1zOiBzdGFydERhdGUsIGVuZERhdGUsIGNpdHksIHNldmVyaXR5LCBzdGF0dXNcclxuICovXHJcbnJvdXRlci5nZXQoXHJcbiAgJy9zdGF0aXN0aWNzJyxcclxuICBhdXRob3JpemUoJ3ZpZXdfYWNjaWRlbnRfc3RhdGlzdGljcycpLFxyXG4gIHRyYWZmaWNBY2NpZGVudENvbnRyb2xsZXIuZ2V0U3RhdGlzdGljc1xyXG4pO1xyXG5cclxuLyoqXHJcbiAqIEdFVCAvYXBpL3RyYWZmaWMtYWNjaWRlbnRzL292ZXJkdWVcclxuICog2KfZhNit2LXZiNmEINi52YTZiSDYp9mE2YXYqtin2KjYudin2Kog2KfZhNmF2KrYo9iu2LHYqVxyXG4gKiBRdWVyeSBwYXJhbXM6IGRheXNUaHJlc2hvbGRcclxuICovXHJcbnJvdXRlci5nZXQoXHJcbiAgJy9vdmVyZHVlJyxcclxuICBhdXRob3JpemUoJ3ZpZXdfYWNjaWRlbnRfcmVwb3J0cycpLFxyXG4gIHRyYWZmaWNBY2NpZGVudENvbnRyb2xsZXIuZ2V0T3ZlcmR1ZUZvbGxvd1Vwc1xyXG4pO1xyXG5cclxuLyoqXHJcbiAqIEdFVCAvYXBpL3RyYWZmaWMtYWNjaWRlbnRzL25lYXJieVxyXG4gKiDYp9mE2K3YtdmI2YQg2LnZhNmJINin2YTYrdmI2KfYr9irINin2YTZgtix2YrYqNipINis2LrYsdin2YHZitin2YtcclxuICogUXVlcnkgcGFyYW1zOiBsYXRpdHVkZSwgbG9uZ2l0dWRlLCBtYXhEaXN0YW5jZVxyXG4gKi9cclxucm91dGVyLmdldChcclxuICAnL25lYXJieScsXHJcbiAgYXV0aG9yaXplKCd2aWV3X2FjY2lkZW50X3JlcG9ydHMnKSxcclxuICB0cmFmZmljQWNjaWRlbnRDb250cm9sbGVyLmdldE5lYXJieUFjY2lkZW50c1xyXG4pO1xyXG5cclxuLyoqXHJcbiAqIEdFVCAvYXBpL3RyYWZmaWMtYWNjaWRlbnRzLzppZFxyXG4gKiDYp9mE2K3YtdmI2YQg2LnZhNmJINiq2YLYsdmK2LEg2YXYrdiv2K9cclxuICovXHJcbnJvdXRlci5nZXQoXHJcbiAgJy86aWQnLFxyXG4gIGF1dGhvcml6ZSgndmlld19hY2NpZGVudF9yZXBvcnRzJyksXHJcbiAgdHJhZmZpY0FjY2lkZW50Q29udHJvbGxlci5nZXRSZXBvcnRCeUlkXHJcbik7XHJcblxyXG4vKipcclxuICogUFVUIC9hcGkvdHJhZmZpYy1hY2NpZGVudHMvOmlkXHJcbiAqINiq2K3Yr9mK2Ksg2KrZgtix2YrYsSDYp9mE2K3Yp9iv2KtcclxuICovXHJcbnJvdXRlci5wdXQoXHJcbiAgJy86aWQnLFxyXG4gIGF1dGhvcml6ZSgnZWRpdF9hY2NpZGVudF9yZXBvcnQnKSxcclxuICB0cmFmZmljQWNjaWRlbnRDb250cm9sbGVyLnVwZGF0ZUFjY2lkZW50UmVwb3J0XHJcbik7XHJcblxyXG4vKipcclxuICogREVMRVRFIC9hcGkvdHJhZmZpYy1hY2NpZGVudHMvOmlkXHJcbiAqINit2LDZgS/Yo9ix2LTZgdipINiq2YLYsdmK2LFcclxuICovXHJcbnJvdXRlci5kZWxldGUoXHJcbiAgJy86aWQnLFxyXG4gIGF1dGhvcml6ZSgnZGVsZXRlX2FjY2lkZW50X3JlcG9ydCcpLFxyXG4gIHRyYWZmaWNBY2NpZGVudENvbnRyb2xsZXIuZGVsZXRlQWNjaWRlbnRSZXBvcnRcclxuKTtcclxuXHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuLy8gU1RBVFVTIE1BTkFHRU1FTlQgRU5EUE9JTlRTXHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHJcbi8qKlxyXG4gKiBQQVRDSCAvYXBpL3RyYWZmaWMtYWNjaWRlbnRzLzppZC9zdGF0dXNcclxuICog2KrYrdiv2YrYqyDYrdin2YTYqSDYp9mE2KrZgtix2YrYsVxyXG4gKiBCb2R5OiB7IHN0YXR1czogc3RyaW5nLCBub3Rlcz86IHN0cmluZyB9XHJcbiAqL1xyXG5yb3V0ZXIucGF0Y2goXHJcbiAgJy86aWQvc3RhdHVzJyxcclxuICBhdXRob3JpemUoJ2VkaXRfYWNjaWRlbnRfcmVwb3J0JyksXHJcbiAgdHJhZmZpY0FjY2lkZW50Q29udHJvbGxlci51cGRhdGVSZXBvcnRTdGF0dXNcclxuKTtcclxuXHJcbi8qKlxyXG4gKiBQT1NUIC9hcGkvdHJhZmZpYy1hY2NpZGVudHMvOmlkL2FwcHJvdmVcclxuICog2KfZhNmF2YjYp9mB2YLYqSDYudmE2Ykg2KfZhNiq2YLYsdmK2LFcclxuICovXHJcbnJvdXRlci5wb3N0KFxyXG4gICcvOmlkL2FwcHJvdmUnLFxyXG4gIGF1dGhvcml6ZSgnYXBwcm92ZV9hY2NpZGVudF9yZXBvcnQnKSxcclxuICAocmVxLCByZXMsIG5leHQpID0+IHtcclxuICAgIHJlcS5ib2R5LnN0YXR1cyA9ICdhcHByb3ZlZCc7XHJcbiAgICB0cmFmZmljQWNjaWRlbnRDb250cm9sbGVyLnVwZGF0ZVJlcG9ydFN0YXR1cyhyZXEsIHJlcyk7XHJcbiAgfVxyXG4pO1xyXG5cclxuLyoqXHJcbiAqIFBPU1QgL2FwaS90cmFmZmljLWFjY2lkZW50cy86aWQvY2xvc2VcclxuICog2KXYutmE2KfZgiDYp9mE2KrZgtix2YrYsVxyXG4gKiBCb2R5OiB7IGNvbmNsdXNpb25EYXRhOiBvYmplY3QgfVxyXG4gKi9cclxucm91dGVyLnBvc3QoXHJcbiAgJy86aWQvY2xvc2UnLFxyXG4gIGF1dGhvcml6ZSgnY2xvc2VfYWNjaWRlbnRfcmVwb3J0JyksXHJcbiAgdHJhZmZpY0FjY2lkZW50Q29udHJvbGxlci5jbG9zZVJlcG9ydFxyXG4pO1xyXG5cclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4vLyBJTlZFU1RJR0FUSU9OIEVORFBPSU5UU1xyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblxyXG4vKipcclxuICogUE9TVCAvYXBpL3RyYWZmaWMtYWNjaWRlbnRzLzppZC9pbnZlc3RpZ2F0aW9uL3N0YXJ0XHJcbiAqINio2K/YoSDYp9mE2KrYrdmC2YrZglxyXG4gKiBCb2R5OiB7IGludmVzdGlnYXRpbmdPZmZpY2VySWQ6IHN0cmluZyB9XHJcbiAqL1xyXG5yb3V0ZXIucG9zdChcclxuICAnLzppZC9pbnZlc3RpZ2F0aW9uL3N0YXJ0JyxcclxuICBhdXRob3JpemUoJ3N0YXJ0X2ludmVzdGlnYXRpb24nKSxcclxuICB0cmFmZmljQWNjaWRlbnRDb250cm9sbGVyLnN0YXJ0SW52ZXN0aWdhdGlvblxyXG4pO1xyXG5cclxuLyoqXHJcbiAqIFBPU1QgL2FwaS90cmFmZmljLWFjY2lkZW50cy86aWQvaW52ZXN0aWdhdGlvbi9jb21wbGV0ZVxyXG4gKiDYpdmD2YXYp9mEINin2YTYqtit2YLZitmCXHJcbiAqIEJvZHk6IHsgZmluZGluZ3MsIHJvb3RDYXVzZSwgY29udHJpYnV0aW5nRmFjdG9ycywgcmVjb21tZW5kYXRpb25zLCBwcmltYXJ5Q2F1c2UgfVxyXG4gKi9cclxucm91dGVyLnBvc3QoXHJcbiAgJy86aWQvaW52ZXN0aWdhdGlvbi9jb21wbGV0ZScsXHJcbiAgYXV0aG9yaXplKCdjb21wbGV0ZV9pbnZlc3RpZ2F0aW9uJyksXHJcbiAgdHJhZmZpY0FjY2lkZW50Q29udHJvbGxlci5jb21wbGV0ZUludmVzdGlnYXRpb25cclxuKTtcclxuXHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuLy8gTElBQklMSVRZICYgREFNQUdFIEVORFBPSU5UU1xyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblxyXG4vKipcclxuICogUE9TVCAvYXBpL3RyYWZmaWMtYWNjaWRlbnRzLzppZC9saWFiaWxpdHlcclxuICog2KrYrdiv2YrYryDYp9mE2YXYs9ik2YjZhNmK2KlcclxuICogQm9keTogeyBwcmltYXJ5UmVzcG9uc2libGVQYXJ0eUlkLCByZXNwb25zaWJpbGl0eVBlcmNlbnRhZ2UsIGRldGVybWluYXRpb24gfVxyXG4gKi9cclxucm91dGVyLnBvc3QoXHJcbiAgJy86aWQvbGlhYmlsaXR5JyxcclxuICBhdXRob3JpemUoJ2RldGVybWluZV9saWFiaWxpdHknKSxcclxuICB0cmFmZmljQWNjaWRlbnRDb250cm9sbGVyLmRldGVybWluZUxpYWJpbGl0eVxyXG4pO1xyXG5cclxuLyoqXHJcbiAqIFBVVCAvYXBpL3RyYWZmaWMtYWNjaWRlbnRzLzppZC92ZWhpY2xlcy86dmVoaWNsZUluZGV4L2RhbWFnZVxyXG4gKiDYqtit2K/ZitirINmF2LnZhNmI2YXYp9iqINin2YTYttix2LFcclxuICogQm9keTogZGFtYWdlRGF0YSBvYmplY3RcclxuICovXHJcbnJvdXRlci5wdXQoXHJcbiAgJy86aWQvdmVoaWNsZXMvOnZlaGljbGVJbmRleC9kYW1hZ2UnLFxyXG4gIGF1dGhvcml6ZSgnZWRpdF9hY2NpZGVudF9yZXBvcnQnKSxcclxuICB0cmFmZmljQWNjaWRlbnRDb250cm9sbGVyLnVwZGF0ZURhbWFnZUluZm9cclxuKTtcclxuXHJcbi8qKlxyXG4gKiBQT1NUIC9hcGkvdHJhZmZpYy1hY2NpZGVudHMvOmlkL3ZlaGljbGVzLzp2ZWhpY2xlSW5kZXgvaW5zdXJhbmNlXHJcbiAqINil2LbYp9mB2Kkg2YXYudmE2YjZhdin2Kog2KfZhNiq2KPZhdmK2YZcclxuICogQm9keTogaW5zdXJhbmNlRGF0YSBvYmplY3RcclxuICovXHJcbnJvdXRlci5wb3N0KFxyXG4gICcvOmlkL3ZlaGljbGVzLzp2ZWhpY2xlSW5kZXgvaW5zdXJhbmNlJyxcclxuICBhdXRob3JpemUoJ2VkaXRfYWNjaWRlbnRfcmVwb3J0JyksXHJcbiAgdHJhZmZpY0FjY2lkZW50Q29udHJvbGxlci5hZGRJbnN1cmFuY2VJbmZvXHJcbik7XHJcblxyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbi8vIENPTU1FTlRTICYgQVRUQUNITUVOVFMgRU5EUE9JTlRTXHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHJcbi8qKlxyXG4gKiBQT1NUIC9hcGkvdHJhZmZpYy1hY2NpZGVudHMvOmlkL2NvbW1lbnRzXHJcbiAqINil2LbYp9mB2Kkg2KrYudmE2YrZglxyXG4gKiBCb2R5OiB7IGNvbW1lbnQ6IHN0cmluZywgYXR0YWNobWVudHM/OiBhcnJheSB9XHJcbiAqL1xyXG5yb3V0ZXIucG9zdChcclxuICAnLzppZC9jb21tZW50cycsXHJcbiAgYXV0aG9yaXplKCdhZGRfY29tbWVudCcpLFxyXG4gIHRyYWZmaWNBY2NpZGVudENvbnRyb2xsZXIuYWRkQ29tbWVudFxyXG4pO1xyXG5cclxuLyoqXHJcbiAqIFBPU1QgL2FwaS90cmFmZmljLWFjY2lkZW50cy86aWQvYXR0YWNobWVudHNcclxuICog2KXYttin2YHYqSDZhdix2YHZglxyXG4gKiBCb2R5OiB7IGZpbGVOYW1lOiBzdHJpbmcsIGZpbGVVcmw6IHN0cmluZywgZmlsZVR5cGU6IHN0cmluZyB9XHJcbiAqL1xyXG5yb3V0ZXIucG9zdChcclxuICAnLzppZC9hdHRhY2htZW50cycsXHJcbiAgYXV0aG9yaXplKCd1cGxvYWRfYXR0YWNobWVudCcpLFxyXG4gIHRyYWZmaWNBY2NpZGVudENvbnRyb2xsZXIuYWRkQXR0YWNobWVudFxyXG4pO1xyXG5cclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4vLyBXSVRORVNTRVMgRU5EUE9JTlRTXHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHJcbi8qKlxyXG4gKiBQT1NUIC9hcGkvdHJhZmZpYy1hY2NpZGVudHMvOmlkL3dpdG5lc3Nlc1xyXG4gKiDYpdi22KfZgdipINi02KfZh9ivXHJcbiAqIEJvZHk6IHdpdG5lc3NEYXRhIG9iamVjdFxyXG4gKi9cclxucm91dGVyLnBvc3QoXHJcbiAgJy86aWQvd2l0bmVzc2VzJyxcclxuICBhdXRob3JpemUoJ2FkZF93aXRuZXNzJyksXHJcbiAgdHJhZmZpY0FjY2lkZW50Q29udHJvbGxlci5hZGRXaXRuZXNzXHJcbik7XHJcblxyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbi8vIEVYUE9SVCBFTkRQT0lOVFNcclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cclxuLyoqXHJcbiAqIEdFVCAvYXBpL3RyYWZmaWMtYWNjaWRlbnRzLzppZC9leHBvcnQvcGRmXHJcbiAqINiq2LXYr9mK2LEg2KfZhNiq2YLYsdmK2LEg2KjYtdmK2LrYqSBQREZcclxuICovXHJcbnJvdXRlci5nZXQoXHJcbiAgJy86aWQvZXhwb3J0L3BkZicsXHJcbiAgYXV0aG9yaXplKCdleHBvcnRfcmVwb3J0JyksXHJcbiAgdHJhZmZpY0FjY2lkZW50Q29udHJvbGxlci5leHBvcnRQREZcclxuKTtcclxuXHJcbi8qKlxyXG4gKiBHRVQgL2FwaS90cmFmZmljLWFjY2lkZW50cy9leHBvcnQvZXhjZWxcclxuICog2KrYtdiv2YrYsSDYp9mE2KrZgtin2LHZitixINio2LXZiti62KkgRXhjZWxcclxuICogUXVlcnkgcGFyYW1zOiBzdGFydERhdGUsIGVuZERhdGUsIGNpdHksIHNldmVyaXR5XHJcbiAqL1xyXG5yb3V0ZXIuZ2V0KFxyXG4gICcvZXhwb3J0L2V4Y2VsJyxcclxuICBhdXRob3JpemUoJ2V4cG9ydF9yZXBvcnQnKSxcclxuICB0cmFmZmljQWNjaWRlbnRDb250cm9sbGVyLmV4cG9ydEV4Y2VsXHJcbik7XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IHJvdXRlcjtcclxuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxNQUFNQSxPQUFPLEdBQUdDLE9BQU8sQ0FBQyxTQUFTLENBQUM7QUFDbEMsTUFBTUMsTUFBTSxHQUFHRixPQUFPLENBQUNHLE1BQU0sQ0FBQyxDQUFDO0FBQy9CLE1BQU1DLHlCQUF5QixHQUFHSCxPQUFPLENBQUMsMENBQTBDLENBQUM7QUFDckYsTUFBTUksWUFBWSxHQUFHSixPQUFPLENBQUMsNEJBQTRCLENBQUM7QUFDMUQsTUFBTUssU0FBUyxHQUFHTCxPQUFPLENBQUMseUJBQXlCLENBQUM7O0FBRXBEO0FBQ0E7QUFDQTtBQUNBQyxNQUFNLENBQUNLLEdBQUcsQ0FBQ0YsWUFBWSxDQUFDOztBQUV4QjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQUgsTUFBTSxDQUFDTSxJQUFJLENBQ1QsR0FBRyxFQUNIRixTQUFTLENBQUMsd0JBQXdCLENBQUMsRUFDbkNGLHlCQUF5QixDQUFDSyxvQkFDNUIsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0FQLE1BQU0sQ0FBQ1EsR0FBRyxDQUNSLEdBQUcsRUFDSEosU0FBUyxDQUFDLHVCQUF1QixDQUFDLEVBQ2xDRix5QkFBeUIsQ0FBQ08sYUFDNUIsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0FULE1BQU0sQ0FBQ1EsR0FBRyxDQUNSLFNBQVMsRUFDVEosU0FBUyxDQUFDLHVCQUF1QixDQUFDLEVBQ2xDRix5QkFBeUIsQ0FBQ1EsYUFDNUIsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0FWLE1BQU0sQ0FBQ1EsR0FBRyxDQUNSLGFBQWEsRUFDYkosU0FBUyxDQUFDLDBCQUEwQixDQUFDLEVBQ3JDRix5QkFBeUIsQ0FBQ1MsYUFDNUIsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0FYLE1BQU0sQ0FBQ1EsR0FBRyxDQUNSLFVBQVUsRUFDVkosU0FBUyxDQUFDLHVCQUF1QixDQUFDLEVBQ2xDRix5QkFBeUIsQ0FBQ1UsbUJBQzVCLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBWixNQUFNLENBQUNRLEdBQUcsQ0FDUixTQUFTLEVBQ1RKLFNBQVMsQ0FBQyx1QkFBdUIsQ0FBQyxFQUNsQ0YseUJBQXlCLENBQUNXLGtCQUM1QixDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0FiLE1BQU0sQ0FBQ1EsR0FBRyxDQUNSLE1BQU0sRUFDTkosU0FBUyxDQUFDLHVCQUF1QixDQUFDLEVBQ2xDRix5QkFBeUIsQ0FBQ1ksYUFDNUIsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBZCxNQUFNLENBQUNlLEdBQUcsQ0FDUixNQUFNLEVBQ05YLFNBQVMsQ0FBQyxzQkFBc0IsQ0FBQyxFQUNqQ0YseUJBQXlCLENBQUNjLG9CQUM1QixDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0FoQixNQUFNLENBQUNpQixNQUFNLENBQ1gsTUFBTSxFQUNOYixTQUFTLENBQUMsd0JBQXdCLENBQUMsRUFDbkNGLHlCQUF5QixDQUFDZ0Isb0JBQzVCLENBQUM7O0FBRUQ7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQWxCLE1BQU0sQ0FBQ21CLEtBQUssQ0FDVixhQUFhLEVBQ2JmLFNBQVMsQ0FBQyxzQkFBc0IsQ0FBQyxFQUNqQ0YseUJBQXlCLENBQUNrQixrQkFDNUIsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBcEIsTUFBTSxDQUFDTSxJQUFJLENBQ1QsY0FBYyxFQUNkRixTQUFTLENBQUMseUJBQXlCLENBQUMsRUFDcEMsQ0FBQ2lCLEdBQUcsRUFBRUMsR0FBRyxFQUFFQyxJQUFJLEtBQUs7RUFDbEJGLEdBQUcsQ0FBQ0csSUFBSSxDQUFDQyxNQUFNLEdBQUcsVUFBVTtFQUM1QnZCLHlCQUF5QixDQUFDa0Isa0JBQWtCLENBQUNDLEdBQUcsRUFBRUMsR0FBRyxDQUFDO0FBQ3hELENBQ0YsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0F0QixNQUFNLENBQUNNLElBQUksQ0FDVCxZQUFZLEVBQ1pGLFNBQVMsQ0FBQyx1QkFBdUIsQ0FBQyxFQUNsQ0YseUJBQXlCLENBQUN3QixXQUM1QixDQUFDOztBQUVEO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0ExQixNQUFNLENBQUNNLElBQUksQ0FDVCwwQkFBMEIsRUFDMUJGLFNBQVMsQ0FBQyxxQkFBcUIsQ0FBQyxFQUNoQ0YseUJBQXlCLENBQUN5QixrQkFDNUIsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EzQixNQUFNLENBQUNNLElBQUksQ0FDVCw2QkFBNkIsRUFDN0JGLFNBQVMsQ0FBQyx3QkFBd0IsQ0FBQyxFQUNuQ0YseUJBQXlCLENBQUMwQixxQkFDNUIsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBNUIsTUFBTSxDQUFDTSxJQUFJLENBQ1QsZ0JBQWdCLEVBQ2hCRixTQUFTLENBQUMscUJBQXFCLENBQUMsRUFDaENGLHlCQUF5QixDQUFDMkIsa0JBQzVCLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBN0IsTUFBTSxDQUFDZSxHQUFHLENBQ1Isb0NBQW9DLEVBQ3BDWCxTQUFTLENBQUMsc0JBQXNCLENBQUMsRUFDakNGLHlCQUF5QixDQUFDNEIsZ0JBQzVCLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOUIsTUFBTSxDQUFDTSxJQUFJLENBQ1QsdUNBQXVDLEVBQ3ZDRixTQUFTLENBQUMsc0JBQXNCLENBQUMsRUFDakNGLHlCQUF5QixDQUFDNkIsZ0JBQzVCLENBQUM7O0FBRUQ7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQS9CLE1BQU0sQ0FBQ00sSUFBSSxDQUNULGVBQWUsRUFDZkYsU0FBUyxDQUFDLGFBQWEsQ0FBQyxFQUN4QkYseUJBQXlCLENBQUM4QixVQUM1QixDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQWhDLE1BQU0sQ0FBQ00sSUFBSSxDQUNULGtCQUFrQixFQUNsQkYsU0FBUyxDQUFDLG1CQUFtQixDQUFDLEVBQzlCRix5QkFBeUIsQ0FBQytCLGFBQzVCLENBQUM7O0FBRUQ7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQWpDLE1BQU0sQ0FBQ00sSUFBSSxDQUNULGdCQUFnQixFQUNoQkYsU0FBUyxDQUFDLGFBQWEsQ0FBQyxFQUN4QkYseUJBQXlCLENBQUNnQyxVQUM1QixDQUFDOztBQUVEO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBbEMsTUFBTSxDQUFDUSxHQUFHLENBQ1IsaUJBQWlCLEVBQ2pCSixTQUFTLENBQUMsZUFBZSxDQUFDLEVBQzFCRix5QkFBeUIsQ0FBQ2lDLFNBQzVCLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBbkMsTUFBTSxDQUFDUSxHQUFHLENBQ1IsZUFBZSxFQUNmSixTQUFTLENBQUMsZUFBZSxDQUFDLEVBQzFCRix5QkFBeUIsQ0FBQ2tDLFdBQzVCLENBQUM7QUFFREMsTUFBTSxDQUFDQyxPQUFPLEdBQUd0QyxNQUFNIiwiaWdub3JlTGlzdCI6W119