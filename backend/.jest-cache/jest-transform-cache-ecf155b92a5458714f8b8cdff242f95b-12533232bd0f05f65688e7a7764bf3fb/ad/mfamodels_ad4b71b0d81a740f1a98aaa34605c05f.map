{"version":3,"names":["mongoose","require","mfaSettingsSchema","Schema","userId","type","Types","ObjectId","ref","required","unique","totp","enabled","Boolean","default","secret","String","verifiedAt","Date","backupCodesGenerated","emailOTP","smsOTP","phoneNumber","countryCode","backupCodes","code","used","usedAt","requireMFA","primaryMethod","enum","trustedDevices","deviceId","deviceName","fingerprint","token","createdAt","expiresAt","lastUsedAt","ipAddress","userAgent","recovery","recoveryKey","recoveryEmail","recoveryPhone","recoveryCodeRequests","Number","security","requireMFAForSensitiveActions","requireMFAForDataExport","requireMFAForPasswordChange","rememberDeviceFor","auditLog","action","status","timestamp","now","updatedAt","timestamps","mfaSessionSchema","sessionId","method","otpCode","otpHash","attempts","maxAttempts","deviceFingerprint","loginAttemptId","expires","otpLogSchema","recipient","verificationAttempts","deliveryStatus","deliveryError","reason","mfaAuditLogSchema","details","changedSettings","Object","previousValues","newValues","location","deviceInfo","error","errorCode","trustedDeviceSchema","deviceType","coordinates","latitude","longitude","isTrusted","trustVerifiedAt","loginCount","isActive","revokedAt","revokeReason","mfaRecoveryLogSchema","recoveryMethod","recoveryToken","tokenExpiresAt","mfaMethodRecovered","newSettingsApplied","completedAt","supportNotes","adminApprovedBy","adminApprovedAt","MFASettings","model","MFASession","OTPLog","MFAAuditLog","TrustedDevice","MFARecoveryLog","module","exports"],"sources":["mfa.models.js"],"sourcesContent":["/**\r\n * MFA Models\r\n * نماذج المصادقة متعددة العوامل\r\n */\r\n\r\nconst mongoose = require('mongoose');\r\n\r\n// ============ MFA SETTINGS SCHEMA ============\r\n/**\r\n * Stores user MFA configuration and preferences\r\n * تخزين إعدادات وتفضيلات MFA للمستخدم\r\n */\r\nconst mfaSettingsSchema = new mongoose.Schema(\r\n  {\r\n    userId: {\r\n      type: mongoose.Schema.Types.ObjectId,\r\n      ref: 'User',\r\n      required: true,\r\n      unique: true,\r\n    },\r\n    // TOTP Configuration\r\n    totp: {\r\n      enabled: {\r\n        type: Boolean,\r\n        default: false,\r\n      },\r\n      secret: String,\r\n      verifiedAt: Date,\r\n      backupCodesGenerated: {\r\n        type: Boolean,\r\n        default: false,\r\n      },\r\n    },\r\n    // Email OTP Configuration\r\n    emailOTP: {\r\n      enabled: {\r\n        type: Boolean,\r\n        default: false,\r\n      },\r\n      verifiedAt: Date,\r\n    },\r\n    // SMS OTP Configuration\r\n    smsOTP: {\r\n      enabled: {\r\n        type: Boolean,\r\n        default: false,\r\n      },\r\n      phoneNumber: String,\r\n      countryCode: String,\r\n      verifiedAt: Date,\r\n    },\r\n    // Backup Codes\r\n    backupCodes: [\r\n      {\r\n        code: String, // Hashed\r\n        used: {\r\n          type: Boolean,\r\n          default: false,\r\n        },\r\n        usedAt: Date,\r\n      },\r\n    ],\r\n    // MFA Enforcement\r\n    requireMFA: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n    primaryMethod: {\r\n      type: String,\r\n      enum: ['totp', 'email', 'sms', 'none'],\r\n      default: 'none',\r\n    },\r\n    // Trusted Devices\r\n    trustedDevices: [\r\n      {\r\n        deviceId: String,\r\n        deviceName: String,\r\n        fingerprint: String,\r\n        token: String,\r\n        createdAt: Date,\r\n        expiresAt: Date,\r\n        lastUsedAt: Date,\r\n        ipAddress: String,\r\n        userAgent: String,\r\n      },\r\n    ],\r\n    // Recovery Information\r\n    recovery: {\r\n      recoveryKey: String,\r\n      recoveryEmail: String,\r\n      recoveryPhone: String,\r\n      recoveryCodeRequests: {\r\n        type: Number,\r\n        default: 0,\r\n      },\r\n    },\r\n    // Security Settings\r\n    security: {\r\n      requireMFAForSensitiveActions: {\r\n        type: Boolean,\r\n        default: true,\r\n      },\r\n      requireMFAForDataExport: {\r\n        type: Boolean,\r\n        default: true,\r\n      },\r\n      requireMFAForPasswordChange: {\r\n        type: Boolean,\r\n        default: true,\r\n      },\r\n      rememberDeviceFor: {\r\n        type: Number,\r\n        default: 30, // days\r\n      },\r\n    },\r\n    // Audit Trail\r\n    auditLog: [\r\n      {\r\n        action: String,\r\n        status: String,\r\n        timestamp: Date,\r\n        ipAddress: String,\r\n        userAgent: String,\r\n      },\r\n    ],\r\n    createdAt: {\r\n      type: Date,\r\n      default: Date.now,\r\n    },\r\n    updatedAt: {\r\n      type: Date,\r\n      default: Date.now,\r\n    },\r\n  },\r\n  { timestamps: true }\r\n);\r\n\r\n// ============ MFA SESSION SCHEMA ============\r\n/**\r\n * Temporary sessions for MFA verification process\r\n * جلسات مؤقتة لعملية التحقق من MFA\r\n */\r\nconst mfaSessionSchema = new mongoose.Schema(\r\n  {\r\n    sessionId: {\r\n      type: String,\r\n      required: true,\r\n      unique: true,\r\n    },\r\n    userId: {\r\n      type: mongoose.Schema.Types.ObjectId,\r\n      ref: 'User',\r\n      required: true,\r\n    },\r\n    method: {\r\n      type: String,\r\n      enum: ['totp', 'email', 'sms', 'backup', 'trustedDevice'],\r\n      required: true,\r\n    },\r\n    status: {\r\n      type: String,\r\n      enum: ['pending', 'verified', 'expired', 'failed'],\r\n      default: 'pending',\r\n    },\r\n    // OTP Details\r\n    otpCode: String,\r\n    otpHash: String,\r\n    expiresAt: Date,\r\n    attempts: {\r\n      type: Number,\r\n      default: 0,\r\n    },\r\n    maxAttempts: {\r\n      type: Number,\r\n      default: 5,\r\n    },\r\n    // Session Metadata\r\n    ipAddress: String,\r\n    userAgent: String,\r\n    deviceFingerprint: String,\r\n    loginAttemptId: mongoose.Schema.Types.ObjectId,\r\n    // Timestamps\r\n    createdAt: {\r\n      type: Date,\r\n      default: Date.now,\r\n      expires: 900, // Auto-delete after 15 minutes\r\n    },\r\n    verifiedAt: Date,\r\n  },\r\n  { timestamps: true }\r\n);\r\n\r\n// ============ OTP LOG SCHEMA ============\r\n/**\r\n * Log of all OTP codes sent and verification attempts\r\n * سجل جميع أكواد OTP المرسلة ومحاولات التحقق\r\n */\r\nconst otpLogSchema = new mongoose.Schema(\r\n  {\r\n    userId: {\r\n      type: mongoose.Schema.Types.ObjectId,\r\n      ref: 'User',\r\n      required: true,\r\n    },\r\n    method: {\r\n      type: String,\r\n      enum: ['email', 'sms'],\r\n      required: true,\r\n    },\r\n    recipient: {\r\n      type: String,\r\n      required: true, // Email or phone\r\n    },\r\n    otpHash: String,\r\n    status: {\r\n      type: String,\r\n      enum: ['sent', 'verified', 'expired', 'error'],\r\n      default: 'sent',\r\n    },\r\n    verificationAttempts: {\r\n      type: Number,\r\n      default: 0,\r\n    },\r\n    verifiedAt: Date,\r\n    expiresAt: Date,\r\n    // Delivery Information\r\n    deliveryStatus: {\r\n      type: String,\r\n      enum: ['pending', 'sent', 'failed', 'bounced'],\r\n      default: 'pending',\r\n    },\r\n    deliveryError: String,\r\n    // Request Context\r\n    ipAddress: String,\r\n    userAgent: String,\r\n    reason: String, // login, passwordReset, etc.\r\n    createdAt: {\r\n      type: Date,\r\n      default: Date.now,\r\n      expires: 2592000, // Auto-delete after 30 days\r\n    },\r\n  },\r\n  { timestamps: true }\r\n);\r\n\r\n// ============ MFA AUDIT LOG SCHEMA ============\r\n/**\r\n * Audit log for all MFA-related activities\r\n * سجل التدقيق لجميع أنشطة MFA\r\n */\r\nconst mfaAuditLogSchema = new mongoose.Schema(\r\n  {\r\n    userId: {\r\n      type: mongoose.Schema.Types.ObjectId,\r\n      ref: 'User',\r\n      required: true,\r\n    },\r\n    action: {\r\n      type: String,\r\n      enum: [\r\n        'mfa_setup',\r\n        'mfa_enable',\r\n        'mfa_disable',\r\n        'verification_attempt',\r\n        'verification_success',\r\n        'verification_failed',\r\n        'backup_code_generated',\r\n        'backup_code_used',\r\n        'device_trusted',\r\n        'device_revoked',\r\n        'recovery_initiated',\r\n        'recovery_completed',\r\n        'settings_changed',\r\n      ],\r\n      required: true,\r\n    },\r\n    status: {\r\n      type: String,\r\n      enum: ['success', 'failed', 'pending'],\r\n      default: 'success',\r\n    },\r\n    method: {\r\n      type: String,\r\n      enum: ['totp', 'email', 'sms', 'backup', 'recovery'],\r\n    },\r\n    // Details of the action\r\n    details: {\r\n      reason: String,\r\n      changedSettings: Object,\r\n      previousValues: Object,\r\n      newValues: Object,\r\n    },\r\n    // Request Context\r\n    ipAddress: String,\r\n    userAgent: String,\r\n    location: String,\r\n    deviceInfo: String,\r\n    // Error Information\r\n    error: String,\r\n    errorCode: String,\r\n    createdAt: {\r\n      type: Date,\r\n      default: Date.now,\r\n    },\r\n  },\r\n  { timestamps: true }\r\n);\r\n\r\n// ============ TRUSTED DEVICE SCHEMA ============\r\n/**\r\n * Tracks trusted devices to allow skipping MFA on known devices\r\n * تتبع الأجهزة الموثوقة للسماح بتخطي MFA على الأجهزة المعروفة\r\n */\r\nconst trustedDeviceSchema = new mongoose.Schema(\r\n  {\r\n    userId: {\r\n      type: mongoose.Schema.Types.ObjectId,\r\n      ref: 'User',\r\n      required: true,\r\n    },\r\n    deviceId: {\r\n      type: String,\r\n      required: true,\r\n      unique: true,\r\n    },\r\n    deviceName: String,\r\n    deviceType: {\r\n      type: String,\r\n      enum: ['web', 'mobile', 'desktop', 'tablet'],\r\n    },\r\n    fingerprint: {\r\n      type: String,\r\n      required: true,\r\n    },\r\n    token: {\r\n      type: String,\r\n      required: true,\r\n      unique: true,\r\n    },\r\n    ipAddress: String,\r\n    userAgent: String,\r\n    location: String,\r\n    coordinates: {\r\n      latitude: Number,\r\n      longitude: Number,\r\n    },\r\n    // Trust Status\r\n    isTrusted: {\r\n      type: Boolean,\r\n      default: true,\r\n    },\r\n    trustVerifiedAt: Date,\r\n    // Activity\r\n    lastUsedAt: Date,\r\n    loginCount: {\r\n      type: Number,\r\n      default: 1,\r\n    },\r\n    // Expiration\r\n    expiresAt: Date,\r\n    isActive: {\r\n      type: Boolean,\r\n      default: true,\r\n    },\r\n    revokedAt: Date,\r\n    revokeReason: String,\r\n    createdAt: {\r\n      type: Date,\r\n      default: Date.now,\r\n    },\r\n  },\r\n  { timestamps: true }\r\n);\r\n\r\n// ============ MFA RECOVERY LOG SCHEMA ============\r\n/**\r\n * Logs account recovery attempts\r\n * سجل محاولات استرجاع الحساب\r\n */\r\nconst mfaRecoveryLogSchema = new mongoose.Schema(\r\n  {\r\n    userId: {\r\n      type: mongoose.Schema.Types.ObjectId,\r\n      ref: 'User',\r\n      required: true,\r\n    },\r\n    recoveryMethod: {\r\n      type: String,\r\n      enum: ['recovery_key', 'backup_code', 'email', 'support'],\r\n      required: true,\r\n    },\r\n    status: {\r\n      type: String,\r\n      enum: ['initiated', 'pending_verification', 'verified', 'completed', 'failed'],\r\n      default: 'initiated',\r\n    },\r\n    recoveryToken: {\r\n      type: String,\r\n      required: true,\r\n      unique: true,\r\n    },\r\n    tokenExpiresAt: Date,\r\n    verificationAttempts: {\r\n      type: Number,\r\n      default: 0,\r\n    },\r\n    ipAddress: String,\r\n    userAgent: String,\r\n    // Recovery Details\r\n    mfaMethodRecovered: String,\r\n    newSettingsApplied: Object,\r\n    completedAt: Date,\r\n    supportNotes: String,\r\n    adminApprovedBy: mongoose.Schema.Types.ObjectId,\r\n    adminApprovedAt: Date,\r\n    createdAt: {\r\n      type: Date,\r\n      default: Date.now,\r\n      expires: 7776000, // Auto-delete after 90 days\r\n    },\r\n  },\r\n  { timestamps: true }\r\n);\r\n\r\n// Export Models\r\nconst MFASettings = mongoose.model('MFASettings', mfaSettingsSchema);\r\nconst MFASession = mongoose.model('MFASession', mfaSessionSchema);\r\nconst OTPLog = mongoose.model('OTPLog', otpLogSchema);\r\nconst MFAAuditLog = mongoose.model('MFAAuditLog', mfaAuditLogSchema);\r\nconst TrustedDevice = mongoose.model('TrustedDevice', trustedDeviceSchema);\r\nconst MFARecoveryLog = mongoose.model('MFARecoveryLog', mfaRecoveryLogSchema);\r\n\r\nmodule.exports = {\r\n  MFASettings,\r\n  MFASession,\r\n  OTPLog,\r\n  MFAAuditLog,\r\n  TrustedDevice,\r\n  MFARecoveryLog,\r\n  mfaSettingsSchema,\r\n  mfaSessionSchema,\r\n  otpLogSchema,\r\n  mfaAuditLogSchema,\r\n  trustedDeviceSchema,\r\n  mfaRecoveryLogSchema,\r\n};\r\n"],"mappings":"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","ignoreList":[]}