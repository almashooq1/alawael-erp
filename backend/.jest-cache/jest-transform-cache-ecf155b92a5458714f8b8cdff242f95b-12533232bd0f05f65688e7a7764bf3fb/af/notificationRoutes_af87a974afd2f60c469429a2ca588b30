5e5f956a49c27b3daa19344b091b7384
/**
 * ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
 * üîÑ Notification Routes & API Endpoints
 * ÿ∑ÿ±ŸÇ ÿßŸÑÿ™ÿ∑ÿ®ŸäŸÇ ŸàŸàÿßÿ¨Ÿáÿßÿ™ ÿ®ÿ±ŸÖÿ¨Ÿäÿ© ÿßŸÑÿ•ÿ¥ÿπÿßÿ±ÿßÿ™
 * ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
 */

const express = require('express');
const router = express.Router();
const logger = require('../utils/logger');

// ÿßÿ≥ÿ™Ÿäÿ±ÿßÿØ ÿßŸÑÿÆÿØŸÖÿßÿ™
const {
  notificationManager
} = require('../services/unifiedNotificationManager');
const {
  templateSystem
} = require('../services/smartTemplateSystem');
const {
  preferencesManager
} = require('../services/userPreferencesManager');
const {
  rulesEngine
} = require('../services/advancedAlertRulesEngine');
const {
  analyticsSystem
} = require('../services/notificationAnalyticsSystem');
const whatsappService = require('../services/whatsappNotificationService');

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// üì® ÿ•ÿ±ÿ≥ÿßŸÑ ÿßŸÑÿ•ÿ¥ÿπÿßÿ±ÿßÿ™
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

/**
 * POST /api/notifications/send
 * ÿ•ÿ±ÿ≥ÿßŸÑ ÿ•ÿ¥ÿπÿßÿ± ŸÖŸàÿ≠ÿØ
 */
router.post('/send', async (req, res) => {
  try {
    const {
      userId,
      title,
      body,
      channels,
      category,
      priority,
      metadata
    } = req.body;

    // ÿßŸÑÿ™ÿ≠ŸÇŸÇ ŸÖŸÜ ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™
    if (!userId || !title || !body) {
      return res.status(400).json({
        status: 'error',
        message: 'Missing required fields: userId, title, body'
      });
    }

    // ÿ•ÿ±ÿ≥ÿßŸÑ ÿßŸÑÿ•ÿ¥ÿπÿßÿ±
    const notification = await notificationManager.sendNotification(userId, {
      title,
      body,
      channels: channels || {
        email: true,
        inApp: true
      },
      category: category || 'notification',
      priority: priority || 'medium',
      metadata
    });
    res.status(201).json({
      status: 'success',
      message: 'Notification queued for delivery',
      notification
    });
  } catch (error) {
    logger.error(`‚ùå Error in /send: ${error.message}`);
    res.status(500).json({
      status: 'error',
      message: error.message
    });
  }
});

/**
 * POST /api/notifications/send-immediate
 * ÿ•ÿ±ÿ≥ÿßŸÑ ÿ•ÿ¥ÿπÿßÿ± ŸÅŸàÿ±Ÿä
 */
router.post('/send-immediate', async (req, res) => {
  try {
    const {
      userId,
      title,
      body,
      metadata
    } = req.body;
    const notification = await notificationManager.sendImmediateNotification(userId, {
      title,
      body,
      metadata
    });
    res.status(200).json({
      status: 'success',
      notification
    });
  } catch (error) {
    res.status(500).json({
      status: 'error',
      message: error.message
    });
  }
});

/**
 * POST /api/notifications/send-bulk
 * ÿ•ÿ±ÿ≥ÿßŸÑ ÿ•ÿ¥ÿπÿßÿ±ÿßÿ™ ÿ¨ŸÖÿßÿπŸäÿ©
 */
router.post('/send-bulk', async (req, res) => {
  try {
    const {
      userIds,
      notificationTemplate
    } = req.body;
    if (!userIds || !Array.isArray(userIds) || !notificationTemplate) {
      return res.status(400).json({
        status: 'error',
        message: 'userIds and notificationTemplate are required'
      });
    }
    const results = await notificationManager.sendBulkNotifications(userIds, notificationTemplate);
    res.status(201).json({
      status: 'success',
      results
    });
  } catch (error) {
    res.status(500).json({
      status: 'error',
      message: error.message
    });
  }
});

/**
 * POST /api/notifications/whatsapp/send
 * ÿ•ÿ±ÿ≥ÿßŸÑ ÿ±ÿ≥ÿßŸÑÿ© Ÿàÿßÿ™ÿ≥ ÿ¢ÿ®
 */
router.post('/whatsapp/send', async (req, res) => {
  try {
    const {
      phoneNumber,
      message,
      type = 'text',
      mediaUrl
    } = req.body;
    if (!phoneNumber || !message) {
      return res.status(400).json({
        status: 'error',
        message: 'phoneNumber and message are required'
      });
    }
    let result;
    switch (type) {
      case 'image':
        result = await whatsappService.sendImageMessage(phoneNumber, mediaUrl, message);
        break;
      case 'document':
        result = await whatsappService.sendDocumentMessage(phoneNumber, mediaUrl, message);
        break;
      default:
        result = await whatsappService.sendMessage(phoneNumber, message);
    }
    res.status(200).json({
      status: 'success',
      message: 'WhatsApp message queued',
      result
    });
  } catch (error) {
    res.status(500).json({
      status: 'error',
      message: error.message
    });
  }
});

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// üìã ÿ•ÿØÿßÿ±ÿ© ÿßŸÑŸÇŸàÿßŸÑÿ®
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

/**
 * GET /api/notifications/templates
 * ÿßŸÑÿ≠ÿµŸàŸÑ ÿπŸÑŸâ ÿ¨ŸÖŸäÿπ ÿßŸÑŸÇŸàÿßŸÑÿ®
 */
router.get('/templates', async (req, res) => {
  try {
    const {
      category
    } = req.query;
    const templates = await templateSystem.getAllTemplates(category ? {
      category
    } : {});
    res.status(200).json({
      status: 'success',
      templates
    });
  } catch (error) {
    res.status(500).json({
      status: 'error',
      message: error.message
    });
  }
});

/**
 * GET /api/notifications/templates/:templateId
 * ÿßŸÑÿ≠ÿµŸàŸÑ ÿπŸÑŸâ ŸÇÿßŸÑÿ® ŸÖÿπŸäŸÜ
 */
router.get('/templates/:templateId', async (req, res) => {
  try {
    const {
      templateId
    } = req.params;
    const template = await templateSystem.getTemplate(templateId);
    if (!template) {
      return res.status(404).json({
        status: 'error',
        message: 'Template not found'
      });
    }
    res.status(200).json({
      status: 'success',
      template
    });
  } catch (error) {
    res.status(500).json({
      status: 'error',
      message: error.message
    });
  }
});

/**
 * POST /api/notifications/templates
 * ÿ•ŸÜÿ¥ÿßÿ° ŸÇÿßŸÑÿ® ÿ¨ÿØŸäÿØ
 */
router.post('/templates', async (req, res) => {
  try {
    const templateData = req.body;
    const template = await templateSystem.createTemplate(templateData);
    res.status(201).json({
      status: 'success',
      message: 'Template created successfully',
      template
    });
  } catch (error) {
    res.status(400).json({
      status: 'error',
      message: error.message
    });
  }
});

/**
 * PUT /api/notifications/templates/:templateId
 * ÿ™ÿ≠ÿØŸäÿ´ ŸÇÿßŸÑÿ®
 */
router.put('/templates/:templateId', async (req, res) => {
  try {
    const {
      templateId
    } = req.params;
    const result = await templateSystem.updateTemplate(templateId, req.body);
    res.status(200).json({
      status: 'success',
      message: 'Template updated successfully'
    });
  } catch (error) {
    res.status(400).json({
      status: 'error',
      message: error.message
    });
  }
});

/**
 * DELETE /api/notifications/templates/:templateId
 * ÿ≠ÿ∞ŸÅ ŸÇÿßŸÑÿ®
 */
router.delete('/templates/:templateId', async (req, res) => {
  try {
    const {
      templateId
    } = req.params;
    await templateSystem.deleteTemplate(templateId);
    res.status(200).json({
      status: 'success',
      message: 'Template deleted successfully'
    });
  } catch (error) {
    res.status(400).json({
      status: 'error',
      message: error.message
    });
  }
});

/**
 * POST /api/notifications/templates/:templateId/use
 * ÿßÿ≥ÿ™ÿÆÿØÿßŸÖ ŸÇÿßŸÑÿ® ŸÑÿ•ŸÜÿ¥ÿßÿ° ÿ•ÿ¥ÿπÿßÿ±
 */
router.post('/templates/:templateId/use', async (req, res) => {
  try {
    const {
      templateId
    } = req.params;
    const {
      userId,
      variables,
      language
    } = req.body;
    const notificationData = await templateSystem.createNotificationFromTemplate(templateId, variables, language);
    const notification = await notificationManager.sendNotification(userId, notificationData);
    res.status(201).json({
      status: 'success',
      notification
    });
  } catch (error) {
    res.status(400).json({
      status: 'error',
      message: error.message
    });
  }
});

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// ‚öôÔ∏è ÿ™ŸÅÿ∂ŸäŸÑÿßÿ™ ÿßŸÑŸÖÿ≥ÿ™ÿÆÿØŸÖŸäŸÜ
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

/**
 * GET /api/notifications/preferences/:userId
 * ÿßŸÑÿ≠ÿµŸàŸÑ ÿπŸÑŸâ ÿ™ŸÅÿ∂ŸäŸÑÿßÿ™ ÿßŸÑŸÖÿ≥ÿ™ÿÆÿØŸÖ
 */
router.get('/preferences/:userId', async (req, res) => {
  try {
    const {
      userId
    } = req.params;
    const preferences = await preferencesManager.getPreferences(userId);
    res.status(200).json({
      status: 'success',
      preferences
    });
  } catch (error) {
    res.status(500).json({
      status: 'error',
      message: error.message
    });
  }
});

/**
 * PUT /api/notifications/preferences/:userId
 * ÿ™ÿ≠ÿØŸäÿ´ ÿ™ŸÅÿ∂ŸäŸÑÿßÿ™ ÿßŸÑŸÖÿ≥ÿ™ÿÆÿØŸÖ
 */
router.put('/preferences/:userId', async (req, res) => {
  try {
    const {
      userId
    } = req.params;
    const preferences = await preferencesManager.updatePreferences(userId, req.body);
    res.status(200).json({
      status: 'success',
      message: 'Preferences updated',
      preferences
    });
  } catch (error) {
    res.status(400).json({
      status: 'error',
      message: error.message
    });
  }
});

/**
 * POST /api/notifications/preferences/:userId/suspend
 * ÿ™ÿπŸÑŸäŸÇ ÿßŸÑÿ•ÿ¥ÿπÿßÿ±ÿßÿ™
 */
router.post('/preferences/:userId/suspend', async (req, res) => {
  try {
    const {
      userId
    } = req.params;
    const {
      hours = 1
    } = req.body;
    await preferencesManager.suspendNotifications(userId, hours);
    res.status(200).json({
      status: 'success',
      message: `Notifications suspended for ${hours} hour(s)`
    });
  } catch (error) {
    res.status(400).json({
      status: 'error',
      message: error.message
    });
  }
});

/**
 * POST /api/notifications/preferences/:userId/resume
 * ÿßÿ≥ÿ™ÿ¶ŸÜÿßŸÅ ÿßŸÑÿ•ÿ¥ÿπÿßÿ±ÿßÿ™
 */
router.post('/preferences/:userId/resume', async (req, res) => {
  try {
    const {
      userId
    } = req.params;
    await preferencesManager.resumeNotifications(userId);
    res.status(200).json({
      status: 'success',
      message: 'Notifications resumed'
    });
  } catch (error) {
    res.status(400).json({
      status: 'error',
      message: error.message
    });
  }
});

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// üìä ÿßŸÑÿ•ÿ≠ÿµÿßÿ¶Ÿäÿßÿ™ ŸàÿßŸÑÿ™ŸÇÿßÿ±Ÿäÿ±
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

/**
 * GET /api/notifications/metrics/current
 * ÿßŸÑÿ•ÿ≠ÿµÿßÿ¶Ÿäÿßÿ™ ÿßŸÑÿ≠ÿßŸÑŸäÿ©
 */
router.get('/metrics/current', async (req, res) => {
  try {
    const metrics = await analyticsSystem.getCurrentMetrics();
    res.status(200).json({
      status: 'success',
      metrics
    });
  } catch (error) {
    res.status(500).json({
      status: 'error',
      message: error.message
    });
  }
});

/**
 * GET /api/notifications/metrics/kpis
 * ŸÖÿ§ÿ¥ÿ±ÿßÿ™ ÿßŸÑÿ£ÿØÿßÿ° ÿßŸÑÿ±ÿ¶Ÿäÿ≥Ÿäÿ©
 */
router.get('/metrics/kpis', async (req, res) => {
  try {
    const kpis = await analyticsSystem.getKPIs();
    res.status(200).json({
      status: 'success',
      kpis
    });
  } catch (error) {
    res.status(500).json({
      status: 'error',
      message: error.message
    });
  }
});

/**
 * GET /api/notifications/metrics/range
 * ÿßŸÑÿ•ÿ≠ÿµÿßÿ¶Ÿäÿßÿ™ ŸÑŸÜÿ∑ÿßŸÇ ÿ≤ŸÖŸÜŸä
 */
router.get('/metrics/range', async (req, res) => {
  try {
    const {
      startDate,
      endDate,
      period = 'daily'
    } = req.query;
    if (!startDate || !endDate) {
      return res.status(400).json({
        status: 'error',
        message: 'startDate and endDate are required'
      });
    }
    const metrics = await analyticsSystem.getMetricsRange(new Date(startDate), new Date(endDate), period);
    res.status(200).json({
      status: 'success',
      metrics
    });
  } catch (error) {
    res.status(500).json({
      status: 'error',
      message: error.message
    });
  }
});

/**
 * POST /api/notifications/reports/comprehensive
 * ÿ•ŸÜÿ¥ÿßÿ° ÿ™ŸÇÿ±Ÿäÿ± ÿ¥ÿßŸÖŸÑ
 */
router.post('/reports/comprehensive', async (req, res) => {
  try {
    const {
      startDate,
      endDate
    } = req.body;
    if (!startDate || !endDate) {
      return res.status(400).json({
        status: 'error',
        message: 'startDate and endDate are required'
      });
    }
    const report = await analyticsSystem.generateComprehensiveReport(new Date(startDate), new Date(endDate));
    res.status(200).json({
      status: 'success',
      report
    });
  } catch (error) {
    res.status(500).json({
      status: 'error',
      message: error.message
    });
  }
});

/**
 * GET /api/notifications/reports/channel/:channel
 * ÿ™ŸÇÿ±Ÿäÿ± ÿßŸÑŸÇŸÜÿßÿ©
 */
router.get('/reports/channel/:channel', async (req, res) => {
  try {
    const {
      channel
    } = req.params;
    const {
      startDate,
      endDate
    } = req.query;
    if (!startDate || !endDate) {
      return res.status(400).json({
        status: 'error',
        message: 'startDate and endDate are required'
      });
    }
    const report = await analyticsSystem.getChannelReport(channel, new Date(startDate), new Date(endDate));
    res.status(200).json({
      status: 'success',
      report
    });
  } catch (error) {
    res.status(500).json({
      status: 'error',
      message: error.message
    });
  }
});

/**
 * GET /api/notifications/reports/engagement
 * ÿ™ŸÇÿ±Ÿäÿ± ÿßŸÑŸÖÿ¥ÿßÿ±ŸÉÿ©
 */
router.get('/reports/engagement', async (req, res) => {
  try {
    const {
      startDate,
      endDate
    } = req.query;
    const report = await analyticsSystem.getUserEngagementReport(new Date(startDate || new Date(Date.now() - 86400000)), new Date(endDate || new Date()));
    res.status(200).json({
      status: 'success',
      report
    });
  } catch (error) {
    res.status(500).json({
      status: 'error',
      message: error.message
    });
  }
});

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// üë§ ÿ•ÿØÿßÿ±ÿ© ÿßŸÑÿ•ÿ¥ÿπÿßÿ±ÿßÿ™ ŸÑŸÑŸÖÿ≥ÿ™ÿÆÿØŸÖ
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

/**
 * GET /api/notifications/user/:userId
 * ÿßŸÑÿ≠ÿµŸàŸÑ ÿπŸÑŸâ ÿ•ÿ¥ÿπÿßÿ±ÿßÿ™ ÿßŸÑŸÖÿ≥ÿ™ÿÆÿØŸÖ
 */
router.get('/user/:userId', async (req, res) => {
  try {
    const {
      userId
    } = req.params;
    const {
      limit = 50,
      status
    } = req.query;
    const notifications = await notificationManager.getUserNotifications(userId, {
      limit: parseInt(limit),
      status
    });
    res.status(200).json({
      status: 'success',
      notifications
    });
  } catch (error) {
    res.status(500).json({
      status: 'error',
      message: error.message
    });
  }
});

/**
 * PUT /api/notifications/:notificationId/read
 * Ÿàÿ∂ÿπ ÿπŸÑÿßŸÖÿ© ÿπŸÑŸâ ÿßŸÑÿ•ÿ¥ÿπÿßÿ± ŸÉŸÖŸÇÿ±Ÿàÿ°
 */
router.put('/:notificationId/read', async (req, res) => {
  try {
    const {
      notificationId
    } = req.params;
    await notificationManager.markAsRead(notificationId);
    res.status(200).json({
      status: 'success',
      message: 'Notification marked as read'
    });
  } catch (error) {
    res.status(400).json({
      status: 'error',
      message: error.message
    });
  }
});

/**
 * DELETE /api/notifications/:notificationId
 * ÿ≠ÿ∞ŸÅ ÿßŸÑÿ•ÿ¥ÿπÿßÿ±
 */
router.delete('/:notificationId', async (req, res) => {
  try {
    const {
      notificationId
    } = req.params;
    await notificationManager.deleteNotification(notificationId);
    res.status(200).json({
      status: 'success',
      message: 'Notification deleted'
    });
  } catch (error) {
    res.status(400).json({
      status: 'error',
      message: error.message
    });
  }
});

/**
 * POST /api/notifications/:notificationId/rate
 * ÿ™ŸÇŸäŸäŸÖ ÿßŸÑÿ•ÿ¥ÿπÿßÿ±
 */
router.post('/:notificationId/rate', async (req, res) => {
  try {
    const {
      notificationId
    } = req.params;
    const {
      rating,
      feedback
    } = req.body;
    await notificationManager.rateNotification(notificationId, rating, feedback);
    res.status(200).json({
      status: 'success',
      message: 'Notification rated'
    });
  } catch (error) {
    res.status(400).json({
      status: 'error',
      message: error.message
    });
  }
});

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// üéØ ŸÇŸàÿßÿπÿ≥ ÿßŸÑÿ™ŸÜÿ®ŸäŸáÿßÿ™
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

/**
 * POST /api/notifications/rules
 * ÿ•ŸÜÿ¥ÿßÿ° ŸÇÿßÿπÿØÿ© ÿ™ŸÜÿ®ŸäŸá
 */
router.post('/rules', async (req, res) => {
  try {
    const ruleData = req.body;
    const rule = await rulesEngine.createRule(ruleData);
    res.status(201).json({
      status: 'success',
      rule
    });
  } catch (error) {
    res.status(400).json({
      status: 'error',
      message: error.message
    });
  }
});

/**
 * GET /api/notifications/rules
 * ÿßŸÑÿ≠ÿµŸàŸÑ ÿπŸÑŸâ ÿ¨ŸÖŸäÿπ ÿßŸÑŸÇŸàÿßÿπÿ≥
 */
router.get('/rules', async (req, res) => {
  try {
    const rules = await rulesEngine.searchRules();
    res.status(200).json({
      status: 'success',
      rules
    });
  } catch (error) {
    res.status(500).json({
      status: 'error',
      message: error.message
    });
  }
});

/**
 * PUT /api/notifications/rules/:ruleId
 * ÿ™ÿ≠ÿØŸäÿ´ ŸÇÿßÿπÿØÿ©
 */
router.put('/rules/:ruleId', async (req, res) => {
  try {
    const {
      ruleId
    } = req.params;
    const rule = await rulesEngine.updateRule(ruleId, req.body);
    res.status(200).json({
      status: 'success',
      rule
    });
  } catch (error) {
    res.status(400).json({
      status: 'error',
      message: error.message
    });
  }
});

/**
 * DELETE /api/notifications/rules/:ruleId
 * ÿ≠ÿ∞ŸÅ ŸÇÿßÿπÿØÿ©
 */
router.delete('/rules/:ruleId', async (req, res) => {
  try {
    const {
      ruleId
    } = req.params;
    await rulesEngine.deleteRule(ruleId);
    res.status(200).json({
      status: 'success',
      message: 'Rule deleted'
    });
  } catch (error) {
    res.status(400).json({
      status: 'error',
      message: error.message
    });
  }
});

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// üì¶ ÿßŸÑÿ™ÿµÿØŸäÿ±
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

module.exports = router;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJleHByZXNzIiwicmVxdWlyZSIsInJvdXRlciIsIlJvdXRlciIsImxvZ2dlciIsIm5vdGlmaWNhdGlvbk1hbmFnZXIiLCJ0ZW1wbGF0ZVN5c3RlbSIsInByZWZlcmVuY2VzTWFuYWdlciIsInJ1bGVzRW5naW5lIiwiYW5hbHl0aWNzU3lzdGVtIiwid2hhdHNhcHBTZXJ2aWNlIiwicG9zdCIsInJlcSIsInJlcyIsInVzZXJJZCIsInRpdGxlIiwiYm9keSIsImNoYW5uZWxzIiwiY2F0ZWdvcnkiLCJwcmlvcml0eSIsIm1ldGFkYXRhIiwic3RhdHVzIiwianNvbiIsIm1lc3NhZ2UiLCJub3RpZmljYXRpb24iLCJzZW5kTm90aWZpY2F0aW9uIiwiZW1haWwiLCJpbkFwcCIsImVycm9yIiwic2VuZEltbWVkaWF0ZU5vdGlmaWNhdGlvbiIsInVzZXJJZHMiLCJub3RpZmljYXRpb25UZW1wbGF0ZSIsIkFycmF5IiwiaXNBcnJheSIsInJlc3VsdHMiLCJzZW5kQnVsa05vdGlmaWNhdGlvbnMiLCJwaG9uZU51bWJlciIsInR5cGUiLCJtZWRpYVVybCIsInJlc3VsdCIsInNlbmRJbWFnZU1lc3NhZ2UiLCJzZW5kRG9jdW1lbnRNZXNzYWdlIiwic2VuZE1lc3NhZ2UiLCJnZXQiLCJxdWVyeSIsInRlbXBsYXRlcyIsImdldEFsbFRlbXBsYXRlcyIsInRlbXBsYXRlSWQiLCJwYXJhbXMiLCJ0ZW1wbGF0ZSIsImdldFRlbXBsYXRlIiwidGVtcGxhdGVEYXRhIiwiY3JlYXRlVGVtcGxhdGUiLCJwdXQiLCJ1cGRhdGVUZW1wbGF0ZSIsImRlbGV0ZSIsImRlbGV0ZVRlbXBsYXRlIiwidmFyaWFibGVzIiwibGFuZ3VhZ2UiLCJub3RpZmljYXRpb25EYXRhIiwiY3JlYXRlTm90aWZpY2F0aW9uRnJvbVRlbXBsYXRlIiwicHJlZmVyZW5jZXMiLCJnZXRQcmVmZXJlbmNlcyIsInVwZGF0ZVByZWZlcmVuY2VzIiwiaG91cnMiLCJzdXNwZW5kTm90aWZpY2F0aW9ucyIsInJlc3VtZU5vdGlmaWNhdGlvbnMiLCJtZXRyaWNzIiwiZ2V0Q3VycmVudE1ldHJpY3MiLCJrcGlzIiwiZ2V0S1BJcyIsInN0YXJ0RGF0ZSIsImVuZERhdGUiLCJwZXJpb2QiLCJnZXRNZXRyaWNzUmFuZ2UiLCJEYXRlIiwicmVwb3J0IiwiZ2VuZXJhdGVDb21wcmVoZW5zaXZlUmVwb3J0IiwiY2hhbm5lbCIsImdldENoYW5uZWxSZXBvcnQiLCJnZXRVc2VyRW5nYWdlbWVudFJlcG9ydCIsIm5vdyIsImxpbWl0Iiwibm90aWZpY2F0aW9ucyIsImdldFVzZXJOb3RpZmljYXRpb25zIiwicGFyc2VJbnQiLCJub3RpZmljYXRpb25JZCIsIm1hcmtBc1JlYWQiLCJkZWxldGVOb3RpZmljYXRpb24iLCJyYXRpbmciLCJmZWVkYmFjayIsInJhdGVOb3RpZmljYXRpb24iLCJydWxlRGF0YSIsInJ1bGUiLCJjcmVhdGVSdWxlIiwicnVsZXMiLCJzZWFyY2hSdWxlcyIsInJ1bGVJZCIsInVwZGF0ZVJ1bGUiLCJkZWxldGVSdWxlIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VzIjpbIm5vdGlmaWNhdGlvblJvdXRlcy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICog4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQXHJcbiAqIPCflIQgTm90aWZpY2F0aW9uIFJvdXRlcyAmIEFQSSBFbmRwb2ludHNcclxuICog2LfYsdmCINin2YTYqti32KjZitmCINmI2YjYp9is2YfYp9iqINio2LHZhdis2YrYqSDYp9mE2KXYtNi52KfYsdin2KpcclxuICog4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQXHJcbiAqL1xyXG5cclxuY29uc3QgZXhwcmVzcyA9IHJlcXVpcmUoJ2V4cHJlc3MnKTtcclxuY29uc3Qgcm91dGVyID0gZXhwcmVzcy5Sb3V0ZXIoKTtcclxuY29uc3QgbG9nZ2VyID0gcmVxdWlyZSgnLi4vdXRpbHMvbG9nZ2VyJyk7XHJcblxyXG4vLyDYp9iz2KrZitix2KfYryDYp9mE2K7Yr9mF2KfYqlxyXG5jb25zdCB7IG5vdGlmaWNhdGlvbk1hbmFnZXIgfSA9IHJlcXVpcmUoJy4uL3NlcnZpY2VzL3VuaWZpZWROb3RpZmljYXRpb25NYW5hZ2VyJyk7XHJcbmNvbnN0IHsgdGVtcGxhdGVTeXN0ZW0gfSA9IHJlcXVpcmUoJy4uL3NlcnZpY2VzL3NtYXJ0VGVtcGxhdGVTeXN0ZW0nKTtcclxuY29uc3QgeyBwcmVmZXJlbmNlc01hbmFnZXIgfSA9IHJlcXVpcmUoJy4uL3NlcnZpY2VzL3VzZXJQcmVmZXJlbmNlc01hbmFnZXInKTtcclxuY29uc3QgeyBydWxlc0VuZ2luZSB9ID0gcmVxdWlyZSgnLi4vc2VydmljZXMvYWR2YW5jZWRBbGVydFJ1bGVzRW5naW5lJyk7XHJcbmNvbnN0IHsgYW5hbHl0aWNzU3lzdGVtIH0gPSByZXF1aXJlKCcuLi9zZXJ2aWNlcy9ub3RpZmljYXRpb25BbmFseXRpY3NTeXN0ZW0nKTtcclxuY29uc3Qgd2hhdHNhcHBTZXJ2aWNlID0gcmVxdWlyZSgnLi4vc2VydmljZXMvd2hhdHNhcHBOb3RpZmljYXRpb25TZXJ2aWNlJyk7XHJcblxyXG4vLyDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZBcclxuLy8g8J+TqCDYpdix2LPYp9mEINin2YTYpdi02LnYp9ix2KfYqlxyXG4vLyDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZBcclxuXHJcbi8qKlxyXG4gKiBQT1NUIC9hcGkvbm90aWZpY2F0aW9ucy9zZW5kXHJcbiAqINil2LHYs9in2YQg2KXYtNi52KfYsSDZhdmI2K3Yr1xyXG4gKi9cclxucm91dGVyLnBvc3QoJy9zZW5kJywgYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IHsgdXNlcklkLCB0aXRsZSwgYm9keSwgY2hhbm5lbHMsIGNhdGVnb3J5LCBwcmlvcml0eSwgbWV0YWRhdGEgfSA9IHJlcS5ib2R5O1xyXG5cclxuICAgIC8vINin2YTYqtit2YLZgiDZhdmGINin2YTYqNmK2KfZhtin2KpcclxuICAgIGlmICghdXNlcklkIHx8ICF0aXRsZSB8fCAhYm9keSkge1xyXG4gICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oe1xyXG4gICAgICAgIHN0YXR1czogJ2Vycm9yJyxcclxuICAgICAgICBtZXNzYWdlOiAnTWlzc2luZyByZXF1aXJlZCBmaWVsZHM6IHVzZXJJZCwgdGl0bGUsIGJvZHknLFxyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvLyDYpdix2LPYp9mEINin2YTYpdi02LnYp9ixXHJcbiAgICBjb25zdCBub3RpZmljYXRpb24gPSBhd2FpdCBub3RpZmljYXRpb25NYW5hZ2VyLnNlbmROb3RpZmljYXRpb24odXNlcklkLCB7XHJcbiAgICAgIHRpdGxlLFxyXG4gICAgICBib2R5LFxyXG4gICAgICBjaGFubmVsczogY2hhbm5lbHMgfHwgeyBlbWFpbDogdHJ1ZSwgaW5BcHA6IHRydWUgfSxcclxuICAgICAgY2F0ZWdvcnk6IGNhdGVnb3J5IHx8ICdub3RpZmljYXRpb24nLFxyXG4gICAgICBwcmlvcml0eTogcHJpb3JpdHkgfHwgJ21lZGl1bScsXHJcbiAgICAgIG1ldGFkYXRhLFxyXG4gICAgfSk7XHJcblxyXG4gICAgcmVzLnN0YXR1cygyMDEpLmpzb24oe1xyXG4gICAgICBzdGF0dXM6ICdzdWNjZXNzJyxcclxuICAgICAgbWVzc2FnZTogJ05vdGlmaWNhdGlvbiBxdWV1ZWQgZm9yIGRlbGl2ZXJ5JyxcclxuICAgICAgbm90aWZpY2F0aW9uLFxyXG4gICAgfSk7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGxvZ2dlci5lcnJvcihg4p2MIEVycm9yIGluIC9zZW5kOiAke2Vycm9yLm1lc3NhZ2V9YCk7XHJcbiAgICByZXMuc3RhdHVzKDUwMCkuanNvbih7XHJcbiAgICAgIHN0YXR1czogJ2Vycm9yJyxcclxuICAgICAgbWVzc2FnZTogZXJyb3IubWVzc2FnZSxcclxuICAgIH0pO1xyXG4gIH1cclxufSk7XHJcblxyXG4vKipcclxuICogUE9TVCAvYXBpL25vdGlmaWNhdGlvbnMvc2VuZC1pbW1lZGlhdGVcclxuICog2KXYsdiz2KfZhCDYpdi02LnYp9ixINmB2YjYsdmKXHJcbiAqL1xyXG5yb3V0ZXIucG9zdCgnL3NlbmQtaW1tZWRpYXRlJywgYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IHsgdXNlcklkLCB0aXRsZSwgYm9keSwgbWV0YWRhdGEgfSA9IHJlcS5ib2R5O1xyXG5cclxuICAgIGNvbnN0IG5vdGlmaWNhdGlvbiA9IGF3YWl0IG5vdGlmaWNhdGlvbk1hbmFnZXIuc2VuZEltbWVkaWF0ZU5vdGlmaWNhdGlvbih1c2VySWQsIHtcclxuICAgICAgdGl0bGUsXHJcbiAgICAgIGJvZHksXHJcbiAgICAgIG1ldGFkYXRhLFxyXG4gICAgfSk7XHJcblxyXG4gICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xyXG4gICAgICBzdGF0dXM6ICdzdWNjZXNzJyxcclxuICAgICAgbm90aWZpY2F0aW9uLFxyXG4gICAgfSk7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHtcclxuICAgICAgc3RhdHVzOiAnZXJyb3InLFxyXG4gICAgICBtZXNzYWdlOiBlcnJvci5tZXNzYWdlLFxyXG4gICAgfSk7XHJcbiAgfVxyXG59KTtcclxuXHJcbi8qKlxyXG4gKiBQT1NUIC9hcGkvbm90aWZpY2F0aW9ucy9zZW5kLWJ1bGtcclxuICog2KXYsdiz2KfZhCDYpdi02LnYp9ix2KfYqiDYrNmF2KfYudmK2KlcclxuICovXHJcbnJvdXRlci5wb3N0KCcvc2VuZC1idWxrJywgYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IHsgdXNlcklkcywgbm90aWZpY2F0aW9uVGVtcGxhdGUgfSA9IHJlcS5ib2R5O1xyXG5cclxuICAgIGlmICghdXNlcklkcyB8fCAhQXJyYXkuaXNBcnJheSh1c2VySWRzKSB8fCAhbm90aWZpY2F0aW9uVGVtcGxhdGUpIHtcclxuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHtcclxuICAgICAgICBzdGF0dXM6ICdlcnJvcicsXHJcbiAgICAgICAgbWVzc2FnZTogJ3VzZXJJZHMgYW5kIG5vdGlmaWNhdGlvblRlbXBsYXRlIGFyZSByZXF1aXJlZCcsXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHJlc3VsdHMgPSBhd2FpdCBub3RpZmljYXRpb25NYW5hZ2VyLnNlbmRCdWxrTm90aWZpY2F0aW9ucyhcclxuICAgICAgdXNlcklkcyxcclxuICAgICAgbm90aWZpY2F0aW9uVGVtcGxhdGVcclxuICAgICk7XHJcblxyXG4gICAgcmVzLnN0YXR1cygyMDEpLmpzb24oe1xyXG4gICAgICBzdGF0dXM6ICdzdWNjZXNzJyxcclxuICAgICAgcmVzdWx0cyxcclxuICAgIH0pO1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICByZXMuc3RhdHVzKDUwMCkuanNvbih7XHJcbiAgICAgIHN0YXR1czogJ2Vycm9yJyxcclxuICAgICAgbWVzc2FnZTogZXJyb3IubWVzc2FnZSxcclxuICAgIH0pO1xyXG4gIH1cclxufSk7XHJcblxyXG4vKipcclxuICogUE9TVCAvYXBpL25vdGlmaWNhdGlvbnMvd2hhdHNhcHAvc2VuZFxyXG4gKiDYpdix2LPYp9mEINix2LPYp9mE2Kkg2YjYp9iq2LMg2KLYqFxyXG4gKi9cclxucm91dGVyLnBvc3QoJy93aGF0c2FwcC9zZW5kJywgYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IHsgcGhvbmVOdW1iZXIsIG1lc3NhZ2UsIHR5cGUgPSAndGV4dCcsIG1lZGlhVXJsIH0gPSByZXEuYm9keTtcclxuXHJcbiAgICBpZiAoIXBob25lTnVtYmVyIHx8ICFtZXNzYWdlKSB7XHJcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7XHJcbiAgICAgICAgc3RhdHVzOiAnZXJyb3InLFxyXG4gICAgICAgIG1lc3NhZ2U6ICdwaG9uZU51bWJlciBhbmQgbWVzc2FnZSBhcmUgcmVxdWlyZWQnLFxyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBsZXQgcmVzdWx0O1xyXG5cclxuICAgIHN3aXRjaCAodHlwZSkge1xyXG4gICAgICBjYXNlICdpbWFnZSc6XHJcbiAgICAgICAgcmVzdWx0ID0gYXdhaXQgd2hhdHNhcHBTZXJ2aWNlLnNlbmRJbWFnZU1lc3NhZ2UocGhvbmVOdW1iZXIsIG1lZGlhVXJsLCBtZXNzYWdlKTtcclxuICAgICAgICBicmVhaztcclxuICAgICAgY2FzZSAnZG9jdW1lbnQnOlxyXG4gICAgICAgIHJlc3VsdCA9IGF3YWl0IHdoYXRzYXBwU2VydmljZS5zZW5kRG9jdW1lbnRNZXNzYWdlKHBob25lTnVtYmVyLCBtZWRpYVVybCwgbWVzc2FnZSk7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgcmVzdWx0ID0gYXdhaXQgd2hhdHNhcHBTZXJ2aWNlLnNlbmRNZXNzYWdlKHBob25lTnVtYmVyLCBtZXNzYWdlKTtcclxuICAgIH1cclxuXHJcbiAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgIHN0YXR1czogJ3N1Y2Nlc3MnLFxyXG4gICAgICBtZXNzYWdlOiAnV2hhdHNBcHAgbWVzc2FnZSBxdWV1ZWQnLFxyXG4gICAgICByZXN1bHQsXHJcbiAgICB9KTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgcmVzLnN0YXR1cyg1MDApLmpzb24oe1xyXG4gICAgICBzdGF0dXM6ICdlcnJvcicsXHJcbiAgICAgIG1lc3NhZ2U6IGVycm9yLm1lc3NhZ2UsXHJcbiAgICB9KTtcclxuICB9XHJcbn0pO1xyXG5cclxuLy8g4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQXHJcbi8vIPCfk4sg2KXYr9in2LHYqSDYp9mE2YLZiNin2YTYqFxyXG4vLyDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZBcclxuXHJcbi8qKlxyXG4gKiBHRVQgL2FwaS9ub3RpZmljYXRpb25zL3RlbXBsYXRlc1xyXG4gKiDYp9mE2K3YtdmI2YQg2LnZhNmJINis2YXZiti5INin2YTZgtmI2KfZhNioXHJcbiAqL1xyXG5yb3V0ZXIuZ2V0KCcvdGVtcGxhdGVzJywgYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IHsgY2F0ZWdvcnkgfSA9IHJlcS5xdWVyeTtcclxuICAgIGNvbnN0IHRlbXBsYXRlcyA9IGF3YWl0IHRlbXBsYXRlU3lzdGVtLmdldEFsbFRlbXBsYXRlcyhcclxuICAgICAgY2F0ZWdvcnkgPyB7IGNhdGVnb3J5IH0gOiB7fVxyXG4gICAgKTtcclxuXHJcbiAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgIHN0YXR1czogJ3N1Y2Nlc3MnLFxyXG4gICAgICB0ZW1wbGF0ZXMsXHJcbiAgICB9KTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgcmVzLnN0YXR1cyg1MDApLmpzb24oe1xyXG4gICAgICBzdGF0dXM6ICdlcnJvcicsXHJcbiAgICAgIG1lc3NhZ2U6IGVycm9yLm1lc3NhZ2UsXHJcbiAgICB9KTtcclxuICB9XHJcbn0pO1xyXG5cclxuLyoqXHJcbiAqIEdFVCAvYXBpL25vdGlmaWNhdGlvbnMvdGVtcGxhdGVzLzp0ZW1wbGF0ZUlkXHJcbiAqINin2YTYrdi12YjZhCDYudmE2Ykg2YLYp9mE2Kgg2YXYudmK2YZcclxuICovXHJcbnJvdXRlci5nZXQoJy90ZW1wbGF0ZXMvOnRlbXBsYXRlSWQnLCBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgeyB0ZW1wbGF0ZUlkIH0gPSByZXEucGFyYW1zO1xyXG4gICAgY29uc3QgdGVtcGxhdGUgPSBhd2FpdCB0ZW1wbGF0ZVN5c3RlbS5nZXRUZW1wbGF0ZSh0ZW1wbGF0ZUlkKTtcclxuXHJcbiAgICBpZiAoIXRlbXBsYXRlKSB7XHJcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwNCkuanNvbih7XHJcbiAgICAgICAgc3RhdHVzOiAnZXJyb3InLFxyXG4gICAgICAgIG1lc3NhZ2U6ICdUZW1wbGF0ZSBub3QgZm91bmQnLFxyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgIHN0YXR1czogJ3N1Y2Nlc3MnLFxyXG4gICAgICB0ZW1wbGF0ZSxcclxuICAgIH0pO1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICByZXMuc3RhdHVzKDUwMCkuanNvbih7XHJcbiAgICAgIHN0YXR1czogJ2Vycm9yJyxcclxuICAgICAgbWVzc2FnZTogZXJyb3IubWVzc2FnZSxcclxuICAgIH0pO1xyXG4gIH1cclxufSk7XHJcblxyXG4vKipcclxuICogUE9TVCAvYXBpL25vdGlmaWNhdGlvbnMvdGVtcGxhdGVzXHJcbiAqINil2YbYtNin2KEg2YLYp9mE2Kgg2KzYr9mK2K9cclxuICovXHJcbnJvdXRlci5wb3N0KCcvdGVtcGxhdGVzJywgYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IHRlbXBsYXRlRGF0YSA9IHJlcS5ib2R5O1xyXG4gICAgY29uc3QgdGVtcGxhdGUgPSBhd2FpdCB0ZW1wbGF0ZVN5c3RlbS5jcmVhdGVUZW1wbGF0ZSh0ZW1wbGF0ZURhdGEpO1xyXG5cclxuICAgIHJlcy5zdGF0dXMoMjAxKS5qc29uKHtcclxuICAgICAgc3RhdHVzOiAnc3VjY2VzcycsXHJcbiAgICAgIG1lc3NhZ2U6ICdUZW1wbGF0ZSBjcmVhdGVkIHN1Y2Nlc3NmdWxseScsXHJcbiAgICAgIHRlbXBsYXRlLFxyXG4gICAgfSk7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIHJlcy5zdGF0dXMoNDAwKS5qc29uKHtcclxuICAgICAgc3RhdHVzOiAnZXJyb3InLFxyXG4gICAgICBtZXNzYWdlOiBlcnJvci5tZXNzYWdlLFxyXG4gICAgfSk7XHJcbiAgfVxyXG59KTtcclxuXHJcbi8qKlxyXG4gKiBQVVQgL2FwaS9ub3RpZmljYXRpb25zL3RlbXBsYXRlcy86dGVtcGxhdGVJZFxyXG4gKiDYqtit2K/ZitirINmC2KfZhNioXHJcbiAqL1xyXG5yb3V0ZXIucHV0KCcvdGVtcGxhdGVzLzp0ZW1wbGF0ZUlkJywgYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IHsgdGVtcGxhdGVJZCB9ID0gcmVxLnBhcmFtcztcclxuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRlbXBsYXRlU3lzdGVtLnVwZGF0ZVRlbXBsYXRlKHRlbXBsYXRlSWQsIHJlcS5ib2R5KTtcclxuXHJcbiAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgIHN0YXR1czogJ3N1Y2Nlc3MnLFxyXG4gICAgICBtZXNzYWdlOiAnVGVtcGxhdGUgdXBkYXRlZCBzdWNjZXNzZnVsbHknLFxyXG4gICAgfSk7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIHJlcy5zdGF0dXMoNDAwKS5qc29uKHtcclxuICAgICAgc3RhdHVzOiAnZXJyb3InLFxyXG4gICAgICBtZXNzYWdlOiBlcnJvci5tZXNzYWdlLFxyXG4gICAgfSk7XHJcbiAgfVxyXG59KTtcclxuXHJcbi8qKlxyXG4gKiBERUxFVEUgL2FwaS9ub3RpZmljYXRpb25zL3RlbXBsYXRlcy86dGVtcGxhdGVJZFxyXG4gKiDYrdiw2YEg2YLYp9mE2KhcclxuICovXHJcbnJvdXRlci5kZWxldGUoJy90ZW1wbGF0ZXMvOnRlbXBsYXRlSWQnLCBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgeyB0ZW1wbGF0ZUlkIH0gPSByZXEucGFyYW1zO1xyXG4gICAgYXdhaXQgdGVtcGxhdGVTeXN0ZW0uZGVsZXRlVGVtcGxhdGUodGVtcGxhdGVJZCk7XHJcblxyXG4gICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xyXG4gICAgICBzdGF0dXM6ICdzdWNjZXNzJyxcclxuICAgICAgbWVzc2FnZTogJ1RlbXBsYXRlIGRlbGV0ZWQgc3VjY2Vzc2Z1bGx5JyxcclxuICAgIH0pO1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICByZXMuc3RhdHVzKDQwMCkuanNvbih7XHJcbiAgICAgIHN0YXR1czogJ2Vycm9yJyxcclxuICAgICAgbWVzc2FnZTogZXJyb3IubWVzc2FnZSxcclxuICAgIH0pO1xyXG4gIH1cclxufSk7XHJcblxyXG4vKipcclxuICogUE9TVCAvYXBpL25vdGlmaWNhdGlvbnMvdGVtcGxhdGVzLzp0ZW1wbGF0ZUlkL3VzZVxyXG4gKiDYp9iz2KrYrtiv2KfZhSDZgtin2YTYqCDZhNil2YbYtNin2KEg2KXYtNi52KfYsVxyXG4gKi9cclxucm91dGVyLnBvc3QoJy90ZW1wbGF0ZXMvOnRlbXBsYXRlSWQvdXNlJywgYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IHsgdGVtcGxhdGVJZCB9ID0gcmVxLnBhcmFtcztcclxuICAgIGNvbnN0IHsgdXNlcklkLCB2YXJpYWJsZXMsIGxhbmd1YWdlIH0gPSByZXEuYm9keTtcclxuXHJcbiAgICBjb25zdCBub3RpZmljYXRpb25EYXRhID0gYXdhaXQgdGVtcGxhdGVTeXN0ZW0uY3JlYXRlTm90aWZpY2F0aW9uRnJvbVRlbXBsYXRlKFxyXG4gICAgICB0ZW1wbGF0ZUlkLFxyXG4gICAgICB2YXJpYWJsZXMsXHJcbiAgICAgIGxhbmd1YWdlXHJcbiAgICApO1xyXG5cclxuICAgIGNvbnN0IG5vdGlmaWNhdGlvbiA9IGF3YWl0IG5vdGlmaWNhdGlvbk1hbmFnZXIuc2VuZE5vdGlmaWNhdGlvbihcclxuICAgICAgdXNlcklkLFxyXG4gICAgICBub3RpZmljYXRpb25EYXRhXHJcbiAgICApO1xyXG5cclxuICAgIHJlcy5zdGF0dXMoMjAxKS5qc29uKHtcclxuICAgICAgc3RhdHVzOiAnc3VjY2VzcycsXHJcbiAgICAgIG5vdGlmaWNhdGlvbixcclxuICAgIH0pO1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICByZXMuc3RhdHVzKDQwMCkuanNvbih7XHJcbiAgICAgIHN0YXR1czogJ2Vycm9yJyxcclxuICAgICAgbWVzc2FnZTogZXJyb3IubWVzc2FnZSxcclxuICAgIH0pO1xyXG4gIH1cclxufSk7XHJcblxyXG4vLyDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZBcclxuLy8g4pqZ77iPINiq2YHYttmK2YTYp9iqINin2YTZhdiz2KrYrtiv2YXZitmGXHJcbi8vIOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkFxyXG5cclxuLyoqXHJcbiAqIEdFVCAvYXBpL25vdGlmaWNhdGlvbnMvcHJlZmVyZW5jZXMvOnVzZXJJZFxyXG4gKiDYp9mE2K3YtdmI2YQg2LnZhNmJINiq2YHYttmK2YTYp9iqINin2YTZhdiz2KrYrtiv2YVcclxuICovXHJcbnJvdXRlci5nZXQoJy9wcmVmZXJlbmNlcy86dXNlcklkJywgYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IHsgdXNlcklkIH0gPSByZXEucGFyYW1zO1xyXG4gICAgY29uc3QgcHJlZmVyZW5jZXMgPSBhd2FpdCBwcmVmZXJlbmNlc01hbmFnZXIuZ2V0UHJlZmVyZW5jZXModXNlcklkKTtcclxuXHJcbiAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgIHN0YXR1czogJ3N1Y2Nlc3MnLFxyXG4gICAgICBwcmVmZXJlbmNlcyxcclxuICAgIH0pO1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICByZXMuc3RhdHVzKDUwMCkuanNvbih7XHJcbiAgICAgIHN0YXR1czogJ2Vycm9yJyxcclxuICAgICAgbWVzc2FnZTogZXJyb3IubWVzc2FnZSxcclxuICAgIH0pO1xyXG4gIH1cclxufSk7XHJcblxyXG4vKipcclxuICogUFVUIC9hcGkvbm90aWZpY2F0aW9ucy9wcmVmZXJlbmNlcy86dXNlcklkXHJcbiAqINiq2K3Yr9mK2Ksg2KrZgdi22YrZhNin2Kog2KfZhNmF2LPYqtiu2K/ZhVxyXG4gKi9cclxucm91dGVyLnB1dCgnL3ByZWZlcmVuY2VzLzp1c2VySWQnLCBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgeyB1c2VySWQgfSA9IHJlcS5wYXJhbXM7XHJcbiAgICBjb25zdCBwcmVmZXJlbmNlcyA9IGF3YWl0IHByZWZlcmVuY2VzTWFuYWdlci51cGRhdGVQcmVmZXJlbmNlcyh1c2VySWQsIHJlcS5ib2R5KTtcclxuXHJcbiAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgIHN0YXR1czogJ3N1Y2Nlc3MnLFxyXG4gICAgICBtZXNzYWdlOiAnUHJlZmVyZW5jZXMgdXBkYXRlZCcsXHJcbiAgICAgIHByZWZlcmVuY2VzLFxyXG4gICAgfSk7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIHJlcy5zdGF0dXMoNDAwKS5qc29uKHtcclxuICAgICAgc3RhdHVzOiAnZXJyb3InLFxyXG4gICAgICBtZXNzYWdlOiBlcnJvci5tZXNzYWdlLFxyXG4gICAgfSk7XHJcbiAgfVxyXG59KTtcclxuXHJcbi8qKlxyXG4gKiBQT1NUIC9hcGkvbm90aWZpY2F0aW9ucy9wcmVmZXJlbmNlcy86dXNlcklkL3N1c3BlbmRcclxuICog2KrYudmE2YrZgiDYp9mE2KXYtNi52KfYsdin2KpcclxuICovXHJcbnJvdXRlci5wb3N0KCcvcHJlZmVyZW5jZXMvOnVzZXJJZC9zdXNwZW5kJywgYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IHsgdXNlcklkIH0gPSByZXEucGFyYW1zO1xyXG4gICAgY29uc3QgeyBob3VycyA9IDEgfSA9IHJlcS5ib2R5O1xyXG5cclxuICAgIGF3YWl0IHByZWZlcmVuY2VzTWFuYWdlci5zdXNwZW5kTm90aWZpY2F0aW9ucyh1c2VySWQsIGhvdXJzKTtcclxuXHJcbiAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgIHN0YXR1czogJ3N1Y2Nlc3MnLFxyXG4gICAgICBtZXNzYWdlOiBgTm90aWZpY2F0aW9ucyBzdXNwZW5kZWQgZm9yICR7aG91cnN9IGhvdXIocylgLFxyXG4gICAgfSk7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIHJlcy5zdGF0dXMoNDAwKS5qc29uKHtcclxuICAgICAgc3RhdHVzOiAnZXJyb3InLFxyXG4gICAgICBtZXNzYWdlOiBlcnJvci5tZXNzYWdlLFxyXG4gICAgfSk7XHJcbiAgfVxyXG59KTtcclxuXHJcbi8qKlxyXG4gKiBQT1NUIC9hcGkvbm90aWZpY2F0aW9ucy9wcmVmZXJlbmNlcy86dXNlcklkL3Jlc3VtZVxyXG4gKiDYp9iz2KrYptmG2KfZgSDYp9mE2KXYtNi52KfYsdin2KpcclxuICovXHJcbnJvdXRlci5wb3N0KCcvcHJlZmVyZW5jZXMvOnVzZXJJZC9yZXN1bWUnLCBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgeyB1c2VySWQgfSA9IHJlcS5wYXJhbXM7XHJcbiAgICBhd2FpdCBwcmVmZXJlbmNlc01hbmFnZXIucmVzdW1lTm90aWZpY2F0aW9ucyh1c2VySWQpO1xyXG5cclxuICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgc3RhdHVzOiAnc3VjY2VzcycsXHJcbiAgICAgIG1lc3NhZ2U6ICdOb3RpZmljYXRpb25zIHJlc3VtZWQnLFxyXG4gICAgfSk7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIHJlcy5zdGF0dXMoNDAwKS5qc29uKHtcclxuICAgICAgc3RhdHVzOiAnZXJyb3InLFxyXG4gICAgICBtZXNzYWdlOiBlcnJvci5tZXNzYWdlLFxyXG4gICAgfSk7XHJcbiAgfVxyXG59KTtcclxuXHJcbi8vIOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkFxyXG4vLyDwn5OKINin2YTYpdit2LXYp9im2YrYp9iqINmI2KfZhNiq2YLYp9ix2YrYsVxyXG4vLyDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZBcclxuXHJcbi8qKlxyXG4gKiBHRVQgL2FwaS9ub3RpZmljYXRpb25zL21ldHJpY3MvY3VycmVudFxyXG4gKiDYp9mE2KXYrdi12KfYptmK2KfYqiDYp9mE2K3Yp9mE2YrYqVxyXG4gKi9cclxucm91dGVyLmdldCgnL21ldHJpY3MvY3VycmVudCcsIGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCBtZXRyaWNzID0gYXdhaXQgYW5hbHl0aWNzU3lzdGVtLmdldEN1cnJlbnRNZXRyaWNzKCk7XHJcblxyXG4gICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xyXG4gICAgICBzdGF0dXM6ICdzdWNjZXNzJyxcclxuICAgICAgbWV0cmljcyxcclxuICAgIH0pO1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICByZXMuc3RhdHVzKDUwMCkuanNvbih7XHJcbiAgICAgIHN0YXR1czogJ2Vycm9yJyxcclxuICAgICAgbWVzc2FnZTogZXJyb3IubWVzc2FnZSxcclxuICAgIH0pO1xyXG4gIH1cclxufSk7XHJcblxyXG4vKipcclxuICogR0VUIC9hcGkvbm90aWZpY2F0aW9ucy9tZXRyaWNzL2twaXNcclxuICog2YXYpNi02LHYp9iqINin2YTYo9iv2KfYoSDYp9mE2LHYptmK2LPZitipXHJcbiAqL1xyXG5yb3V0ZXIuZ2V0KCcvbWV0cmljcy9rcGlzJywgYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IGtwaXMgPSBhd2FpdCBhbmFseXRpY3NTeXN0ZW0uZ2V0S1BJcygpO1xyXG5cclxuICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgc3RhdHVzOiAnc3VjY2VzcycsXHJcbiAgICAgIGtwaXMsXHJcbiAgICB9KTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgcmVzLnN0YXR1cyg1MDApLmpzb24oe1xyXG4gICAgICBzdGF0dXM6ICdlcnJvcicsXHJcbiAgICAgIG1lc3NhZ2U6IGVycm9yLm1lc3NhZ2UsXHJcbiAgICB9KTtcclxuICB9XHJcbn0pO1xyXG5cclxuLyoqXHJcbiAqIEdFVCAvYXBpL25vdGlmaWNhdGlvbnMvbWV0cmljcy9yYW5nZVxyXG4gKiDYp9mE2KXYrdi12KfYptmK2KfYqiDZhNmG2LfYp9mCINiy2YXZhtmKXHJcbiAqL1xyXG5yb3V0ZXIuZ2V0KCcvbWV0cmljcy9yYW5nZScsIGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCB7IHN0YXJ0RGF0ZSwgZW5kRGF0ZSwgcGVyaW9kID0gJ2RhaWx5JyB9ID0gcmVxLnF1ZXJ5O1xyXG5cclxuICAgIGlmICghc3RhcnREYXRlIHx8ICFlbmREYXRlKSB7XHJcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7XHJcbiAgICAgICAgc3RhdHVzOiAnZXJyb3InLFxyXG4gICAgICAgIG1lc3NhZ2U6ICdzdGFydERhdGUgYW5kIGVuZERhdGUgYXJlIHJlcXVpcmVkJyxcclxuICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgbWV0cmljcyA9IGF3YWl0IGFuYWx5dGljc1N5c3RlbS5nZXRNZXRyaWNzUmFuZ2UoXHJcbiAgICAgIG5ldyBEYXRlKHN0YXJ0RGF0ZSksXHJcbiAgICAgIG5ldyBEYXRlKGVuZERhdGUpLFxyXG4gICAgICBwZXJpb2RcclxuICAgICk7XHJcblxyXG4gICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xyXG4gICAgICBzdGF0dXM6ICdzdWNjZXNzJyxcclxuICAgICAgbWV0cmljcyxcclxuICAgIH0pO1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICByZXMuc3RhdHVzKDUwMCkuanNvbih7XHJcbiAgICAgIHN0YXR1czogJ2Vycm9yJyxcclxuICAgICAgbWVzc2FnZTogZXJyb3IubWVzc2FnZSxcclxuICAgIH0pO1xyXG4gIH1cclxufSk7XHJcblxyXG4vKipcclxuICogUE9TVCAvYXBpL25vdGlmaWNhdGlvbnMvcmVwb3J0cy9jb21wcmVoZW5zaXZlXHJcbiAqINil2YbYtNin2KEg2KrZgtix2YrYsSDYtNin2YXZhFxyXG4gKi9cclxucm91dGVyLnBvc3QoJy9yZXBvcnRzL2NvbXByZWhlbnNpdmUnLCBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgeyBzdGFydERhdGUsIGVuZERhdGUgfSA9IHJlcS5ib2R5O1xyXG5cclxuICAgIGlmICghc3RhcnREYXRlIHx8ICFlbmREYXRlKSB7XHJcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7XHJcbiAgICAgICAgc3RhdHVzOiAnZXJyb3InLFxyXG4gICAgICAgIG1lc3NhZ2U6ICdzdGFydERhdGUgYW5kIGVuZERhdGUgYXJlIHJlcXVpcmVkJyxcclxuICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgcmVwb3J0ID0gYXdhaXQgYW5hbHl0aWNzU3lzdGVtLmdlbmVyYXRlQ29tcHJlaGVuc2l2ZVJlcG9ydChcclxuICAgICAgbmV3IERhdGUoc3RhcnREYXRlKSxcclxuICAgICAgbmV3IERhdGUoZW5kRGF0ZSlcclxuICAgICk7XHJcblxyXG4gICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xyXG4gICAgICBzdGF0dXM6ICdzdWNjZXNzJyxcclxuICAgICAgcmVwb3J0LFxyXG4gICAgfSk7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHtcclxuICAgICAgc3RhdHVzOiAnZXJyb3InLFxyXG4gICAgICBtZXNzYWdlOiBlcnJvci5tZXNzYWdlLFxyXG4gICAgfSk7XHJcbiAgfVxyXG59KTtcclxuXHJcbi8qKlxyXG4gKiBHRVQgL2FwaS9ub3RpZmljYXRpb25zL3JlcG9ydHMvY2hhbm5lbC86Y2hhbm5lbFxyXG4gKiDYqtmC2LHZitixINin2YTZgtmG2KfYqVxyXG4gKi9cclxucm91dGVyLmdldCgnL3JlcG9ydHMvY2hhbm5lbC86Y2hhbm5lbCcsIGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCB7IGNoYW5uZWwgfSA9IHJlcS5wYXJhbXM7XHJcbiAgICBjb25zdCB7IHN0YXJ0RGF0ZSwgZW5kRGF0ZSB9ID0gcmVxLnF1ZXJ5O1xyXG5cclxuICAgIGlmICghc3RhcnREYXRlIHx8ICFlbmREYXRlKSB7XHJcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7XHJcbiAgICAgICAgc3RhdHVzOiAnZXJyb3InLFxyXG4gICAgICAgIG1lc3NhZ2U6ICdzdGFydERhdGUgYW5kIGVuZERhdGUgYXJlIHJlcXVpcmVkJyxcclxuICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgcmVwb3J0ID0gYXdhaXQgYW5hbHl0aWNzU3lzdGVtLmdldENoYW5uZWxSZXBvcnQoXHJcbiAgICAgIGNoYW5uZWwsXHJcbiAgICAgIG5ldyBEYXRlKHN0YXJ0RGF0ZSksXHJcbiAgICAgIG5ldyBEYXRlKGVuZERhdGUpXHJcbiAgICApO1xyXG5cclxuICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgc3RhdHVzOiAnc3VjY2VzcycsXHJcbiAgICAgIHJlcG9ydCxcclxuICAgIH0pO1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICByZXMuc3RhdHVzKDUwMCkuanNvbih7XHJcbiAgICAgIHN0YXR1czogJ2Vycm9yJyxcclxuICAgICAgbWVzc2FnZTogZXJyb3IubWVzc2FnZSxcclxuICAgIH0pO1xyXG4gIH1cclxufSk7XHJcblxyXG4vKipcclxuICogR0VUIC9hcGkvbm90aWZpY2F0aW9ucy9yZXBvcnRzL2VuZ2FnZW1lbnRcclxuICog2KrZgtix2YrYsSDYp9mE2YXYtNin2LHZg9ipXHJcbiAqL1xyXG5yb3V0ZXIuZ2V0KCcvcmVwb3J0cy9lbmdhZ2VtZW50JywgYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IHsgc3RhcnREYXRlLCBlbmREYXRlIH0gPSByZXEucXVlcnk7XHJcblxyXG4gICAgY29uc3QgcmVwb3J0ID0gYXdhaXQgYW5hbHl0aWNzU3lzdGVtLmdldFVzZXJFbmdhZ2VtZW50UmVwb3J0KFxyXG4gICAgICBuZXcgRGF0ZShzdGFydERhdGUgfHwgbmV3IERhdGUoRGF0ZS5ub3coKSAtIDg2NDAwMDAwKSksXHJcbiAgICAgIG5ldyBEYXRlKGVuZERhdGUgfHwgbmV3IERhdGUoKSlcclxuICAgICk7XHJcblxyXG4gICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xyXG4gICAgICBzdGF0dXM6ICdzdWNjZXNzJyxcclxuICAgICAgcmVwb3J0LFxyXG4gICAgfSk7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHtcclxuICAgICAgc3RhdHVzOiAnZXJyb3InLFxyXG4gICAgICBtZXNzYWdlOiBlcnJvci5tZXNzYWdlLFxyXG4gICAgfSk7XHJcbiAgfVxyXG59KTtcclxuXHJcbi8vIOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkFxyXG4vLyDwn5GkINil2K/Yp9ix2Kkg2KfZhNil2LTYudin2LHYp9iqINmE2YTZhdiz2KrYrtiv2YVcclxuLy8g4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQXHJcblxyXG4vKipcclxuICogR0VUIC9hcGkvbm90aWZpY2F0aW9ucy91c2VyLzp1c2VySWRcclxuICog2KfZhNit2LXZiNmEINi52YTZiSDYpdi02LnYp9ix2KfYqiDYp9mE2YXYs9iq2K7Yr9mFXHJcbiAqL1xyXG5yb3V0ZXIuZ2V0KCcvdXNlci86dXNlcklkJywgYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IHsgdXNlcklkIH0gPSByZXEucGFyYW1zO1xyXG4gICAgY29uc3QgeyBsaW1pdCA9IDUwLCBzdGF0dXMgfSA9IHJlcS5xdWVyeTtcclxuXHJcbiAgICBjb25zdCBub3RpZmljYXRpb25zID0gYXdhaXQgbm90aWZpY2F0aW9uTWFuYWdlci5nZXRVc2VyTm90aWZpY2F0aW9ucyh1c2VySWQsIHtcclxuICAgICAgbGltaXQ6IHBhcnNlSW50KGxpbWl0KSxcclxuICAgICAgc3RhdHVzLFxyXG4gICAgfSk7XHJcblxyXG4gICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xyXG4gICAgICBzdGF0dXM6ICdzdWNjZXNzJyxcclxuICAgICAgbm90aWZpY2F0aW9ucyxcclxuICAgIH0pO1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICByZXMuc3RhdHVzKDUwMCkuanNvbih7XHJcbiAgICAgIHN0YXR1czogJ2Vycm9yJyxcclxuICAgICAgbWVzc2FnZTogZXJyb3IubWVzc2FnZSxcclxuICAgIH0pO1xyXG4gIH1cclxufSk7XHJcblxyXG4vKipcclxuICogUFVUIC9hcGkvbm90aWZpY2F0aW9ucy86bm90aWZpY2F0aW9uSWQvcmVhZFxyXG4gKiDZiNi22Lkg2LnZhNin2YXYqSDYudmE2Ykg2KfZhNil2LTYudin2LEg2YPZhdmC2LHZiNihXHJcbiAqL1xyXG5yb3V0ZXIucHV0KCcvOm5vdGlmaWNhdGlvbklkL3JlYWQnLCBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgeyBub3RpZmljYXRpb25JZCB9ID0gcmVxLnBhcmFtcztcclxuICAgIGF3YWl0IG5vdGlmaWNhdGlvbk1hbmFnZXIubWFya0FzUmVhZChub3RpZmljYXRpb25JZCk7XHJcblxyXG4gICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xyXG4gICAgICBzdGF0dXM6ICdzdWNjZXNzJyxcclxuICAgICAgbWVzc2FnZTogJ05vdGlmaWNhdGlvbiBtYXJrZWQgYXMgcmVhZCcsXHJcbiAgICB9KTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgcmVzLnN0YXR1cyg0MDApLmpzb24oe1xyXG4gICAgICBzdGF0dXM6ICdlcnJvcicsXHJcbiAgICAgIG1lc3NhZ2U6IGVycm9yLm1lc3NhZ2UsXHJcbiAgICB9KTtcclxuICB9XHJcbn0pO1xyXG5cclxuLyoqXHJcbiAqIERFTEVURSAvYXBpL25vdGlmaWNhdGlvbnMvOm5vdGlmaWNhdGlvbklkXHJcbiAqINit2LDZgSDYp9mE2KXYtNi52KfYsVxyXG4gKi9cclxucm91dGVyLmRlbGV0ZSgnLzpub3RpZmljYXRpb25JZCcsIGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCB7IG5vdGlmaWNhdGlvbklkIH0gPSByZXEucGFyYW1zO1xyXG4gICAgYXdhaXQgbm90aWZpY2F0aW9uTWFuYWdlci5kZWxldGVOb3RpZmljYXRpb24obm90aWZpY2F0aW9uSWQpO1xyXG5cclxuICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgc3RhdHVzOiAnc3VjY2VzcycsXHJcbiAgICAgIG1lc3NhZ2U6ICdOb3RpZmljYXRpb24gZGVsZXRlZCcsXHJcbiAgICB9KTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgcmVzLnN0YXR1cyg0MDApLmpzb24oe1xyXG4gICAgICBzdGF0dXM6ICdlcnJvcicsXHJcbiAgICAgIG1lc3NhZ2U6IGVycm9yLm1lc3NhZ2UsXHJcbiAgICB9KTtcclxuICB9XHJcbn0pO1xyXG5cclxuLyoqXHJcbiAqIFBPU1QgL2FwaS9ub3RpZmljYXRpb25zLzpub3RpZmljYXRpb25JZC9yYXRlXHJcbiAqINiq2YLZitmK2YUg2KfZhNil2LTYudin2LFcclxuICovXHJcbnJvdXRlci5wb3N0KCcvOm5vdGlmaWNhdGlvbklkL3JhdGUnLCBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgeyBub3RpZmljYXRpb25JZCB9ID0gcmVxLnBhcmFtcztcclxuICAgIGNvbnN0IHsgcmF0aW5nLCBmZWVkYmFjayB9ID0gcmVxLmJvZHk7XHJcblxyXG4gICAgYXdhaXQgbm90aWZpY2F0aW9uTWFuYWdlci5yYXRlTm90aWZpY2F0aW9uKG5vdGlmaWNhdGlvbklkLCByYXRpbmcsIGZlZWRiYWNrKTtcclxuXHJcbiAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgIHN0YXR1czogJ3N1Y2Nlc3MnLFxyXG4gICAgICBtZXNzYWdlOiAnTm90aWZpY2F0aW9uIHJhdGVkJyxcclxuICAgIH0pO1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICByZXMuc3RhdHVzKDQwMCkuanNvbih7XHJcbiAgICAgIHN0YXR1czogJ2Vycm9yJyxcclxuICAgICAgbWVzc2FnZTogZXJyb3IubWVzc2FnZSxcclxuICAgIH0pO1xyXG4gIH1cclxufSk7XHJcblxyXG4vLyDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZBcclxuLy8g8J+OryDZgtmI2KfYudizINin2YTYqtmG2KjZitmH2KfYqlxyXG4vLyDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZBcclxuXHJcbi8qKlxyXG4gKiBQT1NUIC9hcGkvbm90aWZpY2F0aW9ucy9ydWxlc1xyXG4gKiDYpdmG2LTYp9ihINmC2KfYudiv2Kkg2KrZhtio2YrZh1xyXG4gKi9cclxucm91dGVyLnBvc3QoJy9ydWxlcycsIGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCBydWxlRGF0YSA9IHJlcS5ib2R5O1xyXG4gICAgY29uc3QgcnVsZSA9IGF3YWl0IHJ1bGVzRW5naW5lLmNyZWF0ZVJ1bGUocnVsZURhdGEpO1xyXG5cclxuICAgIHJlcy5zdGF0dXMoMjAxKS5qc29uKHtcclxuICAgICAgc3RhdHVzOiAnc3VjY2VzcycsXHJcbiAgICAgIHJ1bGUsXHJcbiAgICB9KTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgcmVzLnN0YXR1cyg0MDApLmpzb24oe1xyXG4gICAgICBzdGF0dXM6ICdlcnJvcicsXHJcbiAgICAgIG1lc3NhZ2U6IGVycm9yLm1lc3NhZ2UsXHJcbiAgICB9KTtcclxuICB9XHJcbn0pO1xyXG5cclxuLyoqXHJcbiAqIEdFVCAvYXBpL25vdGlmaWNhdGlvbnMvcnVsZXNcclxuICog2KfZhNit2LXZiNmEINi52YTZiSDYrNmF2YrYuSDYp9mE2YLZiNin2LnYs1xyXG4gKi9cclxucm91dGVyLmdldCgnL3J1bGVzJywgYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IHJ1bGVzID0gYXdhaXQgcnVsZXNFbmdpbmUuc2VhcmNoUnVsZXMoKTtcclxuXHJcbiAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgIHN0YXR1czogJ3N1Y2Nlc3MnLFxyXG4gICAgICBydWxlcyxcclxuICAgIH0pO1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICByZXMuc3RhdHVzKDUwMCkuanNvbih7XHJcbiAgICAgIHN0YXR1czogJ2Vycm9yJyxcclxuICAgICAgbWVzc2FnZTogZXJyb3IubWVzc2FnZSxcclxuICAgIH0pO1xyXG4gIH1cclxufSk7XHJcblxyXG4vKipcclxuICogUFVUIC9hcGkvbm90aWZpY2F0aW9ucy9ydWxlcy86cnVsZUlkXHJcbiAqINiq2K3Yr9mK2Ksg2YLYp9i52K/YqVxyXG4gKi9cclxucm91dGVyLnB1dCgnL3J1bGVzLzpydWxlSWQnLCBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgeyBydWxlSWQgfSA9IHJlcS5wYXJhbXM7XHJcbiAgICBjb25zdCBydWxlID0gYXdhaXQgcnVsZXNFbmdpbmUudXBkYXRlUnVsZShydWxlSWQsIHJlcS5ib2R5KTtcclxuXHJcbiAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgIHN0YXR1czogJ3N1Y2Nlc3MnLFxyXG4gICAgICBydWxlLFxyXG4gICAgfSk7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIHJlcy5zdGF0dXMoNDAwKS5qc29uKHtcclxuICAgICAgc3RhdHVzOiAnZXJyb3InLFxyXG4gICAgICBtZXNzYWdlOiBlcnJvci5tZXNzYWdlLFxyXG4gICAgfSk7XHJcbiAgfVxyXG59KTtcclxuXHJcbi8qKlxyXG4gKiBERUxFVEUgL2FwaS9ub3RpZmljYXRpb25zL3J1bGVzLzpydWxlSWRcclxuICog2K3YsNmBINmC2KfYudiv2KlcclxuICovXHJcbnJvdXRlci5kZWxldGUoJy9ydWxlcy86cnVsZUlkJywgYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IHsgcnVsZUlkIH0gPSByZXEucGFyYW1zO1xyXG4gICAgYXdhaXQgcnVsZXNFbmdpbmUuZGVsZXRlUnVsZShydWxlSWQpO1xyXG5cclxuICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgc3RhdHVzOiAnc3VjY2VzcycsXHJcbiAgICAgIG1lc3NhZ2U6ICdSdWxlIGRlbGV0ZWQnLFxyXG4gICAgfSk7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIHJlcy5zdGF0dXMoNDAwKS5qc29uKHtcclxuICAgICAgc3RhdHVzOiAnZXJyb3InLFxyXG4gICAgICBtZXNzYWdlOiBlcnJvci5tZXNzYWdlLFxyXG4gICAgfSk7XHJcbiAgfVxyXG59KTtcclxuXHJcbi8vIOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkFxyXG4vLyDwn5OmINin2YTYqti12K/ZitixXHJcbi8vIOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkFxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSByb3V0ZXI7XHJcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLE1BQU1BLE9BQU8sR0FBR0MsT0FBTyxDQUFDLFNBQVMsQ0FBQztBQUNsQyxNQUFNQyxNQUFNLEdBQUdGLE9BQU8sQ0FBQ0csTUFBTSxDQUFDLENBQUM7QUFDL0IsTUFBTUMsTUFBTSxHQUFHSCxPQUFPLENBQUMsaUJBQWlCLENBQUM7O0FBRXpDO0FBQ0EsTUFBTTtFQUFFSTtBQUFvQixDQUFDLEdBQUdKLE9BQU8sQ0FBQyx3Q0FBd0MsQ0FBQztBQUNqRixNQUFNO0VBQUVLO0FBQWUsQ0FBQyxHQUFHTCxPQUFPLENBQUMsaUNBQWlDLENBQUM7QUFDckUsTUFBTTtFQUFFTTtBQUFtQixDQUFDLEdBQUdOLE9BQU8sQ0FBQyxvQ0FBb0MsQ0FBQztBQUM1RSxNQUFNO0VBQUVPO0FBQVksQ0FBQyxHQUFHUCxPQUFPLENBQUMsc0NBQXNDLENBQUM7QUFDdkUsTUFBTTtFQUFFUTtBQUFnQixDQUFDLEdBQUdSLE9BQU8sQ0FBQyx5Q0FBeUMsQ0FBQztBQUM5RSxNQUFNUyxlQUFlLEdBQUdULE9BQU8sQ0FBQyx5Q0FBeUMsQ0FBQzs7QUFFMUU7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0FDLE1BQU0sQ0FBQ1MsSUFBSSxDQUFDLE9BQU8sRUFBRSxPQUFPQyxHQUFHLEVBQUVDLEdBQUcsS0FBSztFQUN2QyxJQUFJO0lBQ0YsTUFBTTtNQUFFQyxNQUFNO01BQUVDLEtBQUs7TUFBRUMsSUFBSTtNQUFF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