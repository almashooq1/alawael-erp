6b54908f59278f9bee3944d223d38c14
/**
 * ðŸ‡¸ðŸ‡¦ Qiwa Integration Routes
 * Ministry of Labor (MOL) API Endpoints
 *
 * Routes:
 * âœ… Employee Verification
 * âœ… Contract Management
 * âœ… Wage Management
 * âœ… WPS Integration
 * âœ… Nitaqat Tracking
 * âœ… Batch Operations
 * âœ… Health & Monitoring
 *
 * @version 2.0.0
 * @author AI Integration Team
 * @date 2026-02-17
 */

const express = require('express');
const router = express.Router();
const QiwaService = require('../services/qiwa.service');
const qiwaService = new QiwaService();

// Middleware for request validation
const validateRequest = (req, res, next) => {
  req.requestId = require('crypto').randomUUID();
  next();
};
const handleAsyncError = fn => (req, res, next) => {
  Promise.resolve(fn(req, res, next)).catch(next);
};
router.use(validateRequest);

// =====================================================
// HEALTH & MONITORING
// =====================================================

/**
 * GET /api/qiwa/health
 * Health check endpoint
 */
router.get('/health', handleAsyncError(async (req, res) => {
  const health = await qiwaService.healthCheck();
  res.status(health.status === 'healthy' ? 200 : 503).json(health);
}));

/**
 * GET /api/qiwa/metrics
 * Get service metrics
 */
router.get('/metrics', handleAsyncError(async (req, res) => {
  const metrics = qiwaService.getMetrics();
  res.json({
    success: true,
    metrics,
    timestamp: new Date()
  });
}));

/**
 * GET /api/qiwa/history
 * Get request history
 */
router.get('/history', handleAsyncError(async (req, res) => {
  const history = qiwaService.getRequestHistory({
    level: req.query.level,
    limit: parseInt(req.query.limit || 100)
  });
  res.json({
    success: true,
    history,
    total: history.length,
    timestamp: new Date()
  });
}));

/**
 * POST /api/qiwa/cache/clear
 * Clear cache with optional pattern
 */
router.post('/cache/clear', handleAsyncError(async (req, res) => {
  const result = qiwaService.clearCache(req.body.pattern);
  res.json({
    success: true,
    message: `Cache cleared`,
    result,
    timestamp: new Date()
  });
}));

// =====================================================
// EMPLOYEE VERIFICATION
// =====================================================

/**
 * POST /api/qiwa/employees/verify/iqama
 * Verify employee by Iqama number
 *
 * Body:
 * {
 *   "iqamaNumber": "2345678901"
 * }
 */
router.post('/employees/verify/iqama', handleAsyncError(async (req, res) => {
  const {
    iqamaNumber
  } = req.body;
  if (!iqamaNumber) {
    return res.status(400).json({
      success: false,
      error: 'Iqama number is required'
    });
  }
  const result = await qiwaService.verifyEmployeeByIqama(iqamaNumber);
  res.json({
    success: true,
    data: result,
    requestId: req.requestId
  });
}));

/**
 * POST /api/qiwa/employees/verify/national-id
 * Verify employee by National ID
 *
 * Body:
 * {
 *   "nationalId": "1234567890"
 * }
 */
router.post('/employees/verify/national-id', handleAsyncError(async (req, res) => {
  const {
    nationalId
  } = req.body;
  if (!nationalId) {
    return res.status(400).json({
      success: false,
      error: 'National ID is required'
    });
  }
  const result = await qiwaService.verifyEmployeeByNationalId(nationalId);
  res.json({
    success: true,
    data: result,
    requestId: req.requestId
  });
}));

/**
 * GET /api/qiwa/employees/:iqamaNumber/labor-record
 * Get employee labor record
 */
router.get('/employees/:iqamaNumber/labor-record', handleAsyncError(async (req, res) => {
  const {
    iqamaNumber
  } = req.params;
  const result = await qiwaService.getEmployeeLaborRecord(iqamaNumber);
  res.json({
    success: true,
    data: result,
    requestId: req.requestId
  });
}));

// =====================================================
// CONTRACT MANAGEMENT
// =====================================================

/**
 * POST /api/qiwa/contracts/register
 * Register new labor contract
 *
 * Body:
 * {
 *   "employeeIqama": "2345678901",
 *   "contractType": "unlimited|limited",
 *   "jobTitle": "Software Engineer",
 *   "jobTitleArabic": "Ù…Ù‡Ù†Ø¯Ø³ Ø¨Ø±Ù…Ø¬ÙŠØ§Øª",
 *   "basicSalary": 15000,
 *   "housingAllowance": 5000,
 *   "transportAllowance": 1000,
 *   "startDate": "2026-02-17",
 *   "endDate": "2027-02-17",
 *   "workingHours": 8,
 *   "workingDays": ["sun", "mon", "tue", "wed", "thu"]
 * }
 */
router.post('/contracts/register', handleAsyncError(async (req, res) => {
  const contractData = req.body;
  const result = await qiwaService.registerContract(contractData);
  res.status(201).json({
    success: true,
    message: 'Contract registered successfully',
    data: result,
    requestId: req.requestId
  });
}));

/**
 * GET /api/qiwa/contracts/:contractId
 * Get contract details
 */
router.get('/contracts/:contractId', handleAsyncError(async (req, res) => {
  const {
    contractId
  } = req.params;
  const result = await qiwaService.getContract(contractId);
  res.json({
    success: true,
    data: result,
    requestId: req.requestId
  });
}));

/**
 * GET /api/qiwa/contracts
 * List establishment contracts with optional filters
 *
 * Query:
 * - status: active|terminated|pending
 * - limit: 50
 * - offset: 0
 */
router.get('/contracts', handleAsyncError(async (req, res) => {
  const filters = {
    status: req.query.status,
    limit: parseInt(req.query.limit || 50),
    offset: parseInt(req.query.offset || 0)
  };
  const result = await qiwaService.listContracts(filters);
  res.json({
    success: true,
    data: result,
    requestId: req.requestId
  });
}));

/**
 * PUT /api/qiwa/contracts/:contractId
 * Update existing contract
 *
 * Body: {contract update fields}
 */
router.put('/contracts/:contractId', handleAsyncError(async (req, res) => {
  const {
    contractId
  } = req.params;
  const updates = req.body;
  const result = await qiwaService.updateContract(contractId, updates);
  res.json({
    success: true,
    message: 'Contract updated successfully',
    data: result,
    requestId: req.requestId
  });
}));

/**
 * POST /api/qiwa/contracts/:contractId/terminate
 * Terminate labor contract
 *
 * Body:
 * {
 *   "reason": "resignation|dismissal|end-of-contract",
 *   "terminationDate": "2026-02-17"
 * }
 */
router.post('/contracts/:contractId/terminate', handleAsyncError(async (req, res) => {
  const {
    contractId
  } = req.params;
  const {
    reason,
    terminationDate
  } = req.body;
  if (!reason) {
    return res.status(400).json({
      success: false,
      error: 'Termination reason is required'
    });
  }
  const result = await qiwaService.terminateContract(contractId, reason, terminationDate);
  res.json({
    success: true,
    message: 'Contract terminated successfully',
    data: result,
    requestId: req.requestId
  });
}));

// =====================================================
// WAGE MANAGEMENT
// =====================================================

/**
 * PUT /api/qiwa/employees/:iqamaNumber/wage
 * Update employee wage
 *
 * Body:
 * {
 *   "basicSalary": 15000,
 *   "housingAllowance": 5000,
 *   "transportAllowance": 1000,
 *   "otherAllowances": 0,
 *   "effectiveDate": "2026-02-17"
 * }
 */
router.put('/employees/:iqamaNumber/wage', handleAsyncError(async (req, res) => {
  const {
    iqamaNumber
  } = req.params;
  const wageData = req.body;
  const result = await qiwaService.updateEmployeeWage(iqamaNumber, wageData);
  res.json({
    success: true,
    message: 'Wage updated successfully',
    data: result,
    requestId: req.requestId
  });
}));

/**
 * GET /api/qiwa/employees/:iqamaNumber/wage-history
 * Get employee wage history
 *
 * Query:
 * - months: 12 (default)
 */
router.get('/employees/:iqamaNumber/wage-history', handleAsyncError(async (req, res) => {
  const {
    iqamaNumber
  } = req.params;
  const months = parseInt(req.query.months || 12);
  const result = await qiwaService.getWageHistory(iqamaNumber, months);
  res.json({
    success: true,
    data: result,
    requestId: req.requestId
  });
}));

/**
 * POST /api/qiwa/wages/compliance-check
 * Check wage change compliance
 *
 * Body:
 * {
 *   "iqamaNumber": "2345678901",
 *   "newWage": {...}
 * }
 */
router.post('/wages/compliance-check', handleAsyncError(async (req, res) => {
  const {
    iqamaNumber,
    newWage
  } = req.body;
  if (!iqamaNumber || !newWage) {
    return res.status(400).json({
      success: false,
      error: 'Iqama number and new wage are required'
    });
  }
  const result = await qiwaService.calculateWageCompliance(iqamaNumber, newWage);
  res.json({
    success: true,
    data: result,
    requestId: req.requestId
  });
}));

// =====================================================
// WAGE PROTECTION SYSTEM (WPS)
// =====================================================

/**
 * POST /api/qiwa/wps/submit
 * Submit payroll to WPS
 *
 * Body:
 * {
 *   "period": "2026-02",
 *   "submissionType": "regular|adjustment",
 *   "employees": [
 *     {
 *       "iqamaNumber": "2345678901",
 *       "basicSalary": 15000,
 *       "allowances": {..},
 *       "deductions": {..},
 *       "netSalary": 19000
 *     }
 *   ]
 * }
 */
router.post('/wps/submit', handleAsyncError(async (req, res) => {
  const payrollData = req.body;
  if (!payrollData.period || !payrollData.employees) {
    return res.status(400).json({
      success: false,
      error: 'Period and employees list are required'
    });
  }
  const result = await qiwaService.submitPayrollToWPS(payrollData);
  res.status(201).json({
    success: true,
    message: 'Payroll submitted to WPS successfully',
    data: result,
    requestId: req.requestId
  });
}));

/**
 * GET /api/qiwa/wps/:submissionId/status
 * Get WPS submission status
 */
router.get('/wps/:submissionId/status', handleAsyncError(async (req, res) => {
  const {
    submissionId
  } = req.params;
  const result = await qiwaService.getWPSStatus(submissionId);
  res.json({
    success: true,
    data: result,
    requestId: req.requestId
  });
}));

/**
 * GET /api/qiwa/wps/compliance-report
 * Get WPS compliance report
 *
 * Query:
 * - period: 2026-02
 */
router.get('/wps/compliance-report', handleAsyncError(async (req, res) => {
  const {
    period
  } = req.query;
  if (!period) {
    return res.status(400).json({
      success: false,
      error: 'Period is required (format: YYYY-MM)'
    });
  }
  const result = await qiwaService.getWPSComplianceReport(period);
  res.json({
    success: true,
    data: result,
    requestId: req.requestId
  });
}));

// =====================================================
// NITAQAT (WORKFORCE LOCALIZATION)
// =====================================================

/**
 * GET /api/qiwa/nitaqat/status
 * Get establishment Nitaqat status
 */
router.get('/nitaqat/status', handleAsyncError(async (req, res) => {
  const result = await qiwaService.getNitaqatStatus();
  res.json({
    success: true,
    data: result,
    requestId: req.requestId
  });
}));

/**
 * GET /api/qiwa/nitaqat/compliance
 * Get Nitaqat compliance details
 */
router.get('/nitaqat/compliance', handleAsyncError(async (req, res) => {
  const result = await qiwaService.getNitaqatCompliance();
  res.json({
    success: true,
    data: result,
    requestId: req.requestId
  });
}));

/**
 * POST /api/qiwa/nitaqat/calculate-points
 * Calculate Nitaqat points for labor force
 *
 * Body:
 * {
 *   "workforce": [
 *     {
 *       "iqamaNumber": "2345678901",
 *       "nationality": "Saudi|Non-Saudi",
 *       "position": "Manager|Specialist|Technician"
 *     }
 *   ]
 * }
 */
router.post('/nitaqat/calculate-points', handleAsyncError(async (req, res) => {
  const {
    workforce
  } = req.body;
  if (!workforce || !Array.isArray(workforce)) {
    return res.status(400).json({
      success: false,
      error: 'Workforce array is required'
    });
  }
  const result = await qiwaService.calculateNitaqatPoints(workforce);
  res.json({
    success: true,
    data: result,
    requestId: req.requestId
  });
}));

// =====================================================
// BATCH OPERATIONS
// =====================================================

/**
 * POST /api/qiwa/batch/register-contracts
 * Batch register multiple contracts
 *
 * Body:
 * {
 *   "contracts": [
 *     {contract data},
 *     {contract data}
 *   ]
 * }
 */
router.post('/batch/register-contracts', handleAsyncError(async (req, res) => {
  const {
    contracts
  } = req.body;
  if (!contracts || !Array.isArray(contracts)) {
    return res.status(400).json({
      success: false,
      error: 'Contracts array is required'
    });
  }
  const result = await qiwaService.batchRegisterContracts(contracts);
  res.status(207).json({
    success: true,
    message: 'Batch contract registration completed',
    data: result,
    requestId: req.requestId
  });
}));

/**
 * POST /api/qiwa/batch/update-wages
 * Batch update wages
 *
 * Body:
 * {
 *   "updates": [
 *     {
 *       "iqamaNumber": "2345678901",
 *       "wageData": {...}
 *     }
 *   ]
 * }
 */
router.post('/batch/update-wages', handleAsyncError(async (req, res) => {
  const {
    updates
  } = req.body;
  if (!updates || !Array.isArray(updates)) {
    return res.status(400).json({
      success: false,
      error: 'Updates array is required'
    });
  }
  const result = await qiwaService.batchUpdateWages(updates);
  res.status(207).json({
    success: true,
    message: 'Batch wage update completed',
    data: result,
    requestId: req.requestId
  });
}));

// =====================================================
// ERROR HANDLING
// =====================================================

/**
 * Global error handler
 */
router.use((error, req, res, next) => {
  console.error('[Qiwa Routes Error]', error);
  const statusCode = error.statusCode || 500;
  const response = {
    success: false,
    error: error.message || 'Internal server error',
    requestId: req.requestId
  };
  if (process.env.NODE_ENV === 'development') {
    response.details = error.data || {};
    response.stack = error.stack;
  }
  res.status(statusCode).json(response);
});
module.exports = router;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJleHByZXNzIiwicmVxdWlyZSIsInJvdXRlciIsIlJvdXRlciIsIlFpd2FTZXJ2aWNlIiwicWl3YVNlcnZpY2UiLCJ2YWxpZGF0ZVJlcXVlc3QiLCJyZXEiLCJyZXMiLCJuZXh0IiwicmVxdWVzdElkIiwicmFuZG9tVVVJRCIsImhhbmRsZUFzeW5jRXJyb3IiLCJmbiIsIlByb21pc2UiLCJyZXNvbHZlIiwiY2F0Y2giLCJ1c2UiLCJnZXQiLCJoZWFsdGgiLCJoZWFsdGhDaGVjayIsInN0YXR1cyIsImpzb24iLCJtZXRyaWNzIiwiZ2V0TWV0cmljcyIsInN1Y2Nlc3MiLCJ0aW1lc3RhbXAiLCJEYXRlIiwiaGlzdG9yeSIsImdldFJlcXVlc3RIaXN0b3J5IiwibGV2ZWwiLCJxdWVyeSIsImxpbWl0IiwicGFyc2VJbnQiLCJ0b3RhbCIsImxlbmd0aCIsInBvc3QiLCJyZXN1bHQiLCJjbGVhckNhY2hlIiwiYm9keSIsInBhdHRlcm4iLCJtZXNzYWdlIiwiaXFhbWFOdW1iZXIiLCJlcnJvciIsInZlcmlmeUVtcGxveWVlQnlJcWFtYSIsImRhdGEiLCJuYXRpb25hbElkIiwidmVyaWZ5RW1wbG95ZWVCeU5hdGlvbmFsSWQiLCJwYXJhbXMiLCJnZXRFbXBsb3llZUxhYm9yUmVjb3JkIiwiY29udHJhY3REYXRhIiwicmVnaXN0ZXJDb250cmFjdCIsImNvbnRyYWN0SWQiLCJnZXRDb250cmFjdCIsImZpbHRlcnMiLCJvZmZzZXQiLCJsaXN0Q29udHJhY3RzIiwicHV0IiwidXBkYXRlcyIsInVwZGF0ZUNvbnRyYWN0IiwicmVhc29uIiwidGVybWluYXRpb25EYXRlIiwidGVybWluYXRlQ29udHJhY3QiLCJ3YWdlRGF0YSIsInVwZGF0ZUVtcGxveWVlV2FnZSIsIm1vbnRocyIsImdldFdhZ2VIaXN0b3J5IiwibmV3V2FnZSIsImNhbGN1bGF0ZVdhZ2VDb21wbGlhbmNlIiwicGF5cm9sbERhdGEiLCJwZXJpb2QiLCJlbXBsb3llZXMiLCJzdWJtaXRQYXlyb2xsVG9XUFMiLCJzdWJtaXNzaW9uSWQiLCJnZXRXUFNTdGF0dXMiLCJnZXRXUFNDb21wbGlhbmNlUmVwb3J0IiwiZ2V0Tml0YXFhdFN0YXR1cyIsImdldE5pdGFxYXRDb21wbGlhbmNlIiwid29ya2ZvcmNlIiwiQXJyYXkiLCJpc0FycmF5IiwiY2FsY3VsYXRlTml0YXFhdFBvaW50cyIsImNvbnRyYWN0cyIsImJhdGNoUmVnaXN0ZXJDb250cmFjdHMiLCJiYXRjaFVwZGF0ZVdhZ2VzIiwiY29uc29sZSIsInN0YXR1c0NvZGUiLCJyZXNwb25zZSIsInByb2Nlc3MiLCJlbnYiLCJOT0RFX0VOViIsImRldGFpbHMiLCJzdGFjayIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlcyI6WyJxaXdhLnJvdXRlcy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICog8J+HuPCfh6YgUWl3YSBJbnRlZ3JhdGlvbiBSb3V0ZXNcclxuICogTWluaXN0cnkgb2YgTGFib3IgKE1PTCkgQVBJIEVuZHBvaW50c1xyXG4gKlxyXG4gKiBSb3V0ZXM6XHJcbiAqIOKchSBFbXBsb3llZSBWZXJpZmljYXRpb25cclxuICog4pyFIENvbnRyYWN0IE1hbmFnZW1lbnRcclxuICog4pyFIFdhZ2UgTWFuYWdlbWVudFxyXG4gKiDinIUgV1BTIEludGVncmF0aW9uXHJcbiAqIOKchSBOaXRhcWF0IFRyYWNraW5nXHJcbiAqIOKchSBCYXRjaCBPcGVyYXRpb25zXHJcbiAqIOKchSBIZWFsdGggJiBNb25pdG9yaW5nXHJcbiAqXHJcbiAqIEB2ZXJzaW9uIDIuMC4wXHJcbiAqIEBhdXRob3IgQUkgSW50ZWdyYXRpb24gVGVhbVxyXG4gKiBAZGF0ZSAyMDI2LTAyLTE3XHJcbiAqL1xyXG5cclxuY29uc3QgZXhwcmVzcyA9IHJlcXVpcmUoJ2V4cHJlc3MnKTtcclxuY29uc3Qgcm91dGVyID0gZXhwcmVzcy5Sb3V0ZXIoKTtcclxuY29uc3QgUWl3YVNlcnZpY2UgPSByZXF1aXJlKCcuLi9zZXJ2aWNlcy9xaXdhLnNlcnZpY2UnKTtcclxuXHJcbmNvbnN0IHFpd2FTZXJ2aWNlID0gbmV3IFFpd2FTZXJ2aWNlKCk7XHJcblxyXG4vLyBNaWRkbGV3YXJlIGZvciByZXF1ZXN0IHZhbGlkYXRpb25cclxuY29uc3QgdmFsaWRhdGVSZXF1ZXN0ID0gKHJlcSwgcmVzLCBuZXh0KSA9PiB7XHJcbiAgcmVxLnJlcXVlc3RJZCA9IHJlcXVpcmUoJ2NyeXB0bycpLnJhbmRvbVVVSUQoKTtcclxuICBuZXh0KCk7XHJcbn07XHJcblxyXG5jb25zdCBoYW5kbGVBc3luY0Vycm9yID0gKGZuKSA9PiAocmVxLCByZXMsIG5leHQpID0+IHtcclxuICBQcm9taXNlLnJlc29sdmUoZm4ocmVxLCByZXMsIG5leHQpKS5jYXRjaChuZXh0KTtcclxufTtcclxuXHJcbnJvdXRlci51c2UodmFsaWRhdGVSZXF1ZXN0KTtcclxuXHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbi8vIEhFQUxUSCAmIE1PTklUT1JJTkdcclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHJcbi8qKlxyXG4gKiBHRVQgL2FwaS9xaXdhL2hlYWx0aFxyXG4gKiBIZWFsdGggY2hlY2sgZW5kcG9pbnRcclxuICovXHJcbnJvdXRlci5nZXQoJy9oZWFsdGgnLCBoYW5kbGVBc3luY0Vycm9yKGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gIGNvbnN0IGhlYWx0aCA9IGF3YWl0IHFpd2FTZXJ2aWNlLmhlYWx0aENoZWNrKCk7XHJcbiAgcmVzLnN0YXR1cyhoZWFsdGguc3RhdHVzID09PSAnaGVhbHRoeScgPyAyMDAgOiA1MDMpLmpzb24oaGVhbHRoKTtcclxufSkpO1xyXG5cclxuLyoqXHJcbiAqIEdFVCAvYXBpL3Fpd2EvbWV0cmljc1xyXG4gKiBHZXQgc2VydmljZSBtZXRyaWNzXHJcbiAqL1xyXG5yb3V0ZXIuZ2V0KCcvbWV0cmljcycsIGhhbmRsZUFzeW5jRXJyb3IoYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgY29uc3QgbWV0cmljcyA9IHFpd2FTZXJ2aWNlLmdldE1ldHJpY3MoKTtcclxuICByZXMuanNvbih7XHJcbiAgICBzdWNjZXNzOiB0cnVlLFxyXG4gICAgbWV0cmljcyxcclxuICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKSxcclxuICB9KTtcclxufSkpO1xyXG5cclxuLyoqXHJcbiAqIEdFVCAvYXBpL3Fpd2EvaGlzdG9yeVxyXG4gKiBHZXQgcmVxdWVzdCBoaXN0b3J5XHJcbiAqL1xyXG5yb3V0ZXIuZ2V0KCcvaGlzdG9yeScsIGhhbmRsZUFzeW5jRXJyb3IoYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgY29uc3QgaGlzdG9yeSA9IHFpd2FTZXJ2aWNlLmdldFJlcXVlc3RIaXN0b3J5KHtcclxuICAgIGxldmVsOiByZXEucXVlcnkubGV2ZWwsXHJcbiAgICBsaW1pdDogcGFyc2VJbnQocmVxLnF1ZXJ5LmxpbWl0IHx8IDEwMCksXHJcbiAgfSk7XHJcblxyXG4gIHJlcy5qc29uKHtcclxuICAgIHN1Y2Nlc3M6IHRydWUsXHJcbiAgICBoaXN0b3J5LFxyXG4gICAgdG90YWw6IGhpc3RvcnkubGVuZ3RoLFxyXG4gICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLFxyXG4gIH0pO1xyXG59KSk7XHJcblxyXG4vKipcclxuICogUE9TVCAvYXBpL3Fpd2EvY2FjaGUvY2xlYXJcclxuICogQ2xlYXIgY2FjaGUgd2l0aCBvcHRpb25hbCBwYXR0ZXJuXHJcbiAqL1xyXG5yb3V0ZXIucG9zdCgnL2NhY2hlL2NsZWFyJywgaGFuZGxlQXN5bmNFcnJvcihhc3luYyAocmVxLCByZXMpID0+IHtcclxuICBjb25zdCByZXN1bHQgPSBxaXdhU2VydmljZS5jbGVhckNhY2hlKHJlcS5ib2R5LnBhdHRlcm4pO1xyXG4gIHJlcy5qc29uKHtcclxuICAgIHN1Y2Nlc3M6IHRydWUsXHJcbiAgICBtZXNzYWdlOiBgQ2FjaGUgY2xlYXJlZGAsXHJcbiAgICByZXN1bHQsXHJcbiAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCksXHJcbiAgfSk7XHJcbn0pKTtcclxuXHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbi8vIEVNUExPWUVFIFZFUklGSUNBVElPTlxyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cclxuLyoqXHJcbiAqIFBPU1QgL2FwaS9xaXdhL2VtcGxveWVlcy92ZXJpZnkvaXFhbWFcclxuICogVmVyaWZ5IGVtcGxveWVlIGJ5IElxYW1hIG51bWJlclxyXG4gKlxyXG4gKiBCb2R5OlxyXG4gKiB7XHJcbiAqICAgXCJpcWFtYU51bWJlclwiOiBcIjIzNDU2Nzg5MDFcIlxyXG4gKiB9XHJcbiAqL1xyXG5yb3V0ZXIucG9zdCgnL2VtcGxveWVlcy92ZXJpZnkvaXFhbWEnLCBoYW5kbGVBc3luY0Vycm9yKGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gIGNvbnN0IHsgaXFhbWFOdW1iZXIgfSA9IHJlcS5ib2R5O1xyXG5cclxuICBpZiAoIWlxYW1hTnVtYmVyKSB7XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oe1xyXG4gICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgICAgZXJyb3I6ICdJcWFtYSBudW1iZXIgaXMgcmVxdWlyZWQnLFxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBjb25zdCByZXN1bHQgPSBhd2FpdCBxaXdhU2VydmljZS52ZXJpZnlFbXBsb3llZUJ5SXFhbWEoaXFhbWFOdW1iZXIpO1xyXG5cclxuICByZXMuanNvbih7XHJcbiAgICBzdWNjZXNzOiB0cnVlLFxyXG4gICAgZGF0YTogcmVzdWx0LFxyXG4gICAgcmVxdWVzdElkOiByZXEucmVxdWVzdElkLFxyXG4gIH0pO1xyXG59KSk7XHJcblxyXG4vKipcclxuICogUE9TVCAvYXBpL3Fpd2EvZW1wbG95ZWVzL3ZlcmlmeS9uYXRpb25hbC1pZFxyXG4gKiBWZXJpZnkgZW1wbG95ZWUgYnkgTmF0aW9uYWwgSURcclxuICpcclxuICogQm9keTpcclxuICoge1xyXG4gKiAgIFwibmF0aW9uYWxJZFwiOiBcIjEyMzQ1Njc4OTBcIlxyXG4gKiB9XHJcbiAqL1xyXG5yb3V0ZXIucG9zdCgnL2VtcGxveWVlcy92ZXJpZnkvbmF0aW9uYWwtaWQnLCBoYW5kbGVBc3luY0Vycm9yKGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gIGNvbnN0IHsgbmF0aW9uYWxJZCB9ID0gcmVxLmJvZHk7XHJcblxyXG4gIGlmICghbmF0aW9uYWxJZCkge1xyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHtcclxuICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICAgIGVycm9yOiAnTmF0aW9uYWwgSUQgaXMgcmVxdWlyZWQnLFxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBjb25zdCByZXN1bHQgPSBhd2FpdCBxaXdhU2VydmljZS52ZXJpZnlFbXBsb3llZUJ5TmF0aW9uYWxJZChuYXRpb25hbElkKTtcclxuXHJcbiAgcmVzLmpzb24oe1xyXG4gICAgc3VjY2VzczogdHJ1ZSxcclxuICAgIGRhdGE6IHJlc3VsdCxcclxuICAgIHJlcXVlc3RJZDogcmVxLnJlcXVlc3RJZCxcclxuICB9KTtcclxufSkpO1xyXG5cclxuLyoqXHJcbiAqIEdFVCAvYXBpL3Fpd2EvZW1wbG95ZWVzLzppcWFtYU51bWJlci9sYWJvci1yZWNvcmRcclxuICogR2V0IGVtcGxveWVlIGxhYm9yIHJlY29yZFxyXG4gKi9cclxucm91dGVyLmdldCgnL2VtcGxveWVlcy86aXFhbWFOdW1iZXIvbGFib3ItcmVjb3JkJywgaGFuZGxlQXN5bmNFcnJvcihhc3luYyAocmVxLCByZXMpID0+IHtcclxuICBjb25zdCB7IGlxYW1hTnVtYmVyIH0gPSByZXEucGFyYW1zO1xyXG5cclxuICBjb25zdCByZXN1bHQgPSBhd2FpdCBxaXdhU2VydmljZS5nZXRFbXBsb3llZUxhYm9yUmVjb3JkKGlxYW1hTnVtYmVyKTtcclxuXHJcbiAgcmVzLmpzb24oe1xyXG4gICAgc3VjY2VzczogdHJ1ZSxcclxuICAgIGRhdGE6IHJlc3VsdCxcclxuICAgIHJlcXVlc3RJZDogcmVxLnJlcXVlc3RJZCxcclxuICB9KTtcclxufSkpO1xyXG5cclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuLy8gQ09OVFJBQ1QgTUFOQUdFTUVOVFxyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cclxuLyoqXHJcbiAqIFBPU1QgL2FwaS9xaXdhL2NvbnRyYWN0cy9yZWdpc3RlclxyXG4gKiBSZWdpc3RlciBuZXcgbGFib3IgY29udHJhY3RcclxuICpcclxuICogQm9keTpcclxuICoge1xyXG4gKiAgIFwiZW1wbG95ZWVJcWFtYVwiOiBcIjIzNDU2Nzg5MDFcIixcclxuICogICBcImNvbnRyYWN0VHlwZVwiOiBcInVubGltaXRlZHxsaW1pdGVkXCIsXHJcbiAqICAgXCJqb2JUaXRsZVwiOiBcIlNvZnR3YXJlIEVuZ2luZWVyXCIsXHJcbiAqICAgXCJqb2JUaXRsZUFyYWJpY1wiOiBcItmF2YfZhtiv2LMg2KjYsdmF2KzZitin2KpcIixcclxuICogICBcImJhc2ljU2FsYXJ5XCI6IDE1MDAwLFxyXG4gKiAgIFwiaG91c2luZ0FsbG93YW5jZVwiOiA1MDAwLFxyXG4gKiAgIFwidHJhbnNwb3J0QWxsb3dhbmNlXCI6IDEwMDAsXHJcbiAqICAgXCJzdGFydERhdGVcIjogXCIyMDI2LTAyLTE3XCIsXHJcbiAqICAgXCJlbmREYXRlXCI6IFwiMjAyNy0wMi0xN1wiLFxyXG4gKiAgIFwid29ya2luZ0hvdXJzXCI6IDgsXHJcbiAqICAgXCJ3b3JraW5nRGF5c1wiOiBbXCJzdW5cIiwgXCJtb25cIiwgXCJ0dWVcIiwgXCJ3ZWRcIiwgXCJ0aHVcIl1cclxuICogfVxyXG4gKi9cclxucm91dGVyLnBvc3QoJy9jb250cmFjdHMvcmVnaXN0ZXInLCBoYW5kbGVBc3luY0Vycm9yKGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gIGNvbnN0IGNvbnRyYWN0RGF0YSA9IHJlcS5ib2R5O1xyXG5cclxuICBjb25zdCByZXN1bHQgPSBhd2FpdCBxaXdhU2VydmljZS5yZWdpc3RlckNvbnRyYWN0KGNvbnRyYWN0RGF0YSk7XHJcblxyXG4gIHJlcy5zdGF0dXMoMjAxKS5qc29uKHtcclxuICAgIHN1Y2Nlc3M6IHRydWUsXHJcbiAgICBtZXNzYWdlOiAnQ29udHJhY3QgcmVnaXN0ZXJlZCBzdWNjZXNzZnVsbHknLFxyXG4gICAgZGF0YTogcmVzdWx0LFxyXG4gICAgcmVxdWVzdElkOiByZXEucmVxdWVzdElkLFxyXG4gIH0pO1xyXG59KSk7XHJcblxyXG4vKipcclxuICogR0VUIC9hcGkvcWl3YS9jb250cmFjdHMvOmNvbnRyYWN0SWRcclxuICogR2V0IGNvbnRyYWN0IGRldGFpbHNcclxuICovXHJcbnJvdXRlci5nZXQoJy9jb250cmFjdHMvOmNvbnRyYWN0SWQnLCBoYW5kbGVBc3luY0Vycm9yKGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gIGNvbnN0IHsgY29udHJhY3RJZCB9ID0gcmVxLnBhcmFtcztcclxuXHJcbiAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcWl3YVNlcnZpY2UuZ2V0Q29udHJhY3QoY29udHJhY3RJZCk7XHJcblxyXG4gIHJlcy5qc29uKHtcclxuICAgIHN1Y2Nlc3M6IHRydWUsXHJcbiAgICBkYXRhOiByZXN1bHQsXHJcbiAgICByZXF1ZXN0SWQ6IHJlcS5yZXF1ZXN0SWQsXHJcbiAgfSk7XHJcbn0pKTtcclxuXHJcbi8qKlxyXG4gKiBHRVQgL2FwaS9xaXdhL2NvbnRyYWN0c1xyXG4gKiBMaXN0IGVzdGFibGlzaG1lbnQgY29udHJhY3RzIHdpdGggb3B0aW9uYWwgZmlsdGVyc1xyXG4gKlxyXG4gKiBRdWVyeTpcclxuICogLSBzdGF0dXM6IGFjdGl2ZXx0ZXJtaW5hdGVkfHBlbmRpbmdcclxuICogLSBsaW1pdDogNTBcclxuICogLSBvZmZzZXQ6IDBcclxuICovXHJcbnJvdXRlci5nZXQoJy9jb250cmFjdHMnLCBoYW5kbGVBc3luY0Vycm9yKGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gIGNvbnN0IGZpbHRlcnMgPSB7XHJcbiAgICBzdGF0dXM6IHJlcS5xdWVyeS5zdGF0dXMsXHJcbiAgICBsaW1pdDogcGFyc2VJbnQocmVxLnF1ZXJ5LmxpbWl0IHx8IDUwKSxcclxuICAgIG9mZnNldDogcGFyc2VJbnQocmVxLnF1ZXJ5Lm9mZnNldCB8fCAwKSxcclxuICB9O1xyXG5cclxuICBjb25zdCByZXN1bHQgPSBhd2FpdCBxaXdhU2VydmljZS5saXN0Q29udHJhY3RzKGZpbHRlcnMpO1xyXG5cclxuICByZXMuanNvbih7XHJcbiAgICBzdWNjZXNzOiB0cnVlLFxyXG4gICAgZGF0YTogcmVzdWx0LFxyXG4gICAgcmVxdWVzdElkOiByZXEucmVxdWVzdElkLFxyXG4gIH0pO1xyXG59KSk7XHJcblxyXG4vKipcclxuICogUFVUIC9hcGkvcWl3YS9jb250cmFjdHMvOmNvbnRyYWN0SWRcclxuICogVXBkYXRlIGV4aXN0aW5nIGNvbnRyYWN0XHJcbiAqXHJcbiAqIEJvZHk6IHtjb250cmFjdCB1cGRhdGUgZmllbGRzfVxyXG4gKi9cclxucm91dGVyLnB1dCgnL2NvbnRyYWN0cy86Y29udHJhY3RJZCcsIGhhbmRsZUFzeW5jRXJyb3IoYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgY29uc3QgeyBjb250cmFjdElkIH0gPSByZXEucGFyYW1zO1xyXG4gIGNvbnN0IHVwZGF0ZXMgPSByZXEuYm9keTtcclxuXHJcbiAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcWl3YVNlcnZpY2UudXBkYXRlQ29udHJhY3QoY29udHJhY3RJZCwgdXBkYXRlcyk7XHJcblxyXG4gIHJlcy5qc29uKHtcclxuICAgIHN1Y2Nlc3M6IHRydWUsXHJcbiAgICBtZXNzYWdlOiAnQ29udHJhY3QgdXBkYXRlZCBzdWNjZXNzZnVsbHknLFxyXG4gICAgZGF0YTogcmVzdWx0LFxyXG4gICAgcmVxdWVzdElkOiByZXEucmVxdWVzdElkLFxyXG4gIH0pO1xyXG59KSk7XHJcblxyXG4vKipcclxuICogUE9TVCAvYXBpL3Fpd2EvY29udHJhY3RzLzpjb250cmFjdElkL3Rlcm1pbmF0ZVxyXG4gKiBUZXJtaW5hdGUgbGFib3IgY29udHJhY3RcclxuICpcclxuICogQm9keTpcclxuICoge1xyXG4gKiAgIFwicmVhc29uXCI6IFwicmVzaWduYXRpb258ZGlzbWlzc2FsfGVuZC1vZi1jb250cmFjdFwiLFxyXG4gKiAgIFwidGVybWluYXRpb25EYXRlXCI6IFwiMjAyNi0wMi0xN1wiXHJcbiAqIH1cclxuICovXHJcbnJvdXRlci5wb3N0KCcvY29udHJhY3RzLzpjb250cmFjdElkL3Rlcm1pbmF0ZScsIGhhbmRsZUFzeW5jRXJyb3IoYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgY29uc3QgeyBjb250cmFjdElkIH0gPSByZXEucGFyYW1zO1xyXG4gIGNvbnN0IHsgcmVhc29uLCB0ZXJtaW5hdGlvbkRhdGUgfSA9IHJlcS5ib2R5O1xyXG5cclxuICBpZiAoIXJlYXNvbikge1xyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHtcclxuICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICAgIGVycm9yOiAnVGVybWluYXRpb24gcmVhc29uIGlzIHJlcXVpcmVkJyxcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcWl3YVNlcnZpY2UudGVybWluYXRlQ29udHJhY3QoXHJcbiAgICBjb250cmFjdElkLFxyXG4gICAgcmVhc29uLFxyXG4gICAgdGVybWluYXRpb25EYXRlXHJcbiAgKTtcclxuXHJcbiAgcmVzLmpzb24oe1xyXG4gICAgc3VjY2VzczogdHJ1ZSxcclxuICAgIG1lc3NhZ2U6ICdDb250cmFjdCB0ZXJtaW5hdGVkIHN1Y2Nlc3NmdWxseScsXHJcbiAgICBkYXRhOiByZXN1bHQsXHJcbiAgICByZXF1ZXN0SWQ6IHJlcS5yZXF1ZXN0SWQsXHJcbiAgfSk7XHJcbn0pKTtcclxuXHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbi8vIFdBR0UgTUFOQUdFTUVOVFxyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cclxuLyoqXHJcbiAqIFBVVCAvYXBpL3Fpd2EvZW1wbG95ZWVzLzppcWFtYU51bWJlci93YWdlXHJcbiAqIFVwZGF0ZSBlbXBsb3llZSB3YWdlXHJcbiAqXHJcbiAqIEJvZHk6XHJcbiAqIHtcclxuICogICBcImJhc2ljU2FsYXJ5XCI6IDE1MDAwLFxyXG4gKiAgIFwiaG91c2luZ0FsbG93YW5jZVwiOiA1MDAwLFxyXG4gKiAgIFwidHJhbnNwb3J0QWxsb3dhbmNlXCI6IDEwMDAsXHJcbiAqICAgXCJvdGhlckFsbG93YW5jZXNcIjogMCxcclxuICogICBcImVmZmVjdGl2ZURhdGVcIjogXCIyMDI2LTAyLTE3XCJcclxuICogfVxyXG4gKi9cclxucm91dGVyLnB1dCgnL2VtcGxveWVlcy86aXFhbWFOdW1iZXIvd2FnZScsIGhhbmRsZUFzeW5jRXJyb3IoYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgY29uc3QgeyBpcWFtYU51bWJlciB9ID0gcmVxLnBhcmFtcztcclxuICBjb25zdCB3YWdlRGF0YSA9IHJlcS5ib2R5O1xyXG5cclxuICBjb25zdCByZXN1bHQgPSBhd2FpdCBxaXdhU2VydmljZS51cGRhdGVFbXBsb3llZVdhZ2UoaXFhbWFOdW1iZXIsIHdhZ2VEYXRhKTtcclxuXHJcbiAgcmVzLmpzb24oe1xyXG4gICAgc3VjY2VzczogdHJ1ZSxcclxuICAgIG1lc3NhZ2U6ICdXYWdlIHVwZGF0ZWQgc3VjY2Vzc2Z1bGx5JyxcclxuICAgIGRhdGE6IHJlc3VsdCxcclxuICAgIHJlcXVlc3RJZDogcmVxLnJlcXVlc3RJZCxcclxuICB9KTtcclxufSkpO1xyXG5cclxuLyoqXHJcbiAqIEdFVCAvYXBpL3Fpd2EvZW1wbG95ZWVzLzppcWFtYU51bWJlci93YWdlLWhpc3RvcnlcclxuICogR2V0IGVtcGxveWVlIHdhZ2UgaGlzdG9yeVxyXG4gKlxyXG4gKiBRdWVyeTpcclxuICogLSBtb250aHM6IDEyIChkZWZhdWx0KVxyXG4gKi9cclxucm91dGVyLmdldCgnL2VtcGxveWVlcy86aXFhbWFOdW1iZXIvd2FnZS1oaXN0b3J5JywgaGFuZGxlQXN5bmNFcnJvcihhc3luYyAocmVxLCByZXMpID0+IHtcclxuICBjb25zdCB7IGlxYW1hTnVtYmVyIH0gPSByZXEucGFyYW1zO1xyXG4gIGNvbnN0IG1vbnRocyA9IHBhcnNlSW50KHJlcS5xdWVyeS5tb250aHMgfHwgMTIpO1xyXG5cclxuICBjb25zdCByZXN1bHQgPSBhd2FpdCBxaXdhU2VydmljZS5nZXRXYWdlSGlzdG9yeShpcWFtYU51bWJlciwgbW9udGhzKTtcclxuXHJcbiAgcmVzLmpzb24oe1xyXG4gICAgc3VjY2VzczogdHJ1ZSxcclxuICAgIGRhdGE6IHJlc3VsdCxcclxuICAgIHJlcXVlc3RJZDogcmVxLnJlcXVlc3RJZCxcclxuICB9KTtcclxufSkpO1xyXG5cclxuLyoqXHJcbiAqIFBPU1QgL2FwaS9xaXdhL3dhZ2VzL2NvbXBsaWFuY2UtY2hlY2tcclxuICogQ2hlY2sgd2FnZSBjaGFuZ2UgY29tcGxpYW5jZVxyXG4gKlxyXG4gKiBCb2R5OlxyXG4gKiB7XHJcbiAqICAgXCJpcWFtYU51bWJlclwiOiBcIjIzNDU2Nzg5MDFcIixcclxuICogICBcIm5ld1dhZ2VcIjogey4uLn1cclxuICogfVxyXG4gKi9cclxucm91dGVyLnBvc3QoJy93YWdlcy9jb21wbGlhbmNlLWNoZWNrJywgaGFuZGxlQXN5bmNFcnJvcihhc3luYyAocmVxLCByZXMpID0+IHtcclxuICBjb25zdCB7IGlxYW1hTnVtYmVyLCBuZXdXYWdlIH0gPSByZXEuYm9keTtcclxuXHJcbiAgaWYgKCFpcWFtYU51bWJlciB8fCAhbmV3V2FnZSkge1xyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHtcclxuICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICAgIGVycm9yOiAnSXFhbWEgbnVtYmVyIGFuZCBuZXcgd2FnZSBhcmUgcmVxdWlyZWQnLFxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBjb25zdCByZXN1bHQgPSBhd2FpdCBxaXdhU2VydmljZS5jYWxjdWxhdGVXYWdlQ29tcGxpYW5jZShpcWFtYU51bWJlciwgbmV3V2FnZSk7XHJcblxyXG4gIHJlcy5qc29uKHtcclxuICAgIHN1Y2Nlc3M6IHRydWUsXHJcbiAgICBkYXRhOiByZXN1bHQsXHJcbiAgICByZXF1ZXN0SWQ6IHJlcS5yZXF1ZXN0SWQsXHJcbiAgfSk7XHJcbn0pKTtcclxuXHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbi8vIFdBR0UgUFJPVEVDVElPTiBTWVNURU0gKFdQUylcclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHJcbi8qKlxyXG4gKiBQT1NUIC9hcGkvcWl3YS93cHMvc3VibWl0XHJcbiAqIFN1Ym1pdCBwYXlyb2xsIHRvIFdQU1xyXG4gKlxyXG4gKiBCb2R5OlxyXG4gKiB7XHJcbiAqICAgXCJwZXJpb2RcIjogXCIyMDI2LTAyXCIsXHJcbiAqICAgXCJzdWJtaXNzaW9uVHlwZVwiOiBcInJlZ3VsYXJ8YWRqdXN0bWVudFwiLFxyXG4gKiAgIFwiZW1wbG95ZWVzXCI6IFtcclxuICogICAgIHtcclxuICogICAgICAgXCJpcWFtYU51bWJlclwiOiBcIjIzNDU2Nzg5MDFcIixcclxuICogICAgICAgXCJiYXNpY1NhbGFyeVwiOiAxNTAwMCxcclxuICogICAgICAgXCJhbGxvd2FuY2VzXCI6IHsuLn0sXHJcbiAqICAgICAgIFwiZGVkdWN0aW9uc1wiOiB7Li59LFxyXG4gKiAgICAgICBcIm5ldFNhbGFyeVwiOiAxOTAwMFxyXG4gKiAgICAgfVxyXG4gKiAgIF1cclxuICogfVxyXG4gKi9cclxucm91dGVyLnBvc3QoJy93cHMvc3VibWl0JywgaGFuZGxlQXN5bmNFcnJvcihhc3luYyAocmVxLCByZXMpID0+IHtcclxuICBjb25zdCBwYXlyb2xsRGF0YSA9IHJlcS5ib2R5O1xyXG5cclxuICBpZiAoIXBheXJvbGxEYXRhLnBlcmlvZCB8fCAhcGF5cm9sbERhdGEuZW1wbG95ZWVzKSB7XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oe1xyXG4gICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgICAgZXJyb3I6ICdQZXJpb2QgYW5kIGVtcGxveWVlcyBsaXN0IGFyZSByZXF1aXJlZCcsXHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHFpd2FTZXJ2aWNlLnN1Ym1pdFBheXJvbGxUb1dQUyhwYXlyb2xsRGF0YSk7XHJcblxyXG4gIHJlcy5zdGF0dXMoMjAxKS5qc29uKHtcclxuICAgIHN1Y2Nlc3M6IHRydWUsXHJcbiAgICBtZXNzYWdlOiAnUGF5cm9sbCBzdWJtaXR0ZWQgdG8gV1BTIHN1Y2Nlc3NmdWxseScsXHJcbiAgICBkYXRhOiByZXN1bHQsXHJcbiAgICByZXF1ZXN0SWQ6IHJlcS5yZXF1ZXN0SWQsXHJcbiAgfSk7XHJcbn0pKTtcclxuXHJcbi8qKlxyXG4gKiBHRVQgL2FwaS9xaXdhL3dwcy86c3VibWlzc2lvbklkL3N0YXR1c1xyXG4gKiBHZXQgV1BTIHN1Ym1pc3Npb24gc3RhdHVzXHJcbiAqL1xyXG5yb3V0ZXIuZ2V0KCcvd3BzLzpzdWJtaXNzaW9uSWQvc3RhdHVzJywgaGFuZGxlQXN5bmNFcnJvcihhc3luYyAocmVxLCByZXMpID0+IHtcclxuICBjb25zdCB7IHN1Ym1pc3Npb25JZCB9ID0gcmVxLnBhcmFtcztcclxuXHJcbiAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcWl3YVNlcnZpY2UuZ2V0V1BTU3RhdHVzKHN1Ym1pc3Npb25JZCk7XHJcblxyXG4gIHJlcy5qc29uKHtcclxuICAgIHN1Y2Nlc3M6IHRydWUsXHJcbiAgICBkYXRhOiByZXN1bHQsXHJcbiAgICByZXF1ZXN0SWQ6IHJlcS5yZXF1ZXN0SWQsXHJcbiAgfSk7XHJcbn0pKTtcclxuXHJcbi8qKlxyXG4gKiBHRVQgL2FwaS9xaXdhL3dwcy9jb21wbGlhbmNlLXJlcG9ydFxyXG4gKiBHZXQgV1BTIGNvbXBsaWFuY2UgcmVwb3J0XHJcbiAqXHJcbiAqIFF1ZXJ5OlxyXG4gKiAtIHBlcmlvZDogMjAyNi0wMlxyXG4gKi9cclxucm91dGVyLmdldCgnL3dwcy9jb21wbGlhbmNlLXJlcG9ydCcsIGhhbmRsZUFzeW5jRXJyb3IoYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgY29uc3QgeyBwZXJpb2QgfSA9IHJlcS5xdWVyeTtcclxuXHJcbiAgaWYgKCFwZXJpb2QpIHtcclxuICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7XHJcbiAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgICBlcnJvcjogJ1BlcmlvZCBpcyByZXF1aXJlZCAoZm9ybWF0OiBZWVlZLU1NKScsXHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHFpd2FTZXJ2aWNlLmdldFdQU0NvbXBsaWFuY2VSZXBvcnQocGVyaW9kKTtcclxuXHJcbiAgcmVzLmpzb24oe1xyXG4gICAgc3VjY2VzczogdHJ1ZSxcclxuICAgIGRhdGE6IHJlc3VsdCxcclxuICAgIHJlcXVlc3RJZDogcmVxLnJlcXVlc3RJZCxcclxuICB9KTtcclxufSkpO1xyXG5cclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuLy8gTklUQVFBVCAoV09SS0ZPUkNFIExPQ0FMSVpBVElPTilcclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHJcbi8qKlxyXG4gKiBHRVQgL2FwaS9xaXdhL25pdGFxYXQvc3RhdHVzXHJcbiAqIEdldCBlc3RhYmxpc2htZW50IE5pdGFxYXQgc3RhdHVzXHJcbiAqL1xyXG5yb3V0ZXIuZ2V0KCcvbml0YXFhdC9zdGF0dXMnLCBoYW5kbGVBc3luY0Vycm9yKGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHFpd2FTZXJ2aWNlLmdldE5pdGFxYXRTdGF0dXMoKTtcclxuXHJcbiAgcmVzLmpzb24oe1xyXG4gICAgc3VjY2VzczogdHJ1ZSxcclxuICAgIGRhdGE6IHJlc3VsdCxcclxuICAgIHJlcXVlc3RJZDogcmVxLnJlcXVlc3RJZCxcclxuICB9KTtcclxufSkpO1xyXG5cclxuLyoqXHJcbiAqIEdFVCAvYXBpL3Fpd2Evbml0YXFhdC9jb21wbGlhbmNlXHJcbiAqIEdldCBOaXRhcWF0IGNvbXBsaWFuY2UgZGV0YWlsc1xyXG4gKi9cclxucm91dGVyLmdldCgnL25pdGFxYXQvY29tcGxpYW5jZScsIGhhbmRsZUFzeW5jRXJyb3IoYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcWl3YVNlcnZpY2UuZ2V0Tml0YXFhdENvbXBsaWFuY2UoKTtcclxuXHJcbiAgcmVzLmpzb24oe1xyXG4gICAgc3VjY2VzczogdHJ1ZSxcclxuICAgIGRhdGE6IHJlc3VsdCxcclxuICAgIHJlcXVlc3RJZDogcmVxLnJlcXVlc3RJZCxcclxuICB9KTtcclxufSkpO1xyXG5cclxuLyoqXHJcbiAqIFBPU1QgL2FwaS9xaXdhL25pdGFxYXQvY2FsY3VsYXRlLXBvaW50c1xyXG4gKiBDYWxjdWxhdGUgTml0YXFhdCBwb2ludHMgZm9yIGxhYm9yIGZvcmNlXHJcbiAqXHJcbiAqIEJvZHk6XHJcbiAqIHtcclxuICogICBcIndvcmtmb3JjZVwiOiBbXHJcbiAqICAgICB7XHJcbiAqICAgICAgIFwiaXFhbWFOdW1iZXJcIjogXCIyMzQ1Njc4OTAxXCIsXHJcbiAqICAgICAgIFwibmF0aW9uYWxpdHlcIjogXCJTYXVkaXxOb24tU2F1ZGlcIixcclxuICogICAgICAgXCJwb3NpdGlvblwiOiBcIk1hbmFnZXJ8U3BlY2lhbGlzdHxUZWNobmljaWFuXCJcclxuICogICAgIH1cclxuICogICBdXHJcbiAqIH1cclxuICovXHJcbnJvdXRlci5wb3N0KCcvbml0YXFhdC9jYWxjdWxhdGUtcG9pbnRzJywgaGFuZGxlQXN5bmNFcnJvcihhc3luYyAocmVxLCByZXMpID0+IHtcclxuICBjb25zdCB7IHdvcmtmb3JjZSB9ID0gcmVxLmJvZHk7XHJcblxyXG4gIGlmICghd29ya2ZvcmNlIHx8ICFBcnJheS5pc0FycmF5KHdvcmtmb3JjZSkpIHtcclxuICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7XHJcbiAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgICBlcnJvcjogJ1dvcmtmb3JjZSBhcnJheSBpcyByZXF1aXJlZCcsXHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHFpd2FTZXJ2aWNlLmNhbGN1bGF0ZU5pdGFxYXRQb2ludHMod29ya2ZvcmNlKTtcclxuXHJcbiAgcmVzLmpzb24oe1xyXG4gICAgc3VjY2VzczogdHJ1ZSxcclxuICAgIGRhdGE6IHJlc3VsdCxcclxuICAgIHJlcXVlc3RJZDogcmVxLnJlcXVlc3RJZCxcclxuICB9KTtcclxufSkpO1xyXG5cclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuLy8gQkFUQ0ggT1BFUkFUSU9OU1xyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cclxuLyoqXHJcbiAqIFBPU1QgL2FwaS9xaXdhL2JhdGNoL3JlZ2lzdGVyLWNvbnRyYWN0c1xyXG4gKiBCYXRjaCByZWdpc3RlciBtdWx0aXBsZSBjb250cmFjdHNcclxuICpcclxuICogQm9keTpcclxuICoge1xyXG4gKiAgIFwiY29udHJhY3RzXCI6IFtcclxuICogICAgIHtjb250cmFjdCBkYXRhfSxcclxuICogICAgIHtjb250cmFjdCBkYXRhfVxyXG4gKiAgIF1cclxuICogfVxyXG4gKi9cclxucm91dGVyLnBvc3QoJy9iYXRjaC9yZWdpc3Rlci1jb250cmFjdHMnLCBoYW5kbGVBc3luY0Vycm9yKGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gIGNvbnN0IHsgY29udHJhY3RzIH0gPSByZXEuYm9keTtcclxuXHJcbiAgaWYgKCFjb250cmFjdHMgfHwgIUFycmF5LmlzQXJyYXkoY29udHJhY3RzKSkge1xyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHtcclxuICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICAgIGVycm9yOiAnQ29udHJhY3RzIGFycmF5IGlzIHJlcXVpcmVkJyxcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcWl3YVNlcnZpY2UuYmF0Y2hSZWdpc3RlckNvbnRyYWN0cyhjb250cmFjdHMpO1xyXG5cclxuICByZXMuc3RhdHVzKDIwNykuanNvbih7XHJcbiAgICBzdWNjZXNzOiB0cnVlLFxyXG4gICAgbWVzc2FnZTogJ0JhdGNoIGNvbnRyYWN0IHJlZ2lzdHJhdGlvbiBjb21wbGV0ZWQnLFxyXG4gICAgZGF0YTogcmVzdWx0LFxyXG4gICAgcmVxdWVzdElkOiByZXEucmVxdWVzdElkLFxyXG4gIH0pO1xyXG59KSk7XHJcblxyXG4vKipcclxuICogUE9TVCAvYXBpL3Fpd2EvYmF0Y2gvdXBkYXRlLXdhZ2VzXHJcbiAqIEJhdGNoIHVwZGF0ZSB3YWdlc1xyXG4gKlxyXG4gKiBCb2R5OlxyXG4gKiB7XHJcbiAqICAgXCJ1cGRhdGVzXCI6IFtcclxuICogICAgIHtcclxuICogICAgICAgXCJpcWFtYU51bWJlclwiOiBcIjIzNDU2Nzg5MDFcIixcclxuICogICAgICAgXCJ3YWdlRGF0YVwiOiB7Li4ufVxyXG4gKiAgICAgfVxyXG4gKiAgIF1cclxuICogfVxyXG4gKi9cclxucm91dGVyLnBvc3QoJy9iYXRjaC91cGRhdGUtd2FnZXMnLCBoYW5kbGVBc3luY0Vycm9yKGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gIGNvbnN0IHsgdXBkYXRlcyB9ID0gcmVxLmJvZHk7XHJcblxyXG4gIGlmICghdXBkYXRlcyB8fCAhQXJyYXkuaXNBcnJheSh1cGRhdGVzKSkge1xyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHtcclxuICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICAgIGVycm9yOiAnVXBkYXRlcyBhcnJheSBpcyByZXF1aXJlZCcsXHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHFpd2FTZXJ2aWNlLmJhdGNoVXBkYXRlV2FnZXModXBkYXRlcyk7XHJcblxyXG4gIHJlcy5zdGF0dXMoMjA3KS5qc29uKHtcclxuICAgIHN1Y2Nlc3M6IHRydWUsXHJcbiAgICBtZXNzYWdlOiAnQmF0Y2ggd2FnZSB1cGRhdGUgY29tcGxldGVkJyxcclxuICAgIGRhdGE6IHJlc3VsdCxcclxuICAgIHJlcXVlc3RJZDogcmVxLnJlcXVlc3RJZCxcclxuICB9KTtcclxufSkpO1xyXG5cclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuLy8gRVJST1IgSEFORExJTkdcclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHJcbi8qKlxyXG4gKiBHbG9iYWwgZXJyb3IgaGFuZGxlclxyXG4gKi9cclxucm91dGVyLnVzZSgoZXJyb3IsIHJlcSwgcmVzLCBuZXh0KSA9PiB7XHJcbiAgY29uc29sZS5lcnJvcignW1Fpd2EgUm91dGVzIEVycm9yXScsIGVycm9yKTtcclxuXHJcbiAgY29uc3Qgc3RhdHVzQ29kZSA9IGVycm9yLnN0YXR1c0NvZGUgfHwgNTAwO1xyXG4gIGNvbnN0IHJlc3BvbnNlID0ge1xyXG4gICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICBlcnJvcjogZXJyb3IubWVzc2FnZSB8fCAnSW50ZXJuYWwgc2VydmVyIGVycm9yJyxcclxuICAgIHJlcXVlc3RJZDogcmVxLnJlcXVlc3RJZCxcclxuICB9O1xyXG5cclxuICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdkZXZlbG9wbWVudCcpIHtcclxuICAgIHJlc3BvbnNlLmRldGFpbHMgPSBlcnJvci5kYXRhIHx8IHt9O1xyXG4gICAgcmVzcG9uc2Uuc3RhY2sgPSBlcnJvci5zdGFjaztcclxuICB9XHJcblxyXG4gIHJlcy5zdGF0dXMoc3RhdHVzQ29kZSkuanNvbihyZXNwb25zZSk7XHJcbn0pO1xyXG5cclxubW9kdWxlLmV4cG9ydHMgPSByb3V0ZXI7XHJcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxNQUFNQSxPQUFPLEdBQUdDLE9BQU8sQ0FBQyxTQUFTLENBQUM7QUFDbEMsTUFBTUMsTUFBTSxHQUFHRixPQUFPLENBQUNHLE1BQU0sQ0FBQyxDQUFDO0FBQy9CLE1BQU1DLFdBQVcsR0FBR0gsT0FBTyxDQUFDLDBCQUEwQixDQUFDO0FBRXZELE1BQU1JLFdBQVcsR0FBRyxJQUFJRCxXQUFXLENBQUMsQ0FBQzs7QUFFckM7QUFDQSxNQUFNRSxlQUFlLEdBQUdBLENBQUNDLEdBQUcsRUFBRUMsR0FBRyxFQUFFQyxJQUFJLEtBQUs7RUFDMUNGLEdBQUcsQ0FBQ0csU0FBUyxHQUFHVCxPQUFPLENBQUMsUUFBUSxDQUFDLENBQUNVLFVBQVUsQ0FBQyxDQUFDO0VBQzlDRixJQUFJLENBQUMsQ0FBQztBQUNSLENBQUM7QUFFRCxNQUFNRyxnQkFBZ0IsR0FBSUMsRUFBRSxJQUFLLENBQUNOLEdBQUcsRUFBRUMsR0FBRyxFQUFFQyxJQUFJLEtBQUs7RUFDbkRLLE9BQU8sQ0FBQ0MsT0FBTyxDQUFDRixFQUFFLENBQUNOLEdBQUcsRUFBRUMsR0FBRyxFQUFFQyxJQUFJLENBQUMsQ0FBQyxDQUFDTyxLQUFLLENBQUNQLElBQUksQ0FBQztBQUNqRCxDQUFDO0FBRURQLE1BQU0sQ0FBQ2UsR0FBRyxDQUFDWCxlQUFlLENBQUM7O0FBRTNCO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBSixNQUFNLENBQUNnQixHQUFHLENBQUMsU0FBUyxFQUFFTixnQkFBZ0IsQ0FBQyxPQUFPTCxHQUFHLEVBQUVDLEdBQUcsS0FBSztFQUN6RCxNQUFNVyxNQUFNLEdBQUcsTUFBTWQsV0FBVyxDQUFDZSxXQUFXLENBQUMsQ0FBQztFQUM5Q1osR0FBRyxDQUFDYSxNQUFNLENBQUNGLE1BQU0sQ0FBQ0UsTUFBTSxLQUFLLFNBQVMsR0FBRyxHQUFHLEdBQUcsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQ0gsTUFBTSxDQUFDO0FBQ2xFLENBQUMsQ0FBQyxDQUFDOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0FqQixNQUFNLENBQUNnQixHQUFHLENBQUMsVUFBVSxFQUFFTixnQkFBZ0IsQ0FBQyxPQUFPTCxHQUFHLEVBQUVDLEdBQUcsS0FBSztFQUMxRCxNQUFNZSxPQUFPLEdBQUdsQixXQUFXLENBQUNtQixVQUFVLENBQUMsQ0FBQztFQUN4Q2hCLEdBQUcsQ0FBQ2MsSUFBSSxDQUFDO0lBQ1BHLE9BQU8sRUFBRSxJQUFJO0lBQ2JGLE9BQU87SUFDUEcsU0FBUyxFQUFFLElBQUlDLElBQUksQ0FBQztFQUN0QixDQUFDLENBQUM7QUFDSixDQUFDLENBQUMsQ0FBQzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBekIsTUFBTSxDQUFDZ0IsR0FBRyxDQUFDLFVBQVUsRUFBRU4sZ0JBQWdCLENBQUMsT0FBT0wsR0FBRyxFQUFFQyxHQUFHLEtBQUs7RUFDMUQsTUFBTW9CLE9BQU8sR0FBR3ZCLFdBQVcsQ0FBQ3dCLGlCQUFpQixDQUFDO0lBQzVDQyxLQUFLLEVBQUV2QixHQUFHLENBQUN3QixLQUFLLENBQUNELEtBQUs7SUFDdEJFLEtBQUssRUFBRUMsUUFBUSxDQUFDMUIsR0FBRyxDQUFDd0IsS0FBSyxDQUFDQyxLQUFLLElBQUksR0FBRztFQUN4QyxDQUFDLENBQUM7RUFFRnhCLEdBQUcsQ0FBQ2MsSUFBSSxDQUFDO0lBQ1BHLE9BQU8sRUFBRSxJQUFJO0lBQ2JHLE9BQU87SUFDUE0sS0FBSyxFQUFFTixPQUFPLENBQUNPLE1BQU07SUFDckJULFNBQVMsRUFBRSxJQUFJQyxJQUFJLENBQUM7RUFDdEIsQ0FBQyxDQUFDO0FBQ0osQ0FBQyxDQUFDLENBQUM7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQXpCLE1BQU0sQ0FBQ2tDLElBQUksQ0FBQyxjQUFjLEVBQUV4QixnQkFBZ0IsQ0FBQyxPQUFPTCxHQUFHLEVBQUVDLEdBQUcsS0FBSztFQUMvRCxNQUFNNkIsTUFBTSxHQUFHaEMsV0FBVyxDQUFDaUMsVUFBVSxDQUFDL0IsR0FBRyxDQUFDZ0MsSUFBSSxDQUFDQyxPQUFPLENBQUM7RUFDdkRoQyxHQUFHLENBQUNjLElBQUksQ0FBQztJQUNQRyxPQUFPLEVBQUUsSUFBSTtJQUNiZ0IsT0FBTyxFQUFFLGVBQWU7SUFDeEJKLE1BQU07SUFDTlgsU0FBUyxFQUFFLElBQUlDLElBQUksQ0FBQztFQUN0QixDQUFDLENBQUM7QUFDSixDQUFDLENBQUMsQ0FBQzs7QUFFSDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0F6QixNQUFNLENBQUNrQyxJQUFJLENBQUMseUJBQXlCLEVBQUV4QixnQkFBZ0IsQ0FBQyxPQUFPTCxHQUFHLEVBQUVDLEdBQUcsS0FBSztFQUMxRSxNQUFNO0lBQUVrQztFQUFZLENBQUMsR0FBR25DLEdBQUcsQ0FBQ2dDLElBQUk7RUFFaEMsSUFBSSxDQUFDRyxXQUFXLEVBQUU7SUFDaEIsT0FBT2xDLEdBQUcsQ0FBQ2EsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUM7TUFDMUJHLE9BQU8sRUFBRSxLQUFLO01BQ2RrQixLQUFLLEVBQUU7SUFDVCxDQUFDLENBQUM7RUFDSjtFQUVBLE1BQU1OLE1BQU0sR0FBRyxNQUFNaEMsV0FBVyxDQUFDdUMscUJBQXFCLENBQUNGLFdBQVcsQ0FBQztFQUVuRWxDLEdBQUcsQ0FBQ2MsSUFBSSxDQUFDO0lBQ1BHLE9BQU8sRUFBRSxJQUFJO0lBQ2JvQixJQUFJLEVBQUVSLE1BQU07SUFDWjNCLFNBQVMsRUFBRUgsR0FBRyxDQUFDRztFQUNqQixDQUFDLENBQUM7QUFDSixDQUFDLENBQUMsQ0FBQzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQVIsTUFBTSxDQUFDa0MsSUFBSSxDQUFDLCtCQUErQixFQUFFeEIsZ0JBQWdCLENBQUMsT0FBT0wsR0FBRyxFQUFFQyxHQUFHLEtBQUs7RUFDaEYsTUFBTTtJQUFFc0M7RUFBVyxDQUFDLEdBQUd2QyxHQUFHLENBQUNnQyxJQUFJO0VBRS9CLElBQUksQ0FBQ08sVUFBVSxFQUFFO0lBQ2YsT0FBT3RDLEdBQUcsQ0FBQ2EsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUM7TUFDMUJHLE9BQU8sRUFBRSxLQUFLO01BQ2RrQixLQUFLLEVBQUU7SUFDVCxDQUFDLENBQUM7RUFDSjtFQUVBLE1BQU1OLE1BQU0sR0FBRyxNQUFNaEMsV0FBVyxDQUFDMEMsMEJBQTBCLENBQUNELFVBQVUsQ0FBQztFQUV2RXRDLEdBQUcsQ0FBQ2MsSUFBSSxDQUFDO0lBQ1BHLE9BQU8sRUFBRSxJQUFJO0lBQ2JvQixJQUFJLEVBQUVSLE1BQU07SUFDWjNCLFNBQVMsRUFBRUgsR0FBRyxDQUFDRztFQUNqQixDQUFDLENBQUM7QUFDSixDQUFDLENBQUMsQ0FBQzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBUixNQUFNLENBQUNnQixHQUFHLENBQUMsc0NBQXNDLEVBQUVOLGdCQUFnQixDQUFDLE9BQU9MLEdBQUcsRUFBRUMsR0FBRyxLQUFLO0VBQ3RGLE1BQU07SUFBRWtDO0VBQVksQ0FBQyxHQUFHbkMsR0FBRyxDQUFDeUMsTUFBTTtFQUVsQyxNQUFNWCxNQUFNLEdBQUcsTUFBTWhDLFdBQVcsQ0FBQzRDLHNCQUFzQixDQUFDUCxXQUFXLENBQUM7RUFFcEVsQyxHQUFHLENBQUNjLElBQUksQ0FBQztJQUNQRyxPQUFPLEVBQUUsSUFBSTtJQUNib0IsSUFBSSxFQUFFUixNQUFNO0lBQ1ozQixTQUFTLEVBQUVILEdBQUcsQ0FBQ0c7RUFDakIsQ0FBQyxDQUFDO0FBQ0osQ0FBQyxDQUFDLENBQUM7O0FBRUg7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0FSLE1BQU0sQ0FBQ2tDLElBQUksQ0FBQyxxQkFBcUIsRUFBRXhCLGdCQUFnQixDQUFDLE9BQU9MLEdBQUcsRUFBRUMsR0FBRyxLQUFLO0VBQ3RFLE1BQU0wQyxZQUFZLEdBQUczQyxHQUFHLENBQUNnQyxJQUFJO0VBRTdCLE1BQU1GLE1BQU0sR0FBRyxNQUFNaEMsV0FBVyxDQUFDOEMsZ0JBQWdCLENBQUNELFlBQVksQ0FBQztFQUUvRDFDLEdBQUcsQ0FBQ2EsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUM7SUFDbkJHLE9BQU8sRUFBRSxJQUFJO0lBQ2JnQixPQUFPLEVBQUUsa0NBQWtDO0lBQzNDSSxJQUFJLEVBQUVSLE1BQU07SUFDWjNCLFNBQVMsRUFBRUgsR0FBRyxDQUFDRztFQUNqQixDQUFDLENBQUM7QUFDSixDQUFDLENBQUMsQ0FBQzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBUixNQUFNLENBQUNnQixHQUFHLENBQUMsd0JBQXdCLEVBQUVOLGdCQUFnQixDQUFDLE9BQU9MLEdBQUcsRUFBRUMsR0FBRyxLQUFLO0VBQ3hFLE1BQU07SUFBRTRDO0VBQVcsQ0FBQyxHQUFHN0MsR0FBRyxDQUFDeUMsTUFBTTtFQUVqQyxNQUFNWCxNQUFNLEdBQUcsTUFBTWhDLFdBQVcsQ0FBQ2dELFdBQVcsQ0FBQ0QsVUFBVSxDQUFDO0VBRXhENUMsR0FBRyxDQUFDYyxJQUFJLENBQUM7SUFDUEcsT0FBTyxFQUFFLElBQUk7SUFDYm9CLElBQUksRUFBRVIsTUFBTTtJQUNaM0IsU0FBUyxFQUFFSCxHQUFHLENBQUNHO0VBQ2pCLENBQUMsQ0FBQztBQUNKLENBQUMsQ0FBQyxDQUFDOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBUixNQUFNLENBQUNnQixHQUFHLENBQUMsWUFBWSxFQUFFTixnQkFBZ0IsQ0FBQyxPQUFPTCxHQUFHLEVBQUVDLEdBQUcsS0FBSztFQUM1RCxNQUFNOEMsT0FBTyxHQUFHO0lBQ2RqQyxNQUFNLEVBQUVkLEdBQUcsQ0FBQ3dCLEtBQUssQ0FBQ1YsTUFBTTtJQUN4QlcsS0FBSyxFQUFFQyxRQUFRLENBQUMxQixHQUFHLENBQUN3QixLQUFLLENBQUNDLEtBQUssSUFBSSxFQUFFLENBQUM7SUFDdEN1QixNQUFNLEVBQUV0QixRQUFRLENBQUMxQixHQUFHLENBQUN3QixLQUFLLENBQUN3QixNQUFNLElBQUksQ0FBQztFQUN4QyxDQUFDO0VBRUQsTUFBTWxCLE1BQU0sR0FBRyxNQUFNaEMsV0FBVyxDQUFDbUQsYUFBYSxDQUFDRixPQUFPLENBQUM7RUFFdkQ5QyxHQUFHLENBQUNjLElBQUksQ0FBQztJQUNQRyxPQUFPLEVBQUUsSUFBSTtJQUNib0IsSUFBSSxFQUFFUixNQUFNO0lBQ1ozQixTQUFTLEVBQUVILEdBQUcsQ0FBQ0c7RUFDakIsQ0FBQyxDQUFDO0FBQ0osQ0FBQyxDQUFDLENBQUM7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0FSLE1BQU0sQ0FBQ3VELEdBQUcsQ0FBQyx3QkFBd0IsRUFBRTdDLGdCQUFnQixDQUFDLE9BQU9MLEdBQUcsRUFBRUMsR0FBRyxLQUFLO0VBQ3hFLE1BQU07SUFBRTRDO0VBQVcsQ0FBQyxHQUFHN0MsR0FBRyxDQUFDeUMsTUFBTTtFQUNqQyxNQUFNVSxPQUFPLEdBQUduRCxHQUFHLENBQUNnQyxJQUFJO0VBRXhCLE1BQU1GLE1BQU0sR0FBRyxNQUFNaEMsV0FBVyxDQUFDc0QsY0FBYyxDQUFDUCxVQUFVLEVBQUVNLE9BQU8sQ0FBQztFQUVwRWxELEdBQUcsQ0FBQ2MsSUFBSSxDQUFDO0lBQ1BHLE9BQU8sRUFBRSxJQUFJO0lBQ2JnQixPQUFPLEVBQUUsK0JBQStCO0lBQ3hDSSxJQUFJLEVBQUVSLE1BQU07SUFDWjNCLFNBQVMsRUFBRUgsR0FBRyxDQUFDRztFQUNqQixDQUFDLENBQUM7QUFDSixDQUFDLENBQUMsQ0FBQzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBUixNQUFNLENBQUNrQyxJQUFJLENBQUMsa0NBQWtDLEVBQUV4QixnQkFBZ0IsQ0FBQyxPQUFPTCxHQUFHLEVBQUVDLEdBQUcsS0FBSztFQUNuRixNQUFNO0lBQUU0QztFQUFXLENBQUMsR0FBRzdDLEdBQUcsQ0FBQ3lDLE1BQU07RUFDakMsTUFBTTtJQUFFWSxNQUFNO0lBQUVDO0VBQWdCLENBQUMsR0FBR3RELEdBQUcsQ0FBQ2dDLElBQUk7RUFFNUMsSUFBSSxDQUFDcUIsTUFBTSxFQUFFO0lBQ1gsT0FBT3BELEdBQUcsQ0FBQ2EsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUM7TUFDMUJHLE9BQU8sRUFBRSxLQUFLO01BQ2RrQixLQUFLLEVBQUU7SUFDVCxDQUFDLENBQUM7RUFDSjtFQUVBLE1BQU1OLE1BQU0sR0FBRyxNQUFNaEMsV0FBVyxDQUFDeUQsaUJBQWlCLENBQ2hEVixVQUFVLEVBQ1ZRLE1BQU0sRUFDTkMsZUFDRixDQUFDO0VBRURyRCxHQUFHLENBQUNjLElBQUksQ0FBQztJQUNQRyxPQUFPLEVBQUUsSUFBSTtJQUNiZ0IsT0FBTyxFQUFFLGtDQUFrQztJQUMzQ0ksSUFBSSxFQUFFUixNQUFNO0lBQ1ozQixTQUFTLEVBQUVILEdBQUcsQ0FBQ0c7RUFDakIsQ0FBQyxDQUFDO0FBQ0osQ0FBQyxDQUFDLENBQUM7O0FBRUg7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0FSLE1BQU0sQ0FBQ3VELEdBQUcsQ0FBQyw4QkFBOEIsRUFBRTdDLGdCQUFnQixDQUFDLE9BQU9MLEdBQUcsRUFBRUMsR0FBRyxLQUFLO0VBQzlFLE1BQU07SUFBRWtDO0VBQVksQ0FBQyxHQUFHbkMsR0FBRyxDQUFDeUMsTUFBTTtFQUNsQyxNQUFNZSxRQUFRLEdBQUd4RCxHQUFHLENBQUNnQyxJQUFJO0VBRXpCLE1BQU1GLE1BQU0sR0FBRyxNQUFNaEMsV0FBVyxDQUFDMkQsa0JBQWtCLENBQUN0QixXQUFXLEVBQUVxQixRQUFRLENBQUM7RUFFMUV2RCxHQUFHLENBQUNjLElBQUksQ0FBQztJQUNQRyxPQUFPLEVBQUUsSUFBSTtJQUNiZ0IsT0FBTyxFQUFFLDJCQUEyQjtJQUNwQ0ksSUFBSSxFQUFFUixNQUFNO0lBQ1ozQixTQUFTLEVBQUVILEdBQUcsQ0FBQ0c7RUFDakIsQ0FBQyxDQUFDO0FBQ0osQ0FBQyxDQUFDLENBQUM7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQVIsTUFBTSxDQUFDZ0IsR0FBRyxDQUFDLHNDQUFzQyxFQUFFTixnQkFBZ0IsQ0FBQyxPQUFPTCxHQUFHLEVBQUVDLEdBQUcsS0FBSztFQUN0RixNQUFNO0lBQUVrQztFQUFZLENBQUMsR0FBR25DLEdBQUcsQ0FBQ3lDLE1BQU07RUFDbEMsTUFBTWlCLE1BQU0sR0FBR2hDLFFBQVEsQ0FBQzFCLEdBQUcsQ0FBQ3dCLEtBQUssQ0FBQ2tDLE1BQU0sSUFBSSxFQUFFLENBQUM7RUFFL0MsTUFBTTVCLE1BQU0sR0FBRyxNQUFNaEMsV0FBVyxDQUFDNkQsY0FBYyxDQUFDeEIsV0FBVyxFQUFFdUIsTUFBTSxDQUFDO0VBRXBFekQsR0FBRyxDQUFDYyxJQUFJLENBQUM7SUFDUEcsT0FBTyxFQUFFLElBQUk7SUFDYm9CLElBQUksRUFBRVIsTUFBTTtJQUNaM0IsU0FBUyxFQUFFSCxHQUFHLENBQUNHO0VBQ2pCLENBQUMsQ0FBQztBQUNKLENBQUMsQ0FBQyxDQUFDOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0FSLE1BQU0sQ0FBQ2tDLElBQUksQ0FBQyx5QkFBeUIsRUFBRXhCLGdCQUFnQixDQUFDLE9BQU9MLEdBQUcsRUFBRUMsR0FBRyxLQUFLO0VBQzFFLE1BQU07SUFBRWtDLFdBQVc7SUFBRXlCO0VBQVEsQ0FBQyxHQUFHNUQsR0FBRyxDQUFDZ0MsSUFBSTtFQUV6QyxJQUFJLENBQUNHLFdBQVcsSUFBSSxDQUFDeUIsT0FBTyxFQUFFO0lBQzVCLE9BQU8zRCxHQUFHLENBQUNhLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO01BQzFCRyxPQUFPLEVBQUUsS0FBSztNQUNka0IsS0FBSyxFQUFFO0lBQ1QsQ0FBQyxDQUFDO0VBQ0o7RUFFQSxNQUFNTixNQUFNLEdBQUcsTUFBTWhDLFdBQVcsQ0FBQytELHVCQUF1QixDQUFDMUIsV0FBVyxFQUFFeUIsT0FBTyxDQUFDO0VBRTlFM0QsR0FBRyxDQUFDYyxJQUFJLENBQUM7SUFDUEcsT0FBTyxFQUFFLElBQUk7SUFDYm9CLElBQUksRUFBRVIsTUFBTTtJQUNaM0IsU0FBUyxFQUFFSCxHQUFHLENBQUNHO0VBQ2pCLENBQUMsQ0FBQztBQUNKLENBQUMsQ0FBQyxDQUFDOztBQUVIO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBUixNQUFNLENBQUNrQyxJQUFJLENBQUMsYUFBYSxFQUFFeEIsZ0JBQWdCLENBQUMsT0FBT0wsR0FBRyxFQUFFQyxHQUFHLEtBQUs7RUFDOUQsTUFBTTZELFdBQVcsR0FBRzlELEdBQUcsQ0FBQ2dDLElBQUk7RUFFNUIsSUFBSSxDQUFDOEIsV0FBVyxDQUFDQyxNQUFNLElBQUksQ0FBQ0QsV0FBVyxDQUFDRSxTQUFTLEVBQUU7SUFDakQsT0FBTy9ELEdBQUcsQ0FBQ2EsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUM7TUFDMUJHLE9BQU8sRUFBRSxLQUFLO01BQ2RrQixLQUFLLEVBQUU7SUFDVCxDQUFDLENBQUM7RUFDSjtFQUVBLE1BQU1OLE1BQU0sR0FBRyxNQUFNaEMsV0FBVyxDQUFDbUUsa0JBQWtCLENBQUNILFdBQVcsQ0FBQztFQUVoRTdELEdBQUcsQ0FBQ2EsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUM7SUFDbkJHLE9BQU8sRUFBRSxJQUFJO0lBQ2JnQixPQUFPLEVBQUUsdUNBQXVDO0lBQ2hESSxJQUFJLEVBQUVSLE1BQU07SUFDWjNCLFNBQVMsRUFBRUgsR0FBRyxDQUFDRztFQUNqQixDQUFDLENBQUM7QUFDSixDQUFDLENBQUMsQ0FBQzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBUixNQUFNLENBQUNnQixHQUFHLENBQUMsMkJBQTJCLEVBQUVOLGdCQUFnQixDQUFDLE9BQU9MLEdBQUcsRUFBRUMsR0FBRyxLQUFLO0VBQzNFLE1BQU07SUFBRWlFO0VBQWEsQ0FBQyxHQUFHbEUsR0FBRyxDQUFDeUMsTUFBTTtFQUVuQyxNQUFNWCxNQUFNLEdBQUcsTUFBTWhDLFdBQVcsQ0FBQ3FFLFlBQVksQ0FBQ0QsWUFBWSxDQUFDO0VBRTNEakUsR0FBRyxDQUFDYyxJQUFJLENBQUM7SUFDUEcsT0FBTyxFQUFFLElBQUk7SUFDYm9CLElBQUksRUFBRVIsTUFBTTtJQUNaM0IsU0FBUyxFQUFFSCxHQUFHLENBQUNHO0VBQ2pCLENBQUMsQ0FBQztBQUNKLENBQUMsQ0FBQyxDQUFDOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0FSLE1BQU0sQ0FBQ2dCLEdBQUcsQ0FBQyx3QkFBd0IsRUFBRU4sZ0JBQWdCLENBQUMsT0FBT0wsR0FBRyxFQUFFQyxHQUFHLEtBQUs7RUFDeEUsTUFBTTtJQUFFOEQ7RUFBTyxDQUFDLEdBQUcvRCxHQUFHLENBQUN3QixLQUFLO0VBRTVCLElBQUksQ0FBQ3VDLE1BQU0sRUFBRTtJQUNYLE9BQU85RCxHQUFHLENBQUNhLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO01BQzFCRyxPQUFPLEVBQUUsS0FBSztNQUNka0IsS0FBSyxFQUFFO0lBQ1QsQ0FBQyxDQUFDO0VBQ0o7RUFFQSxNQUFNTixNQUFNLEdBQUcsTUFBTWhDLFdBQVcsQ0FBQ3NFLHNCQUFzQixDQUFDTCxNQUFNLENBQUM7RUFFL0Q5RCxHQUFHLENBQUNjLElBQUksQ0FBQztJQUNQRyxPQUFPLEVBQUUsSUFBSTtJQUNib0IsSUFBSSxFQUFFUixNQUFNO0lBQ1ozQixTQUFTLEVBQUVILEdBQUcsQ0FBQ0c7RUFDakIsQ0FBQyxDQUFDO0FBQ0osQ0FBQyxDQUFDLENBQUM7O0FBRUg7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0FSLE1BQU0sQ0FBQ2dCLEdBQUcsQ0FBQyxpQkFBaUIsRUFBRU4sZ0JBQWdCLENBQUMsT0FBT0wsR0FBRyxFQUFFQyxHQUFHLEtBQUs7RUFDakUsTUFBTTZCLE1BQU0sR0FBRyxNQUFNaEMsV0FBVyxDQUFDdUUsZ0JBQWdCLENBQUMsQ0FBQztFQUVuRHBFLEdBQUcsQ0FBQ2MsSUFBSSxDQUFDO0lBQ1BHLE9BQU8sRUFBRSxJQUFJO0lBQ2JvQixJQUFJLEVBQUVSLE1BQU07SUFDWjNCLFNBQVMsRUFBRUgsR0FBRyxDQUFDRztFQUNqQixDQUFDLENBQUM7QUFDSixDQUFDLENBQUMsQ0FBQzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBUixNQUFNLENBQUNnQixHQUFHLENBQUMscUJBQXFCLEVBQUVOLGdCQUFnQixDQUFDLE9BQU9MLEdBQUcsRUFBRUMsR0FBRyxLQUFLO0VBQ3JFLE1BQU02QixNQUFNLEdBQUcsTUFBTWhDLFdBQVcsQ0FBQ3dFLG9CQUFvQixDQUFDLENBQUM7RUFFdkRyRSxHQUFHLENBQUNjLElBQUksQ0FBQztJQUNQRyxPQUFPLEVBQUUsSUFBSTtJQUNib0IsSUFBSSxFQUFFUixNQUFNO0lBQ1ozQixTQUFTLEVBQUVILEdBQUcsQ0FBQ0c7RUFDakIsQ0FBQyxDQUFDO0FBQ0osQ0FBQyxDQUFDLENBQUM7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0FSLE1BQU0sQ0FBQ2tDLElBQUksQ0FBQywyQkFBMkIsRUFBRXhCLGdCQUFnQixDQUFDLE9BQU9MLEdBQUcsRUFBRUMsR0FBRyxLQUFLO0VBQzVFLE1BQU07SUFBRXNFO0VBQVUsQ0FBQyxHQUFHdkUsR0FBRyxDQUFDZ0MsSUFBSTtFQUU5QixJQUFJLENBQUN1QyxTQUFTLElBQUksQ0FBQ0MsS0FBSyxDQUFDQyxPQUFPLENBQUNGLFNBQVMsQ0FBQyxFQUFFO0lBQzNDLE9BQU90RSxHQUFHLENBQUNhLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO01BQzFCRyxPQUFPLEVBQUUsS0FBSztNQUNka0IsS0FBSyxFQUFFO0lBQ1QsQ0FBQyxDQUFDO0VBQ0o7RUFFQSxNQUFNTixNQUFNLEdBQUcsTUFBTWhDLFdBQVcsQ0FBQzRFLHNCQUFzQixDQUFDSCxTQUFTLENBQUM7RUFFbEV0RSxHQUFHLENBQUNjLElBQUksQ0FBQztJQUNQRyxPQUFPLEVBQUUsSUFBSTtJQUNib0IsSUFBSSxFQUFFUixNQUFNO0lBQ1ozQixTQUFTLEVBQUVILEdBQUcsQ0FBQ0c7RUFDakIsQ0FBQyxDQUFDO0FBQ0osQ0FBQyxDQUFDLENBQUM7O0FBRUg7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBUixNQUFNLENBQUNrQyxJQUFJLENBQUMsMkJBQTJCLEVBQUV4QixnQkFBZ0IsQ0FBQyxPQUFPTCxHQUFHLEVBQUVDLEdBQUcsS0FBSztFQUM1RSxNQUFNO0lBQUUwRTtFQUFVLENBQUMsR0FBRzNFLEdBQUcsQ0FBQ2dDLElBQUk7RUFFOUIsSUFBSSxDQUFDMkMsU0FBUyxJQUFJLENBQUNILEtBQUssQ0FBQ0MsT0FBTyxDQUFDRSxTQUFTLENBQUMsRUFBRTtJQUMzQyxPQUFPMUUsR0FBRyxDQUFDYSxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQztNQUMxQkcsT0FBTyxFQUFFLEtBQUs7TUFDZGtCLEtBQUssRUFBRTtJQUNULENBQUMsQ0FBQztFQUNKO0VBRUEsTUFBTU4sTUFBTSxHQUFHLE1BQU1oQyxXQUFXLENBQUM4RSxzQkFBc0IsQ0FBQ0QsU0FBUyxDQUFDO0VBRWxFMUUsR0FBRyxDQUFDYSxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQztJQUNuQkcsT0FBTyxFQUFFLElBQUk7SUFDYmdCLE9BQU8sRUFBRSx1Q0FBdUM7SUFDaERJLElBQUksRUFBRVIsTUFBTTtJQUNaM0IsU0FBUyxFQUFFSCxHQUFHLENBQUNHO0VBQ2pCLENBQUMsQ0FBQztBQUNKLENBQUMsQ0FBQyxDQUFDOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQVIsTUFBTSxDQUFDa0MsSUFBSSxDQUFDLHFCQUFxQixFQUFFeEIsZ0JBQWdCLENBQUMsT0FBT0wsR0FBRyxFQUFFQyxHQUFHLEtBQUs7RUFDdEUsTUFBTTtJQUFFa0Q7RUFBUSxDQUFDLEdBQUduRCxHQUFHLENBQUNnQyxJQUFJO0VBRTVCLElBQUksQ0FBQ21CLE9BQU8sSUFBSSxDQUFDcUIsS0FBSyxDQUFDQyxPQUFPLENBQUN0QixPQUFPLENBQUMsRUFBRTtJQUN2QyxPQUFPbEQsR0FBRyxDQUFDYSxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQztNQUMxQkcsT0FBTyxFQUFFLEtBQUs7TUFDZGtCLEtBQUssRUFBRTtJQUNULENBQUMsQ0FBQztFQUNKO0VBRUEsTUFBTU4sTUFBTSxHQUFHLE1BQU1oQyxXQUFXLENBQUMrRSxnQkFBZ0IsQ0FBQzFCLE9BQU8sQ0FBQztFQUUxRGxELEdBQUcsQ0FBQ2EsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUM7SUFDbkJHLE9BQU8sRUFBRSxJQUFJO0lBQ2JnQixPQUFPLEVBQUUsNkJBQTZCO0lBQ3RDSSxJQUFJLEVBQUVSLE1BQU07SUFDWjNCLFNBQVMsRUFBRUgsR0FBRyxDQUFDRztFQUNqQixDQUFDLENBQUM7QUFDSixDQUFDLENBQUMsQ0FBQzs7QUFFSDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0FSLE1BQU0sQ0FBQ2UsR0FBRyxDQUFDLENBQUMwQixLQUFLLEVBQUVwQyxHQUFHLEVBQUVDLEdBQUcsRUFBRUMsSUFBSSxLQUFLO0VBQ3BDNEUsT0FBTyxDQUFDMUMsS0FBSyxDQUFDLHFCQUFxQixFQUFFQSxLQUFLLENBQUM7RUFFM0MsTUFBTTJDLFVBQVUsR0FBRzNDLEtBQUssQ0FBQzJDLFVBQVUsSUFBSSxHQUFHO0VBQzFDLE1BQU1DLFFBQVEsR0FBRztJQUNmOUQsT0FBTyxFQUFFLEtBQUs7SUFDZGtCLEtBQUssRUFBRUEsS0FBSyxDQUFDRixPQUFPLElBQUksdUJBQXVCO0lBQy9DL0IsU0FBUyxFQUFFSCxHQUFHLENBQUNHO0VBQ2pCLENBQUM7RUFFRCxJQUFJOEUsT0FBTyxDQUFDQyxHQUFHLENBQUNDLFFBQVEsS0FBSyxhQUFhLEVBQUU7SUFDMUNILFFBQVEsQ0FBQ0ksT0FBTyxHQUFHaEQsS0FBSyxDQUFDRSxJQUFJLElBQUksQ0FBQyxDQUFDO0lBQ25DMEMsUUFBUSxDQUFDSyxLQUFLLEdBQUdqRCxLQUFLLENBQUNpRCxLQUFLO0VBQzlCO0VBRUFwRixHQUFHLENBQUNhLE1BQU0sQ0FBQ2lFLFVBQVUsQ0FBQyxDQUFDaEUsSUFBSSxDQUFDaUUsUUFBUSxDQUFDO0FBQ3ZDLENBQUMsQ0FBQztBQUVGTSxNQUFNLENBQUNDLE9BQU8sR0FBRzVGLE1BQU0iLCJpZ25vcmVMaXN0IjpbXX0=