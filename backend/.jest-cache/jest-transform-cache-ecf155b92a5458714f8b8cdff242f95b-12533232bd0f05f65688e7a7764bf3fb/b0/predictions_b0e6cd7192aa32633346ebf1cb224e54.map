{"version":3,"names":["express","require","router","Router","AIService","ApiResponse","ApiError","post","req","res","next","prediction","predictSales","body","historicalData","json","err","message","predictPerformance","metrics","predictAttendance","dayData","predictChurn","userData","predictInventory","itemData","module","exports"],"sources":["predictions.js"],"sourcesContent":["const express = require('express');\r\nconst router = express.Router();\r\nconst AIService = require('../services/aiService');\r\nconst { ApiResponse, ApiError } = require('../utils/apiResponse');\r\n\r\n// Sales Prediction\r\nrouter.post('/sales', async (req, res, next) => {\r\n  try {\r\n    const prediction = await AIService.predictSales(req.body.historicalData);\r\n    return res.json(new ApiResponse(200, prediction, 'Sales prediction generated'));\r\n  } catch (err) {\r\n    return next(new ApiError(400, 'Failed to generate sales prediction', [err.message]));\r\n  }\r\n});\r\n\r\n// Performance Prediction\r\nrouter.post('/performance', async (req, res, next) => {\r\n  try {\r\n    const prediction = await AIService.predictPerformance(req.body.metrics);\r\n    return res.json(new ApiResponse(200, prediction, 'Performance prediction generated'));\r\n  } catch (err) {\r\n    return next(new ApiError(400, 'Failed to generate performance prediction', [err.message]));\r\n  }\r\n});\r\n\r\n// Attendance Prediction\r\nrouter.post('/attendance', async (req, res, next) => {\r\n  try {\r\n    const prediction = await AIService.predictAttendance(req.body.dayData);\r\n    return res.json(new ApiResponse(200, prediction, 'Attendance prediction generated'));\r\n  } catch (err) {\r\n    return next(new ApiError(400, 'Failed to generate attendance prediction', [err.message]));\r\n  }\r\n});\r\n\r\n// Churn Prediction\r\nrouter.post('/churn', async (req, res, next) => {\r\n  try {\r\n    const prediction = await AIService.predictChurn(req.body.userData);\r\n    return res.json(new ApiResponse(200, prediction, 'Churn prediction generated'));\r\n  } catch (err) {\r\n    return next(new ApiError(400, 'Failed to generate churn prediction', [err.message]));\r\n  }\r\n});\r\n\r\n// Inventory Prediction\r\nrouter.post('/inventory', async (req, res, next) => {\r\n  try {\r\n    const prediction = await AIService.predictInventory(req.body.itemData);\r\n    return res.json(new ApiResponse(200, prediction, 'Inventory prediction generated'));\r\n  } catch (err) {\r\n    return next(new ApiError(400, 'Failed to generate inventory prediction', [err.message]));\r\n  }\r\n});\r\n\r\nmodule.exports = router;\r\n"],"mappings":"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","ignoreList":[]}