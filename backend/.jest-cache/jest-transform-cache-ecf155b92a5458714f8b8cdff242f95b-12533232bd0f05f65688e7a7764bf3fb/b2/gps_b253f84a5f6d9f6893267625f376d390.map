{"version":3,"names":["express","require","GPSTrackingController","router","Router","post","recordLocation","get","getCurrentLocation","getRouteMap","getLocationHistory","getBehaviorReport","findNearbyDrivers","getFleetStatistics","getActiveAlerts","acknowledgeAlert","exportTrackingData","module","exports"],"sources":["gps.js"],"sourcesContent":["/**\r\n * GPS Tracking Routes\r\n * مسارات تتبع GPS المتقدمة\r\n * Phase 30 - Real-time GPS Tracking\r\n */\r\n\r\nconst express = require('express');\r\nconst GPSTrackingController = require('../controllers/gpsTracking.controller');\r\n\r\nconst router = express.Router();\r\n\r\n/**\r\n * ===== Location Recording =====\r\n */\r\n\r\n/**\r\n * تسجيل موقع جديد في الوقت الفعلي\r\n * POST /api/gps/location\r\n */\r\nrouter.post('/location', GPSTrackingController.recordLocation);\r\n\r\n/**\r\n * ===== Current Location =====\r\n */\r\n\r\n/**\r\n * الحصول على الموقع الحالي للسائق\r\n * GET /api/gps/location/:driverId\r\n */\r\nrouter.get('/location/:driverId', GPSTrackingController.getCurrentLocation);\r\n\r\n/**\r\n * ===== Route & History =====\r\n */\r\n\r\n/**\r\n * الحصول على خريطة المسار\r\n * GET /api/gps/route/:driverId?startTime=2024-01-01&endTime=2024-01-02\r\n */\r\nrouter.get('/route/:driverId', GPSTrackingController.getRouteMap);\r\n\r\n/**\r\n * الحصول على سجل الموقع الكامل\r\n * GET /api/gps/history/:driverId?startTime=...&endTime=...&limit=100\r\n */\r\nrouter.get('/history/:driverId', GPSTrackingController.getLocationHistory);\r\n\r\n/**\r\n * ===== Behavior Analysis =====\r\n */\r\n\r\n/**\r\n * الحصول على تقرير السلوك والقيادة\r\n * GET /api/gps/behavior/:driverId?startTime=...&endTime=...\r\n */\r\nrouter.get('/behavior/:driverId', GPSTrackingController.getBehaviorReport);\r\n\r\n/**\r\n * ===== Fleet Operations =====\r\n */\r\n\r\n/**\r\n * البحث عن السائقين بالقرب من موقع معين\r\n * GET /api/gps/nearby?longitude=...&latitude=...&distance=1000\r\n */\r\nrouter.get('/nearby', GPSTrackingController.findNearbyDrivers);\r\n\r\n/**\r\n * الحصول على إحصائيات الأسطول\r\n * GET /api/gps/fleet-stats?timeRange=today&driverId=...\r\n */\r\nrouter.get('/fleet-stats', GPSTrackingController.getFleetStatistics);\r\n\r\n/**\r\n * ===== Alerts & Notifications =====\r\n */\r\n\r\n/**\r\n * الحصول على التنبيهات النشطة للسائق\r\n * GET /api/gps/active-alerts/:driverId?limit=10\r\n */\r\nrouter.get('/active-alerts/:driverId', GPSTrackingController.getActiveAlerts);\r\n\r\n/**\r\n * تأكيد/الاعتراف بتنبيه\r\n * POST /api/gps/acknowledge-alert/:locationId/:alertIndex\r\n */\r\nrouter.post('/acknowledge-alert/:locationId/:alertIndex', GPSTrackingController.acknowledgeAlert);\r\n\r\n/**\r\n * ===== Data Export =====\r\n */\r\n\r\n/**\r\n * تصدير بيانات التتبع (CSV/PDF)\r\n * GET /api/gps/export/:driverId?format=csv&startTime=...&endTime=...\r\n */\r\nrouter.get('/export/:driverId', GPSTrackingController.exportTrackingData);\r\n\r\nmodule.exports = router;\r\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;;AAEA,MAAMA,OAAO,GAAGC,OAAO,CAAC,SAAS,CAAC;AAClC,MAAMC,qBAAqB,GAAGD,OAAO,CAAC,uCAAuC,CAAC;AAE9E,MAAME,MAAM,GAAGH,OAAO,CAACI,MAAM,CAAC,CAAC;;AAE/B;AACA;AACA;;AAEA;AACA;AACA;AACA;AACAD,MAAM,CAACE,IAAI,CAAC,WAAW,EAAEH,qBAAqB,CAACI,cAAc,CAAC;;AAE9D;AACA;AACA;;AAEA;AACA;AACA;AACA;AACAH,MAAM,CAACI,GAAG,CAAC,qBAAqB,EAAEL,qBAAqB,CAACM,kBAAkB,CAAC;;AAE3E;AACA;AACA;;AAEA;AACA;AACA;AACA;AACAL,MAAM,CAACI,GAAG,CAAC,kBAAkB,EAAEL,qBAAqB,CAACO,WAAW,CAAC;;AAEjE;AACA;AACA;AACA;AACAN,MAAM,CAACI,GAAG,CAAC,oBAAoB,EAAEL,qBAAqB,CAACQ,kBAAkB,CAAC;;AAE1E;AACA;AACA;;AAEA;AACA;AACA;AACA;AACAP,MAAM,CAACI,GAAG,CAAC,qBAAqB,EAAEL,qBAAqB,CAACS,iBAAiB,CAAC;;AAE1E;AACA;AACA;;AAEA;AACA;AACA;AACA;AACAR,MAAM,CAACI,GAAG,CAAC,SAAS,EAAEL,qBAAqB,CAACU,iBAAiB,CAAC;;AAE9D;AACA;AACA;AACA;AACAT,MAAM,CAACI,GAAG,CAAC,cAAc,EAAEL,qBAAqB,CAACW,kBAAkB,CAAC;;AAEpE;AACA;AACA;;AAEA;AACA;AACA;AACA;AACAV,MAAM,CAACI,GAAG,CAAC,0BAA0B,EAAEL,qBAAqB,CAACY,eAAe,CAAC;;AAE7E;AACA;AACA;AACA;AACAX,MAAM,CAACE,IAAI,CAAC,4CAA4C,EAAEH,qBAAqB,CAACa,gBAAgB,CAAC;;AAEjG;AACA;AACA;;AAEA;AACA;AACA;AACA;AACAZ,MAAM,CAACI,GAAG,CAAC,mBAAmB,EAAEL,qBAAqB,CAACc,kBAAkB,CAAC;AAEzEC,MAAM,CAACC,OAAO,GAAGf,MAAM","ignoreList":[]}