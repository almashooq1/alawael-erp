22c36fe77845cc55f91eebae96b2c210
/**
 * Tenant Controller
 * متحكم الالتزام
 * 
 * REST endpoints for tenant management
 * نقاط نهاية الويب لإدارة الالتزام
 */

const {
  Router
} = require('express');
const Logger = require('../utils/logger');
const tenantService = require('../services/tenant.service');
const tenantIsolation = require('../services/tenantIsolation.service');
const router = Router();

// ==================== TENANT CRUD ====================

/**
 * Create new tenant
 * إنشاء التزام جديد
 * 
 * POST /api/tenants
 * Body: { name, email, planType, slug, subdomain }
 */
router.post('/', async (req, res) => {
  try {
    const {
      name,
      email,
      planType = 'starter',
      slug,
      subdomain
    } = req.body;

    // Validation
    if (!name || !email) {
      return res.status(400).json({
        success: false,
        message: 'نام وبريد إلكتروني مطلوبان | Name and email required'
      });
    }

    // Create tenant
    const tenant = tenantService.createTenant({
      name,
      email,
      planType,
      slug: slug || name.toLowerCase().replace(/\s+/g, '-'),
      subdomain: subdomain || slug || name.toLowerCase().replace(/\s+/g, '-'),
      createdBy: req.user?.id,
      metadata: {
        timezone: req.body.timezone || 'UTC',
        language: req.body.language || 'ar'
      }
    });

    // Initialize isolation container
    tenantIsolation.initializeTenantContainer(tenant.id);
    res.status(201).json({
      success: true,
      message: 'تم إنشاء الالتزام بنجاح | Tenant created successfully',
      data: tenant
    });
  } catch (error) {
    Logger.error(`Error creating tenant: ${error.message}`);
    res.status(500).json({
      success: false,
      message: 'فشل في إنشاء الالتزام | Failed to create tenant',
      error: error.message
    });
  }
});

/**
 * Get all tenants
 * الحصول على جميع الالتزامات
 * 
 * GET /api/tenants
 * Query: { status, planType, search, limit, offset }
 */
router.get('/', async (req, res) => {
  try {
    const {
      status,
      planType,
      search,
      limit = 20,
      offset = 0
    } = req.query;
    const filters = {};
    if (status) filters.status = status;
    if (planType) filters.planType = planType;
    if (search) filters.search = search;
    const tenants = tenantService.getAllTenants(filters);
    const paginated = tenants.slice(offset, offset + parseInt(limit));
    res.json({
      success: true,
      data: paginated,
      pagination: {
        total: tenants.length,
        limit: parseInt(limit),
        offset: parseInt(offset),
        hasMore: offset + parseInt(limit) < tenants.length
      }
    });
  } catch (error) {
    Logger.error(`Error fetching tenants: ${error.message}`);
    res.status(500).json({
      success: false,
      message: 'فشل في جلب الالتزامات | Failed to fetch tenants',
      error: error.message
    });
  }
});

/**
 * Get single tenant
 * الحصول على التزام واحد
 * 
 * GET /api/tenants/:tenantId
 */
router.get('/:tenantId', async (req, res) => {
  try {
    const tenant = tenantService.getTenant(req.params.tenantId);
    if (!tenant) {
      return res.status(404).json({
        success: false,
        message: 'الالتزام غير موجود | Tenant not found'
      });
    }
    res.json({
      success: true,
      data: tenant
    });
  } catch (error) {
    Logger.error(`Error fetching tenant: ${error.message}`);
    res.status(500).json({
      success: false,
      message: 'فشل في جلب الالتزام | Failed to fetch tenant',
      error: error.message
    });
  }
});

/**
 * Update tenant
 * تحديث الالتزام
 * 
 * PUT /api/tenants/:tenantId
 * Body: { name, email, subdomain, metadata }
 */
router.put('/:tenantId', async (req, res) => {
  try {
    const updated = tenantService.updateTenant(req.params.tenantId, req.body);
    if (!updated) {
      return res.status(404).json({
        success: false,
        message: 'الالتزام غير موجود | Tenant not found'
      });
    }
    res.json({
      success: true,
      message: 'تم تحديث الالتزام بنجاح | Tenant updated successfully',
      data: updated
    });
  } catch (error) {
    Logger.error(`Error updating tenant: ${error.message}`);
    res.status(500).json({
      success: false,
      message: 'فشل في تحديث الالتزام | Failed to update tenant',
      error: error.message
    });
  }
});

/**
 * Delete tenant
 * حذف الالتزام
 * 
 * DELETE /api/tenants/:tenantId
 */
router.delete('/:tenantId', async (req, res) => {
  try {
    const deleted = tenantService.deleteTenant(req.params.tenantId);
    if (!deleted) {
      return res.status(404).json({
        success: false,
        message: 'الالتزام غير موجود | Tenant not found'
      });
    }

    // Cleanup isolation data
    tenantIsolation.cleanupTenantData(req.params.tenantId);
    res.json({
      success: true,
      message: 'تم حذف الالتزام بنجاح | Tenant deleted successfully'
    });
  } catch (error) {
    Logger.error(`Error deleting tenant: ${error.message}`);
    res.status(500).json({
      success: false,
      message: 'فشل في حذف الالتزام | Failed to delete tenant',
      error: error.message
    });
  }
});

// ==================== TENANT SUSPENSION ====================

/**
 * Suspend tenant
 * إيقاف الالتزام
 * 
 * POST /api/tenants/:tenantId/suspend
 * Body: { reason }
 */
router.post('/:tenantId/suspend', async (req, res) => {
  try {
    const suspended = tenantService.suspendTenant(req.params.tenantId, req.body.reason || 'No reason provided');
    if (!suspended) {
      return res.status(404).json({
        success: false,
        message: 'الالتزام غير موجود | Tenant not found'
      });
    }
    res.json({
      success: true,
      message: 'تم إيقاف الالتزام بنجاح | Tenant suspended successfully',
      data: suspended
    });
  } catch (error) {
    Logger.error(`Error suspending tenant: ${error.message}`);
    res.status(500).json({
      success: false,
      message: 'فشل في إيقاف الالتزام | Failed to suspend tenant',
      error: error.message
    });
  }
});

/**
 * Reactivate tenant
 * إعادة تنشيط الالتزام
 * 
 * POST /api/tenants/:tenantId/reactivate
 */
router.post('/:tenantId/reactivate', async (req, res) => {
  try {
    const reactivated = tenantService.reactivateTenant(req.params.tenantId);
    if (!reactivated) {
      return res.status(404).json({
        success: false,
        message: 'الالتزام غير موجود | Tenant not found'
      });
    }
    res.json({
      success: true,
      message: 'تم إعادة تنشيط الالتزام بنجاح | Tenant reactivated successfully',
      data: reactivated
    });
  } catch (error) {
    Logger.error(`Error reactivating tenant: ${error.message}`);
    res.status(500).json({
      success: false,
      message: 'فشل في إعادة تنشيط الالتزام | Failed to reactivate tenant',
      error: error.message
    });
  }
});

// ==================== TENANT USERS ====================

/**
 * Add user to tenant
 * إضافة مستخدم إلى الالتزام
 * 
 * POST /api/tenants/:tenantId/users
 * Body: { userId, role }
 */
router.post('/:tenantId/users', async (req, res) => {
  try {
    const {
      userId,
      role = 'member'
    } = req.body;
    if (!userId) {
      return res.status(400).json({
        success: false,
        message: 'معرف المستخدم مطلوب | User ID required'
      });
    }
    const added = tenantService.addUserToTenant(req.params.tenantId, userId, role);
    if (!added) {
      return res.status(400).json({
        success: false,
        message: 'فشل في إضافة المستخدم | Failed to add user'
      });
    }
    res.status(201).json({
      success: true,
      message: 'تم إضافة المستخدم بنجاح | User added successfully',
      data: {
        tenantId: req.params.tenantId,
        userId,
        role
      }
    });
  } catch (error) {
    Logger.error(`Error adding user: ${error.message}`);
    res.status(500).json({
      success: false,
      message: 'فشل في إضافة المستخدم | Failed to add user',
      error: error.message
    });
  }
});

/**
 * Get tenant users
 * الحصول على مستخدمي الالتزام
 * 
 * GET /api/tenants/:tenantId/users
 */
router.get('/:tenantId/users', async (req, res) => {
  try {
    const users = tenantService.getTenantUsers(req.params.tenantId);
    if (!users) {
      return res.status(404).json({
        success: false,
        message: 'الالتزام غير موجود | Tenant not found'
      });
    }
    res.json({
      success: true,
      data: users,
      count: users.length
    });
  } catch (error) {
    Logger.error(`Error fetching tenant users: ${error.message}`);
    res.status(500).json({
      success: false,
      message: 'فشل في جلب مستخدمي الالتزام | Failed to fetch users',
      error: error.message
    });
  }
});

/**
 * Remove user from tenant
 * إزالة مستخدم من الالتزام
 * 
 * DELETE /api/tenants/:tenantId/users/:userId
 */
router.delete('/:tenantId/users/:userId', async (req, res) => {
  try {
    const removed = tenantService.removeUserFromTenant(req.params.tenantId, req.params.userId);
    if (!removed) {
      return res.status(404).json({
        success: false,
        message: 'المستخدم أو الالتزام غير موجود | User or tenant not found'
      });
    }
    res.json({
      success: true,
      message: 'تم إزالة المستخدم بنجاح | User removed successfully'
    });
  } catch (error) {
    Logger.error(`Error removing user: ${error.message}`);
    res.status(500).json({
      success: false,
      message: 'فشل في إزالة المستخدم | Failed to remove user',
      error: error.message
    });
  }
});

// ==================== TENANT SETTINGS ====================

/**
 * Get tenant settings
 * الحصول على إعدادات الالتزام
 * 
 * GET /api/tenants/:tenantId/settings
 */
router.get('/:tenantId/settings', async (req, res) => {
  try {
    const settings = tenantService.getTenantSettings(req.params.tenantId);
    if (!settings) {
      return res.status(404).json({
        success: false,
        message: 'الالتزام غير موجود | Tenant not found'
      });
    }
    res.json({
      success: true,
      data: settings
    });
  } catch (error) {
    Logger.error(`Error fetching settings: ${error.message}`);
    res.status(500).json({
      success: false,
      message: 'فشل في جلب الإعدادات | Failed to fetch settings',
      error: error.message
    });
  }
});

/**
 * Update tenant settings
 * تحديث إعدادات الالتزام
 * 
 * PUT /api/tenants/:tenantId/settings
 * Body: { setting changes }
 */
router.put('/:tenantId/settings', async (req, res) => {
  try {
    const updated = tenantService.updateTenantSettings(req.params.tenantId, req.body);
    if (!updated) {
      return res.status(404).json({
        success: false,
        message: 'الالتزام غير موجود | Tenant not found'
      });
    }
    res.json({
      success: true,
      message: 'تم تحديث الإعدادات بنجاح | Settings updated successfully',
      data: updated
    });
  } catch (error) {
    Logger.error(`Error updating settings: ${error.message}`);
    res.status(500).json({
      success: false,
      message: 'فشل في تحديث الإعدادات | Failed to update settings',
      error: error.message
    });
  }
});

// ==================== TENANT QUOTAS ====================

/**
 * Get tenant quota
 * الحصول على حصة الالتزام
 * 
 * GET /api/tenants/:tenantId/quota
 */
router.get('/:tenantId/quota', async (req, res) => {
  try {
    const quota = tenantService.getTenantQuota(req.params.tenantId);
    if (!quota) {
      return res.status(404).json({
        success: false,
        message: 'الالتزام غير موجود | Tenant not found'
      });
    }
    res.json({
      success: true,
      data: quota
    });
  } catch (error) {
    Logger.error(`Error fetching quota: ${error.message}`);
    res.status(500).json({
      success: false,
      message: 'فشل في جلب الحصة | Failed to fetch quota',
      error: error.message
    });
  }
});

/**
 * Record API call
 * تسجيل استدعاء API
 * 
 * POST /api/tenants/:tenantId/api-calls
 */
router.post('/:tenantId/api-calls', async (req, res) => {
  try {
    const tenant = tenantService.getTenant(req.params.tenantId);
    if (!tenant) {
      return res.status(404).json({
        success: false,
        message: 'الالتزام غير موجود | Tenant not found'
      });
    }
    tenantService.recordApiCall(req.params.tenantId);
    res.json({
      success: true,
      message: 'تم تسجيل استدعاء API | API call recorded'
    });
  } catch (error) {
    Logger.error(`Error recording API call: ${error.message}`);
    res.status(500).json({
      success: false,
      message: 'فشل في تسجيل استدعاء API | Failed to record API call',
      error: error.message
    });
  }
});

/**
 * Record storage usage
 * تسجيل استخدام التخزين
 * 
 * POST /api/tenants/:tenantId/storage
 * Body: { sizeGB }
 */
router.post('/:tenantId/storage', async (req, res) => {
  try {
    const {
      sizeGB
    } = req.body;
    if (sizeGB === undefined) {
      return res.status(400).json({
        success: false,
        message: 'حجم التخزين مطلوب | Storage size required'
      });
    }
    tenantService.recordStorageUsage(req.params.tenantId, sizeGB);
    res.json({
      success: true,
      message: 'تم تسجيل استخدام التخزين | Storage usage recorded',
      data: {
        sizeGB
      }
    });
  } catch (error) {
    Logger.error(`Error recording storage: ${error.message}`);
    res.status(500).json({
      success: false,
      message: 'فشل في تسجيل التخزين | Failed to record storage',
      error: error.message
    });
  }
});

// ==================== TENANT PLANS ====================

/**
 * Upgrade tenant plan
 * ترقية خطة الالتزام
 * 
 * POST /api/tenants/:tenantId/upgrade
 * Body: { newPlan }
 */
router.post('/:tenantId/upgrade', async (req, res) => {
  try {
    const {
      newPlan
    } = req.body;
    if (!newPlan) {
      return res.status(400).json({
        success: false,
        message: 'الخطة الجديدة مطلوبة | New plan required'
      });
    }
    const tenant = tenantService.getTenant(req.params.tenantId);
    if (!tenant) {
      return res.status(404).json({
        success: false,
        message: 'الالتزام غير موجود | Tenant not found'
      });
    }
    const updated = tenantService.updateTenant(req.params.tenantId, {
      planType: newPlan,
      upgradedAt: new Date()
    });
    res.json({
      success: true,
      message: `تم ترقية الخطة إلى ${newPlan} بنجاح | Plan upgraded to ${newPlan}`,
      data: updated
    });
  } catch (error) {
    Logger.error(`Error upgrading plan: ${error.message}`);
    res.status(500).json({
      success: false,
      message: 'فشل في ترقية الخطة | Failed to upgrade plan',
      error: error.message
    });
  }
});

// ==================== TENANT ISOLATION ====================

/**
 * Get isolation report
 * الحصول على تقرير العزل
 * 
 * GET /api/tenants/:tenantId/isolation
 */
router.get('/:tenantId/isolation', async (req, res) => {
  try {
    const report = tenantIsolation.getTenantIsolationReport(req.params.tenantId);
    if (!report) {
      return res.status(404).json({
        success: false,
        message: 'الالتزام غير موجود | Tenant not found'
      });
    }
    res.json({
      success: true,
      data: report
    });
  } catch (error) {
    Logger.error(`Error getting isolation report: ${error.message}`);
    res.status(500).json({
      success: false,
      message: 'فشل في جلب التقرير | Failed to fetch report',
      error: error.message
    });
  }
});

// ==================== STATISTICS ====================

/**
 * Get tenant statistics
 * الحصول على إحصائيات الالتزام
 * 
 * GET /api/tenants/stats/all
 */
router.get('/stats/all', async (req, res) => {
  try {
    const tenantStats = tenantService.getStatistics();
    const isolationStats = tenantIsolation.getStatistics();
    res.json({
      success: true,
      data: {
        tenants: tenantStats,
        isolation: isolationStats,
        timestamp: new Date()
      }
    });
  } catch (error) {
    Logger.error(`Error fetching statistics: ${error.message}`);
    res.status(500).json({
      success: false,
      message: 'فشل في جلب الإحصائيات | Failed to fetch statistics',
      error: error.message
    });
  }
});
module.exports = router;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJSb3V0ZXIiLCJyZXF1aXJlIiwiTG9nZ2VyIiwidGVuYW50U2VydmljZSIsInRlbmFudElzb2xhdGlvbiIsInJvdXRlciIsInBvc3QiLCJyZXEiLCJyZXMiLCJuYW1lIiwiZW1haWwiLCJwbGFuVHlwZSIsInNsdWciLCJzdWJkb21haW4iLCJib2R5Iiwic3RhdHVzIiwianNvbiIsInN1Y2Nlc3MiLCJtZXNzYWdlIiwidGVuYW50IiwiY3JlYXRlVGVuYW50IiwidG9Mb3dlckNhc2UiLCJyZXBsYWNlIiwiY3JlYXRlZEJ5IiwidXNlciIsImlkIiwibWV0YWRhdGEiLCJ0aW1lem9uZSIsImxhbmd1YWdlIiwiaW5pdGlhbGl6ZVRlbmFudENvbnRhaW5lciIsImRhdGEiLCJlcnJvciIsImdldCIsInNlYXJjaCIsImxpbWl0Iiwib2Zmc2V0IiwicXVlcnkiLCJmaWx0ZXJzIiwidGVuYW50cyIsImdldEFsbFRlbmFudHMiLCJwYWdpbmF0ZWQiLCJzbGljZSIsInBhcnNlSW50IiwicGFnaW5hdGlvbiIsInRvdGFsIiwibGVuZ3RoIiwiaGFzTW9yZSIsImdldFRlbmFudCIsInBhcmFtcyIsInRlbmFudElkIiwicHV0IiwidXBkYXRlZCIsInVwZGF0ZVRlbmFudCIsImRlbGV0ZSIsImRlbGV0ZWQiLCJkZWxldGVUZW5hbnQiLCJjbGVhbnVwVGVuYW50RGF0YSIsInN1c3BlbmRlZCIsInN1c3BlbmRUZW5hbnQiLCJyZWFzb24iLCJyZWFjdGl2YXRlZCIsInJlYWN0aXZhdGVUZW5hbnQiLCJ1c2VySWQiLCJyb2xlIiwiYWRkZWQiLCJhZGRVc2VyVG9UZW5hbnQiLCJ1c2VycyIsImdldFRlbmFudFVzZXJzIiwiY291bnQiLCJyZW1vdmVkIiwicmVtb3ZlVXNlckZyb21UZW5hbnQiLCJzZXR0aW5ncyIsImdldFRlbmFudFNldHRpbmdzIiwidXBkYXRlVGVuYW50U2V0dGluZ3MiLCJxdW90YSIsImdldFRlbmFudFF1b3RhIiwicmVjb3JkQXBpQ2FsbCIsInNpemVHQiIsInVuZGVmaW5lZCIsInJlY29yZFN0b3JhZ2VVc2FnZSIsIm5ld1BsYW4iLCJ1cGdyYWRlZEF0IiwiRGF0ZSIsInJlcG9ydCIsImdldFRlbmFudElzb2xhdGlvblJlcG9ydCIsInRlbmFudFN0YXRzIiwiZ2V0U3RhdGlzdGljcyIsImlzb2xhdGlvblN0YXRzIiwiaXNvbGF0aW9uIiwidGltZXN0YW1wIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VzIjpbInRlbmFudC5jb250cm9sbGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiBUZW5hbnQgQ29udHJvbGxlclxyXG4gKiDZhdiq2K3Zg9mFINin2YTYp9mE2KrYstin2YVcclxuICogXHJcbiAqIFJFU1QgZW5kcG9pbnRzIGZvciB0ZW5hbnQgbWFuYWdlbWVudFxyXG4gKiDZhtmC2KfYtyDZhtmH2KfZitipINin2YTZiNmK2Kgg2YTYpdiv2KfYsdipINin2YTYp9mE2KrYstin2YVcclxuICovXHJcblxyXG5jb25zdCB7IFJvdXRlciB9ID0gcmVxdWlyZSgnZXhwcmVzcycpO1xyXG5jb25zdCBMb2dnZXIgPSByZXF1aXJlKCcuLi91dGlscy9sb2dnZXInKTtcclxuY29uc3QgdGVuYW50U2VydmljZSA9IHJlcXVpcmUoJy4uL3NlcnZpY2VzL3RlbmFudC5zZXJ2aWNlJyk7XHJcbmNvbnN0IHRlbmFudElzb2xhdGlvbiA9IHJlcXVpcmUoJy4uL3NlcnZpY2VzL3RlbmFudElzb2xhdGlvbi5zZXJ2aWNlJyk7XHJcblxyXG5jb25zdCByb3V0ZXIgPSBSb3V0ZXIoKTtcclxuXHJcbi8vID09PT09PT09PT09PT09PT09PT09IFRFTkFOVCBDUlVEID09PT09PT09PT09PT09PT09PT09XHJcblxyXG4vKipcclxuICogQ3JlYXRlIG5ldyB0ZW5hbnRcclxuICog2KXZhti02KfYoSDYp9mE2KrYstin2YUg2KzYr9mK2K9cclxuICogXHJcbiAqIFBPU1QgL2FwaS90ZW5hbnRzXHJcbiAqIEJvZHk6IHsgbmFtZSwgZW1haWwsIHBsYW5UeXBlLCBzbHVnLCBzdWJkb21haW4gfVxyXG4gKi9cclxucm91dGVyLnBvc3QoJy8nLCBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgeyBuYW1lLCBlbWFpbCwgcGxhblR5cGUgPSAnc3RhcnRlcicsIHNsdWcsIHN1YmRvbWFpbiB9ID0gcmVxLmJvZHk7XHJcblxyXG4gICAgLy8gVmFsaWRhdGlvblxyXG4gICAgaWYgKCFuYW1lIHx8ICFlbWFpbCkge1xyXG4gICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oe1xyXG4gICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgICAgIG1lc3NhZ2U6ICfZhtin2YUg2YjYqNix2YrYryDYpdmE2YPYqtix2YjZhtmKINmF2LfZhNmI2KjYp9mGIHwgTmFtZSBhbmQgZW1haWwgcmVxdWlyZWQnXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIENyZWF0ZSB0ZW5hbnRcclxuICAgIGNvbnN0IHRlbmFudCA9IHRlbmFudFNlcnZpY2UuY3JlYXRlVGVuYW50KHtcclxuICAgICAgbmFtZSxcclxuICAgICAgZW1haWwsXHJcbiAgICAgIHBsYW5UeXBlLFxyXG4gICAgICBzbHVnOiBzbHVnIHx8IG5hbWUudG9Mb3dlckNhc2UoKS5yZXBsYWNlKC9cXHMrL2csICctJyksXHJcbiAgICAgIHN1YmRvbWFpbjogc3ViZG9tYWluIHx8IHNsdWcgfHwgbmFtZS50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoL1xccysvZywgJy0nKSxcclxuICAgICAgY3JlYXRlZEJ5OiByZXEudXNlcj8uaWQsXHJcbiAgICAgIG1ldGFkYXRhOiB7XHJcbiAgICAgICAgdGltZXpvbmU6IHJlcS5ib2R5LnRpbWV6b25lIHx8ICdVVEMnLFxyXG4gICAgICAgIGxhbmd1YWdlOiByZXEuYm9keS5sYW5ndWFnZSB8fCAnYXInXHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIC8vIEluaXRpYWxpemUgaXNvbGF0aW9uIGNvbnRhaW5lclxyXG4gICAgdGVuYW50SXNvbGF0aW9uLmluaXRpYWxpemVUZW5hbnRDb250YWluZXIodGVuYW50LmlkKTtcclxuXHJcbiAgICByZXMuc3RhdHVzKDIwMSkuanNvbih7XHJcbiAgICAgIHN1Y2Nlc3M6IHRydWUsXHJcbiAgICAgIG1lc3NhZ2U6ICfYqtmFINil2YbYtNin2KEg2KfZhNin2YTYqtiy2KfZhSDYqNmG2KzYp9itIHwgVGVuYW50IGNyZWF0ZWQgc3VjY2Vzc2Z1bGx5JyxcclxuICAgICAgZGF0YTogdGVuYW50XHJcbiAgICB9KTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgTG9nZ2VyLmVycm9yKGBFcnJvciBjcmVhdGluZyB0ZW5hbnQ6ICR7ZXJyb3IubWVzc2FnZX1gKTtcclxuICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHtcclxuICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICAgIG1lc3NhZ2U6ICfZgdi02YQg2YHZiiDYpdmG2LTYp9ihINin2YTYp9mE2KrYstin2YUgfCBGYWlsZWQgdG8gY3JlYXRlIHRlbmFudCcsXHJcbiAgICAgIGVycm9yOiBlcnJvci5tZXNzYWdlXHJcbiAgICB9KTtcclxuICB9XHJcbn0pO1xyXG5cclxuLyoqXHJcbiAqIEdldCBhbGwgdGVuYW50c1xyXG4gKiDYp9mE2K3YtdmI2YQg2LnZhNmJINis2YXZiti5INin2YTYp9mE2KrYstin2YXYp9iqXHJcbiAqIFxyXG4gKiBHRVQgL2FwaS90ZW5hbnRzXHJcbiAqIFF1ZXJ5OiB7IHN0YXR1cywgcGxhblR5cGUsIHNlYXJjaCwgbGltaXQsIG9mZnNldCB9XHJcbiAqL1xyXG5yb3V0ZXIuZ2V0KCcvJywgYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IHsgc3RhdHVzLCBwbGFuVHlwZSwgc2VhcmNoLCBsaW1pdCA9IDIwLCBvZmZzZXQgPSAwIH0gPSByZXEucXVlcnk7XHJcblxyXG4gICAgY29uc3QgZmlsdGVycyA9IHt9O1xyXG4gICAgaWYgKHN0YXR1cykgZmlsdGVycy5zdGF0dXMgPSBzdGF0dXM7XHJcbiAgICBpZiAocGxhblR5cGUpIGZpbHRlcnMucGxhblR5cGUgPSBwbGFuVHlwZTtcclxuICAgIGlmIChzZWFyY2gpIGZpbHRlcnMuc2VhcmNoID0gc2VhcmNoO1xyXG5cclxuICAgIGNvbnN0IHRlbmFudHMgPSB0ZW5hbnRTZXJ2aWNlLmdldEFsbFRlbmFudHMoZmlsdGVycyk7XHJcbiAgICBjb25zdCBwYWdpbmF0ZWQgPSB0ZW5hbnRzLnNsaWNlKG9mZnNldCwgb2Zmc2V0ICsgcGFyc2VJbnQobGltaXQpKTtcclxuXHJcbiAgICByZXMuanNvbih7XHJcbiAgICAgIHN1Y2Nlc3M6IHRydWUsXHJcbiAgICAgIGRhdGE6IHBhZ2luYXRlZCxcclxuICAgICAgcGFnaW5hdGlvbjoge1xyXG4gICAgICAgIHRvdGFsOiB0ZW5hbnRzLmxlbmd0aCxcclxuICAgICAgICBsaW1pdDogcGFyc2VJbnQobGltaXQpLFxyXG4gICAgICAgIG9mZnNldDogcGFyc2VJbnQob2Zmc2V0KSxcclxuICAgICAgICBoYXNNb3JlOiBvZmZzZXQgKyBwYXJzZUludChsaW1pdCkgPCB0ZW5hbnRzLmxlbmd0aFxyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgTG9nZ2VyLmVycm9yKGBFcnJvciBmZXRjaGluZyB0ZW5hbnRzOiAke2Vycm9yLm1lc3NhZ2V9YCk7XHJcbiAgICByZXMuc3RhdHVzKDUwMCkuanNvbih7XHJcbiAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgICBtZXNzYWdlOiAn2YHYtNmEINmB2Yog2KzZhNioINin2YTYp9mE2KrYstin2YXYp9iqIHwgRmFpbGVkIHRvIGZldGNoIHRlbmFudHMnLFxyXG4gICAgICBlcnJvcjogZXJyb3IubWVzc2FnZVxyXG4gICAgfSk7XHJcbiAgfVxyXG59KTtcclxuXHJcbi8qKlxyXG4gKiBHZXQgc2luZ2xlIHRlbmFudFxyXG4gKiDYp9mE2K3YtdmI2YQg2LnZhNmJINin2YTYqtiy2KfZhSDZiNin2K3Yr1xyXG4gKiBcclxuICogR0VUIC9hcGkvdGVuYW50cy86dGVuYW50SWRcclxuICovXHJcbnJvdXRlci5nZXQoJy86dGVuYW50SWQnLCBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgdGVuYW50ID0gdGVuYW50U2VydmljZS5nZXRUZW5hbnQocmVxLnBhcmFtcy50ZW5hbnRJZCk7XHJcblxyXG4gICAgaWYgKCF0ZW5hbnQpIHtcclxuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDA0KS5qc29uKHtcclxuICAgICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgICAgICBtZXNzYWdlOiAn2KfZhNin2YTYqtiy2KfZhSDYutmK2LEg2YXZiNis2YjYryB8IFRlbmFudCBub3QgZm91bmQnXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHJlcy5qc29uKHtcclxuICAgICAgc3VjY2VzczogdHJ1ZSxcclxuICAgICAgZGF0YTogdGVuYW50XHJcbiAgICB9KTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgTG9nZ2VyLmVycm9yKGBFcnJvciBmZXRjaGluZyB0ZW5hbnQ6ICR7ZXJyb3IubWVzc2FnZX1gKTtcclxuICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHtcclxuICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICAgIG1lc3NhZ2U6ICfZgdi02YQg2YHZiiDYrNmE2Kgg2KfZhNin2YTYqtiy2KfZhSB8IEZhaWxlZCB0byBmZXRjaCB0ZW5hbnQnLFxyXG4gICAgICBlcnJvcjogZXJyb3IubWVzc2FnZVxyXG4gICAgfSk7XHJcbiAgfVxyXG59KTtcclxuXHJcbi8qKlxyXG4gKiBVcGRhdGUgdGVuYW50XHJcbiAqINiq2K3Yr9mK2Ksg2KfZhNin2YTYqtiy2KfZhVxyXG4gKiBcclxuICogUFVUIC9hcGkvdGVuYW50cy86dGVuYW50SWRcclxuICogQm9keTogeyBuYW1lLCBlbWFpbCwgc3ViZG9tYWluLCBtZXRhZGF0YSB9XHJcbiAqL1xyXG5yb3V0ZXIucHV0KCcvOnRlbmFudElkJywgYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IHVwZGF0ZWQgPSB0ZW5hbnRTZXJ2aWNlLnVwZGF0ZVRlbmFudChyZXEucGFyYW1zLnRlbmFudElkLCByZXEuYm9keSk7XHJcblxyXG4gICAgaWYgKCF1cGRhdGVkKSB7XHJcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwNCkuanNvbih7XHJcbiAgICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICAgICAgbWVzc2FnZTogJ9in2YTYp9mE2KrYstin2YUg2LrZitixINmF2YjYrNmI2K8gfCBUZW5hbnQgbm90IGZvdW5kJ1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICByZXMuanNvbih7XHJcbiAgICAgIHN1Y2Nlc3M6IHRydWUsXHJcbiAgICAgIG1lc3NhZ2U6ICfYqtmFINiq2K3Yr9mK2Ksg2KfZhNin2YTYqtiy2KfZhSDYqNmG2KzYp9itIHwgVGVuYW50IHVwZGF0ZWQgc3VjY2Vzc2Z1bGx5JyxcclxuICAgICAgZGF0YTogdXBkYXRlZFxyXG4gICAgfSk7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIExvZ2dlci5lcnJvcihgRXJyb3IgdXBkYXRpbmcgdGVuYW50OiAke2Vycm9yLm1lc3NhZ2V9YCk7XHJcbiAgICByZXMuc3RhdHVzKDUwMCkuanNvbih7XHJcbiAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgICBtZXNzYWdlOiAn2YHYtNmEINmB2Yog2KrYrdiv2YrYqyDYp9mE2KfZhNiq2LLYp9mFIHwgRmFpbGVkIHRvIHVwZGF0ZSB0ZW5hbnQnLFxyXG4gICAgICBlcnJvcjogZXJyb3IubWVzc2FnZVxyXG4gICAgfSk7XHJcbiAgfVxyXG59KTtcclxuXHJcbi8qKlxyXG4gKiBEZWxldGUgdGVuYW50XHJcbiAqINit2LDZgSDYp9mE2KfZhNiq2LLYp9mFXHJcbiAqIFxyXG4gKiBERUxFVEUgL2FwaS90ZW5hbnRzLzp0ZW5hbnRJZFxyXG4gKi9cclxucm91dGVyLmRlbGV0ZSgnLzp0ZW5hbnRJZCcsIGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCBkZWxldGVkID0gdGVuYW50U2VydmljZS5kZWxldGVUZW5hbnQocmVxLnBhcmFtcy50ZW5hbnRJZCk7XHJcblxyXG4gICAgaWYgKCFkZWxldGVkKSB7XHJcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwNCkuanNvbih7XHJcbiAgICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICAgICAgbWVzc2FnZTogJ9in2YTYp9mE2KrYstin2YUg2LrZitixINmF2YjYrNmI2K8gfCBUZW5hbnQgbm90IGZvdW5kJ1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBDbGVhbnVwIGlzb2xhdGlvbiBkYXRhXHJcbiAgICB0ZW5hbnRJc29sYXRpb24uY2xlYW51cFRlbmFudERhdGEocmVxLnBhcmFtcy50ZW5hbnRJZCk7XHJcblxyXG4gICAgcmVzLmpzb24oe1xyXG4gICAgICBzdWNjZXNzOiB0cnVlLFxyXG4gICAgICBtZXNzYWdlOiAn2KrZhSDYrdiw2YEg2KfZhNin2YTYqtiy2KfZhSDYqNmG2KzYp9itIHwgVGVuYW50IGRlbGV0ZWQgc3VjY2Vzc2Z1bGx5J1xyXG4gICAgfSk7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIExvZ2dlci5lcnJvcihgRXJyb3IgZGVsZXRpbmcgdGVuYW50OiAke2Vycm9yLm1lc3NhZ2V9YCk7XHJcbiAgICByZXMuc3RhdHVzKDUwMCkuanNvbih7XHJcbiAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgICBtZXNzYWdlOiAn2YHYtNmEINmB2Yog2K3YsNmBINin2YTYp9mE2KrYstin2YUgfCBGYWlsZWQgdG8gZGVsZXRlIHRlbmFudCcsXHJcbiAgICAgIGVycm9yOiBlcnJvci5tZXNzYWdlXHJcbiAgICB9KTtcclxuICB9XHJcbn0pO1xyXG5cclxuLy8gPT09PT09PT09PT09PT09PT09PT0gVEVOQU5UIFNVU1BFTlNJT04gPT09PT09PT09PT09PT09PT09PT1cclxuXHJcbi8qKlxyXG4gKiBTdXNwZW5kIHRlbmFudFxyXG4gKiDYpdmK2YLYp9mBINin2YTYp9mE2KrYstin2YVcclxuICogXHJcbiAqIFBPU1QgL2FwaS90ZW5hbnRzLzp0ZW5hbnRJZC9zdXNwZW5kXHJcbiAqIEJvZHk6IHsgcmVhc29uIH1cclxuICovXHJcbnJvdXRlci5wb3N0KCcvOnRlbmFudElkL3N1c3BlbmQnLCBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICB0cnkge1xyXG4gICAgY29uc3Qgc3VzcGVuZGVkID0gdGVuYW50U2VydmljZS5zdXNwZW5kVGVuYW50KFxyXG4gICAgICByZXEucGFyYW1zLnRlbmFudElkLFxyXG4gICAgICByZXEuYm9keS5yZWFzb24gfHwgJ05vIHJlYXNvbiBwcm92aWRlZCdcclxuICAgICk7XHJcblxyXG4gICAgaWYgKCFzdXNwZW5kZWQpIHtcclxuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDA0KS5qc29uKHtcclxuICAgICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgICAgICBtZXNzYWdlOiAn2KfZhNin2YTYqtiy2KfZhSDYutmK2LEg2YXZiNis2YjYryB8IFRlbmFudCBub3QgZm91bmQnXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHJlcy5qc29uKHtcclxuICAgICAgc3VjY2VzczogdHJ1ZSxcclxuICAgICAgbWVzc2FnZTogJ9iq2YUg2KXZitmC2KfZgSDYp9mE2KfZhNiq2LLYp9mFINio2YbYrNin2K0gfCBUZW5hbnQgc3VzcGVuZGVkIHN1Y2Nlc3NmdWxseScsXHJcbiAgICAgIGRhdGE6IHN1c3BlbmRlZFxyXG4gICAgfSk7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIExvZ2dlci5lcnJvcihgRXJyb3Igc3VzcGVuZGluZyB0ZW5hbnQ6ICR7ZXJyb3IubWVzc2FnZX1gKTtcclxuICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHtcclxuICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICAgIG1lc3NhZ2U6ICfZgdi02YQg2YHZiiDYpdmK2YLYp9mBINin2YTYp9mE2KrYstin2YUgfCBGYWlsZWQgdG8gc3VzcGVuZCB0ZW5hbnQnLFxyXG4gICAgICBlcnJvcjogZXJyb3IubWVzc2FnZVxyXG4gICAgfSk7XHJcbiAgfVxyXG59KTtcclxuXHJcbi8qKlxyXG4gKiBSZWFjdGl2YXRlIHRlbmFudFxyXG4gKiDYpdi52KfYr9ipINiq2YbYtNmK2Lcg2KfZhNin2YTYqtiy2KfZhVxyXG4gKiBcclxuICogUE9TVCAvYXBpL3RlbmFudHMvOnRlbmFudElkL3JlYWN0aXZhdGVcclxuICovXHJcbnJvdXRlci5wb3N0KCcvOnRlbmFudElkL3JlYWN0aXZhdGUnLCBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgcmVhY3RpdmF0ZWQgPSB0ZW5hbnRTZXJ2aWNlLnJlYWN0aXZhdGVUZW5hbnQocmVxLnBhcmFtcy50ZW5hbnRJZCk7XHJcblxyXG4gICAgaWYgKCFyZWFjdGl2YXRlZCkge1xyXG4gICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDQpLmpzb24oe1xyXG4gICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgICAgIG1lc3NhZ2U6ICfYp9mE2KfZhNiq2LLYp9mFINi62YrYsSDZhdmI2KzZiNivIHwgVGVuYW50IG5vdCBmb3VuZCdcclxuICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgcmVzLmpzb24oe1xyXG4gICAgICBzdWNjZXNzOiB0cnVlLFxyXG4gICAgICBtZXNzYWdlOiAn2KrZhSDYpdi52KfYr9ipINiq2YbYtNmK2Lcg2KfZhNin2YTYqtiy2KfZhSDYqNmG2KzYp9itIHwgVGVuYW50IHJlYWN0aXZhdGVkIHN1Y2Nlc3NmdWxseScsXHJcbiAgICAgIGRhdGE6IHJlYWN0aXZhdGVkXHJcbiAgICB9KTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgTG9nZ2VyLmVycm9yKGBFcnJvciByZWFjdGl2YXRpbmcgdGVuYW50OiAke2Vycm9yLm1lc3NhZ2V9YCk7XHJcbiAgICByZXMuc3RhdHVzKDUwMCkuanNvbih7XHJcbiAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgICBtZXNzYWdlOiAn2YHYtNmEINmB2Yog2KXYudin2K/YqSDYqtmG2LTZiti3INin2YTYp9mE2KrYstin2YUgfCBGYWlsZWQgdG8gcmVhY3RpdmF0ZSB0ZW5hbnQnLFxyXG4gICAgICBlcnJvcjogZXJyb3IubWVzc2FnZVxyXG4gICAgfSk7XHJcbiAgfVxyXG59KTtcclxuXHJcbi8vID09PT09PT09PT09PT09PT09PT09IFRFTkFOVCBVU0VSUyA9PT09PT09PT09PT09PT09PT09PVxyXG5cclxuLyoqXHJcbiAqIEFkZCB1c2VyIHRvIHRlbmFudFxyXG4gKiDYpdi22KfZgdipINmF2LPYqtiu2K/ZhSDYpdmE2Ykg2KfZhNin2YTYqtiy2KfZhVxyXG4gKiBcclxuICogUE9TVCAvYXBpL3RlbmFudHMvOnRlbmFudElkL3VzZXJzXHJcbiAqIEJvZHk6IHsgdXNlcklkLCByb2xlIH1cclxuICovXHJcbnJvdXRlci5wb3N0KCcvOnRlbmFudElkL3VzZXJzJywgYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IHsgdXNlcklkLCByb2xlID0gJ21lbWJlcicgfSA9IHJlcS5ib2R5O1xyXG5cclxuICAgIGlmICghdXNlcklkKSB7XHJcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7XHJcbiAgICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICAgICAgbWVzc2FnZTogJ9mF2LnYsdmBINin2YTZhdiz2KrYrtiv2YUg2YXYt9mE2YjYqCB8IFVzZXIgSUQgcmVxdWlyZWQnXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IGFkZGVkID0gdGVuYW50U2VydmljZS5hZGRVc2VyVG9UZW5hbnQocmVxLnBhcmFtcy50ZW5hbnRJZCwgdXNlcklkLCByb2xlKTtcclxuXHJcbiAgICBpZiAoIWFkZGVkKSB7XHJcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7XHJcbiAgICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICAgICAgbWVzc2FnZTogJ9mB2LTZhCDZgdmKINil2LbYp9mB2Kkg2KfZhNmF2LPYqtiu2K/ZhSB8IEZhaWxlZCB0byBhZGQgdXNlcidcclxuICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgcmVzLnN0YXR1cygyMDEpLmpzb24oe1xyXG4gICAgICBzdWNjZXNzOiB0cnVlLFxyXG4gICAgICBtZXNzYWdlOiAn2KrZhSDYpdi22KfZgdipINin2YTZhdiz2KrYrtiv2YUg2KjZhtis2KfYrSB8IFVzZXIgYWRkZWQgc3VjY2Vzc2Z1bGx5JyxcclxuICAgICAgZGF0YTogeyB0ZW5hbnRJZDogcmVxLnBhcmFtcy50ZW5hbnRJZCwgdXNlcklkLCByb2xlIH1cclxuICAgIH0pO1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBMb2dnZXIuZXJyb3IoYEVycm9yIGFkZGluZyB1c2VyOiAke2Vycm9yLm1lc3NhZ2V9YCk7XHJcbiAgICByZXMuc3RhdHVzKDUwMCkuanNvbih7XHJcbiAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgICBtZXNzYWdlOiAn2YHYtNmEINmB2Yog2KXYttin2YHYqSDYp9mE2YXYs9iq2K7Yr9mFIHwgRmFpbGVkIHRvIGFkZCB1c2VyJyxcclxuICAgICAgZXJyb3I6IGVycm9yLm1lc3NhZ2VcclxuICAgIH0pO1xyXG4gIH1cclxufSk7XHJcblxyXG4vKipcclxuICogR2V0IHRlbmFudCB1c2Vyc1xyXG4gKiDYp9mE2K3YtdmI2YQg2LnZhNmJINmF2LPYqtiu2K/ZhdmKINin2YTYp9mE2KrYstin2YVcclxuICogXHJcbiAqIEdFVCAvYXBpL3RlbmFudHMvOnRlbmFudElkL3VzZXJzXHJcbiAqL1xyXG5yb3V0ZXIuZ2V0KCcvOnRlbmFudElkL3VzZXJzJywgYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IHVzZXJzID0gdGVuYW50U2VydmljZS5nZXRUZW5hbnRVc2VycyhyZXEucGFyYW1zLnRlbmFudElkKTtcclxuXHJcbiAgICBpZiAoIXVzZXJzKSB7XHJcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwNCkuanNvbih7XHJcbiAgICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICAgICAgbWVzc2FnZTogJ9in2YTYp9mE2KrYstin2YUg2LrZitixINmF2YjYrNmI2K8gfCBUZW5hbnQgbm90IGZvdW5kJ1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICByZXMuanNvbih7XHJcbiAgICAgIHN1Y2Nlc3M6IHRydWUsXHJcbiAgICAgIGRhdGE6IHVzZXJzLFxyXG4gICAgICBjb3VudDogdXNlcnMubGVuZ3RoXHJcbiAgICB9KTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgTG9nZ2VyLmVycm9yKGBFcnJvciBmZXRjaGluZyB0ZW5hbnQgdXNlcnM6ICR7ZXJyb3IubWVzc2FnZX1gKTtcclxuICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHtcclxuICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICAgIG1lc3NhZ2U6ICfZgdi02YQg2YHZiiDYrNmE2Kgg2YXYs9iq2K7Yr9mF2Yog2KfZhNin2YTYqtiy2KfZhSB8IEZhaWxlZCB0byBmZXRjaCB1c2VycycsXHJcbiAgICAgIGVycm9yOiBlcnJvci5tZXNzYWdlXHJcbiAgICB9KTtcclxuICB9XHJcbn0pO1xyXG5cclxuLyoqXHJcbiAqIFJlbW92ZSB1c2VyIGZyb20gdGVuYW50XHJcbiAqINil2LLYp9mE2Kkg2YXYs9iq2K7Yr9mFINmF2YYg2KfZhNin2YTYqtiy2KfZhVxyXG4gKiBcclxuICogREVMRVRFIC9hcGkvdGVuYW50cy86dGVuYW50SWQvdXNlcnMvOnVzZXJJZFxyXG4gKi9cclxucm91dGVyLmRlbGV0ZSgnLzp0ZW5hbnRJZC91c2Vycy86dXNlcklkJywgYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IHJlbW92ZWQgPSB0ZW5hbnRTZXJ2aWNlLnJlbW92ZVVzZXJGcm9tVGVuYW50KFxyXG4gICAgICByZXEucGFyYW1zLnRlbmFudElkLFxyXG4gICAgICByZXEucGFyYW1zLnVzZXJJZFxyXG4gICAgKTtcclxuXHJcbiAgICBpZiAoIXJlbW92ZWQpIHtcclxuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDA0KS5qc29uKHtcclxuICAgICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgICAgICBtZXNzYWdlOiAn2KfZhNmF2LPYqtiu2K/ZhSDYo9mIINin2YTYp9mE2KrYstin2YUg2LrZitixINmF2YjYrNmI2K8gfCBVc2VyIG9yIHRlbmFudCBub3QgZm91bmQnXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHJlcy5qc29uKHtcclxuICAgICAgc3VjY2VzczogdHJ1ZSxcclxuICAgICAgbWVzc2FnZTogJ9iq2YUg2KXYstin2YTYqSDYp9mE2YXYs9iq2K7Yr9mFINio2YbYrNin2K0gfCBVc2VyIHJlbW92ZWQgc3VjY2Vzc2Z1bGx5J1xyXG4gICAgfSk7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIExvZ2dlci5lcnJvcihgRXJyb3IgcmVtb3ZpbmcgdXNlcjogJHtlcnJvci5tZXNzYWdlfWApO1xyXG4gICAgcmVzLnN0YXR1cyg1MDApLmpzb24oe1xyXG4gICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgICAgbWVzc2FnZTogJ9mB2LTZhCDZgdmKINil2LLYp9mE2Kkg2KfZhNmF2LPYqtiu2K/ZhSB8IEZhaWxlZCB0byByZW1vdmUgdXNlcicsXHJcbiAgICAgIGVycm9yOiBlcnJvci5tZXNzYWdlXHJcbiAgICB9KTtcclxuICB9XHJcbn0pO1xyXG5cclxuLy8gPT09PT09PT09PT09PT09PT09PT0gVEVOQU5UIFNFVFRJTkdTID09PT09PT09PT09PT09PT09PT09XHJcblxyXG4vKipcclxuICogR2V0IHRlbmFudCBzZXR0aW5nc1xyXG4gKiDYp9mE2K3YtdmI2YQg2LnZhNmJINil2LnYr9in2K/Yp9iqINin2YTYp9mE2KrYstin2YVcclxuICogXHJcbiAqIEdFVCAvYXBpL3RlbmFudHMvOnRlbmFudElkL3NldHRpbmdzXHJcbiAqL1xyXG5yb3V0ZXIuZ2V0KCcvOnRlbmFudElkL3NldHRpbmdzJywgYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IHNldHRpbmdzID0gdGVuYW50U2VydmljZS5nZXRUZW5hbnRTZXR0aW5ncyhyZXEucGFyYW1zLnRlbmFudElkKTtcclxuXHJcbiAgICBpZiAoIXNldHRpbmdzKSB7XHJcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwNCkuanNvbih7XHJcbiAgICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICAgICAgbWVzc2FnZTogJ9in2YTYp9mE2KrYstin2YUg2LrZitixINmF2YjYrNmI2K8gfCBUZW5hbnQgbm90IGZvdW5kJ1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICByZXMuanNvbih7XHJcbiAgICAgIHN1Y2Nlc3M6IHRydWUsXHJcbiAgICAgIGRhdGE6IHNldHRpbmdzXHJcbiAgICB9KTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgTG9nZ2VyLmVycm9yKGBFcnJvciBmZXRjaGluZyBzZXR0aW5nczogJHtlcnJvci5tZXNzYWdlfWApO1xyXG4gICAgcmVzLnN0YXR1cyg1MDApLmpzb24oe1xyXG4gICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgICAgbWVzc2FnZTogJ9mB2LTZhCDZgdmKINis2YTYqCDYp9mE2KXYudiv2KfYr9in2KogfCBGYWlsZWQgdG8gZmV0Y2ggc2V0dGluZ3MnLFxyXG4gICAgICBlcnJvcjogZXJyb3IubWVzc2FnZVxyXG4gICAgfSk7XHJcbiAgfVxyXG59KTtcclxuXHJcbi8qKlxyXG4gKiBVcGRhdGUgdGVuYW50IHNldHRpbmdzXHJcbiAqINiq2K3Yr9mK2Ksg2KXYudiv2KfYr9in2Kog2KfZhNin2YTYqtiy2KfZhVxyXG4gKiBcclxuICogUFVUIC9hcGkvdGVuYW50cy86dGVuYW50SWQvc2V0dGluZ3NcclxuICogQm9keTogeyBzZXR0aW5nIGNoYW5nZXMgfVxyXG4gKi9cclxucm91dGVyLnB1dCgnLzp0ZW5hbnRJZC9zZXR0aW5ncycsIGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCB1cGRhdGVkID0gdGVuYW50U2VydmljZS51cGRhdGVUZW5hbnRTZXR0aW5ncyhcclxuICAgICAgcmVxLnBhcmFtcy50ZW5hbnRJZCxcclxuICAgICAgcmVxLmJvZHlcclxuICAgICk7XHJcblxyXG4gICAgaWYgKCF1cGRhdGVkKSB7XHJcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwNCkuanNvbih7XHJcbiAgICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICAgICAgbWVzc2FnZTogJ9in2YTYp9mE2KrYstin2YUg2LrZitixINmF2YjYrNmI2K8gfCBUZW5hbnQgbm90IGZvdW5kJ1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICByZXMuanNvbih7XHJcbiAgICAgIHN1Y2Nlc3M6IHRydWUsXHJcbiAgICAgIG1lc3NhZ2U6ICfYqtmFINiq2K3Yr9mK2Ksg2KfZhNil2LnYr9in2K/Yp9iqINio2YbYrNin2K0gfCBTZXR0aW5ncyB1cGRhdGVkIHN1Y2Nlc3NmdWxseScsXHJcbiAgICAgIGRhdGE6IHVwZGF0ZWRcclxuICAgIH0pO1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBMb2dnZXIuZXJyb3IoYEVycm9yIHVwZGF0aW5nIHNldHRpbmdzOiAke2Vycm9yLm1lc3NhZ2V9YCk7XHJcbiAgICByZXMuc3RhdHVzKDUwMCkuanNvbih7XHJcbiAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgICBtZXNzYWdlOiAn2YHYtNmEINmB2Yog2KrYrdiv2YrYqyDYp9mE2KXYudiv2KfYr9in2KogfCBGYWlsZWQgdG8gdXBkYXRlIHNldHRpbmdzJyxcclxuICAgICAgZXJyb3I6IGVycm9yLm1lc3NhZ2VcclxuICAgIH0pO1xyXG4gIH1cclxufSk7XHJcblxyXG4vLyA9PT09PT09PT09PT09PT09PT09PSBURU5BTlQgUVVPVEFTID09PT09PT09PT09PT09PT09PT09XHJcblxyXG4vKipcclxuICogR2V0IHRlbmFudCBxdW90YVxyXG4gKiDYp9mE2K3YtdmI2YQg2LnZhNmJINit2LXYqSDYp9mE2KfZhNiq2LLYp9mFXHJcbiAqIFxyXG4gKiBHRVQgL2FwaS90ZW5hbnRzLzp0ZW5hbnRJZC9xdW90YVxyXG4gKi9cclxucm91dGVyLmdldCgnLzp0ZW5hbnRJZC9xdW90YScsIGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCBxdW90YSA9IHRlbmFudFNlcnZpY2UuZ2V0VGVuYW50UXVvdGEocmVxLnBhcmFtcy50ZW5hbnRJZCk7XHJcblxyXG4gICAgaWYgKCFxdW90YSkge1xyXG4gICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDQpLmpzb24oe1xyXG4gICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgICAgIG1lc3NhZ2U6ICfYp9mE2KfZhNiq2LLYp9mFINi62YrYsSDZhdmI2KzZiNivIHwgVGVuYW50IG5vdCBmb3VuZCdcclxuICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgcmVzLmpzb24oe1xyXG4gICAgICBzdWNjZXNzOiB0cnVlLFxyXG4gICAgICBkYXRhOiBxdW90YVxyXG4gICAgfSk7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIExvZ2dlci5lcnJvcihgRXJyb3IgZmV0Y2hpbmcgcXVvdGE6ICR7ZXJyb3IubWVzc2FnZX1gKTtcclxuICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHtcclxuICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICAgIG1lc3NhZ2U6ICfZgdi02YQg2YHZiiDYrNmE2Kgg2KfZhNit2LXYqSB8IEZhaWxlZCB0byBmZXRjaCBxdW90YScsXHJcbiAgICAgIGVycm9yOiBlcnJvci5tZXNzYWdlXHJcbiAgICB9KTtcclxuICB9XHJcbn0pO1xyXG5cclxuLyoqXHJcbiAqIFJlY29yZCBBUEkgY2FsbFxyXG4gKiDYqtiz2KzZitmEINin2LPYqtiv2LnYp9ihIEFQSVxyXG4gKiBcclxuICogUE9TVCAvYXBpL3RlbmFudHMvOnRlbmFudElkL2FwaS1jYWxsc1xyXG4gKi9cclxucm91dGVyLnBvc3QoJy86dGVuYW50SWQvYXBpLWNhbGxzJywgYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IHRlbmFudCA9IHRlbmFudFNlcnZpY2UuZ2V0VGVuYW50KHJlcS5wYXJhbXMudGVuYW50SWQpO1xyXG4gICAgaWYgKCF0ZW5hbnQpIHtcclxuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDA0KS5qc29uKHtcclxuICAgICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgICAgICBtZXNzYWdlOiAn2KfZhNin2YTYqtiy2KfZhSDYutmK2LEg2YXZiNis2YjYryB8IFRlbmFudCBub3QgZm91bmQnXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHRlbmFudFNlcnZpY2UucmVjb3JkQXBpQ2FsbChyZXEucGFyYW1zLnRlbmFudElkKTtcclxuXHJcbiAgICByZXMuanNvbih7XHJcbiAgICAgIHN1Y2Nlc3M6IHRydWUsXHJcbiAgICAgIG1lc3NhZ2U6ICfYqtmFINiq2LPYrNmK2YQg2KfYs9iq2K/Yudin2KEgQVBJIHwgQVBJIGNhbGwgcmVjb3JkZWQnXHJcbiAgICB9KTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgTG9nZ2VyLmVycm9yKGBFcnJvciByZWNvcmRpbmcgQVBJIGNhbGw6ICR7ZXJyb3IubWVzc2FnZX1gKTtcclxuICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHtcclxuICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICAgIG1lc3NhZ2U6ICfZgdi02YQg2YHZiiDYqtiz2KzZitmEINin2LPYqtiv2LnYp9ihIEFQSSB8IEZhaWxlZCB0byByZWNvcmQgQVBJIGNhbGwnLFxyXG4gICAgICBlcnJvcjogZXJyb3IubWVzc2FnZVxyXG4gICAgfSk7XHJcbiAgfVxyXG59KTtcclxuXHJcbi8qKlxyXG4gKiBSZWNvcmQgc3RvcmFnZSB1c2FnZVxyXG4gKiDYqtiz2KzZitmEINin2LPYqtiu2K/Yp9mFINin2YTYqtiu2LLZitmGXHJcbiAqIFxyXG4gKiBQT1NUIC9hcGkvdGVuYW50cy86dGVuYW50SWQvc3RvcmFnZVxyXG4gKiBCb2R5OiB7IHNpemVHQiB9XHJcbiAqL1xyXG5yb3V0ZXIucG9zdCgnLzp0ZW5hbnRJZC9zdG9yYWdlJywgYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IHsgc2l6ZUdCIH0gPSByZXEuYm9keTtcclxuXHJcbiAgICBpZiAoc2l6ZUdCID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHtcclxuICAgICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgICAgICBtZXNzYWdlOiAn2K3YrNmFINin2YTYqtiu2LLZitmGINmF2LfZhNmI2KggfCBTdG9yYWdlIHNpemUgcmVxdWlyZWQnXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHRlbmFudFNlcnZpY2UucmVjb3JkU3RvcmFnZVVzYWdlKHJlcS5wYXJhbXMudGVuYW50SWQsIHNpemVHQik7XHJcblxyXG4gICAgcmVzLmpzb24oe1xyXG4gICAgICBzdWNjZXNzOiB0cnVlLFxyXG4gICAgICBtZXNzYWdlOiAn2KrZhSDYqtiz2KzZitmEINin2LPYqtiu2K/Yp9mFINin2YTYqtiu2LLZitmGIHwgU3RvcmFnZSB1c2FnZSByZWNvcmRlZCcsXHJcbiAgICAgIGRhdGE6IHsgc2l6ZUdCIH1cclxuICAgIH0pO1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBMb2dnZXIuZXJyb3IoYEVycm9yIHJlY29yZGluZyBzdG9yYWdlOiAke2Vycm9yLm1lc3NhZ2V9YCk7XHJcbiAgICByZXMuc3RhdHVzKDUwMCkuanNvbih7XHJcbiAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgICBtZXNzYWdlOiAn2YHYtNmEINmB2Yog2KrYs9is2YrZhCDYp9mE2KrYrtiy2YrZhiB8IEZhaWxlZCB0byByZWNvcmQgc3RvcmFnZScsXHJcbiAgICAgIGVycm9yOiBlcnJvci5tZXNzYWdlXHJcbiAgICB9KTtcclxuICB9XHJcbn0pO1xyXG5cclxuLy8gPT09PT09PT09PT09PT09PT09PT0gVEVOQU5UIFBMQU5TID09PT09PT09PT09PT09PT09PT09XHJcblxyXG4vKipcclxuICogVXBncmFkZSB0ZW5hbnQgcGxhblxyXG4gKiDYqtix2YLZitipINiu2LfYqSDYp9mE2KfZhNiq2LLYp9mFXHJcbiAqIFxyXG4gKiBQT1NUIC9hcGkvdGVuYW50cy86dGVuYW50SWQvdXBncmFkZVxyXG4gKiBCb2R5OiB7IG5ld1BsYW4gfVxyXG4gKi9cclxucm91dGVyLnBvc3QoJy86dGVuYW50SWQvdXBncmFkZScsIGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCB7IG5ld1BsYW4gfSA9IHJlcS5ib2R5O1xyXG5cclxuICAgIGlmICghbmV3UGxhbikge1xyXG4gICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oe1xyXG4gICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgICAgIG1lc3NhZ2U6ICfYp9mE2K7Yt9ipINin2YTYrNiv2YrYr9ipINmF2LfZhNmI2KjYqSB8IE5ldyBwbGFuIHJlcXVpcmVkJ1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCB0ZW5hbnQgPSB0ZW5hbnRTZXJ2aWNlLmdldFRlbmFudChyZXEucGFyYW1zLnRlbmFudElkKTtcclxuICAgIGlmICghdGVuYW50KSB7XHJcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwNCkuanNvbih7XHJcbiAgICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICAgICAgbWVzc2FnZTogJ9in2YTYp9mE2KrYstin2YUg2LrZitixINmF2YjYrNmI2K8gfCBUZW5hbnQgbm90IGZvdW5kJ1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCB1cGRhdGVkID0gdGVuYW50U2VydmljZS51cGRhdGVUZW5hbnQocmVxLnBhcmFtcy50ZW5hbnRJZCwge1xyXG4gICAgICBwbGFuVHlwZTogbmV3UGxhbixcclxuICAgICAgdXBncmFkZWRBdDogbmV3IERhdGUoKVxyXG4gICAgfSk7XHJcblxyXG4gICAgcmVzLmpzb24oe1xyXG4gICAgICBzdWNjZXNzOiB0cnVlLFxyXG4gICAgICBtZXNzYWdlOiBg2KrZhSDYqtix2YLZitipINin2YTYrti32Kkg2KXZhNmJICR7bmV3UGxhbn0g2KjZhtis2KfYrSB8IFBsYW4gdXBncmFkZWQgdG8gJHtuZXdQbGFufWAsXHJcbiAgICAgIGRhdGE6IHVwZGF0ZWRcclxuICAgIH0pO1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBMb2dnZXIuZXJyb3IoYEVycm9yIHVwZ3JhZGluZyBwbGFuOiAke2Vycm9yLm1lc3NhZ2V9YCk7XHJcbiAgICByZXMuc3RhdHVzKDUwMCkuanNvbih7XHJcbiAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgICBtZXNzYWdlOiAn2YHYtNmEINmB2Yog2KrYsdmC2YrYqSDYp9mE2K7Yt9ipIHwgRmFpbGVkIHRvIHVwZ3JhZGUgcGxhbicsXHJcbiAgICAgIGVycm9yOiBlcnJvci5tZXNzYWdlXHJcbiAgICB9KTtcclxuICB9XHJcbn0pO1xyXG5cclxuLy8gPT09PT09PT09PT09PT09PT09PT0gVEVOQU5UIElTT0xBVElPTiA9PT09PT09PT09PT09PT09PT09PVxyXG5cclxuLyoqXHJcbiAqIEdldCBpc29sYXRpb24gcmVwb3J0XHJcbiAqINin2YTYrdi12YjZhCDYudmE2Ykg2KrZgtix2YrYsSDYp9mE2LnYstmEXHJcbiAqIFxyXG4gKiBHRVQgL2FwaS90ZW5hbnRzLzp0ZW5hbnRJZC9pc29sYXRpb25cclxuICovXHJcbnJvdXRlci5nZXQoJy86dGVuYW50SWQvaXNvbGF0aW9uJywgYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IHJlcG9ydCA9IHRlbmFudElzb2xhdGlvbi5nZXRUZW5hbnRJc29sYXRpb25SZXBvcnQocmVxLnBhcmFtcy50ZW5hbnRJZCk7XHJcblxyXG4gICAgaWYgKCFyZXBvcnQpIHtcclxuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDA0KS5qc29uKHtcclxuICAgICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgICAgICBtZXNzYWdlOiAn2KfZhNin2YTYqtiy2KfZhSDYutmK2LEg2YXZiNis2YjYryB8IFRlbmFudCBub3QgZm91bmQnXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHJlcy5qc29uKHtcclxuICAgICAgc3VjY2VzczogdHJ1ZSxcclxuICAgICAgZGF0YTogcmVwb3J0XHJcbiAgICB9KTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgTG9nZ2VyLmVycm9yKGBFcnJvciBnZXR0aW5nIGlzb2xhdGlvbiByZXBvcnQ6ICR7ZXJyb3IubWVzc2FnZX1gKTtcclxuICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHtcclxuICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICAgIG1lc3NhZ2U6ICfZgdi02YQg2YHZiiDYrNmE2Kgg2KfZhNiq2YLYsdmK2LEgfCBGYWlsZWQgdG8gZmV0Y2ggcmVwb3J0JyxcclxuICAgICAgZXJyb3I6IGVycm9yLm1lc3NhZ2VcclxuICAgIH0pO1xyXG4gIH1cclxufSk7XHJcblxyXG4vLyA9PT09PT09PT09PT09PT09PT09PSBTVEFUSVNUSUNTID09PT09PT09PT09PT09PT09PT09XHJcblxyXG4vKipcclxuICogR2V0IHRlbmFudCBzdGF0aXN0aWNzXHJcbiAqINin2YTYrdi12YjZhCDYudmE2Ykg2KXYrdi12KfYptmK2KfYqiDYp9mE2KfZhNiq2LLYp9mFXHJcbiAqIFxyXG4gKiBHRVQgL2FwaS90ZW5hbnRzL3N0YXRzL2FsbFxyXG4gKi9cclxucm91dGVyLmdldCgnL3N0YXRzL2FsbCcsIGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCB0ZW5hbnRTdGF0cyA9IHRlbmFudFNlcnZpY2UuZ2V0U3RhdGlzdGljcygpO1xyXG4gICAgY29uc3QgaXNvbGF0aW9uU3RhdHMgPSB0ZW5hbnRJc29sYXRpb24uZ2V0U3RhdGlzdGljcygpO1xyXG5cclxuICAgIHJlcy5qc29uKHtcclxuICAgICAgc3VjY2VzczogdHJ1ZSxcclxuICAgICAgZGF0YToge1xyXG4gICAgICAgIHRlbmFudHM6IHRlbmFudFN0YXRzLFxyXG4gICAgICAgIGlzb2xhdGlvbjogaXNvbGF0aW9uU3RhdHMsXHJcbiAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpXHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBMb2dnZXIuZXJyb3IoYEVycm9yIGZldGNoaW5nIHN0YXRpc3RpY3M6ICR7ZXJyb3IubWVzc2FnZX1gKTtcclxuICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHtcclxuICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICAgIG1lc3NhZ2U6ICfZgdi02YQg2YHZiiDYrNmE2Kgg2KfZhNil2K3Ytdin2KbZitin2KogfCBGYWlsZWQgdG8gZmV0Y2ggc3RhdGlzdGljcycsXHJcbiAgICAgIGVycm9yOiBlcnJvci5tZXNzYWdlXHJcbiAgICB9KTtcclxuICB9XHJcbn0pO1xyXG5cclxubW9kdWxlLmV4cG9ydHMgPSByb3V0ZXI7XHJcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsTUFBTTtFQUFFQTtBQUFPLENBQUMsR0FBR0MsT0FBTyxDQUFDLFNBQVMsQ0FBQztBQUNyQyxNQUFNQyxNQUFNLEdBQUdELE9BQU8sQ0FBQyxpQkFBaUIsQ0FBQztBQUN6QyxNQUFNRSxhQUFhLEdBQUdGLE9BQU8sQ0FBQyw0QkFBNEIsQ0FBQztBQUMzRCxNQUFNRyxlQUFlLEdBQUdILE9BQU8sQ0FBQyxxQ0FBcUMsQ0FBQztBQUV0RSxNQUFNSSxNQUFNLEdBQUdMLE1BQU0s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