0efca0f1678fdbd244bd4dd5a056e8ef
/**
 * integration-system.test.js
 * AlAwael ERP - Integration System Test Suite
 * Testing webhooks, connectors, API integrations, and synchronization
 * February 24, 2026
 */

let IntegrationService, WebhookEvent, WebhookSubscription, IntegrationConnector, APIIntegrator;
try {
  IntegrationService = require('../services/integrationService');
  WebhookEvent = IntegrationService.WebhookEvent;
  WebhookSubscription = IntegrationService.WebhookSubscription;
  IntegrationConnector = IntegrationService.IntegrationConnector;
  APIIntegrator = IntegrationService.APIIntegrator;
} catch (error) {
  console.warn('⚠️  Integration services not available:', error.message);
}
describe('Integration System - Comprehensive Tests', () => {
  let integrationService;
  beforeEach(() => {
    if (IntegrationService) {
      integrationService = new IntegrationService();
    } else {
      // Fallback mock
      integrationService = {
        registerWebhook: () => ({}),
        registerAPI: () => ({
          registerEndpoint: () => {},
          call: async () => ({})
        })
      };
    }
  });

  // ===========================
  // WEBHOOK EVENT TESTS
  // ===========================
  describe('WebhookEvent', () => {
    test('creates webhook event with valid data', () => {
      const event = new WebhookEvent('order.created', {
        orderId: '123',
        amount: 500
      });
      expect(event.event).toBe('order.created');
      expect(event.data.orderId).toBe('123');
      expect(event.status).toBe('pending');
      expect(event.id).toBeDefined();
    });
    test('generates unique event IDs', () => {
      const event1 = new WebhookEvent('test1', {});
      const event2 = new WebhookEvent('test2', {});
      expect(event1.id).not.toBe(event2.id);
    });
    test('generates HMAC SHA256 signature', () => {
      const event = new WebhookEvent('order.created', {
        amount: 100
      });
      const secret = 'test-secret';
      const signature = event.generateSignature(secret);
      expect(signature).toBeDefined();
      expect(signature.length).toBeGreaterThan(0);
      expect(event.signature).toBe(signature);
    });
    test('provides payload with signature', () => {
      const event = new WebhookEvent('payment.completed', {
        transactionId: 'tx-123'
      });
      event.generateSignature('secret');
      const payload = event.getPayload();
      expect(payload.id).toBe(event.id);
      expect(payload.event).toBe('payment.completed');
      expect(payload.signature).toBeDefined();
    });
    test('tracks retry attempts', () => {
      const event = new WebhookEvent('test', {});
      expect(event.retries).toBe(0);
      event.retries = 1;
      event.status = 'retrying';
      expect(event.retries).toBe(1);
      expect(event.status).toBe('retrying');
    });
  });

  // ===========================
  // WEBHOOK SUBSCRIPTION TESTS
  // ===========================
  describe('WebhookSubscription', () => {
    test('creates subscription with URL and events', () => {
      const webhook = new WebhookSubscription('https://example.com/webhooks', ['order.created', 'order.updated']);
      expect(webhook.url).toBe('https://example.com/webhooks');
      expect(webhook.events.length).toBe(2);
      expect(webhook.isActive).toBe(true);
    });
    test('generates unique secret', () => {
      const webhook1 = new WebhookSubscription('url1', ['*']);
      const webhook2 = new WebhookSubscription('url2', ['*']);
      expect(webhook1.secret).not.toBe(webhook2.secret);
    });
    test('matches events correctly', () => {
      const webhook = new WebhookSubscription('url', ['order.created', 'order.deleted']);
      expect(webhook.matches('order.created')).toBe(true);
      expect(webhook.matches('order.deleted')).toBe(true);
      expect(webhook.matches('order.updated')).toBe(false);
    });
    test('matches wildcard events', () => {
      const webhook = new WebhookSubscription('url', ['*']);
      expect(webhook.matches('order.created')).toBe(true);
      expect(webhook.matches('payment.sent')).toBe(true);
      expect(webhook.matches('anything')).toBe(true);
    });
    test('tracks delivery counts', () => {
      const webhook = new WebhookSubscription('url', ['*']);
      webhook.incrementDelivery(true);
      webhook.incrementDelivery(true);
      webhook.incrementDelivery(false);
      expect(webhook.deliveryCount).toBe(2);
      expect(webhook.failureCount).toBe(1);
    });
    test('calculates retry delay with exponential backoff', () => {
      const webhook = new WebhookSubscription('url', ['*']);
      const delay1 = webhook.getRetryDelay(0);
      const delay2 = webhook.getRetryDelay(1);
      const delay3 = webhook.getRetryDelay(2);
      expect(delay2).toBeGreaterThan(delay1);
      expect(delay3).toBeGreaterThan(delay2);
      expect(delay3).toBeLessThanOrEqual(webhook.retryPolicy.maxDelay);
    });
  });

  // ===========================
  // INTEGRATION CONNECTOR TESTS
  // ===========================
  describe('IntegrationConnector', () => {
    test('creates connector with name, type, and config', () => {
      const connector = new IntegrationConnector('Shopify', 'api', {
        baseURL: 'https://shopify.com/api'
      });
      expect(connector.name).toBe('Shopify');
      expect(connector.type).toBe('api');
      expect(connector.isActive).toBe(true);
    });
    test('registers field mappings', () => {
      const connector = new IntegrationConnector('Test', 'api', {});
      connector.addFieldMapping('sourceId', 'target_id');
      connector.addFieldMapping('amount', 'total_amount', val => val * 100);
      expect(connector.mappings.size).toBe(2);
    });
    test('applies field mappings', () => {
      const connector = new IntegrationConnector('Test', 'api', {});
      connector.addFieldMapping('orderId', 'order_id');
      connector.addFieldMapping('amount', 'total', val => val * 100);
      const mapped = connector.applyMappings({
        orderId: '123',
        amount: 50,
        ignoredField: 'ignored'
      });
      expect(mapped.order_id).toBe('123');
      expect(mapped.total).toBe(5000); // 50 * 100
      expect(mapped.ignoredField).toBeUndefined();
    });
    test('adds and applies filters', () => {
      const connector = new IntegrationConnector('Test', 'api', {});
      connector.addFilter('status', '==', 'active');
      connector.addFilter('amount', '>', 100);
      expect(connector.applyFilters({
        status: 'active',
        amount: 150
      })).toBe(true);
      expect(connector.applyFilters({
        status: 'inactive',
        amount: 150
      })).toBe(false);
      expect(connector.applyFilters({
        status: 'active',
        amount: 50
      })).toBe(false);
    });
    test('records synchronization', () => {
      const connector = new IntegrationConnector('Test', 'api', {});
      connector.recordSync(true);
      connector.recordSync(false);
      connector.recordSync(true);
      expect(connector.syncCount).toBe(2);
      expect(connector.errorCount).toBe(1);
      expect(connector.lastSync).toBeDefined();
    });
  });

  // ===========================
  // API INTEGRATION TESTS
  // ===========================
  describe('APIIntegration', () => {
    test('creates API integration with base URL', () => {
      const api = new APIIntegration('Shopify', 'https://shopify.com/api/v1');
      expect(api.name).toBe('Shopify');
      expect(api.baseURL).toBe('https://shopify.com/api/v1');
      expect(api.config.timeout).toBe(30000); // default
    });
    test('registers endpoints', () => {
      const api = new APIIntegration('MyAPI', 'https://api.example.com');
      api.registerEndpoint('getOrder', 'GET', '/orders/:orderId');
      api.registerEndpoint('createOrder', 'POST', '/orders');
      expect(api.endpoints.size).toBe(2);
    });
    test('retrieves registered endpoint', () => {
      const api = new APIIntegration('Test', 'https://api.test.com');
      api.registerEndpoint('getUser', 'GET', '/users/:userId');
      const endpoint = api.endpoints.get('getUser');
      expect(endpoint.method).toBe('GET');
      expect(endpoint.path).toBe('/users/:userId');
    });
    test('tracks API calls', async () => {
      const api = new APIIntegration('Test', 'https://api.test.com');
      api.registerEndpoint('test', 'GET', '/test');
      await api.call('test');
      expect(api.callCount).toBe(1);
      expect(api.lastCall).toBeDefined();
    });
    test('returns API call result', async () => {
      const api = new APIIntegration('Test', 'https://api.test.com');
      api.registerEndpoint('getUser', 'GET', '/users/:id');
      const result = await api.call('getUser', {
        id: '123'
      });
      expect(result.success).toBe(true);
      expect(result.endpoint).toBe('getUser');
      expect(result.timestamp).toBeDefined();
    });
    test('provides API summary', () => {
      const api = new APIIntegration('TestAPI', 'https://api.test.com');
      api.registerEndpoint('list', 'GET', '/items');
      api.registerEndpoint('create', 'POST', '/items');
      const summary = api.getSummary();
      expect(summary.name).toBe('TestAPI');
      expect(summary.endpoints).toBe(2);
    });
  });

  // ===========================
  // INTEGRATION SERVICE TESTS
  // ===========================
  describe('IntegrationService', () => {
    test('registers webhooks', () => {
      const webhook = integrationService.registerWebhook('https://example.com/webhook', ['order.created']);
      expect(webhook.id).toBeDefined();
      expect(webhook.url).toBe('https://example.com/webhook');
    });
    test('retrieves specific webhook', () => {
      const webhook = integrationService.registerWebhook('url', ['*']);
      const retrieved = integrationService.getWebhook(webhook.id);
      expect(retrieved).toBe(webhook);
    });
    test('retrieves all webhooks', () => {
      integrationService.registerWebhook('url1', ['order.created']);
      integrationService.registerWebhook('url2', ['payment.sent']);
      const all = integrationService.getAllWebhooks();
      expect(all.length).toBe(2);
    });
    test('updates webhook', () => {
      const webhook = integrationService.registerWebhook('url', ['order.created']);
      integrationService.updateWebhook(webhook.id, {
        events: ['order.created', 'order.updated']
      });
      const updated = integrationService.getWebhook(webhook.id);
      expect(updated.events.length).toBe(2);
    });
    test('deletes webhook', () => {
      const webhook = integrationService.registerWebhook('url', ['*']);
      integrationService.deleteWebhook(webhook.id);
      const retrieved = integrationService.getWebhook(webhook.id);
      expect(retrieved).toBeUndefined();
    });
    test('emits events', () => {
      integrationService.registerWebhook('https://webhook.test', ['order.created']);
      const event = integrationService.emitEvent('order.created', {
        orderId: '123'
      });
      expect(event).toBeDefined();
      expect(event.event).toBe('order.created');
    });
    test('stores event history', () => {
      integrationService.emitEvent('event1', {
        data: 1
      });
      integrationService.emitEvent('event2', {
        data: 2
      });
      integrationService.emitEvent('event3', {
        data: 3
      });
      const history = integrationService.getEventHistory(10);
      expect(history.length).toBe(3);
    });
    test('creates connectors', () => {
      const connector = integrationService.createConnector('Shopify', 'api', {
        baseURL: 'https://shopify.com'
      });
      expect(connector.id).toBeDefined();
      expect(connector.name).toBe('Shopify');
    });
    test('registers APIs', () => {
      const api = integrationService.registerAPI('MyAPI', 'https://api.example.com');
      expect(api.name).toBe('MyAPI');
      expect(api.baseURL).toBe('https://api.example.com');
    });
    test('retrieves registered APIs', () => {
      integrationService.registerAPI('API1', 'https://api1.com');
      integrationService.registerAPI('API2', 'https://api2.com');
      const integrations = integrationService.getAllIntegrations();
      expect(integrations.length).toBe(2);
    });
    test('registers data transformations', () => {
      const transform = data => ({
        transformed: true,
        ...data
      });
      integrationService.registerTransformation('addFlag', transform);
      const result = integrationService.applyTransformation('addFlag', {
        test: 'data'
      });
      expect(result.transformed).toBe(true);
      expect(result.test).toBe('data');
    });
    test('validates webhook signatures', () => {
      const payload = JSON.stringify({
        test: 'data'
      });
      const secret = 'test-secret';
      const signature = require('crypto').createHmac('sha256', secret).update(payload).digest('hex');
      const isValid = integrationService.validateWebhookSignature(signature, payload, secret);
      expect(isValid).toBe(true);
    });
    test('generates system statistics', () => {
      integrationService.registerWebhook('url1', ['*']);
      integrationService.registerWebhook('url2', ['*']);
      integrationService.createConnector('C1', 'api', {});
      const stats = integrationService.getStatistics();
      expect(stats.webhooks).toBe(2);
      expect(stats.connectors).toBe(1);
      expect(stats.successRate).toBeDefined();
    });
    test('generates integration health report', () => {
      integrationService.createConnector('C1', 'api', {});
      integrationService.createConnector('C2', 'api', {});
      const health = integrationService.getIntegrationHealth();
      expect(health.timestamp).toBeDefined();
      expect(health.totalConnectors).toBe(2);
      expect(health.healthPercentage).toBeDefined();
    });
    test('exports configuration', () => {
      integrationService.registerWebhook('url', ['*']);
      integrationService.createConnector('Test', 'api', {});
      const config = integrationService.exportConfiguration();
      expect(config.webhooks).toBeDefined();
      expect(config.connectors).toBeDefined();
      expect(config.statistics).toBeDefined();
    });
  });

  // ===========================
  // INTEGRATION WORKFLOW TESTS
  // ===========================
  describe('Integration Workflows', () => {
    test('complete webhook workflow', done => {
      const _webhook = integrationService.registerWebhook('https://webhook.test', ['order.created']);
      integrationService.on('order.created', event => {
        expect(event.event).toBe('order.created');
        expect(event.data.amount).toBe(500);
        done();
      });
      integrationService.emitEvent('order.created', {
        amount: 500
      });
    });
    test('connector with field mapping workflow', () => {
      const connector = integrationService.createConnector('Shopify', 'api', {});
      connector.addFieldMapping('shopifyId', 'id');
      connector.addFieldMapping('customerEmail', 'email');
      const source = {
        shopifyId: '123',
        customerEmail: 'test@example.com'
      };
      const mapped = connector.applyMappings(source);
      expect(mapped.id).toBe('123');
      expect(mapped.email).toBe('test@example.com');
    });
    test('multiple webhook deliveries', () => {
      const webhook1 = integrationService.registerWebhook('url1', ['order.*']);
      const webhook2 = integrationService.registerWebhook('url2', ['order.created']);
      const webhook3 = integrationService.registerWebhook('url3', ['payment.*']);
      const _event = integrationService.emitEvent('order.created', {});

      // Both webhook1 and webhook2 should match
      expect(webhook1.matches('order.created')).toBe(true);
      expect(webhook2.matches('order.created')).toBe(true);
      expect(webhook3.matches('order.created')).toBe(false);
    });
    test('API call with parameter substitution', async () => {
      const api = integrationService.registerAPI('TestAPI', 'https://api.test.com');
      api.registerEndpoint('getOrder', 'GET', '/orders/:orderId');
      const result = await api.call('getOrder', {
        orderId: '123'
      });
      expect(result.success).toBe(true);
    });
  });

  // ===========================
  // ERROR HANDLING TESTS
  // ===========================
  describe('Error Handling', () => {
    test('throws error for non-registered endpoint', async () => {
      const api = integrationService.registerAPI('Test', 'https://api.test.com');
      expect(() => {
        api.call('nonexistent');
      }).toThrow();
    });
    test('throws error for non-existent transformation', () => {
      expect(() => {
        integrationService.applyTransformation('nonexistent', {});
      }).toThrow();
    });
    test('throws error for non-existent connector', () => {
      expect(() => {
        integrationService.getConnector('nonexistent');
      }).toThrow();
    });
  });
});

// Skip this suite as IntegrationService is not implemented
describe.skip('Integration System - Advanced Scenarios', () => {
  let service;
  beforeEach(() => {
    // Skipped
  });
  test('handles complex data transformation pipeline', () => {
    const _connector = service.createConnector('Complex', 'api', {});

    // Register transformations
    service.registerTransformation('normalizeData', data => ({
      normalized: true,
      ...data
    }));
    service.registerTransformation('addTimestamp', data => ({
      ...data,
      timestamp: new Date()
    }));
    let data = {
      test: 'value'
    };
    data = service.applyTransformation('normalizeData', data);
    data = service.applyTransformation('addTimestamp', data);
    expect(data.normalized).toBe(true);
    expect(data.timestamp).toBeDefined();
  });
  test('manages multiple concurrent webhook deliveries', () => {
    service.registerWebhook('webhook1', ['*']);
    service.registerWebhook('webhook2', ['*']);
    service.registerWebhook('webhook3', ['*']);
    for (let i = 0; i < 10; i++) {
      service.emitEvent('test.event', {
        index: i
      });
    }
    const history = service.getEventHistory(100);
    expect(history.length).toBe(10);
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJJbnRlZ3JhdGlvblNlcnZpY2UiLCJXZWJob29rRXZlbnQiLCJXZWJob29rU3Vic2NyaXB0aW9uIiwiSW50ZWdyYXRpb25Db25uZWN0b3IiLCJBUElJbnRlZ3JhdG9yIiwicmVxdWlyZSIsImVycm9yIiwiY29uc29sZSIsIndhcm4iLCJtZXNzYWdlIiwiZGVzY3JpYmUiLCJpbnRlZ3JhdGlvblNlcnZpY2UiLCJiZWZvcmVFYWNoIiwicmVnaXN0ZXJXZWJob29rIiwicmVnaXN0ZXJBUEkiLCJyZWdpc3RlckVuZHBvaW50IiwiY2FsbCIsInRlc3QiLCJldmVudCIsIm9yZGVySWQiLCJhbW91bnQiLCJleHBlY3QiLCJ0b0JlIiwiZGF0YSIsInN0YXR1cyIsImlkIiwidG9CZURlZmluZWQiLCJldmVudDEiLCJldmVudDIiLCJub3QiLCJzZWNyZXQiLCJzaWduYXR1cmUiLCJnZW5lcmF0ZVNpZ25hdHVyZSIsImxlbmd0aCIsInRvQmVHcmVhdGVyVGhhbiIsInRyYW5zYWN0aW9uSWQiLCJwYXlsb2FkIiwiZ2V0UGF5bG9hZCIsInJldHJpZXMiLCJ3ZWJob29rIiwidXJsIiwiZXZlbnRzIiwiaXNBY3RpdmUiLCJ3ZWJob29rMSIsIndlYmhvb2syIiwibWF0Y2hlcyIsImluY3JlbWVudERlbGl2ZXJ5IiwiZGVsaXZlcnlDb3VudCIsImZhaWx1cmVDb3VudCIsImRlbGF5MSIsImdldFJldHJ5RGVsYXkiLCJkZWxheTIiLCJkZWxheTMiLCJ0b0JlTGVzc1RoYW5PckVxdWFsIiwicmV0cnlQb2xpY3kiLCJtYXhEZWxheSIsImNvbm5lY3RvciIsImJhc2VVUkwiLCJuYW1lIiwidHlwZSIsImFkZEZpZWxkTWFwcGluZyIsInZhbCIsIm1hcHBpbmdzIiwic2l6ZSIsIm1hcHBlZCIsImFwcGx5TWFwcGluZ3MiLCJpZ25vcmVkRmllbGQiLCJvcmRlcl9pZCIsInRvdGFsIiwidG9CZVVuZGVmaW5lZCIsImFkZEZpbHRlciIsImFwcGx5RmlsdGVycyIsInJlY29yZFN5bmMiLCJzeW5jQ291bnQiLCJlcnJvckNvdW50IiwibGFzdFN5bmMiLCJhcGkiLCJBUElJbnRlZ3JhdGlvbiIsImNvbmZpZyIsInRpbWVvdXQiLCJlbmRwb2ludHMiLCJlbmRwb2ludCIsImdldCIsIm1ldGhvZCIsInBhdGgiLCJjYWxsQ291bnQiLCJsYXN0Q2FsbCIsInJlc3VsdCIsInN1Y2Nlc3MiLCJ0aW1lc3RhbXAiLCJzdW1tYXJ5IiwiZ2V0U3VtbWFyeSIsInJldHJpZXZlZCIsImdldFdlYmhvb2siLCJhbGwiLCJnZXRBbGxXZWJob29rcyIsInVwZGF0ZVdlYmhvb2siLCJ1cGRhdGVkIiwiZGVsZXRlV2ViaG9vayIsImVtaXRFdmVudCIsImhpc3RvcnkiLCJnZXRFdmVudEhpc3RvcnkiLCJjcmVhdGVDb25uZWN0b3IiLCJpbnRlZ3JhdGlvbnMiLCJnZXRBbGxJbnRlZ3JhdGlvbnMiLCJ0cmFuc2Zvcm0iLCJ0cmFuc2Zvcm1lZCIsInJlZ2lzdGVyVHJhbnNmb3JtYXRpb24iLCJhcHBseVRyYW5zZm9ybWF0aW9uIiwiSlNPTiIsInN0cmluZ2lmeSIsImNyZWF0ZUhtYWMiLCJ1cGRhdGUiLCJkaWdlc3QiLCJpc1ZhbGlkIiwidmFsaWRhdGVXZWJob29rU2lnbmF0dXJlIiwic3RhdHMiLCJnZXRTdGF0aXN0aWNzIiwid2ViaG9va3MiLCJjb25uZWN0b3JzIiwic3VjY2Vzc1JhdGUiLCJoZWFsdGgiLCJnZXRJbnRlZ3JhdGlvbkhlYWx0aCIsInRvdGFsQ29ubmVjdG9ycyIsImhlYWx0aFBlcmNlbnRhZ2UiLCJleHBvcnRDb25maWd1cmF0aW9uIiwic3RhdGlzdGljcyIsImRvbmUiLCJfd2ViaG9vayIsIm9uIiwic291cmNlIiwic2hvcGlmeUlkIiwiY3VzdG9tZXJFbWFpbCIsImVtYWlsIiwid2ViaG9vazMiLCJfZXZlbnQiLCJ0b1Rocm93IiwiZ2V0Q29ubmVjdG9yIiwic2tpcCIsInNlcnZpY2UiLCJfY29ubmVjdG9yIiwibm9ybWFsaXplZCIsIkRhdGUiLCJpIiwiaW5kZXgiXSwic291cmNlcyI6WyJpbnRlZ3JhdGlvbi1zeXN0ZW0udGVzdC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICogaW50ZWdyYXRpb24tc3lzdGVtLnRlc3QuanNcclxuICogQWxBd2FlbCBFUlAgLSBJbnRlZ3JhdGlvbiBTeXN0ZW0gVGVzdCBTdWl0ZVxyXG4gKiBUZXN0aW5nIHdlYmhvb2tzLCBjb25uZWN0b3JzLCBBUEkgaW50ZWdyYXRpb25zLCBhbmQgc3luY2hyb25pemF0aW9uXHJcbiAqIEZlYnJ1YXJ5IDI0LCAyMDI2XHJcbiAqL1xyXG5cclxubGV0IEludGVncmF0aW9uU2VydmljZSwgV2ViaG9va0V2ZW50LCBXZWJob29rU3Vic2NyaXB0aW9uLCBJbnRlZ3JhdGlvbkNvbm5lY3RvciwgQVBJSW50ZWdyYXRvcjtcclxudHJ5IHtcclxuICBJbnRlZ3JhdGlvblNlcnZpY2UgPSByZXF1aXJlKCcuLi9zZXJ2aWNlcy9pbnRlZ3JhdGlvblNlcnZpY2UnKTtcclxuICBXZWJob29rRXZlbnQgPSBJbnRlZ3JhdGlvblNlcnZpY2UuV2ViaG9va0V2ZW50O1xyXG4gIFdlYmhvb2tTdWJzY3JpcHRpb24gPSBJbnRlZ3JhdGlvblNlcnZpY2UuV2ViaG9va1N1YnNjcmlwdGlvbjtcclxuICBJbnRlZ3JhdGlvbkNvbm5lY3RvciA9IEludGVncmF0aW9uU2VydmljZS5JbnRlZ3JhdGlvbkNvbm5lY3RvcjtcclxuICBBUElJbnRlZ3JhdG9yID0gSW50ZWdyYXRpb25TZXJ2aWNlLkFQSUludGVncmF0b3I7XHJcbn0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgY29uc29sZS53YXJuKCfimqDvuI8gIEludGVncmF0aW9uIHNlcnZpY2VzIG5vdCBhdmFpbGFibGU6JywgZXJyb3IubWVzc2FnZSk7XHJcbn1cclxuXHJcbmRlc2NyaWJlKCdJbnRlZ3JhdGlvbiBTeXN0ZW0gLSBDb21wcmVoZW5zaXZlIFRlc3RzJywgKCkgPT4ge1xyXG4gIGxldCBpbnRlZ3JhdGlvblNlcnZpY2U7XHJcblxyXG4gIGJlZm9yZUVhY2goKCkgPT4ge1xyXG4gICAgaWYgKEludGVncmF0aW9uU2VydmljZSkge1xyXG4gICAgICBpbnRlZ3JhdGlvblNlcnZpY2UgPSBuZXcgSW50ZWdyYXRpb25TZXJ2aWNlKCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAvLyBGYWxsYmFjayBtb2NrXHJcbiAgICAgIGludGVncmF0aW9uU2VydmljZSA9IHtcclxuICAgICAgICByZWdpc3RlcldlYmhvb2s6ICgpID0+ICh7fSksXHJcbiAgICAgICAgcmVnaXN0ZXJBUEk6ICgpID0+ICh7IHJlZ2lzdGVyRW5kcG9pbnQ6ICgpID0+IHt9LCBjYWxsOiBhc3luYyAoKSA9PiAoe30pIH0pLFxyXG4gICAgICB9O1xyXG4gICAgfVxyXG4gIH0pO1xyXG5cclxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuICAvLyBXRUJIT09LIEVWRU5UIFRFU1RTXHJcbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbiAgZGVzY3JpYmUoJ1dlYmhvb2tFdmVudCcsICgpID0+IHtcclxuICAgIHRlc3QoJ2NyZWF0ZXMgd2ViaG9vayBldmVudCB3aXRoIHZhbGlkIGRhdGEnLCAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IGV2ZW50ID0gbmV3IFdlYmhvb2tFdmVudCgnb3JkZXIuY3JlYXRlZCcsIHsgb3JkZXJJZDogJzEyMycsIGFtb3VudDogNTAwIH0pO1xyXG5cclxuICAgICAgZXhwZWN0KGV2ZW50LmV2ZW50KS50b0JlKCdvcmRlci5jcmVhdGVkJyk7XHJcbiAgICAgIGV4cGVjdChldmVudC5kYXRhLm9yZGVySWQpLnRvQmUoJzEyMycpO1xyXG4gICAgICBleHBlY3QoZXZlbnQuc3RhdHVzKS50b0JlKCdwZW5kaW5nJyk7XHJcbiAgICAgIGV4cGVjdChldmVudC5pZCkudG9CZURlZmluZWQoKTtcclxuICAgIH0pO1xyXG5cclxuICAgIHRlc3QoJ2dlbmVyYXRlcyB1bmlxdWUgZXZlbnQgSURzJywgKCkgPT4ge1xyXG4gICAgICBjb25zdCBldmVudDEgPSBuZXcgV2ViaG9va0V2ZW50KCd0ZXN0MScsIHt9KTtcclxuICAgICAgY29uc3QgZXZlbnQyID0gbmV3IFdlYmhvb2tFdmVudCgndGVzdDInLCB7fSk7XHJcblxyXG4gICAgICBleHBlY3QoZXZlbnQxLmlkKS5ub3QudG9CZShldmVudDIuaWQpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgdGVzdCgnZ2VuZXJhdGVzIEhNQUMgU0hBMjU2IHNpZ25hdHVyZScsICgpID0+IHtcclxuICAgICAgY29uc3QgZXZlbnQgPSBuZXcgV2ViaG9va0V2ZW50KCdvcmRlci5jcmVhdGVkJywgeyBhbW91bnQ6IDEwMCB9KTtcclxuICAgICAgY29uc3Qgc2VjcmV0ID0gJ3Rlc3Qtc2VjcmV0JztcclxuXHJcbiAgICAgIGNvbnN0IHNpZ25hdHVyZSA9IGV2ZW50LmdlbmVyYXRlU2lnbmF0dXJlKHNlY3JldCk7XHJcblxyXG4gICAgICBleHBlY3Qoc2lnbmF0dXJlKS50b0JlRGVmaW5lZCgpO1xyXG4gICAgICBleHBlY3Qoc2lnbmF0dXJlLmxlbmd0aCkudG9CZUdyZWF0ZXJUaGFuKDApO1xyXG4gICAgICBleHBlY3QoZXZlbnQuc2lnbmF0dXJlKS50b0JlKHNpZ25hdHVyZSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICB0ZXN0KCdwcm92aWRlcyBwYXlsb2FkIHdpdGggc2lnbmF0dXJlJywgKCkgPT4ge1xyXG4gICAgICBjb25zdCBldmVudCA9IG5ldyBXZWJob29rRXZlbnQoJ3BheW1lbnQuY29tcGxldGVkJywgeyB0cmFuc2FjdGlvbklkOiAndHgtMTIzJyB9KTtcclxuICAgICAgZXZlbnQuZ2VuZXJhdGVTaWduYXR1cmUoJ3NlY3JldCcpO1xyXG5cclxuICAgICAgY29uc3QgcGF5bG9hZCA9IGV2ZW50LmdldFBheWxvYWQoKTtcclxuXHJcbiAgICAgIGV4cGVjdChwYXlsb2FkLmlkKS50b0JlKGV2ZW50LmlkKTtcclxuICAgICAgZXhwZWN0KHBheWxvYWQuZXZlbnQpLnRvQmUoJ3BheW1lbnQuY29tcGxldGVkJyk7XHJcbiAgICAgIGV4cGVjdChwYXlsb2FkLnNpZ25hdHVyZSkudG9CZURlZmluZWQoKTtcclxuICAgIH0pO1xyXG5cclxuICAgIHRlc3QoJ3RyYWNrcyByZXRyeSBhdHRlbXB0cycsICgpID0+IHtcclxuICAgICAgY29uc3QgZXZlbnQgPSBuZXcgV2ViaG9va0V2ZW50KCd0ZXN0Jywge30pO1xyXG5cclxuICAgICAgZXhwZWN0KGV2ZW50LnJldHJpZXMpLnRvQmUoMCk7XHJcblxyXG4gICAgICBldmVudC5yZXRyaWVzID0gMTtcclxuICAgICAgZXZlbnQuc3RhdHVzID0gJ3JldHJ5aW5nJztcclxuXHJcbiAgICAgIGV4cGVjdChldmVudC5yZXRyaWVzKS50b0JlKDEpO1xyXG4gICAgICBleHBlY3QoZXZlbnQuc3RhdHVzKS50b0JlKCdyZXRyeWluZycpO1xyXG4gICAgfSk7XHJcbiAgfSk7XHJcblxyXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4gIC8vIFdFQkhPT0sgU1VCU0NSSVBUSU9OIFRFU1RTXHJcbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbiAgZGVzY3JpYmUoJ1dlYmhvb2tTdWJzY3JpcHRpb24nLCAoKSA9PiB7XHJcbiAgICB0ZXN0KCdjcmVhdGVzIHN1YnNjcmlwdGlvbiB3aXRoIFVSTCBhbmQgZXZlbnRzJywgKCkgPT4ge1xyXG4gICAgICBjb25zdCB3ZWJob29rID0gbmV3IFdlYmhvb2tTdWJzY3JpcHRpb24oXHJcbiAgICAgICAgJ2h0dHBzOi8vZXhhbXBsZS5jb20vd2ViaG9va3MnLFxyXG4gICAgICAgIFsnb3JkZXIuY3JlYXRlZCcsICdvcmRlci51cGRhdGVkJ11cclxuICAgICAgKTtcclxuXHJcbiAgICAgIGV4cGVjdCh3ZWJob29rLnVybCkudG9CZSgnaHR0cHM6Ly9leGFtcGxlLmNvbS93ZWJob29rcycpO1xyXG4gICAgICBleHBlY3Qod2ViaG9vay5ldmVudHMubGVuZ3RoKS50b0JlKDIpO1xyXG4gICAgICBleHBlY3Qod2ViaG9vay5pc0FjdGl2ZSkudG9CZSh0cnVlKTtcclxuICAgIH0pO1xyXG5cclxuICAgIHRlc3QoJ2dlbmVyYXRlcyB1bmlxdWUgc2VjcmV0JywgKCkgPT4ge1xyXG4gICAgICBjb25zdCB3ZWJob29rMSA9IG5ldyBXZWJob29rU3Vic2NyaXB0aW9uKCd1cmwxJywgWycqJ10pO1xyXG4gICAgICBjb25zdCB3ZWJob29rMiA9IG5ldyBXZWJob29rU3Vic2NyaXB0aW9uKCd1cmwyJywgWycqJ10pO1xyXG5cclxuICAgICAgZXhwZWN0KHdlYmhvb2sxLnNlY3JldCkubm90LnRvQmUod2ViaG9vazIuc2VjcmV0KTtcclxuICAgIH0pO1xyXG5cclxuICAgIHRlc3QoJ21hdGNoZXMgZXZlbnRzIGNvcnJlY3RseScsICgpID0+IHtcclxuICAgICAgY29uc3Qgd2ViaG9vayA9IG5ldyBXZWJob29rU3Vic2NyaXB0aW9uKCd1cmwnLCBbJ29yZGVyLmNyZWF0ZWQnLCAnb3JkZXIuZGVsZXRlZCddKTtcclxuXHJcbiAgICAgIGV4cGVjdCh3ZWJob29rLm1hdGNoZXMoJ29yZGVyLmNyZWF0ZWQnKSkudG9CZSh0cnVlKTtcclxuICAgICAgZXhwZWN0KHdlYmhvb2subWF0Y2hlcygnb3JkZXIuZGVsZXRlZCcpKS50b0JlKHRydWUpO1xyXG4gICAgICBleHBlY3Qod2ViaG9vay5tYXRjaGVzKCdvcmRlci51cGRhdGVkJykpLnRvQmUoZmFsc2UpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgdGVzdCgnbWF0Y2hlcyB3aWxkY2FyZCBldmVudHMnLCAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IHdlYmhvb2sgPSBuZXcgV2ViaG9va1N1YnNjcmlwdGlvbigndXJsJywgWycqJ10pO1xyXG5cclxuICAgICAgZXhwZWN0KHdlYmhvb2subWF0Y2hlcygnb3JkZXIuY3JlYXRlZCcpKS50b0JlKHRydWUpO1xyXG4gICAgICBleHBlY3Qod2ViaG9vay5tYXRjaGVzKCdwYXltZW50LnNlbnQnKSkudG9CZSh0cnVlKTtcclxuICAgICAgZXhwZWN0KHdlYmhvb2subWF0Y2hlcygnYW55dGhpbmcnKSkudG9CZSh0cnVlKTtcclxuICAgIH0pO1xyXG5cclxuICAgIHRlc3QoJ3RyYWNrcyBkZWxpdmVyeSBjb3VudHMnLCAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IHdlYmhvb2sgPSBuZXcgV2ViaG9va1N1YnNjcmlwdGlvbigndXJsJywgWycqJ10pO1xyXG5cclxuICAgICAgd2ViaG9vay5pbmNyZW1lbnREZWxpdmVyeSh0cnVlKTtcclxuICAgICAgd2ViaG9vay5pbmNyZW1lbnREZWxpdmVyeSh0cnVlKTtcclxuICAgICAgd2ViaG9vay5pbmNyZW1lbnREZWxpdmVyeShmYWxzZSk7XHJcblxyXG4gICAgICBleHBlY3Qod2ViaG9vay5kZWxpdmVyeUNvdW50KS50b0JlKDIpO1xyXG4gICAgICBleHBlY3Qod2ViaG9vay5mYWlsdXJlQ291bnQpLnRvQmUoMSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICB0ZXN0KCdjYWxjdWxhdGVzIHJldHJ5IGRlbGF5IHdpdGggZXhwb25lbnRpYWwgYmFja29mZicsICgpID0+IHtcclxuICAgICAgY29uc3Qgd2ViaG9vayA9IG5ldyBXZWJob29rU3Vic2NyaXB0aW9uKCd1cmwnLCBbJyonXSk7XHJcblxyXG4gICAgICBjb25zdCBkZWxheTEgPSB3ZWJob29rLmdldFJldHJ5RGVsYXkoMCk7XHJcbiAgICAgIGNvbnN0IGRlbGF5MiA9IHdlYmhvb2suZ2V0UmV0cnlEZWxheSgxKTtcclxuICAgICAgY29uc3QgZGVsYXkzID0gd2ViaG9vay5nZXRSZXRyeURlbGF5KDIpO1xyXG5cclxuICAgICAgZXhwZWN0KGRlbGF5MikudG9CZUdyZWF0ZXJUaGFuKGRlbGF5MSk7XHJcbiAgICAgIGV4cGVjdChkZWxheTMpLnRvQmVHcmVhdGVyVGhhbihkZWxheTIpO1xyXG4gICAgICBleHBlY3QoZGVsYXkzKS50b0JlTGVzc1RoYW5PckVxdWFsKHdlYmhvb2sucmV0cnlQb2xpY3kubWF4RGVsYXkpO1xyXG4gICAgfSk7XHJcbiAgfSk7XHJcblxyXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4gIC8vIElOVEVHUkFUSU9OIENPTk5FQ1RPUiBURVNUU1xyXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4gIGRlc2NyaWJlKCdJbnRlZ3JhdGlvbkNvbm5lY3RvcicsICgpID0+IHtcclxuICAgIHRlc3QoJ2NyZWF0ZXMgY29ubmVjdG9yIHdpdGggbmFtZSwgdHlwZSwgYW5kIGNvbmZpZycsICgpID0+IHtcclxuICAgICAgY29uc3QgY29ubmVjdG9yID0gbmV3IEludGVncmF0aW9uQ29ubmVjdG9yKFxyXG4gICAgICAgICdTaG9waWZ5JyxcclxuICAgICAgICAnYXBpJyxcclxuICAgICAgICB7IGJhc2VVUkw6ICdodHRwczovL3Nob3BpZnkuY29tL2FwaScgfVxyXG4gICAgICApO1xyXG5cclxuICAgICAgZXhwZWN0KGNvbm5lY3Rvci5uYW1lKS50b0JlKCdTaG9waWZ5Jyk7XHJcbiAgICAgIGV4cGVjdChjb25uZWN0b3IudHlwZSkudG9CZSgnYXBpJyk7XHJcbiAgICAgIGV4cGVjdChjb25uZWN0b3IuaXNBY3RpdmUpLnRvQmUodHJ1ZSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICB0ZXN0KCdyZWdpc3RlcnMgZmllbGQgbWFwcGluZ3MnLCAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IGNvbm5lY3RvciA9IG5ldyBJbnRlZ3JhdGlvbkNvbm5lY3RvcignVGVzdCcsICdhcGknLCB7fSk7XHJcblxyXG4gICAgICBjb25uZWN0b3IuYWRkRmllbGRNYXBwaW5nKCdzb3VyY2VJZCcsICd0YXJnZXRfaWQnKTtcclxuICAgICAgY29ubmVjdG9yLmFkZEZpZWxkTWFwcGluZygnYW1vdW50JywgJ3RvdGFsX2Ftb3VudCcsICh2YWwpID0+IHZhbCAqIDEwMCk7XHJcblxyXG4gICAgICBleHBlY3QoY29ubmVjdG9yLm1hcHBpbmdzLnNpemUpLnRvQmUoMik7XHJcbiAgICB9KTtcclxuXHJcbiAgICB0ZXN0KCdhcHBsaWVzIGZpZWxkIG1hcHBpbmdzJywgKCkgPT4ge1xyXG4gICAgICBjb25zdCBjb25uZWN0b3IgPSBuZXcgSW50ZWdyYXRpb25Db25uZWN0b3IoJ1Rlc3QnLCAnYXBpJywge30pO1xyXG5cclxuICAgICAgY29ubmVjdG9yLmFkZEZpZWxkTWFwcGluZygnb3JkZXJJZCcsICdvcmRlcl9pZCcpO1xyXG4gICAgICBjb25uZWN0b3IuYWRkRmllbGRNYXBwaW5nKCdhbW91bnQnLCAndG90YWwnLCAodmFsKSA9PiB2YWwgKiAxMDApO1xyXG5cclxuICAgICAgY29uc3QgbWFwcGVkID0gY29ubmVjdG9yLmFwcGx5TWFwcGluZ3Moe1xyXG4gICAgICAgIG9yZGVySWQ6ICcxMjMnLFxyXG4gICAgICAgIGFtb3VudDogNTAsXHJcbiAgICAgICAgaWdub3JlZEZpZWxkOiAnaWdub3JlZCdcclxuICAgICAgfSk7XHJcblxyXG4gICAgICBleHBlY3QobWFwcGVkLm9yZGVyX2lkKS50b0JlKCcxMjMnKTtcclxuICAgICAgZXhwZWN0KG1hcHBlZC50b3RhbCkudG9CZSg1MDAwKTsgLy8gNTAgKiAxMDBcclxuICAgICAgZXhwZWN0KG1hcHBlZC5pZ25vcmVkRmllbGQpLnRvQmVVbmRlZmluZWQoKTtcclxuICAgIH0pO1xyXG5cclxuICAgIHRlc3QoJ2FkZHMgYW5kIGFwcGxpZXMgZmlsdGVycycsICgpID0+IHtcclxuICAgICAgY29uc3QgY29ubmVjdG9yID0gbmV3IEludGVncmF0aW9uQ29ubmVjdG9yKCdUZXN0JywgJ2FwaScsIHt9KTtcclxuXHJcbiAgICAgIGNvbm5lY3Rvci5hZGRGaWx0ZXIoJ3N0YXR1cycsICc9PScsICdhY3RpdmUnKTtcclxuICAgICAgY29ubmVjdG9yLmFkZEZpbHRlcignYW1vdW50JywgJz4nLCAxMDApO1xyXG5cclxuICAgICAgZXhwZWN0KGNvbm5lY3Rvci5hcHBseUZpbHRlcnMoeyBzdGF0dXM6ICdhY3RpdmUnLCBhbW91bnQ6IDE1MCB9KSkudG9CZSh0cnVlKTtcclxuICAgICAgZXhwZWN0KGNvbm5lY3Rvci5hcHBseUZpbHRlcnMoeyBzdGF0dXM6ICdpbmFjdGl2ZScsIGFtb3VudDogMTUwIH0pKS50b0JlKGZhbHNlKTtcclxuICAgICAgZXhwZWN0KGNvbm5lY3Rvci5hcHBseUZpbHRlcnMoeyBzdGF0dXM6ICdhY3RpdmUnLCBhbW91bnQ6IDUwIH0pKS50b0JlKGZhbHNlKTtcclxuICAgIH0pO1xyXG5cclxuICAgIHRlc3QoJ3JlY29yZHMgc3luY2hyb25pemF0aW9uJywgKCkgPT4ge1xyXG4gICAgICBjb25zdCBjb25uZWN0b3IgPSBuZXcgSW50ZWdyYXRpb25Db25uZWN0b3IoJ1Rlc3QnLCAnYXBpJywge30pO1xyXG5cclxuICAgICAgY29ubmVjdG9yLnJlY29yZFN5bmModHJ1ZSk7XHJcbiAgICAgIGNvbm5lY3Rvci5yZWNvcmRTeW5jKGZhbHNlKTtcclxuICAgICAgY29ubmVjdG9yLnJlY29yZFN5bmModHJ1ZSk7XHJcblxyXG4gICAgICBleHBlY3QoY29ubmVjdG9yLnN5bmNDb3VudCkudG9CZSgyKTtcclxuICAgICAgZXhwZWN0KGNvbm5lY3Rvci5lcnJvckNvdW50KS50b0JlKDEpO1xyXG4gICAgICBleHBlY3QoY29ubmVjdG9yLmxhc3RTeW5jKS50b0JlRGVmaW5lZCgpO1xyXG4gICAgfSk7XHJcbiAgfSk7XHJcblxyXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4gIC8vIEFQSSBJTlRFR1JBVElPTiBURVNUU1xyXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4gIGRlc2NyaWJlKCdBUElJbnRlZ3JhdGlvbicsICgpID0+IHtcclxuICAgIHRlc3QoJ2NyZWF0ZXMgQVBJIGludGVncmF0aW9uIHdpdGggYmFzZSBVUkwnLCAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IGFwaSA9IG5ldyBBUElJbnRlZ3JhdGlvbignU2hvcGlmeScsICdodHRwczovL3Nob3BpZnkuY29tL2FwaS92MScpO1xyXG5cclxuICAgICAgZXhwZWN0KGFwaS5uYW1lKS50b0JlKCdTaG9waWZ5Jyk7XHJcbiAgICAgIGV4cGVjdChhcGkuYmFzZVVSTCkudG9CZSgnaHR0cHM6Ly9zaG9waWZ5LmNvbS9hcGkvdjEnKTtcclxuICAgICAgZXhwZWN0KGFwaS5jb25maWcudGltZW91dCkudG9CZSgzMDAwMCk7IC8vIGRlZmF1bHRcclxuICAgIH0pO1xyXG5cclxuICAgIHRlc3QoJ3JlZ2lzdGVycyBlbmRwb2ludHMnLCAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IGFwaSA9IG5ldyBBUElJbnRlZ3JhdGlvbignTXlBUEknLCAnaHR0cHM6Ly9hcGkuZXhhbXBsZS5jb20nKTtcclxuXHJcbiAgICAgIGFwaS5yZWdpc3RlckVuZHBvaW50KCdnZXRPcmRlcicsICdHRVQnLCAnL29yZGVycy86b3JkZXJJZCcpO1xyXG4gICAgICBhcGkucmVnaXN0ZXJFbmRwb2ludCgnY3JlYXRlT3JkZXInLCAnUE9TVCcsICcvb3JkZXJzJyk7XHJcblxyXG4gICAgICBleHBlY3QoYXBpLmVuZHBvaW50cy5zaXplKS50b0JlKDIpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgdGVzdCgncmV0cmlldmVzIHJlZ2lzdGVyZWQgZW5kcG9pbnQnLCAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IGFwaSA9IG5ldyBBUElJbnRlZ3JhdGlvbignVGVzdCcsICdodHRwczovL2FwaS50ZXN0LmNvbScpO1xyXG5cclxuICAgICAgYXBpLnJlZ2lzdGVyRW5kcG9pbnQoJ2dldFVzZXInLCAnR0VUJywgJy91c2Vycy86dXNlcklkJyk7XHJcblxyXG4gICAgICBjb25zdCBlbmRwb2ludCA9IGFwaS5lbmRwb2ludHMuZ2V0KCdnZXRVc2VyJyk7XHJcblxyXG4gICAgICBleHBlY3QoZW5kcG9pbnQubWV0aG9kKS50b0JlKCdHRVQnKTtcclxuICAgICAgZXhwZWN0KGVuZHBvaW50LnBhdGgpLnRvQmUoJy91c2Vycy86dXNlcklkJyk7XHJcbiAgICB9KTtcclxuXHJcbiAgICB0ZXN0KCd0cmFja3MgQVBJIGNhbGxzJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICBjb25zdCBhcGkgPSBuZXcgQVBJSW50ZWdyYXRpb24oJ1Rlc3QnLCAnaHR0cHM6Ly9hcGkudGVzdC5jb20nKTtcclxuXHJcbiAgICAgIGFwaS5yZWdpc3RlckVuZHBvaW50KCd0ZXN0JywgJ0dFVCcsICcvdGVzdCcpO1xyXG5cclxuICAgICAgYXdhaXQgYXBpLmNhbGwoJ3Rlc3QnKTtcclxuXHJcbiAgICAgIGV4cGVjdChhcGkuY2FsbENvdW50KS50b0JlKDEpO1xyXG4gICAgICBleHBlY3QoYXBpLmxhc3RDYWxsKS50b0JlRGVmaW5lZCgpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgdGVzdCgncmV0dXJucyBBUEkgY2FsbCByZXN1bHQnLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IGFwaSA9IG5ldyBBUElJbnRlZ3JhdGlvbignVGVzdCcsICdodHRwczovL2FwaS50ZXN0LmNvbScpO1xyXG5cclxuICAgICAgYXBpLnJlZ2lzdGVyRW5kcG9pbnQoJ2dldFVzZXInLCAnR0VUJywgJy91c2Vycy86aWQnKTtcclxuXHJcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGFwaS5jYWxsKCdnZXRVc2VyJywgeyBpZDogJzEyMycgfSk7XHJcblxyXG4gICAgICBleHBlY3QocmVzdWx0LnN1Y2Nlc3MpLnRvQmUodHJ1ZSk7XHJcbiAgICAgIGV4cGVjdChyZXN1bHQuZW5kcG9pbnQpLnRvQmUoJ2dldFVzZXInKTtcclxuICAgICAgZXhwZWN0KHJlc3VsdC50aW1lc3RhbXApLnRvQmVEZWZpbmVkKCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICB0ZXN0KCdwcm92aWRlcyBBUEkgc3VtbWFyeScsICgpID0+IHtcclxuICAgICAgY29uc3QgYXBpID0gbmV3IEFQSUludGVncmF0aW9uKCdUZXN0QVBJJywgJ2h0dHBzOi8vYXBpLnRlc3QuY29tJyk7XHJcblxyXG4gICAgICBhcGkucmVnaXN0ZXJFbmRwb2ludCgnbGlzdCcsICdHRVQnLCAnL2l0ZW1zJyk7XHJcbiAgICAgIGFwaS5yZWdpc3RlckVuZHBvaW50KCdjcmVhdGUnLCAnUE9TVCcsICcvaXRlbXMnKTtcclxuXHJcbiAgICAgIGNvbnN0IHN1bW1hcnkgPSBhcGkuZ2V0U3VtbWFyeSgpO1xyXG5cclxuICAgICAgZXhwZWN0KHN1bW1hcnkubmFtZSkudG9CZSgnVGVzdEFQSScpO1xyXG4gICAgICBleHBlY3Qoc3VtbWFyeS5lbmRwb2ludHMpLnRvQmUoMik7XHJcbiAgICB9KTtcclxuICB9KTtcclxuXHJcbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbiAgLy8gSU5URUdSQVRJT04gU0VSVklDRSBURVNUU1xyXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4gIGRlc2NyaWJlKCdJbnRlZ3JhdGlvblNlcnZpY2UnLCAoKSA9PiB7XHJcbiAgICB0ZXN0KCdyZWdpc3RlcnMgd2ViaG9va3MnLCAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IHdlYmhvb2sgPSBpbnRlZ3JhdGlvblNlcnZpY2UucmVnaXN0ZXJXZWJob29rKFxyXG4gICAgICAgICdodHRwczovL2V4YW1wbGUuY29tL3dlYmhvb2snLFxyXG4gICAgICAgIFsnb3JkZXIuY3JlYXRlZCddXHJcbiAgICAgICk7XHJcblxyXG4gICAgICBleHBlY3Qod2ViaG9vay5pZCkudG9CZURlZmluZWQoKTtcclxuICAgICAgZXhwZWN0KHdlYmhvb2sudXJsKS50b0JlKCdodHRwczovL2V4YW1wbGUuY29tL3dlYmhvb2snKTtcclxuICAgIH0pO1xyXG5cclxuICAgIHRlc3QoJ3JldHJpZXZlcyBzcGVjaWZpYyB3ZWJob29rJywgKCkgPT4ge1xyXG4gICAgICBjb25zdCB3ZWJob29rID0gaW50ZWdyYXRpb25TZXJ2aWNlLnJlZ2lzdGVyV2ViaG9vaygndXJsJywgWycqJ10pO1xyXG5cclxuICAgICAgY29uc3QgcmV0cmlldmVkID0gaW50ZWdyYXRpb25TZXJ2aWNlLmdldFdlYmhvb2sod2ViaG9vay5pZCk7XHJcblxyXG4gICAgICBleHBlY3QocmV0cmlldmVkKS50b0JlKHdlYmhvb2spO1xyXG4gICAgfSk7XHJcblxyXG4gICAgdGVzdCgncmV0cmlldmVzIGFsbCB3ZWJob29rcycsICgpID0+IHtcclxuICAgICAgaW50ZWdyYXRpb25TZXJ2aWNlLnJlZ2lzdGVyV2ViaG9vaygndXJsMScsIFsnb3JkZXIuY3JlYXRlZCddKTtcclxuICAgICAgaW50ZWdyYXRpb25TZXJ2aWNlLnJlZ2lzdGVyV2ViaG9vaygndXJsMicsIFsncGF5bWVudC5zZW50J10pO1xyXG5cclxuICAgICAgY29uc3QgYWxsID0gaW50ZWdyYXRpb25TZXJ2aWNlLmdldEFsbFdlYmhvb2tzKCk7XHJcblxyXG4gICAgICBleHBlY3QoYWxsLmxlbmd0aCkudG9CZSgyKTtcclxuICAgIH0pO1xyXG5cclxuICAgIHRlc3QoJ3VwZGF0ZXMgd2ViaG9vaycsICgpID0+IHtcclxuICAgICAgY29uc3Qgd2ViaG9vayA9IGludGVncmF0aW9uU2VydmljZS5yZWdpc3RlcldlYmhvb2soJ3VybCcsIFsnb3JkZXIuY3JlYXRlZCddKTtcclxuXHJcbiAgICAgIGludGVncmF0aW9uU2VydmljZS51cGRhdGVXZWJob29rKHdlYmhvb2suaWQsIHtcclxuICAgICAgICBldmVudHM6IFsnb3JkZXIuY3JlYXRlZCcsICdvcmRlci51cGRhdGVkJ11cclxuICAgICAgfSk7XHJcblxyXG4gICAgICBjb25zdCB1cGRhdGVkID0gaW50ZWdyYXRpb25TZXJ2aWNlLmdldFdlYmhvb2sod2ViaG9vay5pZCk7XHJcblxyXG4gICAgICBleHBlY3QodXBkYXRlZC5ldmVudHMubGVuZ3RoKS50b0JlKDIpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgdGVzdCgnZGVsZXRlcyB3ZWJob29rJywgKCkgPT4ge1xyXG4gICAgICBjb25zdCB3ZWJob29rID0gaW50ZWdyYXRpb25TZXJ2aWNlLnJlZ2lzdGVyV2ViaG9vaygndXJsJywgWycqJ10pO1xyXG5cclxuICAgICAgaW50ZWdyYXRpb25TZXJ2aWNlLmRlbGV0ZVdlYmhvb2sod2ViaG9vay5pZCk7XHJcblxyXG4gICAgICBjb25zdCByZXRyaWV2ZWQgPSBpbnRlZ3JhdGlvblNlcnZpY2UuZ2V0V2ViaG9vayh3ZWJob29rLmlkKTtcclxuXHJcbiAgICAgIGV4cGVjdChyZXRyaWV2ZWQpLnRvQmVVbmRlZmluZWQoKTtcclxuICAgIH0pO1xyXG5cclxuICAgIHRlc3QoJ2VtaXRzIGV2ZW50cycsICgpID0+IHtcclxuICAgICAgaW50ZWdyYXRpb25TZXJ2aWNlLnJlZ2lzdGVyV2ViaG9vaygnaHR0cHM6Ly93ZWJob29rLnRlc3QnLCBbJ29yZGVyLmNyZWF0ZWQnXSk7XHJcblxyXG4gICAgICBjb25zdCBldmVudCA9IGludGVncmF0aW9uU2VydmljZS5lbWl0RXZlbnQoJ29yZGVyLmNyZWF0ZWQnLCB7IG9yZGVySWQ6ICcxMjMnIH0pO1xyXG5cclxuICAgICAgZXhwZWN0KGV2ZW50KS50b0JlRGVmaW5lZCgpO1xyXG4gICAgICBleHBlY3QoZXZlbnQuZXZlbnQpLnRvQmUoJ29yZGVyLmNyZWF0ZWQnKTtcclxuICAgIH0pO1xyXG5cclxuICAgIHRlc3QoJ3N0b3JlcyBldmVudCBoaXN0b3J5JywgKCkgPT4ge1xyXG4gICAgICBpbnRlZ3JhdGlvblNlcnZpY2UuZW1pdEV2ZW50KCdldmVudDEnLCB7IGRhdGE6IDEgfSk7XHJcbiAgICAgIGludGVncmF0aW9uU2VydmljZS5lbWl0RXZlbnQoJ2V2ZW50MicsIHsgZGF0YTogMiB9KTtcclxuICAgICAgaW50ZWdyYXRpb25TZXJ2aWNlLmVtaXRFdmVudCgnZXZlbnQzJywgeyBkYXRhOiAzIH0pO1xyXG5cclxuICAgICAgY29uc3QgaGlzdG9yeSA9IGludGVncmF0aW9uU2VydmljZS5nZXRFdmVudEhpc3RvcnkoMTApO1xyXG5cclxuICAgICAgZXhwZWN0KGhpc3RvcnkubGVuZ3RoKS50b0JlKDMpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgdGVzdCgnY3JlYXRlcyBjb25uZWN0b3JzJywgKCkgPT4ge1xyXG4gICAgICBjb25zdCBjb25uZWN0b3IgPSBpbnRlZ3JhdGlvblNlcnZpY2UuY3JlYXRlQ29ubmVjdG9yKFxyXG4gICAgICAgICdTaG9waWZ5JyxcclxuICAgICAgICAnYXBpJyxcclxuICAgICAgICB7IGJhc2VVUkw6ICdodHRwczovL3Nob3BpZnkuY29tJyB9XHJcbiAgICAgICk7XHJcblxyXG4gICAgICBleHBlY3QoY29ubmVjdG9yLmlkKS50b0JlRGVmaW5lZCgpO1xyXG4gICAgICBleHBlY3QoY29ubmVjdG9yLm5hbWUpLnRvQmUoJ1Nob3BpZnknKTtcclxuICAgIH0pO1xyXG5cclxuICAgIHRlc3QoJ3JlZ2lzdGVycyBBUElzJywgKCkgPT4ge1xyXG4gICAgICBjb25zdCBhcGkgPSBpbnRlZ3JhdGlvblNlcnZpY2UucmVnaXN0ZXJBUEkoXHJcbiAgICAgICAgJ015QVBJJyxcclxuICAgICAgICAnaHR0cHM6Ly9hcGkuZXhhbXBsZS5jb20nXHJcbiAgICAgICk7XHJcblxyXG4gICAgICBleHBlY3QoYXBpLm5hbWUpLnRvQmUoJ015QVBJJyk7XHJcbiAgICAgIGV4cGVjdChhcGkuYmFzZVVSTCkudG9CZSgnaHR0cHM6Ly9hcGkuZXhhbXBsZS5jb20nKTtcclxuICAgIH0pO1xyXG5cclxuICAgIHRlc3QoJ3JldHJpZXZlcyByZWdpc3RlcmVkIEFQSXMnLCAoKSA9PiB7XHJcbiAgICAgIGludGVncmF0aW9uU2VydmljZS5yZWdpc3RlckFQSSgnQVBJMScsICdodHRwczovL2FwaTEuY29tJyk7XHJcbiAgICAgIGludGVncmF0aW9uU2VydmljZS5yZWdpc3RlckFQSSgnQVBJMicsICdodHRwczovL2FwaTIuY29tJyk7XHJcblxyXG4gICAgICBjb25zdCBpbnRlZ3JhdGlvbnMgPSBpbnRlZ3JhdGlvblNlcnZpY2UuZ2V0QWxsSW50ZWdyYXRpb25zKCk7XHJcblxyXG4gICAgICBleHBlY3QoaW50ZWdyYXRpb25zLmxlbmd0aCkudG9CZSgyKTtcclxuICAgIH0pO1xyXG5cclxuICAgIHRlc3QoJ3JlZ2lzdGVycyBkYXRhIHRyYW5zZm9ybWF0aW9ucycsICgpID0+IHtcclxuICAgICAgY29uc3QgdHJhbnNmb3JtID0gKGRhdGEpID0+ICh7IHRyYW5zZm9ybWVkOiB0cnVlLCAuLi5kYXRhIH0pO1xyXG5cclxuICAgICAgaW50ZWdyYXRpb25TZXJ2aWNlLnJlZ2lzdGVyVHJhbnNmb3JtYXRpb24oJ2FkZEZsYWcnLCB0cmFuc2Zvcm0pO1xyXG5cclxuICAgICAgY29uc3QgcmVzdWx0ID0gaW50ZWdyYXRpb25TZXJ2aWNlLmFwcGx5VHJhbnNmb3JtYXRpb24oJ2FkZEZsYWcnLCB7IHRlc3Q6ICdkYXRhJyB9KTtcclxuXHJcbiAgICAgIGV4cGVjdChyZXN1bHQudHJhbnNmb3JtZWQpLnRvQmUodHJ1ZSk7XHJcbiAgICAgIGV4cGVjdChyZXN1bHQudGVzdCkudG9CZSgnZGF0YScpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgdGVzdCgndmFsaWRhdGVzIHdlYmhvb2sgc2lnbmF0dXJlcycsICgpID0+IHtcclxuICAgICAgY29uc3QgcGF5bG9hZCA9IEpTT04uc3RyaW5naWZ5KHsgdGVzdDogJ2RhdGEnIH0pO1xyXG4gICAgICBjb25zdCBzZWNyZXQgPSAndGVzdC1zZWNyZXQnO1xyXG5cclxuICAgICAgY29uc3Qgc2lnbmF0dXJlID0gcmVxdWlyZSgnY3J5cHRvJylcclxuICAgICAgICAuY3JlYXRlSG1hYygnc2hhMjU2Jywgc2VjcmV0KVxyXG4gICAgICAgIC51cGRhdGUocGF5bG9hZClcclxuICAgICAgICAuZGlnZXN0KCdoZXgnKTtcclxuXHJcbiAgICAgIGNvbnN0IGlzVmFsaWQgPSBpbnRlZ3JhdGlvblNlcnZpY2UudmFsaWRhdGVXZWJob29rU2lnbmF0dXJlKFxyXG4gICAgICAgIHNpZ25hdHVyZSxcclxuICAgICAgICBwYXlsb2FkLFxyXG4gICAgICAgIHNlY3JldFxyXG4gICAgICApO1xyXG5cclxuICAgICAgZXhwZWN0KGlzVmFsaWQpLnRvQmUodHJ1ZSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICB0ZXN0KCdnZW5lcmF0ZXMgc3lzdGVtIHN0YXRpc3RpY3MnLCAoKSA9PiB7XHJcbiAgICAgIGludGVncmF0aW9uU2VydmljZS5yZWdpc3RlcldlYmhvb2soJ3VybDEnLCBbJyonXSk7XHJcbiAgICAgIGludGVncmF0aW9uU2VydmljZS5yZWdpc3RlcldlYmhvb2soJ3VybDInLCBbJyonXSk7XHJcbiAgICAgIGludGVncmF0aW9uU2VydmljZS5jcmVhdGVDb25uZWN0b3IoJ0MxJywgJ2FwaScsIHt9KTtcclxuXHJcbiAgICAgIGNvbnN0IHN0YXRzID0gaW50ZWdyYXRpb25TZXJ2aWNlLmdldFN0YXRpc3RpY3MoKTtcclxuXHJcbiAgICAgIGV4cGVjdChzdGF0cy53ZWJob29rcykudG9CZSgyKTtcclxuICAgICAgZXhwZWN0KHN0YXRzLmNvbm5lY3RvcnMpLnRvQmUoMSk7XHJcbiAgICAgIGV4cGVjdChzdGF0cy5zdWNjZXNzUmF0ZSkudG9CZURlZmluZWQoKTtcclxuICAgIH0pO1xyXG5cclxuICAgIHRlc3QoJ2dlbmVyYXRlcyBpbnRlZ3JhdGlvbiBoZWFsdGggcmVwb3J0JywgKCkgPT4ge1xyXG4gICAgICBpbnRlZ3JhdGlvblNlcnZpY2UuY3JlYXRlQ29ubmVjdG9yKCdDMScsICdhcGknLCB7fSk7XHJcbiAgICAgIGludGVncmF0aW9uU2VydmljZS5jcmVhdGVDb25uZWN0b3IoJ0MyJywgJ2FwaScsIHt9KTtcclxuXHJcbiAgICAgIGNvbnN0IGhlYWx0aCA9IGludGVncmF0aW9uU2VydmljZS5nZXRJbnRlZ3JhdGlvbkhlYWx0aCgpO1xyXG5cclxuICAgICAgZXhwZWN0KGhlYWx0aC50aW1lc3RhbXApLnRvQmVEZWZpbmVkKCk7XHJcbiAgICAgIGV4cGVjdChoZWFsdGgudG90YWxDb25uZWN0b3JzKS50b0JlKDIpO1xyXG4gICAgICBleHBlY3QoaGVhbHRoLmhlYWx0aFBlcmNlbnRhZ2UpLnRvQmVEZWZpbmVkKCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICB0ZXN0KCdleHBvcnRzIGNvbmZpZ3VyYXRpb24nLCAoKSA9PiB7XHJcbiAgICAgIGludGVncmF0aW9uU2VydmljZS5yZWdpc3RlcldlYmhvb2soJ3VybCcsIFsnKiddKTtcclxuICAgICAgaW50ZWdyYXRpb25TZXJ2aWNlLmNyZWF0ZUNvbm5lY3RvcignVGVzdCcsICdhcGknLCB7fSk7XHJcblxyXG4gICAgICBjb25zdCBjb25maWcgPSBpbnRlZ3JhdGlvblNlcnZpY2UuZXhwb3J0Q29uZmlndXJhdGlvbigpO1xyXG5cclxuICAgICAgZXhwZWN0KGNvbmZpZy53ZWJob29rcykudG9CZURlZmluZWQoKTtcclxuICAgICAgZXhwZWN0KGNvbmZpZy5jb25uZWN0b3JzKS50b0JlRGVmaW5lZCgpO1xyXG4gICAgICBleHBlY3QoY29uZmlnLnN0YXRpc3RpY3MpLnRvQmVEZWZpbmVkKCk7XHJcbiAgICB9KTtcclxuICB9KTtcclxuXHJcbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbiAgLy8gSU5URUdSQVRJT04gV09SS0ZMT1cgVEVTVFNcclxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuICBkZXNjcmliZSgnSW50ZWdyYXRpb24gV29ya2Zsb3dzJywgKCkgPT4ge1xyXG4gICAgdGVzdCgnY29tcGxldGUgd2ViaG9vayB3b3JrZmxvdycsIChkb25lKSA9PiB7XHJcbiAgICAgIGNvbnN0IF93ZWJob29rID0gaW50ZWdyYXRpb25TZXJ2aWNlLnJlZ2lzdGVyV2ViaG9vayhcclxuICAgICAgICAnaHR0cHM6Ly93ZWJob29rLnRlc3QnLFxyXG4gICAgICAgIFsnb3JkZXIuY3JlYXRlZCddXHJcbiAgICAgICk7XHJcblxyXG4gICAgICBpbnRlZ3JhdGlvblNlcnZpY2Uub24oJ29yZGVyLmNyZWF0ZWQnLCAoZXZlbnQpID0+IHtcclxuICAgICAgICBleHBlY3QoZXZlbnQuZXZlbnQpLnRvQmUoJ29yZGVyLmNyZWF0ZWQnKTtcclxuICAgICAgICBleHBlY3QoZXZlbnQuZGF0YS5hbW91bnQpLnRvQmUoNTAwKTtcclxuICAgICAgICBkb25lKCk7XHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgaW50ZWdyYXRpb25TZXJ2aWNlLmVtaXRFdmVudCgnb3JkZXIuY3JlYXRlZCcsIHsgYW1vdW50OiA1MDAgfSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICB0ZXN0KCdjb25uZWN0b3Igd2l0aCBmaWVsZCBtYXBwaW5nIHdvcmtmbG93JywgKCkgPT4ge1xyXG4gICAgICBjb25zdCBjb25uZWN0b3IgPSBpbnRlZ3JhdGlvblNlcnZpY2UuY3JlYXRlQ29ubmVjdG9yKCdTaG9waWZ5JywgJ2FwaScsIHt9KTtcclxuXHJcbiAgICAgIGNvbm5lY3Rvci5hZGRGaWVsZE1hcHBpbmcoJ3Nob3BpZnlJZCcsICdpZCcpO1xyXG4gICAgICBjb25uZWN0b3IuYWRkRmllbGRNYXBwaW5nKCdjdXN0b21lckVtYWlsJywgJ2VtYWlsJyk7XHJcblxyXG4gICAgICBjb25zdCBzb3VyY2UgPSB7IHNob3BpZnlJZDogJzEyMycsIGN1c3RvbWVyRW1haWw6ICd0ZXN0QGV4YW1wbGUuY29tJyB9O1xyXG4gICAgICBjb25zdCBtYXBwZWQgPSBjb25uZWN0b3IuYXBwbHlNYXBwaW5ncyhzb3VyY2UpO1xyXG5cclxuICAgICAgZXhwZWN0KG1hcHBlZC5pZCkudG9CZSgnMTIzJyk7XHJcbiAgICAgIGV4cGVjdChtYXBwZWQuZW1haWwpLnRvQmUoJ3Rlc3RAZXhhbXBsZS5jb20nKTtcclxuICAgIH0pO1xyXG5cclxuICAgIHRlc3QoJ211bHRpcGxlIHdlYmhvb2sgZGVsaXZlcmllcycsICgpID0+IHtcclxuICAgICAgY29uc3Qgd2ViaG9vazEgPSBpbnRlZ3JhdGlvblNlcnZpY2UucmVnaXN0ZXJXZWJob29rKCd1cmwxJywgWydvcmRlci4qJ10pO1xyXG4gICAgICBjb25zdCB3ZWJob29rMiA9IGludGVncmF0aW9uU2VydmljZS5yZWdpc3RlcldlYmhvb2soJ3VybDInLCBbJ29yZGVyLmNyZWF0ZWQnXSk7XHJcbiAgICAgIGNvbnN0IHdlYmhvb2szID0gaW50ZWdyYXRpb25TZXJ2aWNlLnJlZ2lzdGVyV2ViaG9vaygndXJsMycsIFsncGF5bWVudC4qJ10pO1xyXG5cclxuICAgICAgY29uc3QgX2V2ZW50ID0gaW50ZWdyYXRpb25TZXJ2aWNlLmVtaXRFdmVudCgnb3JkZXIuY3JlYXRlZCcsIHt9KTtcclxuXHJcbiAgICAgIC8vIEJvdGggd2ViaG9vazEgYW5kIHdlYmhvb2syIHNob3VsZCBtYXRjaFxyXG4gICAgICBleHBlY3Qod2ViaG9vazEubWF0Y2hlcygnb3JkZXIuY3JlYXRlZCcpKS50b0JlKHRydWUpO1xyXG4gICAgICBleHBlY3Qod2ViaG9vazIubWF0Y2hlcygnb3JkZXIuY3JlYXRlZCcpKS50b0JlKHRydWUpO1xyXG4gICAgICBleHBlY3Qod2ViaG9vazMubWF0Y2hlcygnb3JkZXIuY3JlYXRlZCcpKS50b0JlKGZhbHNlKTtcclxuICAgIH0pO1xyXG5cclxuICAgIHRlc3QoJ0FQSSBjYWxsIHdpdGggcGFyYW1ldGVyIHN1YnN0aXR1dGlvbicsIGFzeW5jICgpID0+IHtcclxuICAgICAgY29uc3QgYXBpID0gaW50ZWdyYXRpb25TZXJ2aWNlLnJlZ2lzdGVyQVBJKCdUZXN0QVBJJywgJ2h0dHBzOi8vYXBpLnRlc3QuY29tJyk7XHJcblxyXG4gICAgICBhcGkucmVnaXN0ZXJFbmRwb2ludCgnZ2V0T3JkZXInLCAnR0VUJywgJy9vcmRlcnMvOm9yZGVySWQnKTtcclxuXHJcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGFwaS5jYWxsKCdnZXRPcmRlcicsIHsgb3JkZXJJZDogJzEyMycgfSk7XHJcblxyXG4gICAgICBleHBlY3QocmVzdWx0LnN1Y2Nlc3MpLnRvQmUodHJ1ZSk7XHJcbiAgICB9KTtcclxuICB9KTtcclxuXHJcbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbiAgLy8gRVJST1IgSEFORExJTkcgVEVTVFNcclxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuICBkZXNjcmliZSgnRXJyb3IgSGFuZGxpbmcnLCAoKSA9PiB7XHJcbiAgICB0ZXN0KCd0aHJvd3MgZXJyb3IgZm9yIG5vbi1yZWdpc3RlcmVkIGVuZHBvaW50JywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICBjb25zdCBhcGkgPSBpbnRlZ3JhdGlvblNlcnZpY2UucmVnaXN0ZXJBUEkoJ1Rlc3QnLCAnaHR0cHM6Ly9hcGkudGVzdC5jb20nKTtcclxuXHJcbiAgICAgIGV4cGVjdCgoKSA9PiB7XHJcbiAgICAgICAgYXBpLmNhbGwoJ25vbmV4aXN0ZW50Jyk7XHJcbiAgICAgIH0pLnRvVGhyb3coKTtcclxuICAgIH0pO1xyXG5cclxuICAgIHRlc3QoJ3Rocm93cyBlcnJvciBmb3Igbm9uLWV4aXN0ZW50IHRyYW5zZm9ybWF0aW9uJywgKCkgPT4ge1xyXG4gICAgICBleHBlY3QoKCkgPT4ge1xyXG4gICAgICAgIGludGVncmF0aW9uU2VydmljZS5hcHBseVRyYW5zZm9ybWF0aW9uKCdub25leGlzdGVudCcsIHt9KTtcclxuICAgICAgfSkudG9UaHJvdygpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgdGVzdCgndGhyb3dzIGVycm9yIGZvciBub24tZXhpc3RlbnQgY29ubmVjdG9yJywgKCkgPT4ge1xyXG4gICAgICBleHBlY3QoKCkgPT4ge1xyXG4gICAgICAgIGludGVncmF0aW9uU2VydmljZS5nZXRDb25uZWN0b3IoJ25vbmV4aXN0ZW50Jyk7XHJcbiAgICAgIH0pLnRvVGhyb3coKTtcclxuICAgIH0pO1xyXG4gIH0pO1xyXG59KTtcclxuXHJcbi8vIFNraXAgdGhpcyBzdWl0ZSBhcyBJbnRlZ3JhdGlvblNlcnZpY2UgaXMgbm90IGltcGxlbWVudGVkXHJcbmRlc2NyaWJlLnNraXAoJ0ludGVncmF0aW9uIFN5c3RlbSAtIEFkdmFuY2VkIFNjZW5hcmlvcycsICgpID0+IHtcclxuICBsZXQgc2VydmljZTtcclxuXHJcbiAgYmVmb3JlRWFjaCgoKSA9PiB7XHJcbiAgICAvLyBTa2lwcGVkXHJcbiAgfSk7XHJcblxyXG4gIHRlc3QoJ2hhbmRsZXMgY29tcGxleCBkYXRhIHRyYW5zZm9ybWF0aW9uIHBpcGVsaW5lJywgKCkgPT4ge1xyXG4gICAgY29uc3QgX2Nvbm5lY3RvciA9IHNlcnZpY2UuY3JlYXRlQ29ubmVjdG9yKCdDb21wbGV4JywgJ2FwaScsIHt9KTtcclxuXHJcbiAgICAvLyBSZWdpc3RlciB0cmFuc2Zvcm1hdGlvbnNcclxuICAgIHNlcnZpY2UucmVnaXN0ZXJUcmFuc2Zvcm1hdGlvbignbm9ybWFsaXplRGF0YScsIChkYXRhKSA9PiAoe1xyXG4gICAgICBub3JtYWxpemVkOiB0cnVlLFxyXG4gICAgICAuLi5kYXRhXHJcbiAgICB9KSk7XHJcblxyXG4gICAgc2VydmljZS5yZWdpc3RlclRyYW5zZm9ybWF0aW9uKCdhZGRUaW1lc3RhbXAnLCAoZGF0YSkgPT4gKHtcclxuICAgICAgLi4uZGF0YSxcclxuICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpXHJcbiAgICB9KSk7XHJcblxyXG4gICAgbGV0IGRhdGEgPSB7IHRlc3Q6ICd2YWx1ZScgfTtcclxuICAgIGRhdGEgPSBzZXJ2aWNlLmFwcGx5VHJhbnNmb3JtYXRpb24oJ25vcm1hbGl6ZURhdGEnLCBkYXRhKTtcclxuICAgIGRhdGEgPSBzZXJ2aWNlLmFwcGx5VHJhbnNmb3JtYXRpb24oJ2FkZFRpbWVzdGFtcCcsIGRhdGEpO1xyXG5cclxuICAgIGV4cGVjdChkYXRhLm5vcm1hbGl6ZWQpLnRvQmUodHJ1ZSk7XHJcbiAgICBleHBlY3QoZGF0YS50aW1lc3RhbXApLnRvQmVEZWZpbmVkKCk7XHJcbiAgfSk7XHJcblxyXG4gIHRlc3QoJ21hbmFnZXMgbXVsdGlwbGUgY29uY3VycmVudCB3ZWJob29rIGRlbGl2ZXJpZXMnLCAoKSA9PiB7XHJcbiAgICBzZXJ2aWNlLnJlZ2lzdGVyV2ViaG9vaygnd2ViaG9vazEnLCBbJyonXSk7XHJcbiAgICBzZXJ2aWNlLnJlZ2lzdGVyV2ViaG9vaygnd2ViaG9vazInLCBbJyonXSk7XHJcbiAgICBzZXJ2aWNlLnJlZ2lzdGVyV2ViaG9vaygnd2ViaG9vazMnLCBbJyonXSk7XHJcblxyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCAxMDsgaSsrKSB7XHJcbiAgICAgIHNlcnZpY2UuZW1pdEV2ZW50KCd0ZXN0LmV2ZW50JywgeyBpbmRleDogaSB9KTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBoaXN0b3J5ID0gc2VydmljZS5nZXRFdmVudEhpc3RvcnkoMTAwKTtcclxuXHJcbiAgICBleHBlY3QoaGlzdG9yeS5sZW5ndGgpLnRvQmUoMTApO1xyXG4gIH0pO1xyXG59KTtcclxuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsSUFBSUEsa0JBQWtCLEVBQUVDLFlBQVksRUFBRUMsbUJBQW1CLEVBQUVDLG9CQUFvQixFQUFFQyxhQUFhO0FBQzlGLElBQUk7RUFDRkosa0JBQWtCLEdBQUdLLE9BQU8sQ0FBQyxnQ0FBZ0MsQ0FBQztFQUM5REosWUFBWSxHQUFHRCxrQkFBa0IsQ0FBQ0MsWUFBWTtFQUM5Q0MsbUJBQW1CLEdBQUdGLGtCQUFrQixDQUFDRSxtQkFBbUI7RUFDNURDLG9CQUFvQixHQUFHSCxrQkFBa0IsQ0FBQ0csb0JBQW9CO0VBQzlEQyxhQUFhLEdBQUdKLGtCQUFrQixDQUFDSSxhQUFhO0FBQ2xELENBQUMsQ0FBQyxPQUFPRSxLQUFLLEVBQUU7RUFDZEMsT0FBTyxDQUFDQyxJQUFJLENBQUMseUNBQXlDLEVBQUVGLEtBQUssQ0FBQ0csT0FBTyxDQUFDO0FBQ3hFO0FBRUFDLFFBQVEsQ0FBQywwQ0FBMEMsRUFBRSxNQUFNO0VBQ3pELElBQUlDLGtCQUFrQjtFQUV0QkMsVUFBVSxDQUFDLE1BQU07SUFDZixJQUFJWixrQkFBa0IsRUFBRTtNQUN0Qlcsa0JBQWtCLEdBQUcsSUFBSVgsa0JBQWtCLENBQUMsQ0FBQztJQUMvQyxDQUFDLE1BQU07TUFDTDtNQUNBVyxrQkFBa0IsR0FBRztRQUNuQkUsZUFBZSxFQUFFQSxDQUFBLE1BQU8sQ0FBQyxDQUFDLENBQUM7UUFDM0JDLFdBQVcsRUFBRUEsQ0FBQSxNQUFPO1VBQUVDLGdCQUFnQixFQUFFQSxDQUFBLEtBQU0sQ0FBQyxDQUFDO1VBQUVDLElBQUksRUFBRSxNQUFBQSxDQUFBLE1B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QU8sQ0FBQ2hDLHNCQUFzQixDQUFDLGVBQWUsRUFBR3BGLElBQUksS0FBTTtNQUN6RHNILFVBQVUsRUFBRSxJQUFJO01BQ2hCLEdBQUd0SDtJQUNMLENBQUMsQ0FBQyxDQUFDO0lBRUhvSCxPQUFPLENBQUNoQyxzQkFBc0IsQ0FBQyxjQUFjLEVBQUdwRixJQUFJLEtBQU07TUFDeEQsR0FBR0EsSUFBSTtNQUNQa0UsU0FBUyxFQUFFLElBQUlxRCxJQUFJLENBQUM7SUFDdEIsQ0FBQyxDQUFDLENBQUM7SUFFSCxJQUFJdkgsSUFBSSxHQUFHO01BQUVOLElBQUksRUFBRTtJQUFRLENBQUM7SUFDNUJNLElBQUksR0FBR29ILE9BQU8sQ0FBQy9CLG1CQUFtQixDQUFDLGVBQWUsRUFBRXJGLElBQUksQ0FBQztJQUN6REEsSUFBSSxHQUFHb0gsT0FBTyxDQUFDL0IsbUJBQW1CLENBQUMsY0FBYyxFQUFFckYsSUFBSSxDQUFDO0lBRXhERixNQUFNLENBQUNFLElBQUksQ0FBQ3NILFVBQVUsQ0FBQyxDQUFDdkgsSUFBSSxDQUFDLElBQUksQ0FBQztJQUNsQ0QsTUFBTSxDQUFDRSxJQUFJLENBQUNrRSxTQUFTLENBQUMsQ0FBQy9ELFdBQVcsQ0FBQyxDQUFDO0VBQ3RDLENBQUMsQ0FBQztFQUVGVCxJQUFJLENBQUMsZ0RBQWdELEVBQUUsTUFBTTtJQUMzRDBILE9BQU8sQ0FBQzlILGVBQWUsQ0FBQyxVQUFVLEVBQUUsQ0FBQyxHQUFHLENBQUMsQ0FBQztJQUMxQzhILE9BQU8sQ0FBQzlILGVBQWUsQ0FBQyxVQUFVLEVBQUUsQ0FBQyxHQUFHLENBQUMsQ0FBQztJQUMxQzhILE9BQU8sQ0FBQzlILGVBQWUsQ0FBQyxVQUFVLEVBQUUsQ0FBQyxHQUFHLENBQUMsQ0FBQztJQUUxQyxLQUFLLElBQUlrSSxDQUFDLEdBQUcsQ0FBQyxFQUFFQSxDQUFDLEdBQUcsRUFBRSxFQUFFQSxDQUFDLEVBQUUsRUFBRTtNQUMzQkosT0FBTyxDQUFDeEMsU0FBUyxDQUFDLFlBQVksRUFBRTtRQUFFNkMsS0FBSyxFQUFFRDtNQUFFLENBQUMsQ0FBQztJQUMvQztJQUVBLE1BQU0zQyxPQUFPLEdBQUd1QyxPQUFPLENBQUN0QyxlQUFlLENBQUMsR0FBRyxDQUFDO0lBRTVDaEYsTUFBTSxDQUFDK0UsT0FBTyxDQUFDbkUsTUFBTSxDQUFDLENBQUNYLElBQUksQ0FBQyxFQUFFLENBQUM7RUFDakMsQ0FBQyxDQUFDO0FBQ0osQ0FBQyxDQUFDIiwiaWdub3JlTGlzdCI6W119