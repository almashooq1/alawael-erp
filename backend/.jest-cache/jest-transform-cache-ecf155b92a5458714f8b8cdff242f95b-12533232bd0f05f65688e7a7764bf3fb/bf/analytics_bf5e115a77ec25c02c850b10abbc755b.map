{"version":3,"names":["express","require","router","Router","AnalyticsService","ApiResponse","ApiError","get","req","res","next","userId","params","result","trackUserBehavior","status","json","error","message","timeRange","query","getPerformanceMetrics","getCustomDashboard","metric","period","analyzeTrends","_req","getRecommendations","post","metric1","metric2","body","success","compareMetrics","reportType","generateAnalysisReport","event","trackConversion","getRealTimeAnalytics","getPredictiveAnalytics","format","includes","exportAnalyticsReport","testId","getABTestResults","campaign","getMarketingMetrics","authenticate","authorize","KPI","ReportTemplate","GeneratedReport","Dashboard","Prediction","category","isActive","filter","undefined","kpis","find","sort","code","count","length","data","_error","kpi","findById","id","createdBy","user","_id","save","calculateKPI","dashboard","getExecutiveDashboard","$or","dashboards","populate","isDefault","createdAt","role","_templates","name","templateId","filters","report","generateReport","reports","generatedBy","limit","toString","downloads","download","file","path","type","kpiId","prediction","generatePrediction","predictions","summary","total","countDocuments","byCategory","aggregate","$match","$group","$sum","completed","module","exports"],"sources":["analytics.js"],"sourcesContent":["// Advanced Analytics Routes\r\n// نقاط التحليلات المتقدمة\r\n\r\nconst express = require('express');\r\nconst router = express.Router();\r\nconst AnalyticsService = require('../services/analyticsService');\r\nconst { ApiResponse, ApiError } = require('../utils/apiResponse');\r\n\r\n// تتبع سلوك المستخدم\r\nrouter.get('/user-behavior/:userId', (req, res, next) => {\r\n  try {\r\n    const { userId } = req.params;\r\n\r\n    const result = AnalyticsService.trackUserBehavior(userId);\r\n\r\n    return res.status(200).json(new ApiResponse(200, result, 'User behavior tracked'));\r\n  } catch (error) {\r\n    return next(new ApiError(500, 'Failed to track user behavior', [error.message]));\r\n  }\r\n});\r\n\r\n// الحصول على مقاييس الأداء\r\nrouter.get('/performance-metrics', (req, res, next) => {\r\n  try {\r\n    const { timeRange } = req.query;\r\n\r\n    const result = AnalyticsService.getPerformanceMetrics(timeRange || '24h');\r\n\r\n    return res.status(200).json(new ApiResponse(200, result, 'Performance metrics fetched'));\r\n  } catch (error) {\r\n    return next(new ApiError(500, 'Failed to fetch performance metrics', [error.message]));\r\n  }\r\n});\r\n\r\n// عرض لوحة تحكم مخصصة\r\nrouter.get('/dashboard/:userId', (req, res, next) => {\r\n  try {\r\n    const { userId } = req.params;\r\n\r\n    const result = AnalyticsService.getCustomDashboard(userId);\r\n\r\n    return res.status(200).json(new ApiResponse(200, result, 'Dashboard fetched'));\r\n  } catch (error) {\r\n    return next(new ApiError(500, 'Failed to fetch dashboard', [error.message]));\r\n  }\r\n});\r\n\r\n// تحليل الاتجاهات\r\nrouter.get('/trends/:metric', (req, res, next) => {\r\n  try {\r\n    const { metric } = req.params;\r\n    const { period } = req.query;\r\n\r\n    const result = AnalyticsService.analyzeTrends(metric, period || '30d');\r\n\r\n    return res.status(200).json(new ApiResponse(200, result, 'Trends analyzed'));\r\n  } catch (error) {\r\n    return next(new ApiError(500, 'Failed to analyze trends', [error.message]));\r\n  }\r\n});\r\n\r\n// الحصول على التوصيات\r\nrouter.get('/recommendations', (_req, res, next) => {\r\n  try {\r\n    const result = AnalyticsService.getRecommendations();\r\n\r\n    return res.status(200).json(new ApiResponse(200, result, 'Recommendations fetched'));\r\n  } catch (error) {\r\n    return next(new ApiError(500, 'Failed to fetch recommendations', [error.message]));\r\n  }\r\n});\r\n\r\n// مقارنة المقاييس\r\nrouter.post('/compare-metrics', (req, res) => {\r\n  try {\r\n    const { metric1, metric2, period } = req.body;\r\n\r\n    if (!metric1 || !metric2) {\r\n      return res.status(400).json({\r\n        success: false,\r\n        message: 'Metrics required',\r\n      });\r\n    }\r\n\r\n    const result = AnalyticsService.compareMetrics(metric1, metric2, period || '30d');\r\n\r\n    res.status(200).json(result);\r\n  } catch (error) {\r\n    res.status(500).json({\r\n      success: false,\r\n      message: 'Failed to compare metrics',\r\n      error: error.message,\r\n    });\r\n  }\r\n});\r\n\r\n// توليد تقرير تحليلي\r\nrouter.post('/generate-report', (req, res) => {\r\n  try {\r\n    const { reportType } = req.body;\r\n\r\n    const result = AnalyticsService.generateAnalysisReport(reportType || 'executive');\r\n\r\n    res.status(200).json(result);\r\n  } catch (error) {\r\n    res.status(500).json({\r\n      success: false,\r\n      message: 'Failed to generate report',\r\n      error: error.message,\r\n    });\r\n  }\r\n});\r\n\r\n// تتبع التحويل\r\nrouter.post('/track-conversion', (req, res) => {\r\n  try {\r\n    const { userId, event } = req.body;\r\n\r\n    if (!userId || !event) {\r\n      return res.status(400).json({\r\n        success: false,\r\n        message: 'User ID and event required',\r\n      });\r\n    }\r\n\r\n    const result = AnalyticsService.trackConversion(userId, event);\r\n\r\n    res.status(200).json(result);\r\n  } catch (error) {\r\n    res.status(500).json({\r\n      success: false,\r\n      message: 'Failed to track conversion',\r\n      error: error.message,\r\n    });\r\n  }\r\n});\r\n\r\n// التحليلات في الوقت الفعلي\r\nrouter.get('/real-time', (req, res) => {\r\n  try {\r\n    const result = AnalyticsService.getRealTimeAnalytics();\r\n\r\n    res.status(200).json(result);\r\n  } catch (error) {\r\n    res.status(500).json({\r\n      success: false,\r\n      message: 'Failed to fetch real-time analytics',\r\n      error: error.message,\r\n    });\r\n  }\r\n});\r\n\r\n// التنبؤات التحليلية\r\nrouter.get('/predictions', (req, res) => {\r\n  try {\r\n    const result = AnalyticsService.getPredictiveAnalytics();\r\n\r\n    res.status(200).json(result);\r\n  } catch (error) {\r\n    res.status(500).json({\r\n      success: false,\r\n      message: 'Failed to fetch predictions',\r\n      error: error.message,\r\n    });\r\n  }\r\n});\r\n\r\n// تصدير التقرير\r\nrouter.get('/export/:format', (req, res) => {\r\n  try {\r\n    const { format } = req.params;\r\n\r\n    if (!['pdf', 'xlsx', 'csv'].includes(format)) {\r\n      return res.status(400).json({\r\n        success: false,\r\n        message: 'Invalid format. Supported: pdf, xlsx, csv',\r\n      });\r\n    }\r\n\r\n    const result = AnalyticsService.exportAnalyticsReport(format);\r\n\r\n    res.status(200).json(result);\r\n  } catch (error) {\r\n    res.status(500).json({\r\n      success: false,\r\n      message: 'Failed to export report',\r\n      error: error.message,\r\n    });\r\n  }\r\n});\r\n\r\n// اختبار A/B\r\nrouter.get('/ab-test/:testId', (req, res) => {\r\n  try {\r\n    const { testId } = req.params;\r\n\r\n    const result = AnalyticsService.getABTestResults(testId);\r\n\r\n    res.status(200).json(result);\r\n  } catch (error) {\r\n    res.status(500).json({\r\n      success: false,\r\n      message: 'Failed to fetch A/B test results',\r\n      error: error.message,\r\n    });\r\n  }\r\n});\r\n\r\n// مقاييس التسويق\r\nrouter.get('/marketing/:campaign', (req, res) => {\r\n  try {\r\n    const { campaign } = req.params;\r\n\r\n    const result = AnalyticsService.getMarketingMetrics(campaign);\r\n\r\n    res.status(200).json(result);\r\n  } catch (error) {\r\n    res.status(500).json({\r\n      success: false,\r\n      message: 'Failed to fetch marketing metrics',\r\n      error: error.message,\r\n    });\r\n  }\r\n});\r\n\r\n/**\r\n * ======================\r\n * NEW ADVANCED ANALYTICS ENDPOINTS\r\n * مسارات التحليلات المتقدمة الجديدة\r\n * ======================\r\n */\r\n\r\nconst { authenticate, authorize } = require('../middleware/auth');\r\nconst {\r\n  KPI,\r\n  ReportTemplate,\r\n  GeneratedReport,\r\n  Dashboard,\r\n  Prediction,\r\n} = require('../models/analytics');\r\n\r\n/**\r\n * KPI ENDPOINTS\r\n */\r\n\r\n// Get all KPIs\r\nrouter.get('/kpis', authenticate, async (req, res) => {\r\n  try {\r\n    const { category, isActive } = req.query;\r\n    const filter = {};\r\n    if (category) filter.category = category;\r\n    if (isActive !== undefined) filter.isActive = isActive === 'true';\r\n\r\n    const kpis = await KPI.find(filter).sort({ category: 1, code: 1 });\r\n    res.json({ success: true, count: kpis.length, data: kpis });\r\n  } catch (_error) {\r\n    res.status(500).json({ success: false, error: 'خطأ في جلب المؤشرات' });\r\n  }\r\n});\r\n\r\n// Get single KPI\r\nrouter.get('/kpis/:id', authenticate, async (req, res) => {\r\n  try {\r\n    const kpi = await KPI.findById(req.params.id);\r\n    if (!kpi) return res.status(404).json({ success: false, error: 'المؤشر غير موجود' });\r\n    res.json({ success: true, data: kpi });\r\n  } catch (_error) {\r\n    res.status(500).json({ success: false, error: 'خطأ في جلب المؤشر' });\r\n  }\r\n});\r\n\r\n// Create KPI\r\nrouter.post('/kpis', authenticate, authorize('admin', 'manager'), async (req, res) => {\r\n  try {\r\n    const kpi = new KPI({ ...req.body, createdBy: req.user._id });\r\n    await kpi.save();\r\n    res.status(201).json({ success: true, data: kpi, message: 'تم إنشاء المؤشر بنجاح' });\r\n  } catch (error) {\r\n    if (error.code === 11000) {\r\n      return res.status(400).json({ success: false, error: 'رمز المؤشر موجود مسبقاً' });\r\n    }\r\n    res.status(500).json({ success: false, error: 'خطأ في إنشاء المؤشر' });\r\n  }\r\n});\r\n\r\n// Calculate KPI\r\nrouter.post('/kpis/:id/calculate', authenticate, async (req, res) => {\r\n  try {\r\n    const kpi = await AnalyticsService.calculateKPI(req.params.id);\r\n    res.json({ success: true, data: kpi, message: 'تم حساب المؤشر بنجاح' });\r\n  } catch (error) {\r\n    res.status(500).json({ success: false, error: error.message || 'خطأ في حساب المؤشر' });\r\n  }\r\n});\r\n\r\n/**\r\n * DASHBOARD ENDPOINTS\r\n */\r\n\r\n// Executive Dashboard\r\nrouter.get(\r\n  '/dashboard/executive',\r\n  authenticate,\r\n  authorize('admin', 'manager'),\r\n  async (req, res) => {\r\n    try {\r\n      const dashboard = await AnalyticsService.getExecutiveDashboard(req.query);\r\n      res.json({ success: true, data: dashboard });\r\n    } catch (_error) {\r\n      res.status(500).json({ success: false, error: 'خطأ في جلب لوحة التحكم' });\r\n    }\r\n  }\r\n);\r\n\r\n// Get dashboards\r\nrouter.get('/dashboards', authenticate, async (req, res) => {\r\n  try {\r\n    const filter = {\r\n      $or: [\r\n        { 'permissions.owner': req.user._id },\r\n        { 'permissions.sharedWith.user': req.user._id },\r\n        { 'permissions.isPublic': true },\r\n      ],\r\n    };\r\n    const dashboards = await Dashboard.find(filter)\r\n      .populate('permissions.owner', 'name email')\r\n      .sort({ isDefault: -1, createdAt: -1 });\r\n    res.json({ success: true, count: dashboards.length, data: dashboards });\r\n  } catch (_error) {\r\n    res.status(500).json({ success: false, error: 'خطأ في جلب لوحات التحكم' });\r\n  }\r\n});\r\n\r\n/**\r\n * REPORT ENDPOINTS\r\n */\r\n\r\n// Get report templates\r\nrouter.get('/report-templates', authenticate, async (req, res) => {\r\n  try {\r\n    const { category } = req.query;\r\n    const filter = {\r\n      $or: [{ 'permissions.canView': req.user.role }, { 'permissions.isPublic': true }],\r\n    };\r\n    if (category) filter.category = category;\r\n\r\n    const _templates = await ReportTemplate.find(filter)\r\n      .populate('structure.kpis')\r\n      .sort({ category: 1, name: 1 });\r\n    res.json({ success: true, count: _templates.length, data: _templates });\r\n  } catch (_error) {\r\n    res.status(500).json({ success: false, error: 'خطأ في جلب قوالب التقارير' });\r\n  }\r\n});\r\n\r\n// Generate report\r\nrouter.post('/reports/generate', authenticate, async (req, res) => {\r\n  try {\r\n    const { templateId, filters, format = 'pdf' } = req.body;\r\n    if (!templateId) {\r\n      return res.status(400).json({ success: false, error: 'معرف القالب مطلوب' });\r\n    }\r\n\r\n    const report = await AnalyticsService.generateReport(templateId, filters, format, req.user._id);\r\n    res.json({ success: true, data: report, message: 'تم توليد التقرير بنجاح' });\r\n  } catch (error) {\r\n    res.status(500).json({ success: false, error: error.message || 'خطأ في توليد التقرير' });\r\n  }\r\n});\r\n\r\n// Get user reports\r\nrouter.get('/reports', authenticate, async (req, res) => {\r\n  try {\r\n    const reports = await GeneratedReport.find({ generatedBy: req.user._id })\r\n      .populate('template', 'name nameAr category')\r\n      .sort({ createdAt: -1 })\r\n      .limit(50);\r\n    res.json({ success: true, count: reports.length, data: reports });\r\n  } catch (error) {\r\n    res.status(500).json({ success: false, error: 'خطأ في جلب التقارير' });\r\n  }\r\n});\r\n\r\n// Download report\r\nrouter.get('/reports/:id/download', authenticate, async (req, res) => {\r\n  try {\r\n    const report = await GeneratedReport.findById(req.params.id);\r\n    if (!report) {\r\n      return res.status(404).json({ success: false, error: 'التقرير غير موجود' });\r\n    }\r\n\r\n    if (report.generatedBy.toString() !== req.user._id.toString()) {\r\n      return res.status(403).json({ success: false, error: 'ليس لديك صلاحية لتحميل هذا التقرير' });\r\n    }\r\n\r\n    if (report.status !== 'completed') {\r\n      return res.status(400).json({ success: false, error: 'التقرير لم يكتمل بعد' });\r\n    }\r\n\r\n    report.downloads += 1;\r\n    await report.save();\r\n\r\n    res.download(report.file.path);\r\n  } catch (_error) {\r\n    res.status(500).json({ success: false, error: 'خطأ في تحميل التقرير' });\r\n  }\r\n});\r\n\r\n/**\r\n * PREDICTIVE ANALYTICS\r\n */\r\n\r\n// Create prediction\r\nrouter.post('/predictions', authenticate, authorize('admin', 'manager'), async (req, res) => {\r\n  try {\r\n    const { type, kpiId, period } = req.body;\r\n    if (!type || !kpiId) {\r\n      return res.status(400).json({ success: false, error: 'النوع ومعرف المؤشر مطلوبان' });\r\n    }\r\n\r\n    const prediction = await AnalyticsService.generatePrediction(type, kpiId, period || 30);\r\n    res.status(201).json({ success: true, data: prediction, message: 'تم إنشاء التنبؤ بنجاح' });\r\n  } catch (error) {\r\n    res.status(500).json({ success: false, error: error.message || 'خطأ في إنشاء التنبؤ' });\r\n  }\r\n});\r\n\r\n// Get predictions\r\nrouter.get('/predictions', authenticate, async (req, res) => {\r\n  try {\r\n    const predictions = await Prediction.find()\r\n      .populate('kpi', 'name nameAr code')\r\n      .sort({ createdAt: -1 })\r\n      .limit(20);\r\n    res.json({ success: true, count: predictions.length, data: predictions });\r\n  } catch (error) {\r\n    res.status(500).json({ success: false, error: 'خطأ في جلب التنبؤات' });\r\n  }\r\n});\r\n\r\n/**\r\n * SUMMARY\r\n */\r\n\r\n// Analytics summary\r\nrouter.get('/summary', authenticate, async (req, res) => {\r\n  try {\r\n    const summary = {\r\n      kpis: {\r\n        total: await KPI.countDocuments({ isActive: true }),\r\n        byCategory: await KPI.aggregate([\r\n          { $match: { isActive: true } },\r\n          { $group: { _id: '$category', count: { $sum: 1 } } },\r\n        ]),\r\n      },\r\n      reports: {\r\n        total: await GeneratedReport.countDocuments(),\r\n        completed: await GeneratedReport.countDocuments({ status: 'completed' }),\r\n      },\r\n      dashboards: {\r\n        total: await Dashboard.countDocuments({ isActive: true }),\r\n      },\r\n    };\r\n    res.json({ success: true, data: summary });\r\n  } catch (error) {\r\n    res.status(500).json({ success: false, error: 'خطأ في جلب ملخص التحليلات' });\r\n  }\r\n});\r\n\r\nmodule.exports = router;\r\n"],"mappings":"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","ignoreList":[]}