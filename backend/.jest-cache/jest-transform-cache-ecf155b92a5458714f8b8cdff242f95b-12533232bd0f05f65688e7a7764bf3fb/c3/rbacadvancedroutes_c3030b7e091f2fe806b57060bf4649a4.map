{"version":3,"names":["express","require","router","Router","AdvancedRBACSystem","RBACPolicyEngine","RBACAuditingService","rbacSystem","policyEngine","auditingService","rbacInitialized","setupDefaults","existingRole","getRole","createRole","name","description","level","archived","metadata","isSystem","permissions","id","resource","action","riskLevel","forEach","perm","createPermission","permErr","rolePermissions","Object","entries","role","perms","assignPermissionToRole","createPolicy","effect","priority","principals","actions","resources","conditions","policyErr","process","env","DEBUG_RBAC","console","log","error","warn","message","post","req","res","roleId","body","status","json","success","logAuditEvent","userId","user","resourceType","resourceId","details","severity","data","get","roles","getAllRoles","count","length","params","put","updateRole","delete","deleteRole","permissionId","permId","removePermissionFromRole","expiresAt","assignRoleToUser","removeRoleFromUser","getUserRoles","getUserEffectivePermissions","context","query","hasPermission","policyId","policies","getAllPolicies","decisions","evaluatePolicies","evaluationTime","Date","toISOString","decision","makeAccessDecision","limit","parseInt","skip","filters","logs","queryAuditLog","config","report","generateAuditReport","incidents","getSecurityIncidents","summary","getSecuritySummary","stats","getAllPermissions","users","getAllUsers","auditEvents","auditLog","securityIncidents","exportData","importData","timestamp","components","module","exports"],"sources":["rbac-advanced.routes.js"],"sourcesContent":["/**\r\n * RBAC Advanced Routes\r\n * نقاط نهاية API متقدمة لنظام إدارة الصلاحيات الذكي\r\n * \r\n * استخدام المكونات:\r\n * - Advanced RBAC System\r\n * - RBAC Policy Engine\r\n * - RBAC Auditing Service\r\n * - Intelligent RBAC Middleware\r\n */\r\n\r\nconst express = require('express');\r\nconst router = express.Router();\r\n\r\n// Import advanced RBAC components\r\nconst AdvancedRBACSystem = require('../services/advanced-rbac.system');\r\nconst RBACPolicyEngine = require('../services/rbac-policy-engine');\r\nconst RBACAuditingService = require('../services/rbac-auditing.service');\r\n\r\n// Initialize RBAC components\r\nconst rbacSystem = new AdvancedRBACSystem();\r\nconst policyEngine = new RBACPolicyEngine();\r\nconst auditingService = new RBACAuditingService();\r\n\r\n// Track initialization state\r\nlet rbacInitialized = false;\r\n\r\n// Setup default roles and permissions if needed\r\nfunction setupDefaults() {\r\n  try {\r\n    // Check if already initialized (prevent duplicate initialization)\r\n    if (rbacInitialized) {\r\n      return; // Silently skip if already done\r\n    }\r\n\r\n    // Check if super-admin role exists\r\n    const existingRole = rbacSystem.getRole?.('super-admin');\r\n    if (existingRole) {\r\n      rbacInitialized = true;\r\n      return; // Already initialized\r\n    }\r\n\r\n    // Create default roles\r\n    rbacSystem.createRole('super-admin', {\r\n      name: 'Super Administrator',\r\n      description: 'Full system access',\r\n      level: 5,\r\n      archived: false,\r\n      metadata: { isSystem: true }\r\n    });\r\n\r\n    rbacSystem.createRole('admin', {\r\n      name: 'Administrator',\r\n      description: 'Administrative access',\r\n      level: 4,\r\n      archived: false,\r\n      metadata: { isSystem: true }\r\n    });\r\n\r\n    rbacSystem.createRole('manager', {\r\n      name: 'Manager',\r\n      description: 'Management access',\r\n      level: 3,\r\n      archived: false,\r\n      metadata: { isSystem: true }\r\n    });\r\n\r\n    rbacSystem.createRole('user', {\r\n      name: 'User',\r\n      description: 'Standard user access',\r\n      level: 2,\r\n      archived: false,\r\n      metadata: { isSystem: true }\r\n    });\r\n\r\n    rbacSystem.createRole('guest', {\r\n      name: 'Guest',\r\n      description: 'Guest access',\r\n      level: 1,\r\n      archived: false,\r\n      metadata: { isSystem: true }\r\n    });\r\n\r\n    // Create default permissions\r\n    const permissions = [\r\n      { id: 'users:create', name: 'Create User', resource: 'users', action: 'create', riskLevel: 'high' },\r\n      { id: 'users:read', name: 'Read User', resource: 'users', action: 'read', riskLevel: 'low' },\r\n      { id: 'users:update', name: 'Update User', resource: 'users', action: 'update', riskLevel: 'high' },\r\n      { id: 'users:delete', name: 'Delete User', resource: 'users', action: 'delete', riskLevel: 'critical' },\r\n      { id: 'roles:create', name: 'Create Role', resource: 'roles', action: 'create', riskLevel: 'critical' },\r\n      { id: 'roles:read', name: 'Read Role', resource: 'roles', action: 'read', riskLevel: 'low' },\r\n      { id: 'roles:update', name: 'Update Role', resource: 'roles', action: 'update', riskLevel: 'critical' },\r\n      { id: 'roles:delete', name: 'Delete Role', resource: 'roles', action: 'delete', riskLevel: 'critical' },\r\n      { id: 'reports:view', name: 'View Reports', resource: 'reports', action: 'read', riskLevel: 'low' },\r\n      { id: 'audit:view', name: 'View Audit Logs', resource: 'audit', action: 'read', riskLevel: 'medium' },\r\n    ];\r\n\r\n    permissions.forEach(perm => {\r\n      try {\r\n        rbacSystem.createPermission(perm.id, perm);\r\n      } catch (permErr) {\r\n        // Permission might already exist, continue\r\n      }\r\n    });\r\n\r\n    // Assign permissions to roles\r\n    const rolePermissions = {\r\n      'super-admin': ['users:create', 'users:read', 'users:update', 'users:delete', 'roles:create', 'roles:read', 'roles:update', 'roles:delete'],\r\n      'admin': ['users:create', 'users:read', 'users:update', 'roles:read'],\r\n      'user': ['users:read', 'reports:view'],\r\n    };\r\n\r\n    Object.entries(rolePermissions).forEach(([role, perms]) => {\r\n      perms.forEach(perm => {\r\n        try {\r\n          rbacSystem.assignPermissionToRole(role, perm);\r\n        } catch (permErr) {\r\n          // Permission might already be assigned, continue\r\n        }\r\n      });\r\n    });\r\n\r\n    // Setup default policies (if not exists)\r\n    try {\r\n      policyEngine.createPolicy('admin-allow-all', {\r\n        effect: 'Allow',\r\n        priority: 10,\r\n        principals: ['admin', 'super-admin'],\r\n        actions: ['*'],\r\n        resources: ['*'],\r\n        conditions: []\r\n      });\r\n    } catch (policyErr) {\r\n      // Policy might already exist\r\n    }\r\n\r\n    try {\r\n      policyEngine.createPolicy('guest-deny-write', {\r\n        effect: 'Deny',\r\n        priority: 20,\r\n        principals: ['guest'],\r\n        actions: ['create', 'update', 'delete'],\r\n        resources: ['*'],\r\n        conditions: []\r\n      });\r\n    } catch (policyErr) {\r\n      // Policy might already exist\r\n    }\r\n\r\n    rbacInitialized = true;\r\n    if (process.env.DEBUG_RBAC === 'true') {\r\n      console.log('✅ RBAC Defaults initialized');\r\n    }\r\n  } catch (error) {\r\n    if (process.env.DEBUG_RBAC === 'true') {\r\n      console.warn('⚠️  RBAC Initialization error:', error.message);\r\n    }\r\n    rbacInitialized = true; // Mark as initialized to prevent repeated attempts\r\n  }\r\n}\r\n\r\n// Initialize defaults on route load (once only)\r\nsetupDefaults();\r\n\r\n// ============================================\r\n// ROLE MANAGEMENT ENDPOINTS\r\n// ============================================\r\n\r\n/**\r\n * POST /api/rbac/roles\r\n * Create a new role\r\n */\r\nrouter.post('/roles', (req, res) => {\r\n  try {\r\n    const { roleId, name, description, level, metadata } = req.body;\r\n\r\n    if (!roleId || !name) {\r\n      return res.status(400).json({\r\n        success: false,\r\n        message: 'roleId and name are required',\r\n      });\r\n    }\r\n\r\n    rbacSystem.createRole(roleId, {\r\n      name,\r\n      description,\r\n      level: level || 1,\r\n      metadata: metadata || {},\r\n      archived: false,\r\n    });\r\n\r\n    auditingService.logAuditEvent({\r\n      userId: req.user?.id || 'system',\r\n      action: 'CREATE_ROLE',\r\n      resourceType: 'role',\r\n      resourceId: roleId,\r\n      details: { name, description },\r\n      status: 'success',\r\n      severity: 'high',\r\n    });\r\n\r\n    res.status(201).json({\r\n      success: true,\r\n      message: 'Role created successfully',\r\n      data: { roleId, name },\r\n    });\r\n  } catch (error) {\r\n    res.status(500).json({\r\n      success: false,\r\n      message: error.message,\r\n    });\r\n  }\r\n});\r\n\r\n/**\r\n * GET /api/rbac/roles\r\n * Get all roles\r\n */\r\nrouter.get('/roles', (req, res) => {\r\n  try {\r\n    const roles = rbacSystem.getAllRoles();\r\n    res.json({\r\n      success: true,\r\n      data: roles,\r\n      count: roles.length,\r\n    });\r\n  } catch (error) {\r\n    res.status(500).json({\r\n      success: false,\r\n      message: error.message,\r\n    });\r\n  }\r\n});\r\n\r\n/**\r\n * GET /api/rbac/roles/:roleId\r\n * Get specific role\r\n */\r\nrouter.get('/roles/:roleId', (req, res) => {\r\n  try {\r\n    const { roleId } = req.params;\r\n    const role = rbacSystem.getRole(roleId);\r\n\r\n    if (!role) {\r\n      return res.status(404).json({\r\n        success: false,\r\n        message: 'Role not found',\r\n      });\r\n    }\r\n\r\n    res.json({\r\n      success: true,\r\n      data: role,\r\n    });\r\n  } catch (error) {\r\n    res.status(500).json({\r\n      success: false,\r\n      message: error.message,\r\n    });\r\n  }\r\n});\r\n\r\n/**\r\n * PUT /api/rbac/roles/:roleId\r\n * Update role\r\n */\r\nrouter.put('/roles/:roleId', (req, res) => {\r\n  try {\r\n    const { roleId } = req.params;\r\n    const { name, description, level } = req.body;\r\n\r\n    rbacSystem.updateRole(roleId, {\r\n      name,\r\n      description,\r\n      level,\r\n    });\r\n\r\n    auditingService.logAuditEvent({\r\n      userId: req.user?.id || 'system',\r\n      action: 'UPDATE_ROLE',\r\n      resourceType: 'role',\r\n      resourceId: roleId,\r\n      details: { name, description, level },\r\n      status: 'success',\r\n      severity: 'high',\r\n    });\r\n\r\n    res.json({\r\n      success: true,\r\n      message: 'Role updated successfully',\r\n    });\r\n  } catch (error) {\r\n    res.status(500).json({\r\n      success: false,\r\n      message: error.message,\r\n    });\r\n  }\r\n});\r\n\r\n/**\r\n * DELETE /api/rbac/roles/:roleId\r\n * Delete role\r\n */\r\nrouter.delete('/roles/:roleId', (req, res) => {\r\n  try {\r\n    const { roleId } = req.params;\r\n\r\n    rbacSystem.deleteRole(roleId);\r\n\r\n    auditingService.logAuditEvent({\r\n      userId: req.user?.id || 'system',\r\n      action: 'DELETE_ROLE',\r\n      resourceType: 'role',\r\n      resourceId: roleId,\r\n      status: 'success',\r\n      severity: 'critical',\r\n    });\r\n\r\n    res.json({\r\n      success: true,\r\n      message: 'Role deleted successfully',\r\n    });\r\n  } catch (error) {\r\n    res.status(500).json({\r\n      success: false,\r\n      message: error.message,\r\n    });\r\n  }\r\n});\r\n\r\n// ============================================\r\n// PERMISSION MANAGEMENT ENDPOINTS\r\n// ============================================\r\n\r\n/**\r\n * POST /api/rbac/permissions\r\n * Create permission\r\n */\r\nrouter.post('/permissions', (req, res) => {\r\n  try {\r\n    const { permissionId, name, resource, action, riskLevel } = req.body;\r\n\r\n    if (!permissionId || !resource || !action) {\r\n      return res.status(400).json({\r\n        success: false,\r\n        message: 'permissionId, resource, and action are required',\r\n      });\r\n    }\r\n\r\n    rbacSystem.createPermission(permissionId, {\r\n      name,\r\n      resource,\r\n      action,\r\n      riskLevel: riskLevel || 'low',\r\n    });\r\n\r\n    auditingService.logAuditEvent({\r\n      userId: req.user?.id || 'system',\r\n      action: 'CREATE_PERMISSION',\r\n      resourceType: 'permission',\r\n      resourceId: permissionId,\r\n      details: { resource, action },\r\n      status: 'success',\r\n      severity: 'high',\r\n    });\r\n\r\n    res.status(201).json({\r\n      success: true,\r\n      message: 'Permission created successfully',\r\n      data: { permissionId },\r\n    });\r\n  } catch (error) {\r\n    res.status(500).json({\r\n      success: false,\r\n      message: error.message,\r\n    });\r\n  }\r\n});\r\n\r\n/**\r\n * POST /api/rbac/roles/:roleId/permissions/:permId\r\n * Assign permission to role\r\n */\r\nrouter.post('/roles/:roleId/permissions/:permId', (req, res) => {\r\n  try {\r\n    const { roleId, permId } = req.params;\r\n\r\n    rbacSystem.assignPermissionToRole(roleId, permId);\r\n\r\n    auditingService.logAuditEvent({\r\n      userId: req.user?.id || 'system',\r\n      action: 'ASSIGN_PERMISSION',\r\n      resourceType: 'role',\r\n      resourceId: roleId,\r\n      details: { permissionId: permId },\r\n      status: 'success',\r\n      severity: 'high',\r\n    });\r\n\r\n    res.json({\r\n      success: true,\r\n      message: 'Permission assigned to role',\r\n    });\r\n  } catch (error) {\r\n    res.status(500).json({\r\n      success: false,\r\n      message: error.message,\r\n    });\r\n  }\r\n});\r\n\r\n/**\r\n * DELETE /api/rbac/roles/:roleId/permissions/:permId\r\n * Remove permission from role\r\n */\r\nrouter.delete('/roles/:roleId/permissions/:permId', (req, res) => {\r\n  try {\r\n    const { roleId, permId } = req.params;\r\n\r\n    rbacSystem.removePermissionFromRole(roleId, permId);\r\n\r\n    auditingService.logAuditEvent({\r\n      userId: req.user?.id || 'system',\r\n      action: 'REMOVE_PERMISSION',\r\n      resourceType: 'role',\r\n      resourceId: roleId,\r\n      details: { permissionId: permId },\r\n      status: 'success',\r\n      severity: 'high',\r\n    });\r\n\r\n    res.json({\r\n      success: true,\r\n      message: 'Permission removed from role',\r\n    });\r\n  } catch (error) {\r\n    res.status(500).json({\r\n      success: false,\r\n      message: error.message,\r\n    });\r\n  }\r\n});\r\n\r\n// ============================================\r\n// USER-ROLE ASSIGNMENT ENDPOINTS\r\n// ============================================\r\n\r\n/**\r\n * POST /api/rbac/users/:userId/roles/:roleId\r\n * Assign role to user\r\n */\r\nrouter.post('/users/:userId/roles/:roleId', (req, res) => {\r\n  try {\r\n    const { userId, roleId } = req.params;\r\n    const { expiresAt } = req.body;\r\n\r\n    rbacSystem.assignRoleToUser(userId, roleId, { expiresAt });\r\n\r\n    auditingService.logAuditEvent({\r\n      userId: req.user?.id || 'system',\r\n      action: 'ASSIGN_ROLE_TO_USER',\r\n      resourceType: 'user',\r\n      resourceId: userId,\r\n      details: { roleId, expiresAt },\r\n      status: 'success',\r\n      severity: 'high',\r\n    });\r\n\r\n    res.json({\r\n      success: true,\r\n      message: 'Role assigned to user',\r\n    });\r\n  } catch (error) {\r\n    res.status(500).json({\r\n      success: false,\r\n      message: error.message,\r\n    });\r\n  }\r\n});\r\n\r\n/**\r\n * DELETE /api/rbac/users/:userId/roles/:roleId\r\n * Remove role from user\r\n */\r\nrouter.delete('/users/:userId/roles/:roleId', (req, res) => {\r\n  try {\r\n    const { userId, roleId } = req.params;\r\n\r\n    rbacSystem.removeRoleFromUser(userId, roleId);\r\n\r\n    auditingService.logAuditEvent({\r\n      userId: req.user?.id || 'system',\r\n      action: 'REMOVE_ROLE_FROM_USER',\r\n      resourceType: 'user',\r\n      resourceId: userId,\r\n      details: { roleId },\r\n      status: 'success',\r\n      severity: 'high',\r\n    });\r\n\r\n    res.json({\r\n      success: true,\r\n      message: 'Role removed from user',\r\n    });\r\n  } catch (error) {\r\n    res.status(500).json({\r\n      success: false,\r\n      message: error.message,\r\n    });\r\n  }\r\n});\r\n\r\n/**\r\n * GET /api/rbac/users/:userId/roles\r\n * Get user roles\r\n */\r\nrouter.get('/users/:userId/roles', (req, res) => {\r\n  try {\r\n    const { userId } = req.params;\r\n    const roles = rbacSystem.getUserRoles(userId);\r\n\r\n    res.json({\r\n      success: true,\r\n      data: roles,\r\n      count: roles.length,\r\n    });\r\n  } catch (error) {\r\n    res.status(500).json({\r\n      success: false,\r\n      message: error.message,\r\n    });\r\n  }\r\n});\r\n\r\n/**\r\n * GET /api/rbac/users/:userId/permissions\r\n * Get user effective permissions\r\n */\r\nrouter.get('/users/:userId/permissions', (req, res) => {\r\n  try {\r\n    const { userId } = req.params;\r\n    const permissions = rbacSystem.getUserEffectivePermissions(userId);\r\n\r\n    res.json({\r\n      success: true,\r\n      data: permissions,\r\n      count: permissions.length,\r\n    });\r\n  } catch (error) {\r\n    res.status(500).json({\r\n      success: false,\r\n      message: error.message,\r\n    });\r\n  }\r\n});\r\n\r\n/**\r\n * GET /api/rbac/users/:userId/permissions/:permId/check\r\n * Check if user has permission\r\n */\r\nrouter.get('/users/:userId/permissions/:permId/check', (req, res) => {\r\n  try {\r\n    const { userId, permId } = req.params;\r\n    const context = req.query;\r\n\r\n    const hasPermission = rbacSystem.hasPermission(userId, permId, context);\r\n\r\n    res.json({\r\n      success: true,\r\n      userId,\r\n      permissionId: permId,\r\n      hasPermission,\r\n    });\r\n  } catch (error) {\r\n    res.status(500).json({\r\n      success: false,\r\n      message: error.message,\r\n    });\r\n  }\r\n});\r\n\r\n// ============================================\r\n// POLICY MANAGEMENT ENDPOINTS\r\n// ============================================\r\n\r\n/**\r\n * POST /api/rbac/policies\r\n * Create policy\r\n */\r\nrouter.post('/policies', (req, res) => {\r\n  try {\r\n    const { policyId, effect, priority, principals, actions, resources, conditions } = req.body;\r\n\r\n    if (!policyId || !effect) {\r\n      return res.status(400).json({\r\n        success: false,\r\n        message: 'policyId and effect are required',\r\n      });\r\n    }\r\n\r\n    policyEngine.createPolicy(policyId, {\r\n      effect,\r\n      priority: priority || 10,\r\n      principals: principals || [],\r\n      actions: actions || [],\r\n      resources: resources || [],\r\n      conditions: conditions || [],\r\n    });\r\n\r\n    auditingService.logAuditEvent({\r\n      userId: req.user?.id || 'system',\r\n      action: 'CREATE_POLICY',\r\n      resourceType: 'policy',\r\n      resourceId: policyId,\r\n      details: { effect, principals, actions },\r\n      status: 'success',\r\n      severity: 'high',\r\n    });\r\n\r\n    res.status(201).json({\r\n      success: true,\r\n      message: 'Policy created successfully',\r\n      data: { policyId },\r\n    });\r\n  } catch (error) {\r\n    res.status(500).json({\r\n      success: false,\r\n      message: error.message,\r\n    });\r\n  }\r\n});\r\n\r\n/**\r\n * GET /api/rbac/policies\r\n * Get all policies\r\n */\r\nrouter.get('/policies', (req, res) => {\r\n  try {\r\n    const policies = policyEngine.getAllPolicies();\r\n    res.json({\r\n      success: true,\r\n      data: policies,\r\n      count: policies.length,\r\n    });\r\n  } catch (error) {\r\n    res.status(500).json({\r\n      success: false,\r\n      message: error.message,\r\n    });\r\n  }\r\n});\r\n\r\n/**\r\n * POST /api/rbac/users/:userId/evaluate-policies\r\n * Evaluate policies for user\r\n */\r\nrouter.post('/users/:userId/evaluate-policies', (req, res) => {\r\n  try {\r\n    const { userId } = req.params;\r\n    const { action, resource } = req.body;\r\n\r\n    const context = {\r\n      userId,\r\n      action,\r\n      resource,\r\n      ...req.body,\r\n    };\r\n\r\n    const decisions = policyEngine.evaluatePolicies(userId, context);\r\n\r\n    res.json({\r\n      success: true,\r\n      userId,\r\n      decisions,\r\n      evaluationTime: new Date().toISOString(),\r\n    });\r\n  } catch (error) {\r\n    res.status(500).json({\r\n      success: false,\r\n      message: error.message,\r\n    });\r\n  }\r\n});\r\n\r\n/**\r\n * POST /api/rbac/users/:userId/access-decision\r\n * Make final access decision\r\n */\r\nrouter.post('/users/:userId/access-decision', (req, res) => {\r\n  try {\r\n    const { userId } = req.params;\r\n    const { action, resource } = req.body;\r\n\r\n    const context = {\r\n      userId,\r\n      action,\r\n      resource,\r\n      ...req.body,\r\n    };\r\n\r\n    const decision = policyEngine.makeAccessDecision(userId, action, resource, context);\r\n\r\n    res.json({\r\n      success: true,\r\n      userId,\r\n      action,\r\n      resource,\r\n      decision,\r\n    });\r\n  } catch (error) {\r\n    res.status(500).json({\r\n      success: false,\r\n      message: error.message,\r\n    });\r\n  }\r\n});\r\n\r\n// ============================================\r\n// AUDIT & REPORTING ENDPOINTS\r\n// ============================================\r\n\r\n/**\r\n * GET /api/rbac/audit-logs\r\n * Get audit logs\r\n */\r\nrouter.get('/audit-logs', (req, res) => {\r\n  try {\r\n    const query = {\r\n      limit: parseInt(req.query.limit) || 100,\r\n      skip: parseInt(req.query.skip) || 0,\r\n      filters: req.query.filters || {},\r\n    };\r\n\r\n    const logs = auditingService.queryAuditLog(query);\r\n\r\n    res.json({\r\n      success: true,\r\n      data: logs,\r\n      count: logs.length,\r\n    });\r\n  } catch (error) {\r\n    res.status(500).json({\r\n      success: false,\r\n      message: error.message,\r\n    });\r\n  }\r\n});\r\n\r\n/**\r\n * POST /api/rbac/audit-report\r\n * Generate audit report\r\n */\r\nrouter.post('/audit-report', (req, res) => {\r\n  try {\r\n    const config = req.body || {};\r\n\r\n    const report = auditingService.generateAuditReport(config);\r\n\r\n    res.json({\r\n      success: true,\r\n      data: report,\r\n    });\r\n  } catch (error) {\r\n    res.status(500).json({\r\n      success: false,\r\n      message: error.message,\r\n    });\r\n  }\r\n});\r\n\r\n/**\r\n * GET /api/rbac/security-incidents\r\n * Get security incidents\r\n */\r\nrouter.get('/security-incidents', (req, res) => {\r\n  try {\r\n    const incidents = auditingService.getSecurityIncidents();\r\n\r\n    res.json({\r\n      success: true,\r\n      data: incidents,\r\n      count: incidents.length,\r\n    });\r\n  } catch (error) {\r\n    res.status(500).json({\r\n      success: false,\r\n      message: error.message,\r\n    });\r\n  }\r\n});\r\n\r\n/**\r\n * GET /api/rbac/security-summary\r\n * Get security summary\r\n */\r\nrouter.get('/security-summary', (req, res) => {\r\n  try {\r\n    const summary = auditingService.getSecuritySummary();\r\n\r\n    res.json({\r\n      success: true,\r\n      data: summary,\r\n    });\r\n  } catch (error) {\r\n    res.status(500).json({\r\n      success: false,\r\n      message: error.message,\r\n    });\r\n  }\r\n});\r\n\r\n// ============================================\r\n// ADMIN ENDPOINTS\r\n// ============================================\r\n\r\n/**\r\n * GET /api/rbac/system-stats\r\n * Get system statistics\r\n */\r\nrouter.get('/system-stats', (req, res) => {\r\n  try {\r\n    const stats = {\r\n      roles: rbacSystem.getAllRoles().length,\r\n      permissions: rbacSystem.getAllPermissions().length,\r\n      users: rbacSystem.getAllUsers().length,\r\n      policies: policyEngine.getAllPolicies().length,\r\n      auditEvents: auditingService.auditLog.length,\r\n      securityIncidents: auditingService.getSecurityIncidents().length,\r\n    };\r\n\r\n    res.json({\r\n      success: true,\r\n      data: stats,\r\n    });\r\n  } catch (error) {\r\n    res.status(500).json({\r\n      success: false,\r\n      message: error.message,\r\n    });\r\n  }\r\n});\r\n\r\n/**\r\n * GET /api/rbac/export\r\n * Export RBAC data\r\n */\r\nrouter.get('/export', (req, res) => {\r\n  try {\r\n    const data = rbacSystem.exportData();\r\n\r\n    res.json({\r\n      success: true,\r\n      data,\r\n    });\r\n  } catch (error) {\r\n    res.status(500).json({\r\n      success: false,\r\n      message: error.message,\r\n    });\r\n  }\r\n});\r\n\r\n/**\r\n * POST /api/rbac/import\r\n * Import RBAC data\r\n */\r\nrouter.post('/import', (req, res) => {\r\n  try {\r\n    const { data } = req.body;\r\n\r\n    if (!data) {\r\n      return res.status(400).json({\r\n        success: false,\r\n        message: 'data is required',\r\n      });\r\n    }\r\n\r\n    rbacSystem.importData(data);\r\n\r\n    auditingService.logAuditEvent({\r\n      userId: req.user?.id || 'system',\r\n      action: 'IMPORT_DATA',\r\n      resourceType: 'system',\r\n      resourceId: 'rbac',\r\n      status: 'success',\r\n      severity: 'critical',\r\n    });\r\n\r\n    res.json({\r\n      success: true,\r\n      message: 'Data imported successfully',\r\n    });\r\n  } catch (error) {\r\n    res.status(500).json({\r\n      success: false,\r\n      message: error.message,\r\n    });\r\n  }\r\n});\r\n\r\n// ============================================\r\n// HEALTH CHECK\r\n// ============================================\r\n\r\n/**\r\n * GET /api/rbac/health\r\n * Health check\r\n */\r\nrouter.get('/health', (req, res) => {\r\n  res.json({\r\n    success: true,\r\n    status: 'healthy',\r\n    timestamp: new Date().toISOString(),\r\n    components: {\r\n      rbacSystem: 'operational',\r\n      policyEngine: 'operational',\r\n      auditingService: 'operational',\r\n    },\r\n  });\r\n});\r\n\r\nmodule.exports = router;\r\n"],"mappings":"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","ignoreList":[]}