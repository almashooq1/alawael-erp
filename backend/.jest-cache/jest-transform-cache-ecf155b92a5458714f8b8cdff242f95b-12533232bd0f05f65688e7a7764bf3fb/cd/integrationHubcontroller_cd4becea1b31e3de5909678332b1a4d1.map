{"version":3,"names":["IntegrationHubService","require","Logger","IntegrationHubController","registerConnector","req","res","connectorId","name","provider","baseUrl","config","metadata","body","status","json","success","message","result","data","connector","error","authenticateConnector","apiKey","apiSecret","accessToken","refreshToken","webhookUrl","credentialId","getConnectors","connectors","getAllConnectors","count","length","getConnector","params","createWorkflow","description","trigger","actions","conditions","tenantId","tenant","id","userId","user","createdBy","workflow","executeWorkflow","workflowId","triggerData","execution","registerWebhook","events","webhook","triggerWebhook","webhookId","publishApp","icon","author","version","category","pricing","features","documentation","createMarketplaceApp","app","getMarketplaceApps","search","limit","query","filters","apps","limited","slice","parseInt","total","subscribeToApp","appId","plan","subscription","getStatistics","stats","module","exports"],"sources":["integrationHub.controller.js"],"sourcesContent":["/**\n * Integration Hub Controllers\n * Controllers for connectors, workflows, and marketplace\n */\n\nconst IntegrationHubService = require('../services/integrationHub.service');\nconst Logger = require('../utils/logger');\n\nclass IntegrationHubController {\n  /**\n   * ========== CONNECTORS ==========\n   */\n\n  static async registerConnector(req, res) {\n    try {\n      const { connectorId, name, provider, baseUrl, config, metadata } = req.body;\n\n      if (!connectorId || !name || !provider) {\n        return res.status(400).json({\n          success: false,\n          message: 'Missing required fields: connectorId, name, provider',\n        });\n      }\n\n      const result = IntegrationHubService.registerConnector(connectorId, {\n        name,\n        provider,\n        baseUrl,\n        config,\n        metadata,\n      });\n\n      res.status(201).json({\n        success: true,\n        data: result.connector,\n        message: result.message,\n      });\n    } catch (error) {\n      Logger.error(`Register connector error: ${error.message}`);\n      res.status(500).json({\n        success: false,\n        message: 'Failed to register connector',\n        error: error.message,\n      });\n    }\n  }\n\n  static async authenticateConnector(req, res) {\n    try {\n      const { connectorId, apiKey, apiSecret, accessToken, refreshToken, webhookUrl } = req.body;\n\n      if (!connectorId) {\n        return res.status(400).json({\n          success: false,\n          message: 'Missing connectorId',\n        });\n      }\n\n      const result = await IntegrationHubService.authenticateConnector(connectorId, {\n        apiKey,\n        apiSecret,\n        accessToken,\n        refreshToken,\n        webhookUrl,\n      });\n\n      res.json({\n        success: true,\n        data: { credentialId: result.credentialId },\n        message: result.message,\n      });\n    } catch (error) {\n      Logger.error(`Authenticate connector error: ${error.message}`);\n      res.status(500).json({\n        success: false,\n        message: 'Failed to authenticate connector',\n        error: error.message,\n      });\n    }\n  }\n\n  static async getConnectors(req, res) {\n    try {\n      const connectors = IntegrationHubService.getAllConnectors();\n\n      res.json({\n        success: true,\n        data: { connectors, count: connectors.length },\n      });\n    } catch (error) {\n      Logger.error(`Get connectors error: ${error.message}`);\n      res.status(500).json({\n        success: false,\n        message: 'Failed to retrieve connectors',\n        error: error.message,\n      });\n    }\n  }\n\n  static async getConnector(req, res) {\n    try {\n      const { connectorId } = req.params;\n      const connector = IntegrationHubService.getConnector(connectorId);\n\n      if (!connector) {\n        return res.status(404).json({\n          success: false,\n          message: `Connector ${connectorId} not found`,\n        });\n      }\n\n      res.json({\n        success: true,\n        data: connector,\n      });\n    } catch (error) {\n      Logger.error(`Get connector error: ${error.message}`);\n      res.status(500).json({\n        success: false,\n        message: 'Failed to retrieve connector',\n        error: error.message,\n      });\n    }\n  }\n\n  /**\n   * ========== WORKFLOWS ==========\n   */\n\n  static async createWorkflow(req, res) {\n    try {\n      const { name, description, trigger, actions, conditions } = req.body;\n      const tenantId = req.tenant?.id || req.body.tenantId;\n      const userId = req.user?.id || req.body.userId;\n\n      if (!name || !trigger) {\n        return res.status(400).json({\n          success: false,\n          message: 'Missing required fields: name, trigger',\n        });\n      }\n\n      const result = IntegrationHubService.createWorkflow({\n        name,\n        description,\n        trigger,\n        actions,\n        conditions,\n        tenantId,\n        createdBy: userId,\n      });\n\n      res.status(201).json({\n        success: true,\n        data: result.workflow,\n        message: result.message,\n      });\n    } catch (error) {\n      Logger.error(`Create workflow error: ${error.message}`);\n      res.status(500).json({\n        success: false,\n        message: 'Failed to create workflow',\n        error: error.message,\n      });\n    }\n  }\n\n  static async executeWorkflow(req, res) {\n    try {\n      const { workflowId } = req.params;\n      const { triggerData } = req.body;\n\n      if (!workflowId) {\n        return res.status(400).json({\n          success: false,\n          message: 'Missing workflowId',\n        });\n      }\n\n      const execution = await IntegrationHubService.executeWorkflow(workflowId, triggerData || {});\n\n      res.json({\n        success: true,\n        data: execution,\n        message: `Workflow execution ${execution.id} completed`,\n      });\n    } catch (error) {\n      Logger.error(`Execute workflow error: ${error.message}`);\n      res.status(500).json({\n        success: false,\n        message: 'Failed to execute workflow',\n        error: error.message,\n      });\n    }\n  }\n\n  /**\n   * ========== WEBHOOKS ==========\n   */\n\n  static async registerWebhook(req, res) {\n    try {\n      const { connectorId, webhookUrl, events } = req.body;\n\n      if (!connectorId || !webhookUrl) {\n        return res.status(400).json({\n          success: false,\n          message: 'Missing required fields: connectorId, webhookUrl',\n        });\n      }\n\n      const result = IntegrationHubService.registerWebhook(connectorId, webhookUrl, events || []);\n\n      res.status(201).json({\n        success: true,\n        data: result.webhook,\n        message: result.message,\n      });\n    } catch (error) {\n      Logger.error(`Register webhook error: ${error.message}`);\n      res.status(500).json({\n        success: false,\n        message: 'Failed to register webhook',\n        error: error.message,\n      });\n    }\n  }\n\n  static async triggerWebhook(req, res) {\n    try {\n      const { webhookId } = req.params;\n      const data = req.body;\n\n      if (!webhookId) {\n        return res.status(400).json({\n          success: false,\n          message: 'Missing webhookId',\n        });\n      }\n\n      const result = await IntegrationHubService.triggerWebhook(webhookId, data);\n\n      if (!result.success) {\n        return res.status(400).json({\n          success: false,\n          message: 'Failed to trigger webhook',\n          error: result.error,\n        });\n      }\n\n      res.json({\n        success: true,\n        data: result,\n        message: 'Webhook triggered successfully',\n      });\n    } catch (error) {\n      Logger.error(`Trigger webhook error: ${error.message}`);\n      res.status(500).json({\n        success: false,\n        message: 'Failed to trigger webhook',\n        error: error.message,\n      });\n    }\n  }\n\n  /**\n   * ========== MARKETPLACE ==========\n   */\n\n  static async publishApp(req, res) {\n    try {\n      const { name, description, icon, author, version, category, pricing, features, documentation } =\n        req.body;\n\n      if (!name || !author || !category) {\n        return res.status(400).json({\n          success: false,\n          message: 'Missing required fields: name, author, category',\n        });\n      }\n\n      const result = IntegrationHubService.createMarketplaceApp({\n        name,\n        description,\n        icon,\n        author,\n        version,\n        category,\n        pricing,\n        features,\n        documentation,\n      });\n\n      res.status(201).json({\n        success: true,\n        data: result.app,\n        message: result.message,\n      });\n    } catch (error) {\n      Logger.error(`Publish app error: ${error.message}`);\n      res.status(500).json({\n        success: false,\n        message: 'Failed to publish app',\n        error: error.message,\n      });\n    }\n  }\n\n  static async getMarketplaceApps(req, res) {\n    try {\n      const { category, pricing, search, limit } = req.query;\n\n      const filters = {};\n      if (category) filters.category = category;\n      if (pricing) filters.pricing = pricing;\n      if (search) filters.search = search;\n\n      const apps = IntegrationHubService.getMarketplaceApps(filters);\n\n      const limited = limit ? apps.slice(0, parseInt(limit)) : apps;\n\n      res.json({\n        success: true,\n        data: { apps: limited, count: limited.length, total: apps.length },\n      });\n    } catch (error) {\n      Logger.error(`Get marketplace apps error: ${error.message}`);\n      res.status(500).json({\n        success: false,\n        message: 'Failed to retrieve marketplace apps',\n        error: error.message,\n      });\n    }\n  }\n\n  static async subscribeToApp(req, res) {\n    try {\n      const { appId, plan } = req.body;\n      const tenantId = req.tenant?.id || req.body.tenantId;\n\n      if (!appId) {\n        return res.status(400).json({\n          success: false,\n          message: 'Missing appId',\n        });\n      }\n\n      const result = IntegrationHubService.subscribeToApp(tenantId, appId, plan || 'free');\n\n      res.status(201).json({\n        success: true,\n        data: result.subscription,\n        message: result.message,\n      });\n    } catch (error) {\n      Logger.error(`Subscribe to app error: ${error.message}`);\n      res.status(500).json({\n        success: false,\n        message: 'Failed to subscribe to app',\n        error: error.message,\n      });\n    }\n  }\n\n  /**\n   * ========== STATISTICS ==========\n   */\n\n  static async getStatistics(req, res) {\n    try {\n      const stats = IntegrationHubService.getStatistics();\n\n      res.json({\n        success: true,\n        data: stats,\n        message: 'Integration hub statistics',\n      });\n    } catch (error) {\n      Logger.error(`Get statistics error: ${error.message}`);\n      res.status(500).json({\n        success: false,\n        message: 'Failed to retrieve statistics',\n        error: error.message,\n      });\n    }\n  }\n}\n\nmodule.exports = IntegrationHubController;\n"],"mappings":"AAAA;AACA;AACA;AACA;;AAEA,MAAMA,qBAAqB,GAAGC,OAAO,CAAC,oCAAoC,CAAC;AAC3E,MAAMC,MAAM,GAAGD,OAAO,CAAC,iBAAiB,CAAC;AAEzC,MAAME,wBAAwB,CAAC;EAC7B;AACF;AACA;;EAEE,aAAaC,iBAAiBA,CAACC,GAAG,EAAEC,GAAG,EAAE;IACvC,IAAI;MACF,MAAM;QAAEC,WAAW;QAAEC,IAAI;QAAEC,QAAQ;QAAEC,OAAO;QAAEC,MAAM;QAAEC;MAAS,CAAC,GAAGP,GAAG,CAACQ,IAAI;MAE3E,IAAI,CAACN,WAAW,IAAI,CAACC,IAAI,IAAI,CAACC,QAAQ,EAAE;QACtC,OAAOH,GAAG,CAACQ,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;UAC1BC,OAAO,EAAE,KAAK;UACdC,OAAO,EAAE;QACX,CAAC,CAAC;MACJ;MAEA,MAAMC,MAAM,GAAGlB,qBAAqB,CAACI,iBAAiB,CAACG,WAAW,EAAE;QAClEC,IAAI;QACJC,QAAQ;QACRC,OAAO;QACPC,MAAM;QACNC;MACF,CAAC,CAAC;MAEFN,GAAG,CAACQ,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QACnBC,OAAO,EAAE,IAAI;QACbG,IAAI,EAAED,MAAM,CAACE,SAAS;QACtBH,OAAO,EAAEC,MAAM,CAACD;MAClB,CAAC,CAAC;IACJ,CAAC,CAAC,OAAOI,KAAK,EAAE;MACdnB,MAAM,CAACmB,KAAK,CAAC,6BAA6BA,KAAK,CAACJ,OAAO,EAAE,CAAC;MAC1DX,GAAG,CAACQ,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QACnBC,OAAO,EAAE,KAAK;QACdC,OAAO,EAAE,8BAA8B;QACvCI,KAAK,EAAEA,KAAK,CAACJ;MACf,CAAC,CAAC;IACJ;EACF;EAEA,aAAaK,qBAAqBA,CAACjB,GAAG,EAAEC,GAAG,EAAE;IAC3C,IAAI;MACF,MAAM;QAAEC,WAAW;QAAEgB,MAAM;QAAEC,SAAS;QAAEC,WAAW;QAAEC,YAAY;QAAEC;MAAW,CAAC,GAAGtB,GAAG,CAACQ,IAAI;MAE1F,IAAI,CAACN,WAAW,EAAE;QAChB,OAAOD,GAAG,CAACQ,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;UAC1BC,OAAO,EAAE,KAAK;UACdC,OAAO,EAAE;QACX,CAAC,CAAC;MACJ;MAEA,MAAMC,MAAM,GAAG,MAAMlB,qBAAqB,CAACsB,qBAAqB,CAACf,WAAW,EAAE;QAC5EgB,MAAM;QACNC,SAAS;QACTC,WAAW;QACXC,YAAY;QACZC;MACF,CAAC,CAAC;MAEFrB,GAAG,CAACS,IAAI,CAAC;QACPC,OAAO,EAAE,IAAI;QACbG,IAAI,EAAE;UAAES,YAAY,EAAEV,MAAM,CAACU;QAAa,CAAC;QAC3CX,OAAO,EAAEC,MAAM,CAACD;MAClB,CAAC,CAAC;IACJ,CAAC,CAAC,OAAOI,KAAK,EAAE;MACdnB,MAAM,CAACmB,KAAK,CAAC,iCAAiCA,KAAK,CAACJ,OAAO,EAAE,CAAC;MAC9DX,GAAG,CAACQ,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QACnBC,OAAO,EAAE,KAAK;QACdC,OAAO,EAAE,kCAAkC;QAC3CI,KAAK,EAAEA,KAAK,CAACJ;MACf,CAAC,CAAC;IACJ;EACF;EAEA,aAAaY,aAAaA,CAACxB,GAAG,EAAEC,GAAG,EAAE;IACnC,IAAI;MACF,MAAMwB,UAAU,GAAG9B,qBAAqB,CAAC+B,gBAAgB,CAAC,CAAC;MAE3DzB,GAAG,CAACS,IAAI,CAAC;QACPC,OAAO,EAAE,IAAI;QACbG,IAAI,EAAE;UAAEW,UAAU;UAAEE,KAAK,EAAEF,UAAU,CAACG;QAAO;MAC/C,CAAC,CAAC;IACJ,CAAC,CAAC,OAAOZ,KAAK,EAAE;MACdnB,MAAM,CAACmB,KAAK,CAAC,yBAAyBA,KAAK,CAACJ,OAAO,EAAE,CAAC;MACtDX,GAAG,CAACQ,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QACnBC,OAAO,EAAE,KAAK;QACdC,OAAO,EAAE,+BAA+B;QACxCI,KAAK,EAAEA,KAAK,CAACJ;MACf,CAAC,CAAC;IACJ;EACF;EAEA,aAAaiB,YAAYA,CAAC7B,GAAG,EAAEC,GAAG,EAAE;IAClC,IAAI;MACF,MAAM;QAAEC;MAAY,CAAC,GAAGF,GAAG,CAAC8B,MAAM;MAClC,MAAMf,SAAS,GAAGpB,qBAAqB,CAACkC,YAAY,CAAC3B,WAAW,CAAC;MAEjE,IAAI,CAACa,SAAS,EAAE;QACd,OAAOd,GAAG,CAACQ,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;UAC1BC,OAAO,EAAE,KAAK;UACdC,OAAO,EAAE,aAAaV,WAAW;QACnC,CAAC,CAAC;MACJ;MAEAD,GAAG,CAACS,IAAI,CAAC;QACPC,OAAO,EAAE,IAAI;QACbG,IAAI,EAAEC;MACR,CAAC,CAAC;IACJ,CAAC,CAAC,OAAOC,KAAK,EAAE;MACdnB,MAAM,CAACmB,KAAK,CAAC,wBAAwBA,KAAK,CAACJ,OAAO,EAAE,CAAC;MACrDX,GAAG,CAACQ,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QACnBC,OAAO,EAAE,KAAK;QACdC,OAAO,EAAE,8BAA8B;QACvCI,KAAK,EAAEA,KAAK,CAACJ;MACf,CAAC,CAAC;IACJ;EACF;;EAEA;AACF;AACA;;EAEE,aAAamB,cAAcA,CAAC/B,GAAG,EAAEC,GAAG,EAAE;IACpC,IAAI;MACF,MAAM;QAAEE,IAAI;QAAE6B,WAAW;QAAEC,OAAO;QAAEC,OAAO;QAAEC;MAAW,CAAC,GAAGnC,GAAG,CAACQ,IAAI;MACpE,MAAM4B,QAAQ,GAAGpC,GAAG,CAACqC,MAAM,EAAEC,EAAE,IAAItC,GAAG,CAACQ,IAAI,CAAC4B,QAAQ;MACpD,MAAMG,MAAM,GAAGvC,GAAG,CAACwC,IAAI,EAAEF,EAAE,IAAItC,GAAG,CAACQ,IAAI,CAAC+B,MAAM;MAE9C,IAAI,CAACpC,IAAI,IAAI,CAAC8B,OAAO,EAAE;QACrB,OAAOhC,GAAG,CAACQ,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;UAC1BC,OAAO,EAAE,KAAK;UACdC,OAAO,EAAE;QACX,CAAC,CAAC;MACJ;MAEA,MAAMC,MAAM,GAAGlB,qBAAqB,CAACoC,cAAc,CAAC;QAClD5B,IAAI;QACJ6B,WAAW;QACXC,OAAO;QACPC,OAAO;QACPC,UAAU;QACVC,QAAQ;QACRK,SAAS,EAAEF;MACb,CAAC,CAAC;MAEFtC,GAAG,CAACQ,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QACnBC,OAAO,EAAE,IAAI;QACbG,IAAI,EAAED,MAAM,CAAC6B,QAAQ;QACrB9B,OAAO,EAAEC,MAAM,CAACD;MAClB,CAAC,CAAC;IACJ,CAAC,CAAC,OAAOI,KAAK,EAAE;MACdnB,MAAM,CAACmB,KAAK,CAAC,0BAA0BA,KAAK,CAACJ,OAAO,EAAE,CAAC;MACvDX,GAAG,CAACQ,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QACnBC,OAAO,EAAE,KAAK;QACdC,OAAO,EAAE,2BAA2B;QACpCI,KAAK,EAAEA,KAAK,CAACJ;MACf,CAAC,CAAC;IACJ;EACF;EAEA,aAAa+B,eAAeA,CAAC3C,GAAG,EAAEC,GAAG,EAAE;IACrC,IAAI;MACF,MAAM;QAAE2C;MAAW,CAAC,GAAG5C,GAAG,CAAC8B,MAAM;MACjC,MAAM;QAAEe;MAAY,CAAC,GAAG7C,GAAG,CAACQ,IAAI;MAEhC,IAAI,CAACoC,UAAU,EAAE;QACf,OAAO3C,GAAG,CAACQ,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;UAC1BC,OAAO,EAAE,KAAK;UACdC,OAAO,EAAE;QACX,CAAC,CAAC;MACJ;MAEA,MAAMkC,SAAS,GAAG,MAAMnD,qBAAqB,CAACgD,eAAe,CAACC,UAAU,EAAEC,WAAW,IAAI,CAAC,CAAC,CAAC;MAE5F5C,GAAG,CAACS,IAAI,CAAC;QACPC,OAAO,EAAE,IAAI;QACbG,IAAI,EAAEgC,SAAS;QACflC,OAAO,EAAE,sBAAsBkC,SAAS,CAACR,EAAE;MAC7C,CAAC,CAAC;IACJ,CAAC,CAAC,OAAOtB,KAAK,EAAE;MACdnB,MAAM,CAACmB,KAAK,CAAC,2BAA2BA,KAAK,CAACJ,OAAO,EAAE,CAAC;MACxDX,GAAG,CAACQ,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QACnBC,OAAO,EAAE,KAAK;QACdC,OAAO,EAAE,4BAA4B;QACrCI,KAAK,EAAEA,KAAK,CAACJ;MACf,CAAC,CAAC;IACJ;EACF;;EAEA;AACF;AACA;;EAEE,aAAamC,eAAeA,CAAC/C,GAAG,EAAEC,GAAG,EAAE;IACrC,IAAI;MACF,MAAM;QAAEC,WAAW;QAAEoB,UAAU;QAAE0B;MAAO,CAAC,GAAGhD,GAAG,CAACQ,IAAI;MAEpD,IAAI,CAACN,WAAW,IAAI,CAACoB,UAAU,EAAE;QAC/B,OAAOrB,GAAG,CAACQ,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;UAC1BC,OAAO,EAAE,KAAK;UACdC,OAAO,EAAE;QACX,CAAC,CAAC;MACJ;MAEA,MAAMC,MAAM,GAAGlB,qBAAqB,CAACoD,eAAe,CAAC7C,WAAW,EAAEoB,UAAU,EAAE0B,MAAM,IAAI,EAAE,CAAC;MAE3F/C,GAAG,CAACQ,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QACnBC,OAAO,EAAE,IAAI;QACbG,IAAI,EAAED,MAAM,CAACoC,OAAO;QACpBrC,OAAO,EAAEC,MAAM,CAACD;MAClB,CAAC,CAAC;IACJ,CAAC,CAAC,OAAOI,KAAK,EAAE;MACdnB,MAAM,CAACmB,KAAK,CAAC,2BAA2BA,KAAK,CAACJ,OAAO,EAAE,CAAC;MACxDX,GAAG,CAACQ,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QACnBC,OAAO,EAAE,KAAK;QACdC,OAAO,EAAE,4BAA4B;QACrCI,KAAK,EAAEA,KAAK,CAACJ;MACf,CAAC,CAAC;IACJ;EACF;EAEA,aAAasC,cAAcA,CAAClD,GAAG,EAAEC,GAAG,EAAE;IACpC,IAAI;MACF,MAAM;QAAEkD;MAAU,CAAC,GAAGnD,GAAG,CAAC8B,MAAM;MAChC,MAAMhB,IAAI,GAAGd,GAAG,CAACQ,IAAI;MAErB,IAAI,CAAC2C,SAAS,EAAE;QACd,OAAOlD,GAAG,CAACQ,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;UAC1BC,OAAO,EAAE,KAAK;UACdC,OAAO,EAAE;QACX,CAAC,CAAC;MACJ;MAEA,MAAMC,MAAM,GAAG,MAAMlB,qBAAqB,CAACuD,cAAc,CAACC,SAAS,EAAErC,IAAI,CAAC;MAE1E,IAAI,CAACD,MAAM,CAACF,OAAO,EAAE;QACnB,OAAOV,GAAG,CAACQ,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;UAC1BC,OAAO,EAAE,KAAK;UACdC,OAAO,EAAE,2BAA2B;UACpCI,KAAK,EAAEH,MAAM,CAACG;QAChB,CAAC,CAAC;MACJ;MAEAf,GAAG,CAACS,IAAI,CAAC;QACPC,OAAO,EAAE,IAAI;QACbG,IAAI,EAAED,MAAM;QACZD,OAAO,EAAE;MACX,CAAC,CAAC;IACJ,CAAC,CAAC,OAAOI,KAAK,EAAE;MACdnB,MAAM,CAACmB,KAAK,CAAC,0BAA0BA,KAAK,CAACJ,OAAO,EAAE,CAAC;MACvDX,GAAG,CAACQ,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QACnBC,OAAO,EAAE,KAAK;QACdC,OAAO,EAAE,2BAA2B;QACpCI,KAAK,EAAEA,KAAK,CAACJ;MACf,CAAC,CAAC;IACJ;EACF;;EAEA;AACF;AACA;;EAEE,aAAawC,UAAUA,CAACpD,GAAG,EAAEC,GAAG,EAAE;IAChC,IAAI;MACF,MAAM;QAAEE,IAAI;QAAE6B,WAAW;QAAEqB,IAAI;QAAEC,MAAM;QAAEC,OAAO;QAAEC,QAAQ;QAAEC,OAAO;QAAEC,QAAQ;QAAEC;MAAc,CAAC,GAC5F3D,GAAG,CAACQ,IAAI;MAEV,IAAI,CAACL,IAAI,IAAI,CAACmD,MAAM,IAAI,CAACE,QAAQ,EAAE;QACjC,OAAOvD,GAAG,CAACQ,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;UAC1BC,OAAO,EAAE,KAAK;UACdC,OAAO,EAAE;QACX,CAAC,CAAC;MACJ;MAEA,MAAMC,MAAM,GAAGlB,qBAAqB,CAACiE,oBAAoB,CAAC;QACxDzD,IAAI;QACJ6B,WAAW;QACXqB,IAAI;QACJC,MAAM;QACNC,OAAO;QACPC,QAAQ;QACRC,OAAO;QACPC,QAAQ;QACRC;MACF,CAAC,CAAC;MAEF1D,GAAG,CAACQ,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QACnBC,OAAO,EAAE,IAAI;QACbG,IAAI,EAAED,MAAM,CAACgD,GAAG;QAChBjD,OAAO,EAAEC,MAAM,CAACD;MAClB,CAAC,CAAC;IACJ,CAAC,CAAC,OAAOI,KAAK,EAAE;MACdnB,MAAM,CAACmB,KAAK,CAAC,sBAAsBA,KAAK,CAACJ,OAAO,EAAE,CAAC;MACnDX,GAAG,CAACQ,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QACnBC,OAAO,EAAE,KAAK;QACdC,OAAO,EAAE,uBAAuB;QAChCI,KAAK,EAAEA,KAAK,CAACJ;MACf,CAAC,CAAC;IACJ;EACF;EAEA,aAAakD,kBAAkBA,CAAC9D,GAAG,EAAEC,GAAG,EAAE;IACxC,IAAI;MACF,MAAM;QAAEuD,QAAQ;QAAEC,OAAO;QAAEM,MAAM;QAAEC;MAAM,CAAC,GAAGhE,GAAG,CAACiE,KAAK;MAEtD,MAAMC,OAAO,GAAG,CAAC,CAAC;MAClB,IAAIV,QAAQ,EAAEU,OAAO,CAACV,QAAQ,GAAGA,QAAQ;MACzC,IAAIC,OAAO,EAAES,OAAO,CAACT,OAAO,GAAGA,OAAO;MACtC,IAAIM,MAAM,EAAEG,OAAO,CAACH,MAAM,GAAGA,MAAM;MAEnC,MAAMI,IAAI,GAAGxE,qBAAqB,CAACmE,kBAAkB,CAACI,OAAO,CAAC;MAE9D,MAAME,OAAO,GAAGJ,KAAK,GAAGG,IAAI,CAACE,KAAK,CAAC,CAAC,EAAEC,QAAQ,CAACN,KAAK,CAAC,CAAC,GAAGG,IAAI;MAE7DlE,GAAG,CAACS,IAAI,CAAC;QACPC,OAAO,EAAE,IAAI;QACbG,IAAI,EAAE;UAAEqD,IAAI,EAAEC,OAAO;UAAEzC,KAAK,EAAEyC,OAAO,CAACxC,MAAM;UAAE2C,KAAK,EAAEJ,IAAI,CAACvC;QAAO;MACnE,CAAC,CAAC;IACJ,CAAC,CAAC,OAAOZ,KAAK,EAAE;MACdnB,MAAM,CAACmB,KAAK,CAAC,+BAA+BA,KAAK,CAACJ,OAAO,EAAE,CAAC;MAC5DX,GAAG,CAACQ,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QACnBC,OAAO,EAAE,KAAK;QACdC,OAAO,EAAE,qCAAqC;QAC9CI,KAAK,EAAEA,KAAK,CAACJ;MACf,CAAC,CAAC;IACJ;EACF;EAEA,aAAa4D,cAAcA,CAACxE,GAAG,EAAEC,GAAG,EAAE;IACpC,IAAI;MACF,MAAM;QAAEwE,KAAK;QAAEC;MAAK,CAAC,GAAG1E,GAAG,CAACQ,IAAI;MAChC,MAAM4B,QAAQ,GAAGpC,GAAG,CAACqC,MAAM,EAAEC,EAAE,IAAItC,GAAG,CAACQ,IAAI,CAAC4B,QAAQ;MAEpD,IAAI,CAACqC,KAAK,EAAE;QACV,OAAOxE,GAAG,CAACQ,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;UAC1BC,OAAO,EAAE,KAAK;UACdC,OAAO,EAAE;QACX,CAAC,CAAC;MACJ;MAEA,MAAMC,MAAM,GAAGlB,qBAAqB,CAAC6E,cAAc,CAACpC,QAAQ,EAAEqC,KAAK,EAAEC,IAAI,IAAI,MAAM,CAAC;MAEpFzE,GAAG,CAACQ,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QACnBC,OAAO,EAAE,IAAI;QACbG,IAAI,EAAED,MAAM,CAAC8D,YAAY;QACzB/D,OAAO,EAAEC,MAAM,CAACD;MAClB,CAAC,CAAC;IACJ,CAAC,CAAC,OAAOI,KAAK,EAAE;MACdnB,MAAM,CAACmB,KAAK,CAAC,2BAA2BA,KAAK,CAACJ,OAAO,EAAE,CAAC;MACxDX,GAAG,CAACQ,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QACnBC,OAAO,EAAE,KAAK;QACdC,OAAO,EAAE,4BAA4B;QACrCI,KAAK,EAAEA,KAAK,CAACJ;MACf,CAAC,CAAC;IACJ;EACF;;EAEA;AACF;AACA;;EAEE,aAAagE,aAAaA,CAAC5E,GAAG,EAAEC,GAAG,EAAE;IACnC,IAAI;MACF,MAAM4E,KAAK,GAAGlF,qBAAqB,CAACiF,aAAa,CAAC,CAAC;MAEnD3E,GAAG,CAACS,IAAI,CAAC;QACPC,OAAO,EAAE,IAAI;QACbG,IAAI,EAAE+D,KAAK;QACXjE,OAAO,EAAE;MACX,CAAC,CAAC;IACJ,CAAC,CAAC,OAAOI,KAAK,EAAE;MACdnB,MAAM,CAACmB,KAAK,CAAC,yBAAyBA,KAAK,CAACJ,OAAO,EAAE,CAAC;MACtDX,GAAG,CAACQ,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QACnBC,OAAO,EAAE,KAAK;QACdC,OAAO,EAAE,+BAA+B;QACxCI,KAAK,EAAEA,KAAK,CAACJ;MACf,CAAC,CAAC;IACJ;EACF;AACF;AAEAkE,MAAM,CAACC,OAAO,GAAGjF,wBAAwB","ignoreList":[]}