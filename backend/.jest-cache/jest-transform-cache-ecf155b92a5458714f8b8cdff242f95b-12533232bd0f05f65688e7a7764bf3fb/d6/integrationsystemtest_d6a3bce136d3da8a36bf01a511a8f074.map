{"version":3,"names":["IntegrationService","WebhookEvent","WebhookSubscription","IntegrationConnector","APIIntegration","require","describe","integrationService","beforeEach","test","event","orderId","amount","expect","toBe","data","status","id","toBeDefined","event1","event2","not","secret","signature","generateSignature","length","toBeGreaterThan","transactionId","payload","getPayload","retries","webhook","url","events","isActive","webhook1","webhook2","matches","incrementDelivery","deliveryCount","failureCount","delay1","getRetryDelay","delay2","delay3","toBeLessThanOrEqual","retryPolicy","maxDelay","connector","baseURL","name","type","addFieldMapping","val","mappings","size","mapped","applyMappings","ignoredField","order_id","total","toBeUndefined","addFilter","applyFilters","recordSync","syncCount","errorCount","lastSync","api","config","timeout","registerEndpoint","endpoints","endpoint","get","method","path","call","callCount","lastCall","result","success","timestamp","summary","getSummary","registerWebhook","retrieved","getWebhook","all","getAllWebhooks","updateWebhook","updated","deleteWebhook","emitEvent","history","getEventHistory","createConnector","registerAPI","integrations","getAllIntegrations","transform","transformed","registerTransformation","applyTransformation","JSON","stringify","createHmac","update","digest","isValid","validateWebhookSignature","stats","getStatistics","webhooks","connectors","successRate","health","getIntegrationHealth","totalConnectors","healthPercentage","exportConfiguration","statistics","done","on","source","shopifyId","customerEmail","email","webhook3","toThrow","getConnector","service","normalized","Date","i","index"],"sources":["integration-system.test.js"],"sourcesContent":["/**\r\n * integration-system.test.js\r\n * AlAwael ERP - Integration System Test Suite\r\n * Testing webhooks, connectors, API integrations, and synchronization\r\n * February 22, 2026\r\n */\r\n\r\nconst {\r\n  IntegrationService,\r\n  WebhookEvent,\r\n  WebhookSubscription,\r\n  IntegrationConnector,\r\n  APIIntegration\r\n} = require('../services/IntegrationService');\r\n\r\ndescribe('Integration System - Comprehensive Tests', () => {\r\n  let integrationService;\r\n\r\n  beforeEach(() => {\r\n    integrationService = new IntegrationService();\r\n  });\r\n\r\n  // ===========================\r\n  // WEBHOOK EVENT TESTS\r\n  // ===========================\r\n  describe('WebhookEvent', () => {\r\n    test('creates webhook event with valid data', () => {\r\n      const event = new WebhookEvent('order.created', { orderId: '123', amount: 500 });\r\n\r\n      expect(event.event).toBe('order.created');\r\n      expect(event.data.orderId).toBe('123');\r\n      expect(event.status).toBe('pending');\r\n      expect(event.id).toBeDefined();\r\n    });\r\n\r\n    test('generates unique event IDs', () => {\r\n      const event1 = new WebhookEvent('test1', {});\r\n      const event2 = new WebhookEvent('test2', {});\r\n\r\n      expect(event1.id).not.toBe(event2.id);\r\n    });\r\n\r\n    test('generates HMAC SHA256 signature', () => {\r\n      const event = new WebhookEvent('order.created', { amount: 100 });\r\n      const secret = 'test-secret';\r\n\r\n      const signature = event.generateSignature(secret);\r\n\r\n      expect(signature).toBeDefined();\r\n      expect(signature.length).toBeGreaterThan(0);\r\n      expect(event.signature).toBe(signature);\r\n    });\r\n\r\n    test('provides payload with signature', () => {\r\n      const event = new WebhookEvent('payment.completed', { transactionId: 'tx-123' });\r\n      event.generateSignature('secret');\r\n\r\n      const payload = event.getPayload();\r\n\r\n      expect(payload.id).toBe(event.id);\r\n      expect(payload.event).toBe('payment.completed');\r\n      expect(payload.signature).toBeDefined();\r\n    });\r\n\r\n    test('tracks retry attempts', () => {\r\n      const event = new WebhookEvent('test', {});\r\n\r\n      expect(event.retries).toBe(0);\r\n\r\n      event.retries = 1;\r\n      event.status = 'retrying';\r\n\r\n      expect(event.retries).toBe(1);\r\n      expect(event.status).toBe('retrying');\r\n    });\r\n  });\r\n\r\n  // ===========================\r\n  // WEBHOOK SUBSCRIPTION TESTS\r\n  // ===========================\r\n  describe('WebhookSubscription', () => {\r\n    test('creates subscription with URL and events', () => {\r\n      const webhook = new WebhookSubscription(\r\n        'https://example.com/webhooks',\r\n        ['order.created', 'order.updated']\r\n      );\r\n\r\n      expect(webhook.url).toBe('https://example.com/webhooks');\r\n      expect(webhook.events.length).toBe(2);\r\n      expect(webhook.isActive).toBe(true);\r\n    });\r\n\r\n    test('generates unique secret', () => {\r\n      const webhook1 = new WebhookSubscription('url1', ['*']);\r\n      const webhook2 = new WebhookSubscription('url2', ['*']);\r\n\r\n      expect(webhook1.secret).not.toBe(webhook2.secret);\r\n    });\r\n\r\n    test('matches events correctly', () => {\r\n      const webhook = new WebhookSubscription('url', ['order.created', 'order.deleted']);\r\n\r\n      expect(webhook.matches('order.created')).toBe(true);\r\n      expect(webhook.matches('order.deleted')).toBe(true);\r\n      expect(webhook.matches('order.updated')).toBe(false);\r\n    });\r\n\r\n    test('matches wildcard events', () => {\r\n      const webhook = new WebhookSubscription('url', ['*']);\r\n\r\n      expect(webhook.matches('order.created')).toBe(true);\r\n      expect(webhook.matches('payment.sent')).toBe(true);\r\n      expect(webhook.matches('anything')).toBe(true);\r\n    });\r\n\r\n    test('tracks delivery counts', () => {\r\n      const webhook = new WebhookSubscription('url', ['*']);\r\n\r\n      webhook.incrementDelivery(true);\r\n      webhook.incrementDelivery(true);\r\n      webhook.incrementDelivery(false);\r\n\r\n      expect(webhook.deliveryCount).toBe(2);\r\n      expect(webhook.failureCount).toBe(1);\r\n    });\r\n\r\n    test('calculates retry delay with exponential backoff', () => {\r\n      const webhook = new WebhookSubscription('url', ['*']);\r\n\r\n      const delay1 = webhook.getRetryDelay(0);\r\n      const delay2 = webhook.getRetryDelay(1);\r\n      const delay3 = webhook.getRetryDelay(2);\r\n\r\n      expect(delay2).toBeGreaterThan(delay1);\r\n      expect(delay3).toBeGreaterThan(delay2);\r\n      expect(delay3).toBeLessThanOrEqual(webhook.retryPolicy.maxDelay);\r\n    });\r\n  });\r\n\r\n  // ===========================\r\n  // INTEGRATION CONNECTOR TESTS\r\n  // ===========================\r\n  describe('IntegrationConnector', () => {\r\n    test('creates connector with name, type, and config', () => {\r\n      const connector = new IntegrationConnector(\r\n        'Shopify',\r\n        'api',\r\n        { baseURL: 'https://shopify.com/api' }\r\n      );\r\n\r\n      expect(connector.name).toBe('Shopify');\r\n      expect(connector.type).toBe('api');\r\n      expect(connector.isActive).toBe(true);\r\n    });\r\n\r\n    test('registers field mappings', () => {\r\n      const connector = new IntegrationConnector('Test', 'api', {});\r\n\r\n      connector.addFieldMapping('sourceId', 'target_id');\r\n      connector.addFieldMapping('amount', 'total_amount', (val) => val * 100);\r\n\r\n      expect(connector.mappings.size).toBe(2);\r\n    });\r\n\r\n    test('applies field mappings', () => {\r\n      const connector = new IntegrationConnector('Test', 'api', {});\r\n\r\n      connector.addFieldMapping('orderId', 'order_id');\r\n      connector.addFieldMapping('amount', 'total', (val) => val * 100);\r\n\r\n      const mapped = connector.applyMappings({\r\n        orderId: '123',\r\n        amount: 50,\r\n        ignoredField: 'ignored'\r\n      });\r\n\r\n      expect(mapped.order_id).toBe('123');\r\n      expect(mapped.total).toBe(5000); // 50 * 100\r\n      expect(mapped.ignoredField).toBeUndefined();\r\n    });\r\n\r\n    test('adds and applies filters', () => {\r\n      const connector = new IntegrationConnector('Test', 'api', {});\r\n\r\n      connector.addFilter('status', '==', 'active');\r\n      connector.addFilter('amount', '>', 100);\r\n\r\n      expect(connector.applyFilters({ status: 'active', amount: 150 })).toBe(true);\r\n      expect(connector.applyFilters({ status: 'inactive', amount: 150 })).toBe(false);\r\n      expect(connector.applyFilters({ status: 'active', amount: 50 })).toBe(false);\r\n    });\r\n\r\n    test('records synchronization', () => {\r\n      const connector = new IntegrationConnector('Test', 'api', {});\r\n\r\n      connector.recordSync(true);\r\n      connector.recordSync(false);\r\n      connector.recordSync(true);\r\n\r\n      expect(connector.syncCount).toBe(2);\r\n      expect(connector.errorCount).toBe(1);\r\n      expect(connector.lastSync).toBeDefined();\r\n    });\r\n  });\r\n\r\n  // ===========================\r\n  // API INTEGRATION TESTS\r\n  // ===========================\r\n  describe('APIIntegration', () => {\r\n    test('creates API integration with base URL', () => {\r\n      const api = new APIIntegration('Shopify', 'https://shopify.com/api/v1');\r\n\r\n      expect(api.name).toBe('Shopify');\r\n      expect(api.baseURL).toBe('https://shopify.com/api/v1');\r\n      expect(api.config.timeout).toBe(30000); // default\r\n    });\r\n\r\n    test('registers endpoints', () => {\r\n      const api = new APIIntegration('MyAPI', 'https://api.example.com');\r\n\r\n      api.registerEndpoint('getOrder', 'GET', '/orders/:orderId');\r\n      api.registerEndpoint('createOrder', 'POST', '/orders');\r\n\r\n      expect(api.endpoints.size).toBe(2);\r\n    });\r\n\r\n    test('retrieves registered endpoint', () => {\r\n      const api = new APIIntegration('Test', 'https://api.test.com');\r\n\r\n      api.registerEndpoint('getUser', 'GET', '/users/:userId');\r\n\r\n      const endpoint = api.endpoints.get('getUser');\r\n\r\n      expect(endpoint.method).toBe('GET');\r\n      expect(endpoint.path).toBe('/users/:userId');\r\n    });\r\n\r\n    test('tracks API calls', async () => {\r\n      const api = new APIIntegration('Test', 'https://api.test.com');\r\n\r\n      api.registerEndpoint('test', 'GET', '/test');\r\n\r\n      await api.call('test');\r\n\r\n      expect(api.callCount).toBe(1);\r\n      expect(api.lastCall).toBeDefined();\r\n    });\r\n\r\n    test('returns API call result', async () => {\r\n      const api = new APIIntegration('Test', 'https://api.test.com');\r\n\r\n      api.registerEndpoint('getUser', 'GET', '/users/:id');\r\n\r\n      const result = await api.call('getUser', { id: '123' });\r\n\r\n      expect(result.success).toBe(true);\r\n      expect(result.endpoint).toBe('getUser');\r\n      expect(result.timestamp).toBeDefined();\r\n    });\r\n\r\n    test('provides API summary', () => {\r\n      const api = new APIIntegration('TestAPI', 'https://api.test.com');\r\n\r\n      api.registerEndpoint('list', 'GET', '/items');\r\n      api.registerEndpoint('create', 'POST', '/items');\r\n\r\n      const summary = api.getSummary();\r\n\r\n      expect(summary.name).toBe('TestAPI');\r\n      expect(summary.endpoints).toBe(2);\r\n    });\r\n  });\r\n\r\n  // ===========================\r\n  // INTEGRATION SERVICE TESTS\r\n  // ===========================\r\n  describe('IntegrationService', () => {\r\n    test('registers webhooks', () => {\r\n      const webhook = integrationService.registerWebhook(\r\n        'https://example.com/webhook',\r\n        ['order.created']\r\n      );\r\n\r\n      expect(webhook.id).toBeDefined();\r\n      expect(webhook.url).toBe('https://example.com/webhook');\r\n    });\r\n\r\n    test('retrieves specific webhook', () => {\r\n      const webhook = integrationService.registerWebhook('url', ['*']);\r\n\r\n      const retrieved = integrationService.getWebhook(webhook.id);\r\n\r\n      expect(retrieved).toBe(webhook);\r\n    });\r\n\r\n    test('retrieves all webhooks', () => {\r\n      integrationService.registerWebhook('url1', ['order.created']);\r\n      integrationService.registerWebhook('url2', ['payment.sent']);\r\n\r\n      const all = integrationService.getAllWebhooks();\r\n\r\n      expect(all.length).toBe(2);\r\n    });\r\n\r\n    test('updates webhook', () => {\r\n      const webhook = integrationService.registerWebhook('url', ['order.created']);\r\n\r\n      integrationService.updateWebhook(webhook.id, {\r\n        events: ['order.created', 'order.updated']\r\n      });\r\n\r\n      const updated = integrationService.getWebhook(webhook.id);\r\n\r\n      expect(updated.events.length).toBe(2);\r\n    });\r\n\r\n    test('deletes webhook', () => {\r\n      const webhook = integrationService.registerWebhook('url', ['*']);\r\n\r\n      integrationService.deleteWebhook(webhook.id);\r\n\r\n      const retrieved = integrationService.getWebhook(webhook.id);\r\n\r\n      expect(retrieved).toBeUndefined();\r\n    });\r\n\r\n    test('emits events', () => {\r\n      integrationService.registerWebhook('https://webhook.test', ['order.created']);\r\n\r\n      const event = integrationService.emitEvent('order.created', { orderId: '123' });\r\n\r\n      expect(event).toBeDefined();\r\n      expect(event.event).toBe('order.created');\r\n    });\r\n\r\n    test('stores event history', () => {\r\n      integrationService.emitEvent('event1', { data: 1 });\r\n      integrationService.emitEvent('event2', { data: 2 });\r\n      integrationService.emitEvent('event3', { data: 3 });\r\n\r\n      const history = integrationService.getEventHistory(10);\r\n\r\n      expect(history.length).toBe(3);\r\n    });\r\n\r\n    test('creates connectors', () => {\r\n      const connector = integrationService.createConnector(\r\n        'Shopify',\r\n        'api',\r\n        { baseURL: 'https://shopify.com' }\r\n      );\r\n\r\n      expect(connector.id).toBeDefined();\r\n      expect(connector.name).toBe('Shopify');\r\n    });\r\n\r\n    test('registers APIs', () => {\r\n      const api = integrationService.registerAPI(\r\n        'MyAPI',\r\n        'https://api.example.com'\r\n      );\r\n\r\n      expect(api.name).toBe('MyAPI');\r\n      expect(api.baseURL).toBe('https://api.example.com');\r\n    });\r\n\r\n    test('retrieves registered APIs', () => {\r\n      integrationService.registerAPI('API1', 'https://api1.com');\r\n      integrationService.registerAPI('API2', 'https://api2.com');\r\n\r\n      const integrations = integrationService.getAllIntegrations();\r\n\r\n      expect(integrations.length).toBe(2);\r\n    });\r\n\r\n    test('registers data transformations', () => {\r\n      const transform = (data) => ({ transformed: true, ...data });\r\n\r\n      integrationService.registerTransformation('addFlag', transform);\r\n\r\n      const result = integrationService.applyTransformation('addFlag', { test: 'data' });\r\n\r\n      expect(result.transformed).toBe(true);\r\n      expect(result.test).toBe('data');\r\n    });\r\n\r\n    test('validates webhook signatures', () => {\r\n      const payload = JSON.stringify({ test: 'data' });\r\n      const secret = 'test-secret';\r\n\r\n      const signature = require('crypto')\r\n        .createHmac('sha256', secret)\r\n        .update(payload)\r\n        .digest('hex');\r\n\r\n      const isValid = integrationService.validateWebhookSignature(\r\n        signature,\r\n        payload,\r\n        secret\r\n      );\r\n\r\n      expect(isValid).toBe(true);\r\n    });\r\n\r\n    test('generates system statistics', () => {\r\n      integrationService.registerWebhook('url1', ['*']);\r\n      integrationService.registerWebhook('url2', ['*']);\r\n      integrationService.createConnector('C1', 'api', {});\r\n\r\n      const stats = integrationService.getStatistics();\r\n\r\n      expect(stats.webhooks).toBe(2);\r\n      expect(stats.connectors).toBe(1);\r\n      expect(stats.successRate).toBeDefined();\r\n    });\r\n\r\n    test('generates integration health report', () => {\r\n      integrationService.createConnector('C1', 'api', {});\r\n      integrationService.createConnector('C2', 'api', {});\r\n\r\n      const health = integrationService.getIntegrationHealth();\r\n\r\n      expect(health.timestamp).toBeDefined();\r\n      expect(health.totalConnectors).toBe(2);\r\n      expect(health.healthPercentage).toBeDefined();\r\n    });\r\n\r\n    test('exports configuration', () => {\r\n      integrationService.registerWebhook('url', ['*']);\r\n      integrationService.createConnector('Test', 'api', {});\r\n\r\n      const config = integrationService.exportConfiguration();\r\n\r\n      expect(config.webhooks).toBeDefined();\r\n      expect(config.connectors).toBeDefined();\r\n      expect(config.statistics).toBeDefined();\r\n    });\r\n  });\r\n\r\n  // ===========================\r\n  // INTEGRATION WORKFLOW TESTS\r\n  // ===========================\r\n  describe('Integration Workflows', () => {\r\n    test('complete webhook workflow', (done) => {\r\n      integrationService.registerWebhook(\r\n        'https://webhook.test',\r\n        ['order.created']\r\n      );\r\n\r\n      integrationService.on('order.created', (event) => {\r\n        expect(event.event).toBe('order.created');\r\n        expect(event.data.amount).toBe(500);\r\n        done();\r\n      });\r\n\r\n      integrationService.emitEvent('order.created', { amount: 500 });\r\n    });\r\n\r\n    test('connector with field mapping workflow', () => {\r\n      const connector = integrationService.createConnector('Shopify', 'api', {});\r\n\r\n      connector.addFieldMapping('shopifyId', 'id');\r\n      connector.addFieldMapping('customerEmail', 'email');\r\n\r\n      const source = { shopifyId: '123', customerEmail: 'test@example.com' };\r\n      const mapped = connector.applyMappings(source);\r\n\r\n      expect(mapped.id).toBe('123');\r\n      expect(mapped.email).toBe('test@example.com');\r\n    });\r\n\r\n    test('multiple webhook deliveries', () => {\r\n      const webhook1 = integrationService.registerWebhook('url1', ['order.*']);\r\n      const webhook2 = integrationService.registerWebhook('url2', ['order.created']);\r\n      const webhook3 = integrationService.registerWebhook('url3', ['payment.*']);\r\n\r\n      integrationService.emitEvent('order.created', {});\r\n\r\n      // Both webhook1 and webhook2 should match\r\n      expect(webhook1.matches('order.created')).toBe(true);\r\n      expect(webhook2.matches('order.created')).toBe(true);\r\n      expect(webhook3.matches('order.created')).toBe(false);\r\n    });\r\n\r\n    test('API call with parameter substitution', async () => {\r\n      const api = integrationService.registerAPI('TestAPI', 'https://api.test.com');\r\n\r\n      api.registerEndpoint('getOrder', 'GET', '/orders/:orderId');\r\n\r\n      const result = await api.call('getOrder', { orderId: '123' });\r\n\r\n      expect(result.success).toBe(true);\r\n    });\r\n  });\r\n\r\n  // ===========================\r\n  // ERROR HANDLING TESTS\r\n  // ===========================\r\n  describe('Error Handling', () => {\r\n    test('throws error for non-registered endpoint', async () => {\r\n      const api = integrationService.registerAPI('Test', 'https://api.test.com');\r\n\r\n      expect(() => {\r\n        api.call('nonexistent');\r\n      }).toThrow();\r\n    });\r\n\r\n    test('throws error for non-existent transformation', () => {\r\n      expect(() => {\r\n        integrationService.applyTransformation('nonexistent', {});\r\n      }).toThrow();\r\n    });\r\n\r\n    test('throws error for non-existent connector', () => {\r\n      expect(() => {\r\n        integrationService.getConnector('nonexistent');\r\n      }).toThrow();\r\n    });\r\n  });\r\n});\r\n\r\ndescribe('Integration System - Advanced Scenarios', () => {\r\n  let service;\r\n\r\n  beforeEach(() => {\r\n    service = new IntegrationService();\r\n  });\r\n\r\n  test('handles complex data transformation pipeline', () => {\r\n    // Register transformations\r\n    service.registerTransformation('normalizeData', (data) => ({\r\n      normalized: true,\r\n      ...data\r\n    }));\r\n\r\n    service.registerTransformation('addTimestamp', (data) => ({\r\n      ...data,\r\n      timestamp: new Date()\r\n    }));\r\n\r\n    let data = { test: 'value' };\r\n    data = service.applyTransformation('normalizeData', data);\r\n    data = service.applyTransformation('addTimestamp', data);\r\n\r\n    expect(data.normalized).toBe(true);\r\n    expect(data.timestamp).toBeDefined();\r\n  });\r\n\r\n  test('manages multiple concurrent webhook deliveries', () => {\r\n    service.registerWebhook('webhook1', ['*']);\r\n    service.registerWebhook('webhook2', ['*']);\r\n    service.registerWebhook('webhook3', ['*']);\r\n\r\n    for (let i = 0; i < 10; i++) {\r\n      service.emitEvent('test.event', { index: i });\r\n    }\r\n\r\n    const history = service.getEventHistory(100);\r\n\r\n    expect(history.length).toBe(10);\r\n  });\r\n});\r\n"],"mappings":"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","ignoreList":[]}