{"version":3,"names":["express","require","router","Router","AnalyticsService","ApiResponse","ApiError","get","req","res","next","userId","params","result","trackUserBehavior","status","json","error","message","timeRange","query","getPerformanceMetrics","getCustomDashboard","metric","period","analyzeTrends","getRecommendations","post","metric1","metric2","body","success","compareMetrics","reportType","generateAnalysisReport","event","trackConversion","getRealTimeAnalytics","getPredictiveAnalytics","format","includes","exportAnalyticsReport","testId","getABTestResults","campaign","getMarketingMetrics","authenticate","authorize","KPI","ReportTemplate","GeneratedReport","Dashboard","Prediction","category","isActive","filter","undefined","kpis","find","sort","code","count","length","data","kpi","findById","id","createdBy","user","_id","save","calculateKPI","dashboard","getExecutiveDashboard","$or","dashboards","populate","isDefault","createdAt","role","templates","name","templateId","filters","report","generateReport","reports","generatedBy","limit","toString","downloads","download","file","path","type","kpiId","prediction","generatePrediction","predictions","summary","total","countDocuments","byCategory","aggregate","$match","$group","$sum","completed","module","exports"],"sources":["analytics.js"],"sourcesContent":["// Advanced Analytics Routes\r\n// نقاط التحليلات المتقدمة\r\n\r\nconst express = require('express');\r\nconst router = express.Router();\r\nconst AnalyticsService = require('../services/analyticsService');\r\nconst { ApiResponse, ApiError } = require('../utils/apiResponse');\r\n\r\n// تتبع سلوك المستخدم\r\nrouter.get('/user-behavior/:userId', (req, res, next) => {\r\n  try {\r\n    const { userId } = req.params;\r\n\r\n    const result = AnalyticsService.trackUserBehavior(userId);\r\n\r\n    return res.status(200).json(new ApiResponse(200, result, 'User behavior tracked'));\r\n  } catch (error) {\r\n    return next(new ApiError(500, 'Failed to track user behavior', [error.message]));\r\n  }\r\n});\r\n\r\n// الحصول على مقاييس الأداء\r\nrouter.get('/performance-metrics', (req, res, next) => {\r\n  try {\r\n    const { timeRange } = req.query;\r\n\r\n    const result = AnalyticsService.getPerformanceMetrics(timeRange || '24h');\r\n\r\n    return res.status(200).json(new ApiResponse(200, result, 'Performance metrics fetched'));\r\n  } catch (error) {\r\n    return next(new ApiError(500, 'Failed to fetch performance metrics', [error.message]));\r\n  }\r\n});\r\n\r\n// عرض لوحة تحكم مخصصة\r\nrouter.get('/dashboard/:userId', (req, res, next) => {\r\n  try {\r\n    const { userId } = req.params;\r\n\r\n    const result = AnalyticsService.getCustomDashboard(userId);\r\n\r\n    return res.status(200).json(new ApiResponse(200, result, 'Dashboard fetched'));\r\n  } catch (error) {\r\n    return next(new ApiError(500, 'Failed to fetch dashboard', [error.message]));\r\n  }\r\n});\r\n\r\n// تحليل الاتجاهات\r\nrouter.get('/trends/:metric', (req, res, next) => {\r\n  try {\r\n    const { metric } = req.params;\r\n    const { period } = req.query;\r\n\r\n    const result = AnalyticsService.analyzeTrends(metric, period || '30d');\r\n\r\n    return res.status(200).json(new ApiResponse(200, result, 'Trends analyzed'));\r\n  } catch (error) {\r\n    return next(new ApiError(500, 'Failed to analyze trends', [error.message]));\r\n  }\r\n});\r\n\r\n// الحصول على التوصيات\r\nrouter.get('/recommendations', (req, res, next) => {\r\n  try {\r\n    const result = AnalyticsService.getRecommendations();\r\n\r\n    return res.status(200).json(new ApiResponse(200, result, 'Recommendations fetched'));\r\n  } catch (error) {\r\n    return next(new ApiError(500, 'Failed to fetch recommendations', [error.message]));\r\n  }\r\n});\r\n\r\n// مقارنة المقاييس\r\nrouter.post('/compare-metrics', (req, res) => {\r\n  try {\r\n    const { metric1, metric2, period } = req.body;\r\n\r\n    if (!metric1 || !metric2) {\r\n      return res.status(400).json({\r\n        success: false,\r\n        message: 'Metrics required',\r\n      });\r\n    }\r\n\r\n    const result = AnalyticsService.compareMetrics(metric1, metric2, period || '30d');\r\n\r\n    res.status(200).json(result);\r\n  } catch (error) {\r\n    res.status(500).json({\r\n      success: false,\r\n      message: 'Failed to compare metrics',\r\n      error: error.message,\r\n    });\r\n  }\r\n});\r\n\r\n// توليد تقرير تحليلي\r\nrouter.post('/generate-report', (req, res) => {\r\n  try {\r\n    const { reportType } = req.body;\r\n\r\n    const result = AnalyticsService.generateAnalysisReport(reportType || 'executive');\r\n\r\n    res.status(200).json(result);\r\n  } catch (error) {\r\n    res.status(500).json({\r\n      success: false,\r\n      message: 'Failed to generate report',\r\n      error: error.message,\r\n    });\r\n  }\r\n});\r\n\r\n// تتبع التحويل\r\nrouter.post('/track-conversion', (req, res) => {\r\n  try {\r\n    const { userId, event } = req.body;\r\n\r\n    if (!userId || !event) {\r\n      return res.status(400).json({\r\n        success: false,\r\n        message: 'User ID and event required',\r\n      });\r\n    }\r\n\r\n    const result = AnalyticsService.trackConversion(userId, event);\r\n\r\n    res.status(200).json(result);\r\n  } catch (error) {\r\n    res.status(500).json({\r\n      success: false,\r\n      message: 'Failed to track conversion',\r\n      error: error.message,\r\n    });\r\n  }\r\n});\r\n\r\n// التحليلات في الوقت الفعلي\r\nrouter.get('/real-time', (req, res) => {\r\n  try {\r\n    const result = AnalyticsService.getRealTimeAnalytics();\r\n\r\n    res.status(200).json(result);\r\n  } catch (error) {\r\n    res.status(500).json({\r\n      success: false,\r\n      message: 'Failed to fetch real-time analytics',\r\n      error: error.message,\r\n    });\r\n  }\r\n});\r\n\r\n// التنبؤات التحليلية\r\nrouter.get('/predictions', (req, res) => {\r\n  try {\r\n    const result = AnalyticsService.getPredictiveAnalytics();\r\n\r\n    res.status(200).json(result);\r\n  } catch (error) {\r\n    res.status(500).json({\r\n      success: false,\r\n      message: 'Failed to fetch predictions',\r\n      error: error.message,\r\n    });\r\n  }\r\n});\r\n\r\n// تصدير التقرير\r\nrouter.get('/export/:format', (req, res) => {\r\n  try {\r\n    const { format } = req.params;\r\n\r\n    if (!['pdf', 'xlsx', 'csv'].includes(format)) {\r\n      return res.status(400).json({\r\n        success: false,\r\n        message: 'Invalid format. Supported: pdf, xlsx, csv',\r\n      });\r\n    }\r\n\r\n    const result = AnalyticsService.exportAnalyticsReport(format);\r\n\r\n    res.status(200).json(result);\r\n  } catch (error) {\r\n    res.status(500).json({\r\n      success: false,\r\n      message: 'Failed to export report',\r\n      error: error.message,\r\n    });\r\n  }\r\n});\r\n\r\n// اختبار A/B\r\nrouter.get('/ab-test/:testId', (req, res) => {\r\n  try {\r\n    const { testId } = req.params;\r\n\r\n    const result = AnalyticsService.getABTestResults(testId);\r\n\r\n    res.status(200).json(result);\r\n  } catch (error) {\r\n    res.status(500).json({\r\n      success: false,\r\n      message: 'Failed to fetch A/B test results',\r\n      error: error.message,\r\n    });\r\n  }\r\n});\r\n\r\n// مقاييس التسويق\r\nrouter.get('/marketing/:campaign', (req, res) => {\r\n  try {\r\n    const { campaign } = req.params;\r\n\r\n    const result = AnalyticsService.getMarketingMetrics(campaign);\r\n\r\n    res.status(200).json(result);\r\n  } catch (error) {\r\n    res.status(500).json({\r\n      success: false,\r\n      message: 'Failed to fetch marketing metrics',\r\n      error: error.message,\r\n    });\r\n  }\r\n});\r\n\r\n/**\r\n * ======================\r\n * NEW ADVANCED ANALYTICS ENDPOINTS\r\n * مسارات التحليلات المتقدمة الجديدة\r\n * ======================\r\n */\r\n\r\nconst { authenticate, authorize } = require('../middleware/auth');\r\nconst {\r\n  KPI,\r\n  ReportTemplate,\r\n  GeneratedReport,\r\n  Dashboard,\r\n  Prediction,\r\n} = require('../models/analytics');\r\n\r\n/**\r\n * KPI ENDPOINTS\r\n */\r\n\r\n// Get all KPIs\r\nrouter.get('/kpis', authenticate, async (req, res) => {\r\n  try {\r\n    const { category, isActive } = req.query;\r\n    const filter = {};\r\n    if (category) filter.category = category;\r\n    if (isActive !== undefined) filter.isActive = isActive === 'true';\r\n\r\n    const kpis = await KPI.find(filter).sort({ category: 1, code: 1 });\r\n    res.json({ success: true, count: kpis.length, data: kpis });\r\n  } catch (error) {\r\n    res.status(500).json({ success: false, error: 'خطأ في جلب المؤشرات' });\r\n  }\r\n});\r\n\r\n// Get single KPI\r\nrouter.get('/kpis/:id', authenticate, async (req, res) => {\r\n  try {\r\n    const kpi = await KPI.findById(req.params.id);\r\n    if (!kpi) return res.status(404).json({ success: false, error: 'المؤشر غير موجود' });\r\n    res.json({ success: true, data: kpi });\r\n  } catch (error) {\r\n    res.status(500).json({ success: false, error: 'خطأ في جلب المؤشر' });\r\n  }\r\n});\r\n\r\n// Create KPI\r\nrouter.post('/kpis', authenticate, authorize('admin', 'manager'), async (req, res) => {\r\n  try {\r\n    const kpi = new KPI({ ...req.body, createdBy: req.user._id });\r\n    await kpi.save();\r\n    res.status(201).json({ success: true, data: kpi, message: 'تم إنشاء المؤشر بنجاح' });\r\n  } catch (error) {\r\n    if (error.code === 11000) {\r\n      return res.status(400).json({ success: false, error: 'رمز المؤشر موجود مسبقاً' });\r\n    }\r\n    res.status(500).json({ success: false, error: 'خطأ في إنشاء المؤشر' });\r\n  }\r\n});\r\n\r\n// Calculate KPI\r\nrouter.post('/kpis/:id/calculate', authenticate, async (req, res) => {\r\n  try {\r\n    const kpi = await AnalyticsService.calculateKPI(req.params.id);\r\n    res.json({ success: true, data: kpi, message: 'تم حساب المؤشر بنجاح' });\r\n  } catch (error) {\r\n    res.status(500).json({ success: false, error: error.message || 'خطأ في حساب المؤشر' });\r\n  }\r\n});\r\n\r\n/**\r\n * DASHBOARD ENDPOINTS\r\n */\r\n\r\n// Executive Dashboard\r\nrouter.get(\r\n  '/dashboard/executive',\r\n  authenticate,\r\n  authorize('admin', 'manager'),\r\n  async (req, res) => {\r\n    try {\r\n      const dashboard = await AnalyticsService.getExecutiveDashboard(req.query);\r\n      res.json({ success: true, data: dashboard });\r\n    } catch (error) {\r\n      res.status(500).json({ success: false, error: 'خطأ في جلب لوحة التحكم' });\r\n    }\r\n  }\r\n);\r\n\r\n// Get dashboards\r\nrouter.get('/dashboards', authenticate, async (req, res) => {\r\n  try {\r\n    const filter = {\r\n      $or: [\r\n        { 'permissions.owner': req.user._id },\r\n        { 'permissions.sharedWith.user': req.user._id },\r\n        { 'permissions.isPublic': true },\r\n      ],\r\n    };\r\n    const dashboards = await Dashboard.find(filter)\r\n      .populate('permissions.owner', 'name email')\r\n      .sort({ isDefault: -1, createdAt: -1 });\r\n    res.json({ success: true, count: dashboards.length, data: dashboards });\r\n  } catch (error) {\r\n    res.status(500).json({ success: false, error: 'خطأ في جلب لوحات التحكم' });\r\n  }\r\n});\r\n\r\n/**\r\n * REPORT ENDPOINTS\r\n */\r\n\r\n// Get report templates\r\nrouter.get('/report-templates', authenticate, async (req, res) => {\r\n  try {\r\n    const { category } = req.query;\r\n    const filter = {\r\n      $or: [{ 'permissions.canView': req.user.role }, { 'permissions.isPublic': true }],\r\n    };\r\n    if (category) filter.category = category;\r\n\r\n    const templates = await ReportTemplate.find(filter)\r\n      .populate('structure.kpis')\r\n      .sort({ category: 1, name: 1 });\r\n    res.json({ success: true, count: templates.length, data: templates });\r\n  } catch (error) {\r\n    res.status(500).json({ success: false, error: 'خطأ في جلب قوالب التقارير' });\r\n  }\r\n});\r\n\r\n// Generate report\r\nrouter.post('/reports/generate', authenticate, async (req, res) => {\r\n  try {\r\n    const { templateId, filters, format = 'pdf' } = req.body;\r\n    if (!templateId) {\r\n      return res.status(400).json({ success: false, error: 'معرف القالب مطلوب' });\r\n    }\r\n\r\n    const report = await AnalyticsService.generateReport(templateId, filters, format, req.user._id);\r\n    res.json({ success: true, data: report, message: 'تم توليد التقرير بنجاح' });\r\n  } catch (error) {\r\n    res.status(500).json({ success: false, error: error.message || 'خطأ في توليد التقرير' });\r\n  }\r\n});\r\n\r\n// Get user reports\r\nrouter.get('/reports', authenticate, async (req, res) => {\r\n  try {\r\n    const reports = await GeneratedReport.find({ generatedBy: req.user._id })\r\n      .populate('template', 'name nameAr category')\r\n      .sort({ createdAt: -1 })\r\n      .limit(50);\r\n    res.json({ success: true, count: reports.length, data: reports });\r\n  } catch (error) {\r\n    res.status(500).json({ success: false, error: 'خطأ في جلب التقارير' });\r\n  }\r\n});\r\n\r\n// Download report\r\nrouter.get('/reports/:id/download', authenticate, async (req, res) => {\r\n  try {\r\n    const report = await GeneratedReport.findById(req.params.id);\r\n    if (!report) {\r\n      return res.status(404).json({ success: false, error: 'التقرير غير موجود' });\r\n    }\r\n\r\n    if (report.generatedBy.toString() !== req.user._id.toString()) {\r\n      return res.status(403).json({ success: false, error: 'ليس لديك صلاحية لتحميل هذا التقرير' });\r\n    }\r\n\r\n    if (report.status !== 'completed') {\r\n      return res.status(400).json({ success: false, error: 'التقرير لم يكتمل بعد' });\r\n    }\r\n\r\n    report.downloads += 1;\r\n    await report.save();\r\n\r\n    res.download(report.file.path);\r\n  } catch (error) {\r\n    res.status(500).json({ success: false, error: 'خطأ في تحميل التقرير' });\r\n  }\r\n});\r\n\r\n/**\r\n * PREDICTIVE ANALYTICS\r\n */\r\n\r\n// Create prediction\r\nrouter.post('/predictions', authenticate, authorize('admin', 'manager'), async (req, res) => {\r\n  try {\r\n    const { type, kpiId, period } = req.body;\r\n    if (!type || !kpiId) {\r\n      return res.status(400).json({ success: false, error: 'النوع ومعرف المؤشر مطلوبان' });\r\n    }\r\n\r\n    const prediction = await AnalyticsService.generatePrediction(type, kpiId, period || 30);\r\n    res.status(201).json({ success: true, data: prediction, message: 'تم إنشاء التنبؤ بنجاح' });\r\n  } catch (error) {\r\n    res.status(500).json({ success: false, error: error.message || 'خطأ في إنشاء التنبؤ' });\r\n  }\r\n});\r\n\r\n// Get predictions\r\nrouter.get('/predictions', authenticate, async (req, res) => {\r\n  try {\r\n    const predictions = await Prediction.find()\r\n      .populate('kpi', 'name nameAr code')\r\n      .sort({ createdAt: -1 })\r\n      .limit(20);\r\n    res.json({ success: true, count: predictions.length, data: predictions });\r\n  } catch (error) {\r\n    res.status(500).json({ success: false, error: 'خطأ في جلب التنبؤات' });\r\n  }\r\n});\r\n\r\n/**\r\n * SUMMARY\r\n */\r\n\r\n// Analytics summary\r\nrouter.get('/summary', authenticate, async (req, res) => {\r\n  try {\r\n    const summary = {\r\n      kpis: {\r\n        total: await KPI.countDocuments({ isActive: true }),\r\n        byCategory: await KPI.aggregate([\r\n          { $match: { isActive: true } },\r\n          { $group: { _id: '$category', count: { $sum: 1 } } },\r\n        ]),\r\n      },\r\n      reports: {\r\n        total: await GeneratedReport.countDocuments(),\r\n        completed: await GeneratedReport.countDocuments({ status: 'completed' }),\r\n      },\r\n      dashboards: {\r\n        total: await Dashboard.countDocuments({ isActive: true }),\r\n      },\r\n    };\r\n    res.json({ success: true, data: summary });\r\n  } catch (error) {\r\n    res.status(500).json({ success: false, error: 'خطأ في جلب ملخص التحليلات' });\r\n  }\r\n});\r\n\r\nmodule.exports = router;\r\n"],"mappings":"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","ignoreList":[]}