42a45ec03131d6e794e177d36d2c6fe5
// Authentication Service
// خدمة المصادقة والتوثيق

const crypto = require('crypto');
class AuthService {
  // In-memory stores for development
  static otpStore = new Map(); // email -> { code, expiresAt, attempts, lastRequestedAt }
  static resetTokenStore = new Map(); // token -> { email, expiresAt }
  static twoFactorEnabled = new Map(); // userId -> { enabled: true, secret, backupCodes }
  static twoFactorCodes = new Map(); // userId -> { code, expiresAt }
  static pendingLoginSessions = new Map(); // sessionId -> { user }
  static activeSessions = new Map(); // token -> { user, sessionId, issuedAt, expiresAt }
  static revokedTokens = new Set();

  // تسجيل مستخدم جديد
  static registerUser(data) {
    // محاكاة تخزين كلمة المرور (في الإنتاج استخدم bcrypt)
    const hashedPassword = crypto.createHash('sha256').update(data.password).digest('hex');
    const user = {
      id: `USER_${Date.now()}`,
      email: data.email,
      name: data.name,
      password: hashedPassword,
      role: data.role || 'user',
      createdAt: new Date().toISOString(),
      status: 'active',
      verified: false
    };
    return {
      success: true,
      user: {
        id: user.id,
        email: user.email,
        name: user.name,
        role: user.role
      },
      message: 'User registered successfully'
    };
  }

  // تسجيل الدخول
  static login(credentials) {
    // محاكاة التحقق من بيانات المستخدم
    if (!credentials?.email || !credentials?.password) {
      return {
        success: false,
        message: 'Email and password are required'
      };
    }
    const userId = credentials.userId || `USER_${crypto.createHash('sha1').update(credentials.email).digest('hex').slice(0, 8)}`;
    const user = {
      id: userId,
      email: credentials.email,
      role: credentials.role || 'user' // Use provided role or default to 'user'
    };

    // If 2FA is enabled for this user, generate a one-time code and require verification
    const tf = this.twoFactorEnabled.get(user.id);
    if (tf?.enabled) {
      const code = Math.floor(100000 + Math.random() * 900000).toString(); // 6-digit
      const expiresAt = Date.now() + 5 * 60 * 1000; // 5 minutes
      this.twoFactorCodes.set(user.id, {
        code,
        expiresAt
      });

      // Create a pending session to finalize after 2FA verification
      const sessionId = `SESS_${crypto.randomUUID?.() || Math.random().toString(36).slice(2)}`;
      this.pendingLoginSessions.set(sessionId, {
        user
      });
      return {
        success: true,
        requires2fa: true,
        message: '2FA required. Verification code sent.',
        sessionId,
        user,
        // Note: In real system, code would be sent via email/SMS. For dev, we expose it for testing.
        devCode: code
      };
    }

    // محاكاة JWT token
    const iat = Date.now();
    const exp = iat + 24 * 60 * 60 * 1000; // 24 hours
    const token = Buffer.from(JSON.stringify({
      email: credentials.email,
      role: user.role,
      iat,
      exp
    })).toString('base64');
    const sessionId = `SESS_${crypto.randomUUID?.() || Math.random().toString(36).slice(2)}`;
    this.activeSessions.set(token, {
      user,
      sessionId,
      issuedAt: iat,
      expiresAt: exp
    });
    return {
      success: true,
      token: token,
      user,
      expiresIn: '24h',
      message: 'Login successful'
    };
  }

  // تحديث الملف الشخصي
  static updateProfile(userId, data) {
    return {
      success: true,
      user: {
        id: userId,
        name: data.name,
        email: data.email,
        phone: data.phone,
        avatar: data.avatar,
        updatedAt: new Date().toISOString()
      },
      message: 'Profile updated successfully'
    };
  }

  // تغيير كلمة المرور
  static changePassword(userId, oldPassword, newPassword) {
    void userId;
    void oldPassword;
    void newPassword;
    return {
      success: true,
      message: 'Password changed successfully',
      timestamp: new Date().toISOString()
    };
  }

  // نسيان كلمة المرور
  static forgotPassword(email) {
    const token = `RT_${crypto.randomUUID?.() || Math.random().toString(36).slice(2)}`;
    const expiresAt = Date.now() + 60 * 60 * 1000; // 1 hour
    this.resetTokenStore.set(token, {
      email,
      expiresAt
    });
    return {
      success: true,
      resetToken: token,
      expiresIn: '1h',
      message: 'Reset email sent successfully'
    };
  }

  // إعادة تعيين كلمة المرور
  static resetPassword(token, newPassword) {
    void newPassword;
    const record = this.resetTokenStore.get(token);
    if (!record) {
      return {
        success: false,
        message: 'Invalid reset token'
      };
    }
    if (record.expiresAt < Date.now()) {
      this.resetTokenStore.delete(token);
      return {
        success: false,
        message: 'Reset token expired'
      };
    }
    // Simulate password update
    this.resetTokenStore.delete(token);
    return {
      success: true,
      message: 'Password reset successfully',
      timestamp: new Date().toISOString()
    };
  }

  // تسجيل الخروج
  static logout(token) {
    if (token) {
      this.revokedTokens.add(token);
      this.activeSessions.delete(token);
    }
    return {
      success: true,
      message: 'Logout successful',
      timestamp: new Date().toISOString()
    };
  }

  // التحقق من التوكن
  static verifyToken(token) {
    try {
      if (this.revokedTokens.has(token)) {
        return {
          valid: false,
          error: 'Token revoked'
        };
      }
      const decoded = JSON.parse(Buffer.from(token, 'base64').toString());
      if (decoded.exp < Date.now()) {
        return {
          valid: false,
          error: 'Token expired'
        };
      }
      return {
        valid: true,
        user: {
          email: decoded.email
        }
      };
    } catch (error) {
      console.warn('verifyToken error:', error);
      return {
        valid: false,
        error: 'Invalid token'
      };
    }
  }

  // تفعيل حساب المستخدم
  static verifyEmail(email, code) {
    const entry = this.otpStore.get(email);
    if (!entry) {
      return {
        success: false,
        message: 'No code requested'
      };
    }
    if (entry.expiresAt < Date.now()) {
      this.otpStore.delete(email);
      return {
        success: false,
        message: 'Code expired'
      };
    }
    if (entry.code !== code) {
      entry.attempts = (entry.attempts || 0) + 1;
      return {
        success: false,
        message: 'Invalid code',
        attempts: entry.attempts
      };
    }
    this.otpStore.delete(email);
    return {
      success: true,
      message: 'Email verified successfully',
      verified: true
    };
  }

  // إرسال رمز التحقق
  static sendVerificationCode(email) {
    const now = Date.now();
    const existing = this.otpStore.get(email);
    if (existing && existing.lastRequestedAt && now - existing.lastRequestedAt < 30 * 1000) {
      return {
        success: false,
        message: 'Too many requests. Please wait.'
      };
    }
    const code = Math.floor(100000 + Math.random() * 900000).toString();
    const expiresAt = now + 10 * 60 * 1000; // 10 minutes
    this.otpStore.set(email, {
      code,
      expiresAt,
      attempts: 0,
      lastRequestedAt: now
    });
    return {
      success: true,
      code,
      expiresIn: '10m',
      message: 'Verification code sent'
    };
  }

  // تفعيل المصادقة الثنائية
  static enableTwoFactor(userId) {
    const secret = `SECRET_${crypto.randomUUID?.() || Math.random().toString(36).slice(2)}`;
    const backupCodes = ['BACKUP_001', 'BACKUP_002', 'BACKUP_003'];
    this.twoFactorEnabled.set(userId, {
      enabled: true,
      secret,
      backupCodes
    });
    return {
      success: true,
      secret,
      qrCode: 'data:image/png;base64,...',
      backupCodes,
      message: '2FA enabled successfully'
    };
  }

  // التحقق من المصادقة الثنائية
  static verifyTwoFactor(userId, code, sessionId) {
    const entry = this.twoFactorCodes.get(userId);
    if (!entry) {
      return {
        success: false,
        message: 'No pending 2FA'
      };
    }
    if (entry.expiresAt < Date.now()) {
      this.twoFactorCodes.delete(userId);
      return {
        success: false,
        message: '2FA code expired'
      };
    }
    if (entry.code !== code) {
      return {
        success: false,
        message: 'Invalid 2FA code'
      };
    }
    this.twoFactorCodes.delete(userId);

    // Finalize login and issue token
    const pending = sessionId ? this.pendingLoginSessions.get(sessionId) : null;
    const user = pending?.user || {
      id: userId,
      email: `${userId}@example.com`,
      role: 'user'
    };
    if (pending) this.pendingLoginSessions.delete(sessionId);
    const iat = Date.now();
    const exp = iat + 24 * 60 * 60 * 1000;
    const token = Buffer.from(JSON.stringify({
      email: user.email,
      iat,
      exp
    })).toString('base64');
    const finalSessionId = sessionId || `SESS_${crypto.randomUUID?.() || Math.random().toString(36).slice(2)}`;
    this.activeSessions.set(token, {
      user,
      sessionId: finalSessionId,
      issuedAt: iat,
      expiresAt: exp
    });
    return {
      success: true,
      message: '2FA verified successfully',
      token,
      user
    };
  }

  // الحصول على جلسات المستخدم
  static getUserSessions(userId) {
    const sessions = [];
    for (const [, sess] of this.activeSessions.entries()) {
      if (sess.user?.id === userId) {
        sessions.push({
          id: sess.sessionId,
          device: 'Unknown Device',
          ip: '127.0.0.1',
          lastActivity: new Date().toISOString(),
          createdAt: new Date(sess.issuedAt).toISOString(),
          current: true
        });
      }
    }
    return {
      success: true,
      sessions
    };
  }

  // إنهاء جلسة
  static terminateSession(userId, sessionId) {
    for (const [token, sess] of this.activeSessions.entries()) {
      if (sess.user?.id === userId && sess.sessionId === sessionId) {
        this.revokedTokens.add(token);
        this.activeSessions.delete(token);
        return {
          success: true,
          message: 'Session terminated successfully'
        };
      }
    }
    return {
      success: false,
      message: 'Session not found'
    };
  }
}
module.exports = AuthService;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjcnlwdG8iLCJyZXF1aXJlIiwiQXV0aFNlcnZpY2UiLCJvdHBTdG9yZSIsIk1hcCIsInJlc2V0VG9rZW5TdG9yZSIsInR3b0ZhY3RvckVuYWJsZWQiLCJ0d29GYWN0b3JDb2RlcyIsInBlbmRpbmdMb2dpblNlc3Npb25zIiwiYWN0aXZlU2Vzc2lvbnMiLCJyZXZva2VkVG9rZW5zIiwiU2V0IiwicmVnaXN0ZXJVc2VyIiwiZGF0YSIsImhhc2hlZFBhc3N3b3JkIiwiY3JlYXRlSGFzaCIsInVwZGF0ZSIsInBhc3N3b3JkIiwiZGlnZXN0IiwidXNlciIsImlkIiwiRGF0ZSIsIm5vdyIsImVtYWlsIiwibmFtZSIsInJvbGUiLCJjcmVhdGVkQXQiLCJ0b0lTT1N0cmluZyIsInN0YXR1cyIsInZlcmlmaWVkIiwic3VjY2VzcyIsIm1lc3NhZ2UiLCJsb2dpbiIsImNyZWRlbnRpYWxzIiwidXNlcklkIiwic2xpY2UiLCJ0ZiIsImdldCIsImVuYWJsZWQiLCJjb2RlIiwiTWF0aCIsImZsb29yIiwicmFuZG9tIiwidG9TdHJpbmciLCJleHBpcmVzQXQiLCJzZXQiLCJzZXNzaW9uSWQiLCJyYW5kb21VVUlEIiwicmVxdWlyZXMyZmEiLCJkZXZDb2RlIiwiaWF0IiwiZXhwIiwidG9rZW4iLCJCdWZmZXIiLCJmcm9tIiwiSlNPTiIsInN0cmluZ2lmeSIsImlzc3VlZEF0IiwiZXhwaXJlc0luIiwidXBkYXRlUHJvZmlsZSIsInBob25lIiwiYXZhdGFyIiwidXBkYXRlZEF0IiwiY2hhbmdlUGFzc3dvcmQiLCJvbGRQYXNzd29yZCIsIm5ld1Bhc3N3b3JkIiwidGltZXN0YW1wIiwiZm9yZ290UGFzc3dvcmQiLCJyZXNldFRva2VuIiwicmVzZXRQYXNzd29yZCIsInJlY29yZCIsImRlbGV0ZSIsImxvZ291dCIsImFkZCIsInZlcmlmeVRva2VuIiwiaGFzIiwidmFsaWQiLCJlcnJvciIsImRlY29kZWQiLCJwYXJzZSIsImNvbnNvbGUiLCJ3YXJuIiwidmVyaWZ5RW1haWwiLCJlbnRyeSIsImF0dGVtcHRzIiwic2VuZFZlcmlmaWNhdGlvbkNvZGUiLCJleGlzdGluZyIsImxhc3RSZXF1ZXN0ZWRBdCIsImVuYWJsZVR3b0ZhY3RvciIsInNlY3JldCIsImJhY2t1cENvZGVzIiwicXJDb2RlIiwidmVyaWZ5VHdvRmFjdG9yIiwicGVuZGluZyIsImZpbmFsU2Vzc2lvbklkIiwiZ2V0VXNlclNlc3Npb25zIiwic2Vzc2lvbnMiLCJzZXNzIiwiZW50cmllcyIsInB1c2giLCJkZXZpY2UiLCJpcCIsImxhc3RBY3Rpdml0eSIsImN1cnJlbnQiLCJ0ZXJtaW5hdGVTZXNzaW9uIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VzIjpbImF1dGhTZXJ2aWNlLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIEF1dGhlbnRpY2F0aW9uIFNlcnZpY2VcclxuLy8g2K7Yr9mF2Kkg2KfZhNmF2LXYp9iv2YLYqSDZiNin2YTYqtmI2KvZitmCXHJcblxyXG5jb25zdCBjcnlwdG8gPSByZXF1aXJlKCdjcnlwdG8nKTtcclxuXHJcbmNsYXNzIEF1dGhTZXJ2aWNlIHtcclxuICAvLyBJbi1tZW1vcnkgc3RvcmVzIGZvciBkZXZlbG9wbWVudFxyXG4gIHN0YXRpYyBvdHBTdG9yZSA9IG5ldyBNYXAoKTsgLy8gZW1haWwgLT4geyBjb2RlLCBleHBpcmVzQXQsIGF0dGVtcHRzLCBsYXN0UmVxdWVzdGVkQXQgfVxyXG4gIHN0YXRpYyByZXNldFRva2VuU3RvcmUgPSBuZXcgTWFwKCk7IC8vIHRva2VuIC0+IHsgZW1haWwsIGV4cGlyZXNBdCB9XHJcbiAgc3RhdGljIHR3b0ZhY3RvckVuYWJsZWQgPSBuZXcgTWFwKCk7IC8vIHVzZXJJZCAtPiB7IGVuYWJsZWQ6IHRydWUsIHNlY3JldCwgYmFja3VwQ29kZXMgfVxyXG4gIHN0YXRpYyB0d29GYWN0b3JDb2RlcyA9IG5ldyBNYXAoKTsgLy8gdXNlcklkIC0+IHsgY29kZSwgZXhwaXJlc0F0IH1cclxuICBzdGF0aWMgcGVuZGluZ0xvZ2luU2Vzc2lvbnMgPSBuZXcgTWFwKCk7IC8vIHNlc3Npb25JZCAtPiB7IHVzZXIgfVxyXG4gIHN0YXRpYyBhY3RpdmVTZXNzaW9ucyA9IG5ldyBNYXAoKTsgLy8gdG9rZW4gLT4geyB1c2VyLCBzZXNzaW9uSWQsIGlzc3VlZEF0LCBleHBpcmVzQXQgfVxyXG4gIHN0YXRpYyByZXZva2VkVG9rZW5zID0gbmV3IFNldCgpO1xyXG5cclxuICAvLyDYqtiz2KzZitmEINmF2LPYqtiu2K/ZhSDYrNiv2YrYr1xyXG4gIHN0YXRpYyByZWdpc3RlclVzZXIoZGF0YSkge1xyXG4gICAgLy8g2YXYrdin2YPYp9ipINiq2K7YstmK2YYg2YPZhNmF2Kkg2KfZhNmF2LHZiNixICjZgdmKINin2YTYpdmG2KrYp9isINin2LPYqtiu2K/ZhSBiY3J5cHQpXHJcbiAgICBjb25zdCBoYXNoZWRQYXNzd29yZCA9IGNyeXB0by5jcmVhdGVIYXNoKCdzaGEyNTYnKS51cGRhdGUoZGF0YS5wYXNzd29yZCkuZGlnZXN0KCdoZXgnKTtcclxuXHJcbiAgICBjb25zdCB1c2VyID0ge1xyXG4gICAgICBpZDogYFVTRVJfJHtEYXRlLm5vdygpfWAsXHJcbiAgICAgIGVtYWlsOiBkYXRhLmVtYWlsLFxyXG4gICAgICBuYW1lOiBkYXRhLm5hbWUsXHJcbiAgICAgIHBhc3N3b3JkOiBoYXNoZWRQYXNzd29yZCxcclxuICAgICAgcm9sZTogZGF0YS5yb2xlIHx8ICd1c2VyJyxcclxuICAgICAgY3JlYXRlZEF0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXHJcbiAgICAgIHN0YXR1czogJ2FjdGl2ZScsXHJcbiAgICAgIHZlcmlmaWVkOiBmYWxzZSxcclxuICAgIH07XHJcblxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgc3VjY2VzczogdHJ1ZSxcclxuICAgICAgdXNlcjoge1xyXG4gICAgICAgIGlkOiB1c2VyLmlkLFxyXG4gICAgICAgIGVtYWlsOiB1c2VyLmVtYWlsLFxyXG4gICAgICAgIG5hbWU6IHVzZXIubmFtZSxcclxuICAgICAgICByb2xlOiB1c2VyLnJvbGUsXHJcbiAgICAgIH0sXHJcbiAgICAgIG1lc3NhZ2U6ICdVc2VyIHJlZ2lzdGVyZWQgc3VjY2Vzc2Z1bGx5JyxcclxuICAgIH07XHJcbiAgfVxyXG5cclxuICAvLyDYqtiz2KzZitmEINin2YTYr9iu2YjZhFxyXG4gIHN0YXRpYyBsb2dpbihjcmVkZW50aWFscykge1xyXG4gICAgLy8g2YXYrdin2YPYp9ipINin2YTYqtit2YLZgiDZhdmGINio2YrYp9mG2KfYqiDYp9mE2YXYs9iq2K7Yr9mFXHJcbiAgICBpZiAoIWNyZWRlbnRpYWxzPy5lbWFpbCB8fCAhY3JlZGVudGlhbHM/LnBhc3N3b3JkKSB7XHJcbiAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBtZXNzYWdlOiAnRW1haWwgYW5kIHBhc3N3b3JkIGFyZSByZXF1aXJlZCcgfTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCB1c2VySWQgPSBjcmVkZW50aWFscy51c2VySWQgfHwgYFVTRVJfJHtjcnlwdG8uY3JlYXRlSGFzaCgnc2hhMScpLnVwZGF0ZShjcmVkZW50aWFscy5lbWFpbCkuZGlnZXN0KCdoZXgnKS5zbGljZSgwLCA4KX1gO1xyXG4gICAgY29uc3QgdXNlciA9IHsgXHJcbiAgICAgIGlkOiB1c2VySWQsIFxyXG4gICAgICBlbWFpbDogY3JlZGVudGlhbHMuZW1haWwsIFxyXG4gICAgICByb2xlOiBjcmVkZW50aWFscy5yb2xlIHx8ICd1c2VyJyAgLy8gVXNlIHByb3ZpZGVkIHJvbGUgb3IgZGVmYXVsdCB0byAndXNlcidcclxuICAgIH07XHJcblxyXG4gICAgLy8gSWYgMkZBIGlzIGVuYWJsZWQgZm9yIHRoaXMgdXNlciwgZ2VuZXJhdGUgYSBvbmUtdGltZSBjb2RlIGFuZCByZXF1aXJlIHZlcmlmaWNhdGlvblxyXG4gICAgY29uc3QgdGYgPSB0aGlzLnR3b0ZhY3RvckVuYWJsZWQuZ2V0KHVzZXIuaWQpO1xyXG4gICAgaWYgKHRmPy5lbmFibGVkKSB7XHJcbiAgICAgIGNvbnN0IGNvZGUgPSBNYXRoLmZsb29yKDEwMDAwMCArIE1hdGgucmFuZG9tKCkgKiA5MDAwMDApLnRvU3RyaW5nKCk7IC8vIDYtZGlnaXRcclxuICAgICAgY29uc3QgZXhwaXJlc0F0ID0gRGF0ZS5ub3coKSArIDUgKiA2MCAqIDEwMDA7IC8vIDUgbWludXRlc1xyXG4gICAgICB0aGlzLnR3b0ZhY3RvckNvZGVzLnNldCh1c2VyLmlkLCB7IGNvZGUsIGV4cGlyZXNBdCB9KTtcclxuXHJcbiAgICAgIC8vIENyZWF0ZSBhIHBlbmRpbmcgc2Vzc2lvbiB0byBmaW5hbGl6ZSBhZnRlciAyRkEgdmVyaWZpY2F0aW9uXHJcbiAgICAgIGNvbnN0IHNlc3Npb25JZCA9IGBTRVNTXyR7Y3J5cHRvLnJhbmRvbVVVSUQ/LigpIHx8IE1hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnNsaWNlKDIpfWA7XHJcbiAgICAgIHRoaXMucGVuZGluZ0xvZ2luU2Vzc2lvbnMuc2V0KHNlc3Npb25JZCwgeyB1c2VyIH0pO1xyXG5cclxuICAgICAgcmV0dXJuIHtcclxuICAgICAgICBzdWNjZXNzOiB0cnVlLFxyXG4gICAgICAgIHJlcXVpcmVzMmZhOiB0cnVlLFxyXG4gICAgICAgIG1lc3NhZ2U6ICcyRkEgcmVxdWlyZWQuIFZlcmlmaWNhdGlvbiBjb2RlIHNlbnQuJyxcclxuICAgICAgICBzZXNzaW9uSWQsXHJcbiAgICAgICAgdXNlcixcclxuICAgICAgICAvLyBOb3RlOiBJbiByZWFsIHN5c3RlbSwgY29kZSB3b3VsZCBiZSBzZW50IHZpYSBlbWFpbC9TTVMuIEZvciBkZXYsIHdlIGV4cG9zZSBpdCBmb3IgdGVzdGluZy5cclxuICAgICAgICBkZXZDb2RlOiBjb2RlLFxyXG4gICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIC8vINmF2K3Yp9mD2KfYqSBKV1QgdG9rZW5cclxuICAgIGNvbnN0IGlhdCA9IERhdGUubm93KCk7XHJcbiAgICBjb25zdCBleHAgPSBpYXQgKyAyNCAqIDYwICogNjAgKiAxMDAwOyAvLyAyNCBob3Vyc1xyXG4gICAgY29uc3QgdG9rZW4gPSBCdWZmZXIuZnJvbShcclxuICAgICAgSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICAgIGVtYWlsOiBjcmVkZW50aWFscy5lbWFpbCxcclxuICAgICAgICByb2xlOiB1c2VyLnJvbGUsXHJcbiAgICAgICAgaWF0LFxyXG4gICAgICAgIGV4cCxcclxuICAgICAgfSlcclxuICAgICkudG9TdHJpbmcoJ2Jhc2U2NCcpO1xyXG4gICAgY29uc3Qgc2Vzc2lvbklkID0gYFNFU1NfJHtjcnlwdG8ucmFuZG9tVVVJRD8uKCkgfHwgTWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc2xpY2UoMil9YDtcclxuICAgIHRoaXMuYWN0aXZlU2Vzc2lvbnMuc2V0KHRva2VuLCB7IHVzZXIsIHNlc3Npb25JZCwgaXNzdWVkQXQ6IGlhdCwgZXhwaXJlc0F0OiBleHAgfSk7XHJcblxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgc3VjY2VzczogdHJ1ZSxcclxuICAgICAgdG9rZW46IHRva2VuLFxyXG4gICAgICB1c2VyLFxyXG4gICAgICBleHBpcmVzSW46ICcyNGgnLFxyXG4gICAgICBtZXNzYWdlOiAnTG9naW4gc3VjY2Vzc2Z1bCcsXHJcbiAgICB9O1xyXG4gIH1cclxuXHJcbiAgLy8g2KrYrdiv2YrYqyDYp9mE2YXZhNmBINin2YTYtNiu2LXZilxyXG4gIHN0YXRpYyB1cGRhdGVQcm9maWxlKHVzZXJJZCwgZGF0YSkge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgc3VjY2VzczogdHJ1ZSxcclxuICAgICAgdXNlcjoge1xyXG4gICAgICAgIGlkOiB1c2VySWQsXHJcbiAgICAgICAgbmFtZTogZGF0YS5uYW1lLFxyXG4gICAgICAgIGVtYWlsOiBkYXRhLmVtYWlsLFxyXG4gICAgICAgIHBob25lOiBkYXRhLnBob25lLFxyXG4gICAgICAgIGF2YXRhcjogZGF0YS5hdmF0YXIsXHJcbiAgICAgICAgdXBkYXRlZEF0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXHJcbiAgICAgIH0sXHJcbiAgICAgIG1lc3NhZ2U6ICdQcm9maWxlIHVwZGF0ZWQgc3VjY2Vzc2Z1bGx5JyxcclxuICAgIH07XHJcbiAgfVxyXG5cclxuICAvLyDYqti62YrZitixINmD2YTZhdipINin2YTZhdix2YjYsVxyXG4gIHN0YXRpYyBjaGFuZ2VQYXNzd29yZCh1c2VySWQsIG9sZFBhc3N3b3JkLCBuZXdQYXNzd29yZCkge1xyXG4gICAgdm9pZCB1c2VySWQ7XHJcbiAgICB2b2lkIG9sZFBhc3N3b3JkO1xyXG4gICAgdm9pZCBuZXdQYXNzd29yZDtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIHN1Y2Nlc3M6IHRydWUsXHJcbiAgICAgIG1lc3NhZ2U6ICdQYXNzd29yZCBjaGFuZ2VkIHN1Y2Nlc3NmdWxseScsXHJcbiAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxyXG4gICAgfTtcclxuICB9XHJcblxyXG4gIC8vINmG2LPZitin2YYg2YPZhNmF2Kkg2KfZhNmF2LHZiNixXHJcbiAgc3RhdGljIGZvcmdvdFBhc3N3b3JkKGVtYWlsKSB7XHJcbiAgICBjb25zdCB0b2tlbiA9IGBSVF8ke2NyeXB0by5yYW5kb21VVUlEPy4oKSB8fCBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zbGljZSgyKX1gO1xyXG4gICAgY29uc3QgZXhwaXJlc0F0ID0gRGF0ZS5ub3coKSArIDYwICogNjAgKiAxMDAwOyAvLyAxIGhvdXJcclxuICAgIHRoaXMucmVzZXRUb2tlblN0b3JlLnNldCh0b2tlbiwgeyBlbWFpbCwgZXhwaXJlc0F0IH0pO1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgc3VjY2VzczogdHJ1ZSxcclxuICAgICAgcmVzZXRUb2tlbjogdG9rZW4sXHJcbiAgICAgIGV4cGlyZXNJbjogJzFoJyxcclxuICAgICAgbWVzc2FnZTogJ1Jlc2V0IGVtYWlsIHNlbnQgc3VjY2Vzc2Z1bGx5JyxcclxuICAgIH07XHJcbiAgfVxyXG5cclxuICAvLyDYpdi52KfYr9ipINiq2LnZitmK2YYg2YPZhNmF2Kkg2KfZhNmF2LHZiNixXHJcbiAgc3RhdGljIHJlc2V0UGFzc3dvcmQodG9rZW4sIG5ld1Bhc3N3b3JkKSB7XHJcbiAgICB2b2lkIG5ld1Bhc3N3b3JkO1xyXG4gICAgY29uc3QgcmVjb3JkID0gdGhpcy5yZXNldFRva2VuU3RvcmUuZ2V0KHRva2VuKTtcclxuICAgIGlmICghcmVjb3JkKSB7XHJcbiAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBtZXNzYWdlOiAnSW52YWxpZCByZXNldCB0b2tlbicgfTtcclxuICAgIH1cclxuICAgIGlmIChyZWNvcmQuZXhwaXJlc0F0IDwgRGF0ZS5ub3coKSkge1xyXG4gICAgICB0aGlzLnJlc2V0VG9rZW5TdG9yZS5kZWxldGUodG9rZW4pO1xyXG4gICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgbWVzc2FnZTogJ1Jlc2V0IHRva2VuIGV4cGlyZWQnIH07XHJcbiAgICB9XHJcbiAgICAvLyBTaW11bGF0ZSBwYXNzd29yZCB1cGRhdGVcclxuICAgIHRoaXMucmVzZXRUb2tlblN0b3JlLmRlbGV0ZSh0b2tlbik7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBzdWNjZXNzOiB0cnVlLFxyXG4gICAgICBtZXNzYWdlOiAnUGFzc3dvcmQgcmVzZXQgc3VjY2Vzc2Z1bGx5JyxcclxuICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXHJcbiAgICB9O1xyXG4gIH1cclxuXHJcbiAgLy8g2KrYs9is2YrZhCDYp9mE2K7YsdmI2KxcclxuICBzdGF0aWMgbG9nb3V0KHRva2VuKSB7XHJcbiAgICBpZiAodG9rZW4pIHtcclxuICAgICAgdGhpcy5yZXZva2VkVG9rZW5zLmFkZCh0b2tlbik7XHJcbiAgICAgIHRoaXMuYWN0aXZlU2Vzc2lvbnMuZGVsZXRlKHRva2VuKTtcclxuICAgIH1cclxuICAgIHJldHVybiB7XHJcbiAgICAgIHN1Y2Nlc3M6IHRydWUsXHJcbiAgICAgIG1lc3NhZ2U6ICdMb2dvdXQgc3VjY2Vzc2Z1bCcsXHJcbiAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxyXG4gICAgfTtcclxuICB9XHJcblxyXG4gIC8vINin2YTYqtit2YLZgiDZhdmGINin2YTYqtmI2YPZhlxyXG4gIHN0YXRpYyB2ZXJpZnlUb2tlbih0b2tlbikge1xyXG4gICAgdHJ5IHtcclxuICAgICAgaWYgKHRoaXMucmV2b2tlZFRva2Vucy5oYXModG9rZW4pKSB7XHJcbiAgICAgICAgcmV0dXJuIHsgdmFsaWQ6IGZhbHNlLCBlcnJvcjogJ1Rva2VuIHJldm9rZWQnIH07XHJcbiAgICAgIH1cclxuICAgICAgY29uc3QgZGVjb2RlZCA9IEpTT04ucGFyc2UoQnVmZmVyLmZyb20odG9rZW4sICdiYXNlNjQnKS50b1N0cmluZygpKTtcclxuXHJcbiAgICAgIGlmIChkZWNvZGVkLmV4cCA8IERhdGUubm93KCkpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgdmFsaWQ6IGZhbHNlLFxyXG4gICAgICAgICAgZXJyb3I6ICdUb2tlbiBleHBpcmVkJyxcclxuICAgICAgICB9O1xyXG4gICAgICB9XHJcblxyXG4gICAgICByZXR1cm4ge1xyXG4gICAgICAgIHZhbGlkOiB0cnVlLFxyXG4gICAgICAgIHVzZXI6IHtcclxuICAgICAgICAgIGVtYWlsOiBkZWNvZGVkLmVtYWlsLFxyXG4gICAgICAgIH0sXHJcbiAgICAgIH07XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLndhcm4oJ3ZlcmlmeVRva2VuIGVycm9yOicsIGVycm9yKTtcclxuICAgICAgcmV0dXJuIHtcclxuICAgICAgICB2YWxpZDogZmFsc2UsXHJcbiAgICAgICAgZXJyb3I6ICdJbnZhbGlkIHRva2VuJyxcclxuICAgICAgfTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vINiq2YHYudmK2YQg2K3Ys9in2Kgg2KfZhNmF2LPYqtiu2K/ZhVxyXG4gIHN0YXRpYyB2ZXJpZnlFbWFpbChlbWFpbCwgY29kZSkge1xyXG4gICAgY29uc3QgZW50cnkgPSB0aGlzLm90cFN0b3JlLmdldChlbWFpbCk7XHJcbiAgICBpZiAoIWVudHJ5KSB7XHJcbiAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBtZXNzYWdlOiAnTm8gY29kZSByZXF1ZXN0ZWQnIH07XHJcbiAgICB9XHJcbiAgICBpZiAoZW50cnkuZXhwaXJlc0F0IDwgRGF0ZS5ub3coKSkge1xyXG4gICAgICB0aGlzLm90cFN0b3JlLmRlbGV0ZShlbWFpbCk7XHJcbiAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBtZXNzYWdlOiAnQ29kZSBleHBpcmVkJyB9O1xyXG4gICAgfVxyXG4gICAgaWYgKGVudHJ5LmNvZGUgIT09IGNvZGUpIHtcclxuICAgICAgZW50cnkuYXR0ZW1wdHMgPSAoZW50cnkuYXR0ZW1wdHMgfHwgMCkgKyAxO1xyXG4gICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgbWVzc2FnZTogJ0ludmFsaWQgY29kZScsIGF0dGVtcHRzOiBlbnRyeS5hdHRlbXB0cyB9O1xyXG4gICAgfVxyXG4gICAgdGhpcy5vdHBTdG9yZS5kZWxldGUoZW1haWwpO1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgc3VjY2VzczogdHJ1ZSxcclxuICAgICAgbWVzc2FnZTogJ0VtYWlsIHZlcmlmaWVkIHN1Y2Nlc3NmdWxseScsXHJcbiAgICAgIHZlcmlmaWVkOiB0cnVlLFxyXG4gICAgfTtcclxuICB9XHJcblxyXG4gIC8vINil2LHYs9in2YQg2LHZhdiyINin2YTYqtit2YLZglxyXG4gIHN0YXRpYyBzZW5kVmVyaWZpY2F0aW9uQ29kZShlbWFpbCkge1xyXG4gICAgY29uc3Qgbm93ID0gRGF0ZS5ub3coKTtcclxuICAgIGNvbnN0IGV4aXN0aW5nID0gdGhpcy5vdHBTdG9yZS5nZXQoZW1haWwpO1xyXG4gICAgaWYgKGV4aXN0aW5nICYmIGV4aXN0aW5nLmxhc3RSZXF1ZXN0ZWRBdCAmJiBub3cgLSBleGlzdGluZy5sYXN0UmVxdWVzdGVkQXQgPCAzMCAqIDEwMDApIHtcclxuICAgICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIG1lc3NhZ2U6ICdUb28gbWFueSByZXF1ZXN0cy4gUGxlYXNlIHdhaXQuJyB9O1xyXG4gICAgfVxyXG4gICAgY29uc3QgY29kZSA9IE1hdGguZmxvb3IoMTAwMDAwICsgTWF0aC5yYW5kb20oKSAqIDkwMDAwMCkudG9TdHJpbmcoKTtcclxuICAgIGNvbnN0IGV4cGlyZXNBdCA9IG5vdyArIDEwICogNjAgKiAxMDAwOyAvLyAxMCBtaW51dGVzXHJcbiAgICB0aGlzLm90cFN0b3JlLnNldChlbWFpbCwge1xyXG4gICAgICBjb2RlLFxyXG4gICAgICBleHBpcmVzQXQsXHJcbiAgICAgIGF0dGVtcHRzOiAwLFxyXG4gICAgICBsYXN0UmVxdWVzdGVkQXQ6IG5vdyxcclxuICAgIH0pO1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgc3VjY2VzczogdHJ1ZSxcclxuICAgICAgY29kZSxcclxuICAgICAgZXhwaXJlc0luOiAnMTBtJyxcclxuICAgICAgbWVzc2FnZTogJ1ZlcmlmaWNhdGlvbiBjb2RlIHNlbnQnLFxyXG4gICAgfTtcclxuICB9XHJcblxyXG4gIC8vINiq2YHYudmK2YQg2KfZhNmF2LXYp9iv2YLYqSDYp9mE2KvZhtin2KbZitipXHJcbiAgc3RhdGljIGVuYWJsZVR3b0ZhY3Rvcih1c2VySWQpIHtcclxuICAgIGNvbnN0IHNlY3JldCA9IGBTRUNSRVRfJHtjcnlwdG8ucmFuZG9tVVVJRD8uKCkgfHwgTWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc2xpY2UoMil9YDtcclxuICAgIGNvbnN0IGJhY2t1cENvZGVzID0gWydCQUNLVVBfMDAxJywgJ0JBQ0tVUF8wMDInLCAnQkFDS1VQXzAwMyddO1xyXG4gICAgdGhpcy50d29GYWN0b3JFbmFibGVkLnNldCh1c2VySWQsIHsgZW5hYmxlZDogdHJ1ZSwgc2VjcmV0LCBiYWNrdXBDb2RlcyB9KTtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIHN1Y2Nlc3M6IHRydWUsXHJcbiAgICAgIHNlY3JldCxcclxuICAgICAgcXJDb2RlOiAnZGF0YTppbWFnZS9wbmc7YmFzZTY0LC4uLicsXHJcbiAgICAgIGJhY2t1cENvZGVzLFxyXG4gICAgICBtZXNzYWdlOiAnMkZBIGVuYWJsZWQgc3VjY2Vzc2Z1bGx5JyxcclxuICAgIH07XHJcbiAgfVxyXG5cclxuICAvLyDYp9mE2KrYrdmC2YIg2YXZhiDYp9mE2YXYtdin2K/ZgtipINin2YTYq9mG2KfYptmK2KlcclxuICBzdGF0aWMgdmVyaWZ5VHdvRmFjdG9yKHVzZXJJZCwgY29kZSwgc2Vzc2lvbklkKSB7XHJcbiAgICBjb25zdCBlbnRyeSA9IHRoaXMudHdvRmFjdG9yQ29kZXMuZ2V0KHVzZXJJZCk7XHJcbiAgICBpZiAoIWVudHJ5KSB7XHJcbiAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBtZXNzYWdlOiAnTm8gcGVuZGluZyAyRkEnIH07XHJcbiAgICB9XHJcbiAgICBpZiAoZW50cnkuZXhwaXJlc0F0IDwgRGF0ZS5ub3coKSkge1xyXG4gICAgICB0aGlzLnR3b0ZhY3RvckNvZGVzLmRlbGV0ZSh1c2VySWQpO1xyXG4gICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgbWVzc2FnZTogJzJGQSBjb2RlIGV4cGlyZWQnIH07XHJcbiAgICB9XHJcbiAgICBpZiAoZW50cnkuY29kZSAhPT0gY29kZSkge1xyXG4gICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgbWVzc2FnZTogJ0ludmFsaWQgMkZBIGNvZGUnIH07XHJcbiAgICB9XHJcbiAgICB0aGlzLnR3b0ZhY3RvckNvZGVzLmRlbGV0ZSh1c2VySWQpO1xyXG5cclxuICAgIC8vIEZpbmFsaXplIGxvZ2luIGFuZCBpc3N1ZSB0b2tlblxyXG4gICAgY29uc3QgcGVuZGluZyA9IHNlc3Npb25JZCA/IHRoaXMucGVuZGluZ0xvZ2luU2Vzc2lvbnMuZ2V0KHNlc3Npb25JZCkgOiBudWxsO1xyXG4gICAgY29uc3QgdXNlciA9IHBlbmRpbmc/LnVzZXIgfHwgeyBpZDogdXNlcklkLCBlbWFpbDogYCR7dXNlcklkfUBleGFtcGxlLmNvbWAsIHJvbGU6ICd1c2VyJyB9O1xyXG4gICAgaWYgKHBlbmRpbmcpIHRoaXMucGVuZGluZ0xvZ2luU2Vzc2lvbnMuZGVsZXRlKHNlc3Npb25JZCk7XHJcblxyXG4gICAgY29uc3QgaWF0ID0gRGF0ZS5ub3coKTtcclxuICAgIGNvbnN0IGV4cCA9IGlhdCArIDI0ICogNjAgKiA2MCAqIDEwMDA7XHJcbiAgICBjb25zdCB0b2tlbiA9IEJ1ZmZlci5mcm9tKEpTT04uc3RyaW5naWZ5KHsgZW1haWw6IHVzZXIuZW1haWwsIGlhdCwgZXhwIH0pKS50b1N0cmluZygnYmFzZTY0Jyk7XHJcbiAgICBjb25zdCBmaW5hbFNlc3Npb25JZCA9XHJcbiAgICAgIHNlc3Npb25JZCB8fCBgU0VTU18ke2NyeXB0by5yYW5kb21VVUlEPy4oKSB8fCBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zbGljZSgyKX1gO1xyXG4gICAgdGhpcy5hY3RpdmVTZXNzaW9ucy5zZXQodG9rZW4sIHtcclxuICAgICAgdXNlcixcclxuICAgICAgc2Vzc2lvbklkOiBmaW5hbFNlc3Npb25JZCxcclxuICAgICAgaXNzdWVkQXQ6IGlhdCxcclxuICAgICAgZXhwaXJlc0F0OiBleHAsXHJcbiAgICB9KTtcclxuXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBzdWNjZXNzOiB0cnVlLFxyXG4gICAgICBtZXNzYWdlOiAnMkZBIHZlcmlmaWVkIHN1Y2Nlc3NmdWxseScsXHJcbiAgICAgIHRva2VuLFxyXG4gICAgICB1c2VyLFxyXG4gICAgfTtcclxuICB9XHJcblxyXG4gIC8vINin2YTYrdi12YjZhCDYudmE2Ykg2KzZhNiz2KfYqiDYp9mE2YXYs9iq2K7Yr9mFXHJcbiAgc3RhdGljIGdldFVzZXJTZXNzaW9ucyh1c2VySWQpIHtcclxuICAgIGNvbnN0IHNlc3Npb25zID0gW107XHJcbiAgICBmb3IgKGNvbnN0IFssIHNlc3NdIG9mIHRoaXMuYWN0aXZlU2Vzc2lvbnMuZW50cmllcygpKSB7XHJcbiAgICAgIGlmIChzZXNzLnVzZXI/LmlkID09PSB1c2VySWQpIHtcclxuICAgICAgICBzZXNzaW9ucy5wdXNoKHtcclxuICAgICAgICAgIGlkOiBzZXNzLnNlc3Npb25JZCxcclxuICAgICAgICAgIGRldmljZTogJ1Vua25vd24gRGV2aWNlJyxcclxuICAgICAgICAgIGlwOiAnMTI3LjAuMC4xJyxcclxuICAgICAgICAgIGxhc3RBY3Rpdml0eTogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxyXG4gICAgICAgICAgY3JlYXRlZEF0OiBuZXcgRGF0ZShzZXNzLmlzc3VlZEF0KS50b0lTT1N0cmluZygpLFxyXG4gICAgICAgICAgY3VycmVudDogdHJ1ZSxcclxuICAgICAgICB9KTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSwgc2Vzc2lvbnMgfTtcclxuICB9XHJcblxyXG4gIC8vINil2YbZh9in2KEg2KzZhNiz2KlcclxuICBzdGF0aWMgdGVybWluYXRlU2Vzc2lvbih1c2VySWQsIHNlc3Npb25JZCkge1xyXG4gICAgZm9yIChjb25zdCBbdG9rZW4sIHNlc3NdIG9mIHRoaXMuYWN0aXZlU2Vzc2lvbnMuZW50cmllcygpKSB7XHJcbiAgICAgIGlmIChzZXNzLnVzZXI/LmlkID09PSB1c2VySWQgJiYgc2Vzcy5zZXNzaW9uSWQgPT09IHNlc3Npb25JZCkge1xyXG4gICAgICAgIHRoaXMucmV2b2tlZFRva2Vucy5hZGQodG9rZW4pO1xyXG4gICAgICAgIHRoaXMuYWN0aXZlU2Vzc2lvbnMuZGVsZXRlKHRva2VuKTtcclxuICAgICAgICByZXR1cm4geyBzdWNjZXNzOiB0cnVlLCBtZXNzYWdlOiAnU2Vzc2lvbiB0ZXJtaW5hdGVkIHN1Y2Nlc3NmdWxseScgfTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIG1lc3NhZ2U6ICdTZXNzaW9uIG5vdCBmb3VuZCcgfTtcclxuICB9XHJcbn1cclxuXHJcbm1vZHVsZS5leHBvcnRzID0gQXV0aFNlcnZpY2U7XHJcbiJdLCJtYXBwaW5ncyI6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