d7722422ed3f809fff718f2da880bfd2
const express = require('express');
const cors = require('cors');
require('dotenv').config();
const app = express();
console.log('[APP-INIT] Express app created');

// Safe require function
const safeRequire = filePath => {
  try {
    return require(filePath);
  } catch {
    console.log(`âš ï¸  Router not found: ${filePath}`);
    return null;
  }
};

// Load all routers safely
const supplyChainRouter = safeRequire('./routes/supplyChain.routes');
const branchIntegrationRoutes = safeRequire('./routes/branch-integration.routes');
const notificationRoutes = safeRequire('./routes/notificationRoutes'); // ðŸŽ¯ Advanced Notification System

// Custom middleware
const requestLogger = require('./middleware/requestLogger');
const errorHandler = require('./middleware/errorHandler');
const {
  cache
} = require('./config/redis');
const {
  limiters
} = require('./middleware/rateLimit');
const analytics = require('./middleware/analytics');
const performanceMonitor = require('./middleware/performanceMonitor');
const systemDashboard = require('./services/systemDashboard');

// Middleware
app.use(cors());
app.use(express.json());

// TEMPORARILY DISABLED - Testing if these cause 404 issue
/*
// Register SSO Routes FIRST (before any logging middleware)
if (ssoRouter) {
  app.use('/api/sso', ssoRouter);
  console.log('âœ… SSO Routes loaded and registered on /api/sso');
} else {
  console.log('âš ï¸  SSO Router not loaded');
  // Fallback SSO status endpoint if router failed
  app.get('/api/sso/status', (req, res) => {
    console.log('[FALLBACK] /api/sso/status called');
    res.json({
      success: true,
      status: 'operational (fallback)',
      message: 'SSO system is operational'
    });
  });
  console.log('âœ… Fallback SSO status endpoint registered');
}

// Test direct route - should work and prove Express is functioning
app.get('/api/test/sso', (req, res) => {
  console.log('[DIRECT] /api/test/sso endpoint hit');
  res.json({
    test: 'direct endpoint in app.js',
    status: 200
  });
});
console.log('âœ… Test endpoint /api/test/sso registered');

// Debug middleware to see what's happening with requests
app.use((req, res, next) => {
  if (req.path.includes('/sso')) {
    console.log(`[DEBUG] Request to ${req.method} ${req.originalUrl}, path: ${req.path}, baseUrl: ${req.baseUrl}`);
  }
  next();
});

// Then apply middleware
app.use(requestLogger);
app.use(performanceMonitor.middleware());

// Rate limiting (Skip for SSO)
app.use('/api/', (req, res, next) => {
  // Bypass rate limiting for SSO and health check routes
  if (req.path.startsWith('/sso') || req.path === '/health' || req.path === '/api/health') {
    return next();
  }
  // Skip rate limiting for now - test if it's the source of 404
  // TODO: Fix async middleware issue
  next();
});
app.use('/api/auth/login', limiters.login.middleware);
app.use('/api/auth/register', limiters.login.middleware);

// Analytics middleware
app.use((req, res, next) => {
  const startTime = Date.now();

  res.on('finish', () => {
    const duration = Date.now() - startTime;
    analytics.trackRequest(req, res, duration);
  });

  next();
});
if (performanceEvaluationsRouter) app.use('/api/performance-evaluations', performanceEvaluationsRouter);
if (aiNotificationsRouter) app.use('/api/ai-notifications', aiNotificationsRouter);
if (approvalRequestsRouter) app.use('/api/approval-requests', approvalRequestsRouter);
if (montessoriAuthRouter) app.use('/api/montessori-auth', montessoriAuthRouter);
if (montessoriRouter) app.use('/api/montessori', montessoriRouter);
if (notificationTemplatesRouter) app.use('/api/notification-templates', notificationTemplatesRouter);
if (fcmRouter) app.use('/api/fcm', fcmRouter);
if (templatesRouter) {
  app.use('/api/templates', templatesRouter);
  app.use('/api/templates/attachments', express.static(path.join(__dirname, 'uploads')));
}
if (orgBrandingRouter) app.use('/api/org-branding', orgBrandingRouter);
if (aiRouter) app.use('/api/ai', aiRouter);
*/

// Supply chain ONLY - for testing
if (supplyChainRouter) {
  // Debug: Log all supply-chain requests
  app.use('/api/supply-chain', (req, res, next) => {
    console.log(`[SUPPLY-CHAIN] ${req.method} ${req.path} - Routing to handler...`);
    next();
  });
  app.use('/api/supply-chain', supplyChainRouter);
  console.log('âœ… Supply Chain Management Routes loaded');
}

// Health Check
app.get('/health', (req, res) => {
  res.json({
    status: 'healthy',
    timestamp: new Date().toISOString(),
    uptime: process.uptime(),
    environment: process.env.NODE_ENV,
    port: process.env.PORT,
    mongodb: process.env.USE_MOCK_DB === 'true' ? 'mock' : 'connected'
  });
});

// Enhanced health check
app.get('/api/health', (req, res) => {
  res.json({
    success: true,
    status: 'healthy',
    timestamp: new Date().toISOString(),
    uptime: Math.floor(process.uptime()),
    environment: process.env.NODE_ENV || 'development',
    services: {
      api: 'operational',
      database: process.env.USE_MOCK_DB === 'true' ? 'mock' : 'checking',
      cache: process.env.USE_MOCK_CACHE === 'true' ? 'mock' : 'configured'
    }
  });
});

// Log middleware
app.use((req, res, next) => {
  console.log(`${new Date().toISOString()} - ${req.method} ${req.path}`);
  next();
});

// ðŸ‡¸ðŸ‡¦ Direct MOI Passport Route Registration (Placed Early)
console.log('[APP-INIT] === Starting MOI route registration ===');
const moiHealthHandler = (req, res) => {
  console.log('[MOI-ENDPOINT] /api/moi/health called');
  res.json({
    success: true,
    status: 'healthy',
    service: 'MOI Passport Integration Service',
    version: '3.0.0',
    timestamp: new Date().toISOString()
  });
};
app.get('/api/moi/health', moiHealthHandler);
console.log('[APP-INIT] MOI health route registered using app.get()');

// Verify route was added
try {
  const routeStack = app._router.stack;
  const moiRoute = routeStack.find(r => r.route && r.route.path === '/api/moi/health');
  console.log('[APP-INIT] MOI route in stack:', moiRoute ? 'YES' : 'NO');
} catch (e) {
  console.log('[APP-INIT] Could not verify route:', e.message);
}
console.log('[APP-INIT] === MOI route registration complete ===');

// API Routes
try {
  // HR Routers
  const hrEmployeeRouter = safeRequire('./routes/hr/employee');
  const hrAttendanceRouter = safeRequire('./routes/hr/attendance');
  const hrLeaveRouter = safeRequire('./routes/hr/leave');
  const hrPayrollRouter = safeRequire('./routes/hr/payroll');
  const hrPerformanceEvaluationRouter = safeRequire('./routes/hr/performanceEvaluation');

  // Documentation
  const docsRouter = safeRequire('./routes/docs');

  // Original Systems
  const predictionsRouter = safeRequire('./routes/predictions');
  const reportsRouter = safeRequire('./routes/reports');
  const notificationsRouter = safeRequire('./routes/notifications');

  // Advanced Systems (Phase 3)
  const monitoringRouter = safeRequire('./routes/monitoring');
  const supportRouter = safeRequire('./routes/support');
  const integrationsRouter = safeRequire('./routes/integrations');
  const performanceRouter = safeRequire('./routes/performance');

  // Authentication & User Management (Phase 4)
  const authRouter = safeRequire('./routes/auth');
  const usersRouter = safeRequire('./routes/users');
  console.log('[DEBUG] usersRouter loaded:', usersRouter ? 'SUCCESS' : 'FAILED');
  const rbacRouter = safeRequire('./routes/rbac');
  const rbacAdvancedRouter = safeRequire('./routes/rbac-advanced.routes');
  const mfaRouter = safeRequire('./routes/mfa');

  // Analytics & CMS (Phase 4)
  const analyticsRouter = safeRequire('./routes/analytics');
  const cmsRouter = safeRequire('./routes/cms');

  // Phase 8: Advanced Features
  const uploadRouter = safeRequire('./routes/upload');
  const exportRouter = safeRequire('./routes/export');

  // Phase 10: Advanced Features (Search, Validation, Response)
  const searchRouter = safeRequire('./routes/search');
  const validateRouter = safeRequire('./routes/validate');

  // Phase 11: System Integration
  const dashboardRouter = safeRequire('./routes/dashboard');

  // Executive Intelligence Dashboard
  const executiveDashboardRouter = safeRequire('./routes/executive-dashboard');

  // Beneficiary Portal (Communication & Awareness)
  const beneficiaryPortalRouter = safeRequire('./routes/beneficiaryPortal');

  // Community Awareness System
  const communityRouter = safeRequire('./routes/community');

  // Phase 13: Specialized Programs & Sessions
  const specializedProgramsRouter = safeRequire('./routes/specializedPrograms');
  const advancedSessionsRouter = safeRequire('./routes/advancedSessions');
  const smartSchedulerRouter = safeRequire('./routes/smartScheduler');
  const disabilityRehabilitationRouter = safeRequire('./routes/disability-rehabilitation.routes');

  // Phase 14: Equipment Management System
  const equipmentRouter = safeRequire('./routes/equipment');

  // Phase 15: Quality Management & Accreditations
  const qualityRouter = safeRequire('./routes/quality');

  // Phase 16: Internal Audit Management System
  const internalAuditRouter = safeRequire('./routes/internalAudit');

  // Phase 17: Vehicle & Transport Management System
  const vehiclesRouter = safeRequire('./routes/vehicles');
  const transportRoutesRouter = safeRequire('./routes/transportRoutes');
  const tripsRouter = safeRequire('./routes/trips');

  // Phase 18: Real-Time Collaboration System
  const realtimeCollaborationRouter = safeRequire('./routes/realtimeCollaboration');

  // Phase 19: Smart Notifications System
  const smartNotificationsRouter = safeRequire('./routes/smartNotifications');

  // Phase 20: Advanced Analytics & Reporting
  const advancedAnalyticsRouter = safeRequire('./routes/advancedAnalytics');

  // Phase 21: Mobile App Backend Support
  const mobileAppRouter = safeRequire('./routes/mobileApp');

  // Phase 22: Custom Dashboard Widget Builder
  const dashboardWidgetRouter = safeRequire('./routes/dashboardWidget');

  // Phase 24: Multi-Tenant Support
  const tenantRouter = safeRequire('./routes/tenant.routes');

  // Phase 25: AI Recommendations Engine
  const aiRecommendationsRouter = safeRequire('./routes/ai.recommendations.routes');

  // Phase 26: Advanced Integrations Hub
  const integrationHubRouter = safeRequire('./routes/integrationHub.routes');

  // Phase 27: Qiwa (Ministry of Labor) Integration
  const qiwaRouter = safeRequire('./routes/qiwa.routes');

  // Phase 28: Measurement & Rehabilitation Program System
  const measurementsRouter = safeRequire('./routes/measurements.routes');

  // ðŸ‡¸ï¿½ MOI Passport Integration System
  console.log('[MOI-DEBUG] Attempting to load MOI Passport routes...');
  const moiPassportRouter = safeRequire('./routes/moi-passport.routes');
  console.log('[MOI-DEBUG] moiPassportRouter loaded:', typeof moiPassportRouter, moiPassportRouter ? 'SUCCESS' : 'FAILED');

  // Data Migration System
  const migrationRouter = safeRequire('./routes/migrations');
  systemDashboard.initialize().then(success => {
    if (success) {
      console.log('âœ… System Dashboard Initialized');
    }
  });

  // Register available routes
  // HR API endpoints
  if (hrEmployeeRouter) app.use('/api/hr/employees', hrEmployeeRouter);
  if (hrAttendanceRouter) app.use('/api/hr/attendance', hrAttendanceRouter);
  if (hrLeaveRouter) app.use('/api/hr/leaves', hrLeaveRouter);
  if (hrPayrollRouter) app.use('/api/hr/payroll', hrPayrollRouter);
  if (hrPerformanceEvaluationRouter) app.use('/api/hr/performance-evaluations', hrPerformanceEvaluationRouter);
  if (predictionsRouter) app.use('/api/predictions', predictionsRouter);
  if (reportsRouter) app.use('/api/reports', reportsRouter);
  if (notificationsRouter) app.use('/api/notifications', notificationsRouter);
  // ðŸŽ¯ Advanced Notification System (WhatsApp, Templates, Analytics, Rules)
  if (notificationRoutes) {
    app.use('/api/notifications/advanced', notificationRoutes);
    console.log('âœ… Advanced Notification System Routes loaded on /api/notifications/advanced');
  } else {
    console.log('âš ï¸  Advanced Notification System routes not loaded');
  }
  if (monitoringRouter) app.use('/api/monitoring', monitoringRouter);
  if (supportRouter) app.use('/api/support', supportRouter);
  if (integrationsRouter) app.use('/api/integrations', integrationsRouter);
  if (performanceRouter) app.use('/api/performance', performanceRouter);
  if (authRouter) app.use('/api/auth', authRouter);
  if (usersRouter) {
    app.use('/api/users', usersRouter);
    console.log('âœ… Users Routes loaded on /api/users');
  } else {
    console.log('âš ï¸  Users router failed to load');
  }
  if (rbacRouter) app.use('/api/rbac', rbacRouter);
  if (mfaRouter) {
    app.use('/api/mfa', mfaRouter);
    console.log('âœ… MFA Routes loaded');
  }
  if (rbacAdvancedRouter) {
    app.use('/api/rbac-advanced', rbacAdvancedRouter);
    console.log('âœ… Advanced RBAC Routes loaded');
  }
  if (analyticsRouter) app.use('/api/analytics', analyticsRouter);
  if (cmsRouter) app.use('/api/cms', cmsRouter);
  if (uploadRouter) app.use('/api/upload', uploadRouter);
  if (exportRouter) app.use('/api/export', exportRouter);
  if (searchRouter) app.use('/api/search', searchRouter);
  if (validateRouter) app.use('/api/validate', validateRouter);
  if (dashboardRouter) app.use('/api/dashboard', dashboardRouter);
  if (executiveDashboardRouter) app.use('/api/executive-dashboard', executiveDashboardRouter);
  if (beneficiaryPortalRouter) app.use('/api/beneficiary', beneficiaryPortalRouter);
  if (communityRouter) app.use('/api/community', communityRouter);
  if (specializedProgramsRouter) app.use('/api/programs', specializedProgramsRouter);
  if (advancedSessionsRouter) app.use('/api/sessions', advancedSessionsRouter);
  if (smartSchedulerRouter) app.use('/api/scheduler', smartSchedulerRouter);
  if (disabilityRehabilitationRouter) app.use('/api/disability-rehabilitation', disabilityRehabilitationRouter);

  // Equipment routes - all in one file
  if (equipmentRouter) {
    app.use('/api/equipment', equipmentRouter);
    app.use('/api/maintenance-schedules', equipmentRouter);
    app.use('/api/lending', equipmentRouter);
    app.use('/api/faults', equipmentRouter);
    app.use('/api/calibration', equipmentRouter);
    app.use('/api/alerts', equipmentRouter);
  }

  // Quality Management routes
  if (qualityRouter) {
    app.use('/api/quality/standards', qualityRouter);
    app.use('/api/quality/accreditations', qualityRouter);
    app.use('/api/quality/audits', qualityRouter);
    app.use('/api/quality/compliance', qualityRouter);
    app.use('/api/quality/indicators', qualityRouter);
    app.use('/api/quality/dashboard', qualityRouter);
    app.use('/api/quality/reports', qualityRouter);
  }

  // Internal Audit Management routes
  if (internalAuditRouter) {
    app.use('/api/internal-audits', internalAuditRouter);
  }

  // Vehicle & Transport Management routes (Phase 17)
  if (vehiclesRouter) app.use('/api/vehicles', vehiclesRouter);else console.log('âš ï¸  Router not found: ./routes/vehicles');
  if (transportRoutesRouter) app.use('/api/transport-routes', transportRoutesRouter);else console.log('âš ï¸  Router not found: ./routes/transportRoutes');
  if (tripsRouter) app.use('/api/trips', tripsRouter);else console.log('âš ï¸  Router not found: ./routes/trips');

  // Driver Management routes (Phase 29 - AI-Powered Driver Management)
  const driversRouter = safeRequire('./routes/drivers');
  if (driversRouter) app.use('/api/drivers', driversRouter);else console.log('âš ï¸  Router not found: ./routes/drivers');

  // GPS Tracking routes (Phase 30 - Real-time Tracking)
  const gpsRouter = safeRequire('./routes/gps');
  if (gpsRouter) app.use('/api/gps', gpsRouter);else console.log('âš ï¸  Router not found: ./routes/gps');

  // Traffic Accident Reporting System (Phase 31 - Comprehensive Accident Management)
  const trafficAccidentsRouter = safeRequire('./routes/trafficAccidents');
  const trafficAccidentAnalyticsRouter = safeRequire('./routes/trafficAccidentAnalytics');
  if (trafficAccidentsRouter) app.use('/api/traffic-accidents', trafficAccidentsRouter);else console.log('âš ï¸  Router not found: ./routes/trafficAccidents');
  if (trafficAccidentAnalyticsRouter) app.use('/api/traffic-accidents/analytics', trafficAccidentAnalyticsRouter);else console.log('âš ï¸  Router not found: ./routes/trafficAccidentAnalytics');

  // ðŸ‡¸ï¿½ MOI Passport Integration (Phase: Government Integration)
  console.log(`[APP-ROUTES] MOI router value: ${moiPassportRouter ? 'READY' : 'NULL'}`);
  if (moiPassportRouter) {
    console.log('[APP-ROUTES] Registering MOI routes at /api/moi');
    app.use('/api/moi', moiPassportRouter);
    console.log('âœ… MOI Passport Integration routes loaded on /api/moi');
  } else {
    console.log('âš ï¸  MOI Passport Router not found: ./routes/moi-passport.routes');
  }
  if (uploadRouter) app.use('/api/upload', uploadRouter);else console.log('âš ï¸  Router not found: ./routes/upload');
  if (exportRouter) app.use('/api/export', exportRouter);else console.log('âš ï¸  Router not found: ./routes/export');
  if (docsRouter) app.use('/api-docs', docsRouter);
  if (docsRouter) app.use('/docs', docsRouter);

  // Real-Time Collaboration routes (Phase 18)
  if (realtimeCollaborationRouter) app.use('/api/collaboration', realtimeCollaborationRouter);else console.log('âš ï¸  Router not found: ./routes/realtimeCollaboration');

  // Smart Notifications routes (Phase 19)
  if (smartNotificationsRouter) app.use('/api/notifications/smart', smartNotificationsRouter);else console.log('âš ï¸  Router not found: ./routes/smartNotifications');

  // Advanced Analytics routes (Phase 20)
  if (advancedAnalyticsRouter) app.use('/api/analytics', advancedAnalyticsRouter);else console.log('âš ï¸  Router not found: ./routes/advancedAnalytics');

  // Mobile App Backend routes (Phase 21)
  if (mobileAppRouter) app.use('/api/mobile', mobileAppRouter);else console.log('âš ï¸  Router not found: ./routes/mobileApp');

  // Dashboard Widget Builder routes (Phase 22)
  if (dashboardWidgetRouter) app.use('/api/dashboard', dashboardWidgetRouter);else console.log('âš ï¸  Router not found: ./routes/dashboardWidget');

  // Multi-Tenant Support routes (Phase 24)
  if (tenantRouter) app.use('/api/tenants', tenantRouter);else console.log('âš ï¸  Router not found: ./routes/tenant.routes');

  // AI Recommendations Engine routes (Phase 25)
  if (aiRecommendationsRouter) app.use('/api/ai', aiRecommendationsRouter);else console.log('âš ï¸  Router not found: ./routes/ai.recommendations.routes');

  // Advanced Integrations Hub routes (Phase 26)
  if (integrationHubRouter) app.use('/api/integrations-hub', integrationHubRouter);else console.log('âš ï¸  Router not found: ./routes/integrationHub.routes');

  // Qiwa (Ministry of Labor) Integration routes (Phase 27)
  if (qiwaRouter) app.use('/api/qiwa', qiwaRouter);else console.log('âš ï¸  Router not found: ./routes/qiwa.routes');

  // Measurement & Rehabilitation Program System routes (Phase 28)
  if (measurementsRouter) app.use('/api/measurements', measurementsRouter);else console.log('âš ï¸  Router not found: ./routes/measurements.routes');

  // Data Migration System routes
  console.log('[MIGRATION-DEBUG] About to register migrations router...');
  console.log('[MIGRATION-DEBUG] migrationRouter type:', typeof migrationRouter);
  console.log('[MIGRATION-DEBUG] migrationRouter.stack exists:', migrationRouter && migrationRouter.stack ? 'YES' : 'NO');
  if (migrationRouter) {
    console.log('[MIGRATION-DEBUG] Calling app.use for /api/migrations');
    app.use('/api/migrations', migrationRouter);
    console.log('âœ… Migration Routes loaded successfully on /api/migrations');
    console.log('[MIGRATION-DEBUG] Registered successfully');
  } else {
    console.log('âš ï¸  Router not found: ./routes/migrations');
  }
  console.log('[MIGRATION-DEBUG] Migration router registration complete');
  console.log('âœ… Routes loaded successfully');

  // === DIRECT MIGRATION ENDPOINTS (Workaround for Router Issue) ===
  // These are added directly to app as a workaround for router mounting issues
  const MigrationService = require('./services/migration/MigrationManager');
  const CSVProcessor = require('./services/migration/CSVProcessor');
  let migrationManager = null;

  // Direct endpoint: Initialize
  app.post('/api/migrations/initialize', (req, res) => {
    try {
      const {
        sourceDB,
        targetDB
      } = req.body;
      if (!sourceDB || !targetDB) {
        return res.status(400).json({
          success: false,
          error: 'Source and target databases are required'
        });
      }
      migrationManager = new MigrationService({
        sourceDB,
        targetDB,
        csvProcessor: new CSVProcessor(),
        logger: console
      });
      console.log('[MIGRATION] Manager initialized');
      res.json({
        success: true,
        message: 'Migration manager initialized'
      });
    } catch (error) {
      res.status(500).json({
        success: false,
        error: error.message
      });
    }
  });

  // Direct endpoint: Get/Create Plan
  app.get('/api/migrations/plan', (req, res) => {
    try {
      if (!migrationManager) {
        return res.status(400).json({
          success: false,
          error: 'No migration plan created'
        });
      }
      res.json({
        success: true,
        plan: migrationManager.getCurrentPlan ? migrationManager.getCurrentPlan() : null
      });
    } catch (error) {
      res.status(500).json({
        success: false,
        error: error.message
      });
    }
  });
  console.log('âœ… Direct Migration Endpoints Registered (Workaround)');

  // Phase 10: Analytics & Optimization endpoints
  app.get('/api/admin/analytics', (req, res) => {
    try {
      const summary = analytics.getSummary();
      res.json(summary);
    } catch (error) {
      res.status(500).json({
        error: error.message
      });
    }
  });

  // Cache management endpoint
  app.post('/api/admin/cache/clear', async (req, res) => {
    try {
      await cache.clear();
      res.json({
        message: 'Cache cleared successfully'
      });
    } catch (error) {
      res.status(500).json({
        error: error.message
      });
    }
  });

  // Cache status endpoint
  app.get('/api/admin/cache/stats', async (req, res) => {
    try {
      const stats = await cache.stats();
      res.json({
        stats
      });
    } catch (error) {
      res.status(500).json({
        error: error.message
      });
    }
  });

  // Rate limit status endpoint
  app.get('/api/admin/ratelimit/status', async (req, res) => {
    try {
      const status = await limiters.api.getStatus(req);
      res.json(status);
    } catch (error) {
      res.status(500).json({
        error: error.message
      });
    }
  });
  console.log('   - Enterprise: auth, users, rbac, analytics, cms');
  console.log('   - Phase 8: upload, export');
  console.log('   - Phase 13: programs, sessions, scheduler');
  console.log('   - Phase 29-31: drivers, gps, traffic-accidents');
} catch (err) {
  console.error('âŒ Error loading routes:', err.message);
}

// Branch-ERP Integration routes (Advanced Branch Management)
// Registered outside try block to ensure it always loads
console.log('[INTEGRATION-DEBUG] Starting integration routes registration...');
console.log('[INTEGRATION-DEBUG] branchIntegrationRoutes type:', typeof branchIntegrationRoutes);
if (branchIntegrationRoutes) {
  console.log('[INTEGRATION-DEBUG] branchIntegrationRoutes.router type:', typeof branchIntegrationRoutes.router);
}
if (branchIntegrationRoutes && branchIntegrationRoutes.router) {
  console.log('[INTEGRATION-DEBUG] Registering integration routes...');
  app.use('/api/integration', branchIntegrationRoutes.router);
  console.log('âœ… Branch-ERP Integration routes loaded on /api/integration');
} else {
  console.log('âš ï¸  Branch-ERP Integration router failed to load');
}

// Test direct integration route
app.get('/api/integration-test', (req, res) => {
  res.json({
    message: 'Direct integration test route works'
  });
});

// 404 handler
app.use((req, res) => {
  console.log(`[404-DEBUG] Unmatched route: ${req.method} ${req.path}`);
  res.status(404).json({
    error: 'Not Found',
    path: req.path,
    method: req.method
  });
});

// Error Handler
app.use(errorHandler);

// Start scheduled notifications job
try {
  require('./services/scheduledNotificationsJob')();
  console.log('Scheduled notifications job started.');
} catch (err) {
  console.error('Failed to start scheduled notifications job:', err);
}
module.exports = app;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJleHByZXNzIiwicmVxdWlyZSIsImNvcnMiLCJjb25maWciLCJhcHAiLCJjb25zb2xlIiwibG9nIiwic2FmZVJlcXVpcmUiLCJmaWxlUGF0aCIsInN1cHBseUNoYWluUm91dGVyIiwiYnJhbmNoSW50ZWdyYXRpb25Sb3V0ZXMiLCJub3RpZmljYXRpb25Sb3V0ZXMiLCJyZXF1ZXN0TG9nZ2VyIiwiZXJyb3JIYW5kbGVyIiwiY2FjaGUiLCJsaW1pdGVycyIsImFuYWx5dGljcyIsInBlcmZvcm1hbmNlTW9uaXRvciIsInN5c3RlbURhc2hib2FyZCIsInVzZSIsImpzb24iLCJyZXEiLCJyZXMiLCJuZXh0IiwibWV0aG9kIiwicGF0aCIsImdldCIsInN0YXR1cyIsInRpbWVzdGFtcCIsIkRhdGUiLCJ0b0lTT1N0cmluZyIsInVwdGltZSIsInByb2Nlc3MiLCJlbnZpcm9ubWVudCIsImVudiIsIk5PREVfRU5WIiwicG9ydCIsIlBPUlQiLCJtb25nb2RiIiwiVVNFX01PQ0tfREIiLCJzdWNjZXNzIiwiTWF0aCIsImZsb29yIiwic2VydmljZXMiLCJhcGkiLCJkYXRhYmFzZSIsIlVTRV9NT0NLX0NBQ0hFIiwibW9pSGVhbHRoSGFuZGxlciIsInNlcnZpY2UiLCJ2ZXJzaW9uIiwicm91dGVTdGFjayIsIl9yb3V0ZXIiLCJzdGFjayIsIm1vaVJvdXRlIiwiZmluZCIsInIiLCJyb3V0ZSIsImUiLCJtZXNzYWdlIiwiaHJFbXBsb3llZVJvdXRlciIsImhyQXR0ZW5kYW5jZVJvdXRlciIsImhyTGVhdmVSb3V0ZXIiLCJoclBheXJvbGxSb3V0ZXIiLCJoclBlcmZvcm1hbmNlRXZhbHVhdGlvblJvdXRlciIsImRvY3NSb3V0ZXIiLCJwcmVkaWN0aW9uc1JvdXRlciIsInJlcG9ydHNSb3V0ZXIiLCJub3RpZmljYXRpb25zUm91dGVyIiwibW9uaXRvcmluZ1JvdXRlciIsInN1cHBvcnRSb3V0ZXIiLCJpbnRlZ3JhdGlvbnNSb3V0ZXIiLCJwZXJmb3JtYW5jZVJvdXRlciIsImF1dGhSb3V0ZXIiLCJ1c2Vyc1JvdXRlciIsInJiYWNSb3V0ZXIiLCJyYmFjQWR2YW5jZWRSb3V0ZXIiLCJtZmFSb3V0ZXIiLCJhbmFseXRpY3NSb3V0ZXIiLCJjbXNSb3V0ZXIiLCJ1cGxvYWRSb3V0ZXIiLCJleHBvcnRSb3V0ZXIiLCJzZWFyY2hSb3V0ZXIiLCJ2YWxpZGF0ZVJvdXRlciIsImRhc2hib2FyZFJvdXRlciIsImV4ZWN1dGl2ZURhc2hib2FyZFJvdXRlciIsImJlbmVmaWNpYXJ5UG9ydGFsUm91dGVyIiwiY29tbXVuaXR5Um91dGVyIiwic3BlY2lhbGl6ZWRQcm9ncmFtc1JvdXRlciIsImFkdmFuY2VkU2Vzc2lvbnNSb3V0ZXIiLCJzbWFydFNjaGVkdWxlclJvdXRlciIsImRpc2FiaWxpdHlSZWhhYmlsaXRhdGlvblJvdXRlciIsImVxdWlwbWVudFJvdXRlciIsInF1YWxpdHlSb3V0ZXIiLCJpbnRlcm5hbEF1ZGl0Um91dGVyIiwidmVoaWNsZXNSb3V0ZXIiLCJ0cmFuc3BvcnRSb3V0ZXNSb3V0ZXIiLCJ0cmlwc1JvdXRlciIsInJlYWx0aW1lQ29sbGFib3JhdGlvblJvdXRlciIsInNtYXJ0Tm90aWZpY2F0aW9uc1JvdXRlciIsImFkdmFuY2VkQW5hbHl0aWNzUm91dGVyIiwibW9iaWxlQXBwUm91dGVyIiwiZGFzaGJvYXJkV2lkZ2V0Um91dGVyIiwidGVuYW50Um91dGVyIiwiYWlSZWNvbW1lbmRhdGlvbnNSb3V0ZXIiLCJpbnRlZ3JhdGlvbkh1YlJvdXRlciIsInFpd2FSb3V0ZXIiLCJtZWFzdXJlbWVudHNSb3V0ZXIiLCJtb2lQYXNzcG9ydFJvdXRlciIsIm1pZ3JhdGlvblJvdXRlciIsImluaXRpYWxpemUiLCJ0aGVuIiwiZHJpdmVyc1JvdXRlciIsImdwc1JvdXRlciIsInRyYWZmaWNBY2NpZGVudHNSb3V0ZXIiLCJ0cmFmZmljQWNjaWRlbnRBbmFseXRpY3NSb3V0ZXIiLCJNaWdyYXRpb25TZXJ2aWNlIiwiQ1NWUHJvY2Vzc29yIiwibWlncmF0aW9uTWFuYWdlciIsInBvc3QiLCJzb3VyY2VEQiIsInRhcmdldERCIiwiYm9keSIsImVycm9yIiwiY3N2UHJvY2Vzc29yIiwibG9nZ2VyIiwicGxhbiIsImdldEN1cnJlbnRQbGFuIiwic3VtbWFyeSIsImdldFN1bW1hcnkiLCJjbGVhciIsInN0YXRzIiwiZ2V0U3RhdHVzIiwiZXJyIiwicm91dGVyIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VzIjpbImFwcC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBleHByZXNzID0gcmVxdWlyZSgnZXhwcmVzcycpO1xuY29uc3QgY29ycyA9IHJlcXVpcmUoJ2NvcnMnKTtcbnJlcXVpcmUoJ2RvdGVudicpLmNvbmZpZygpO1xuXG5jb25zdCBhcHAgPSBleHByZXNzKCk7XG5cbmNvbnNvbGUubG9nKCdbQVBQLUlOSVRdIEV4cHJlc3MgYXBwIGNyZWF0ZWQnKTtcblxuLy8gU2FmZSByZXF1aXJlIGZ1bmN0aW9uXG5jb25zdCBzYWZlUmVxdWlyZSA9IChmaWxlUGF0aCkgPT4ge1xuICB0cnkge1xuICAgIHJldHVybiByZXF1aXJlKGZpbGVQYXRoKTtcbiAgfSBjYXRjaCB7XG4gICAgY29uc29sZS5sb2coYOKaoO+4jyAgUm91dGVyIG5vdCBmb3VuZDogJHtmaWxlUGF0aH1gKTtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxufTtcblxuLy8gTG9hZCBhbGwgcm91dGVycyBzYWZlbHlcbmNvbnN0IHN1cHBseUNoYWluUm91dGVyID0gc2FmZVJlcXVpcmUoJy4vcm91dGVzL3N1cHBseUNoYWluLnJvdXRlcycpO1xuY29uc3QgYnJhbmNoSW50ZWdyYXRpb25Sb3V0ZXMgPSBzYWZlUmVxdWlyZSgnLi9yb3V0ZXMvYnJhbmNoLWludGVncmF0aW9uLnJvdXRlcycpO1xuY29uc3Qgbm90aWZpY2F0aW9uUm91dGVzID0gc2FmZVJlcXVpcmUoJy4vcm91dGVzL25vdGlmaWNhdGlvblJvdXRlcycpOyAvLyDwn46vIEFkdmFuY2VkIE5vdGlmaWNhdGlvbiBTeXN0ZW1cblxuLy8gQ3VzdG9tIG1pZGRsZXdhcmVcbmNvbnN0IHJlcXVlc3RMb2dnZXIgPSByZXF1aXJlKCcuL21pZGRsZXdhcmUvcmVxdWVzdExvZ2dlcicpO1xuY29uc3QgZXJyb3JIYW5kbGVyID0gcmVxdWlyZSgnLi9taWRkbGV3YXJlL2Vycm9ySGFuZGxlcicpO1xuY29uc3QgeyBjYWNoZSB9ID0gcmVxdWlyZSgnLi9jb25maWcvcmVkaXMnKTtcbmNvbnN0IHsgbGltaXRlcnMgfSA9IHJlcXVpcmUoJy4vbWlkZGxld2FyZS9yYXRlTGltaXQnKTtcbmNvbnN0IGFuYWx5dGljcyA9IHJlcXVpcmUoJy4vbWlkZGxld2FyZS9hbmFseXRpY3MnKTtcbmNvbnN0IHBlcmZvcm1hbmNlTW9uaXRvciA9IHJlcXVpcmUoJy4vbWlkZGxld2FyZS9wZXJmb3JtYW5jZU1vbml0b3InKTtcbmNvbnN0IHN5c3RlbURhc2hib2FyZCA9IHJlcXVpcmUoJy4vc2VydmljZXMvc3lzdGVtRGFzaGJvYXJkJyk7XG5cbi8vIE1pZGRsZXdhcmVcbmFwcC51c2UoY29ycygpKTtcbmFwcC51c2UoZXhwcmVzcy5qc29uKCkpO1xuXG4vLyBURU1QT1JBUklMWSBESVNBQkxFRCAtIFRlc3RpbmcgaWYgdGhlc2UgY2F1c2UgNDA0IGlzc3VlXG4vKlxuLy8gUmVnaXN0ZXIgU1NPIFJvdXRlcyBGSVJTVCAoYmVmb3JlIGFueSBsb2dnaW5nIG1pZGRsZXdhcmUpXG5pZiAoc3NvUm91dGVyKSB7XG4gIGFwcC51c2UoJy9hcGkvc3NvJywgc3NvUm91dGVyKTtcbiAgY29uc29sZS5sb2coJ+KchSBTU08gUm91dGVzIGxvYWRlZCBhbmQgcmVnaXN0ZXJlZCBvbiAvYXBpL3NzbycpO1xufSBlbHNlIHtcbiAgY29uc29sZS5sb2coJ+KaoO+4jyAgU1NPIFJvdXRlciBub3QgbG9hZGVkJyk7XG4gIC8vIEZhbGxiYWNrIFNTTyBzdGF0dXMgZW5kcG9pbnQgaWYgcm91dGVyIGZhaWxlZFxuICBhcHAuZ2V0KCcvYXBpL3Nzby9zdGF0dXMnLCAocmVxLCByZXMpID0+IHtcbiAgICBjb25zb2xlLmxvZygnW0ZBTExCQUNLXSAvYXBpL3Nzby9zdGF0dXMgY2FsbGVkJyk7XG4gICAgcmVzLmpzb24oe1xuICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgIHN0YXR1czogJ29wZXJhdGlvbmFsIChmYWxsYmFjayknLFxuICAgICAgbWVzc2FnZTogJ1NTTyBzeXN0ZW0gaXMgb3BlcmF0aW9uYWwnXG4gICAgfSk7XG4gIH0pO1xuICBjb25zb2xlLmxvZygn4pyFIEZhbGxiYWNrIFNTTyBzdGF0dXMgZW5kcG9pbnQgcmVnaXN0ZXJlZCcpO1xufVxuXG4vLyBUZXN0IGRpcmVjdCByb3V0ZSAtIHNob3VsZCB3b3JrIGFuZCBwcm92ZSBFeHByZXNzIGlzIGZ1bmN0aW9uaW5nXG5hcHAuZ2V0KCcvYXBpL3Rlc3Qvc3NvJywgKHJlcSwgcmVzKSA9PiB7XG4gIGNvbnNvbGUubG9nKCdbRElSRUNUXSAvYXBpL3Rlc3Qvc3NvIGVuZHBvaW50IGhpdCcpO1xuICByZXMuanNvbih7XG4gICAgdGVzdDogJ2RpcmVjdCBlbmRwb2ludCBpbiBhcHAuanMnLFxuICAgIHN0YXR1czogMjAwXG4gIH0pO1xufSk7XG5jb25zb2xlLmxvZygn4pyFIFRlc3QgZW5kcG9pbnQgL2FwaS90ZXN0L3NzbyByZWdpc3RlcmVkJyk7XG5cbi8vIERlYnVnIG1pZGRsZXdhcmUgdG8gc2VlIHdoYXQncyBoYXBwZW5pbmcgd2l0aCByZXF1ZXN0c1xuYXBwLnVzZSgocmVxLCByZXMsIG5leHQpID0+IHtcbiAgaWYgKHJlcS5wYXRoLmluY2x1ZGVzKCcvc3NvJykpIHtcbiAgICBjb25zb2xlLmxvZyhgW0RFQlVHXSBSZXF1ZXN0IHRvICR7cmVxLm1ldGhvZH0gJHtyZXEub3JpZ2luYWxVcmx9LCBwYXRoOiAke3JlcS5wYXRofSwgYmFzZVVybDogJHtyZXEuYmFzZVVybH1gKTtcbiAgfVxuICBuZXh0KCk7XG59KTtcblxuLy8gVGhlbiBhcHBseSBtaWRkbGV3YXJlXG5hcHAudXNlKHJlcXVlc3RMb2dnZXIpO1xuYXBwLnVzZShwZXJmb3JtYW5jZU1vbml0b3IubWlkZGxld2FyZSgpKTtcblxuLy8gUmF0ZSBsaW1pdGluZyAoU2tpcCBmb3IgU1NPKVxuYXBwLnVzZSgnL2FwaS8nLCAocmVxLCByZXMsIG5leHQpID0+IHtcbiAgLy8gQnlwYXNzIHJhdGUgbGltaXRpbmcgZm9yIFNTTyBhbmQgaGVhbHRoIGNoZWNrIHJvdXRlc1xuICBpZiAocmVxLnBhdGguc3RhcnRzV2l0aCgnL3NzbycpIHx8IHJlcS5wYXRoID09PSAnL2hlYWx0aCcgfHwgcmVxLnBhdGggPT09ICcvYXBpL2hlYWx0aCcpIHtcbiAgICByZXR1cm4gbmV4dCgpO1xuICB9XG4gIC8vIFNraXAgcmF0ZSBsaW1pdGluZyBmb3Igbm93IC0gdGVzdCBpZiBpdCdzIHRoZSBzb3VyY2Ugb2YgNDA0XG4gIC8vIFRPRE86IEZpeCBhc3luYyBtaWRkbGV3YXJlIGlzc3VlXG4gIG5leHQoKTtcbn0pO1xuYXBwLnVzZSgnL2FwaS9hdXRoL2xvZ2luJywgbGltaXRlcnMubG9naW4ubWlkZGxld2FyZSk7XG5hcHAudXNlKCcvYXBpL2F1dGgvcmVnaXN0ZXInLCBsaW1pdGVycy5sb2dpbi5taWRkbGV3YXJlKTtcblxuLy8gQW5hbHl0aWNzIG1pZGRsZXdhcmVcbmFwcC51c2UoKHJlcSwgcmVzLCBuZXh0KSA9PiB7XG4gIGNvbnN0IHN0YXJ0VGltZSA9IERhdGUubm93KCk7XG5cbiAgcmVzLm9uKCdmaW5pc2gnLCAoKSA9PiB7XG4gICAgY29uc3QgZHVyYXRpb24gPSBEYXRlLm5vdygpIC0gc3RhcnRUaW1lO1xuICAgIGFuYWx5dGljcy50cmFja1JlcXVlc3QocmVxLCByZXMsIGR1cmF0aW9uKTtcbiAgfSk7XG5cbiAgbmV4dCgpO1xufSk7XG5pZiAocGVyZm9ybWFuY2VFdmFsdWF0aW9uc1JvdXRlcikgYXBwLnVzZSgnL2FwaS9wZXJmb3JtYW5jZS1ldmFsdWF0aW9ucycsIHBlcmZvcm1hbmNlRXZhbHVhdGlvbnNSb3V0ZXIpO1xuaWYgKGFpTm90aWZpY2F0aW9uc1JvdXRlcikgYXBwLnVzZSgnL2FwaS9haS1ub3RpZmljYXRpb25zJywgYWlOb3RpZmljYXRpb25zUm91dGVyKTtcbmlmIChhcHByb3ZhbFJlcXVlc3RzUm91dGVyKSBhcHAudXNlKCcvYXBpL2FwcHJvdmFsLXJlcXVlc3RzJywgYXBwcm92YWxSZXF1ZXN0c1JvdXRlcik7XG5pZiAobW9udGVzc29yaUF1dGhSb3V0ZXIpIGFwcC51c2UoJy9hcGkvbW9udGVzc29yaS1hdXRoJywgbW9udGVzc29yaUF1dGhSb3V0ZXIpO1xuaWYgKG1vbnRlc3NvcmlSb3V0ZXIpIGFwcC51c2UoJy9hcGkvbW9udGVzc29yaScsIG1vbnRlc3NvcmlSb3V0ZXIpO1xuaWYgKG5vdGlmaWNhdGlvblRlbXBsYXRlc1JvdXRlcikgYXBwLnVzZSgnL2FwaS9ub3RpZmljYXRpb24tdGVtcGxhdGVzJywgbm90aWZpY2F0aW9uVGVtcGxhdGVzUm91dGVyKTtcbmlmIChmY21Sb3V0ZXIpIGFwcC51c2UoJy9hcGkvZmNtJywgZmNtUm91dGVyKTtcbmlmICh0ZW1wbGF0ZXNSb3V0ZXIpIHtcbiAgYXBwLnVzZSgnL2FwaS90ZW1wbGF0ZXMnLCB0ZW1wbGF0ZXNSb3V0ZXIpO1xuICBhcHAudXNlKCcvYXBpL3RlbXBsYXRlcy9hdHRhY2htZW50cycsIGV4cHJlc3Muc3RhdGljKHBhdGguam9pbihfX2Rpcm5hbWUsICd1cGxvYWRzJykpKTtcbn1cbmlmIChvcmdCcmFuZGluZ1JvdXRlcikgYXBwLnVzZSgnL2FwaS9vcmctYnJhbmRpbmcnLCBvcmdCcmFuZGluZ1JvdXRlcik7XG5pZiAoYWlSb3V0ZXIpIGFwcC51c2UoJy9hcGkvYWknLCBhaVJvdXRlcik7XG4qL1xuXG4vLyBTdXBwbHkgY2hhaW4gT05MWSAtIGZvciB0ZXN0aW5nXG5pZiAoc3VwcGx5Q2hhaW5Sb3V0ZXIpIHtcbiAgLy8gRGVidWc6IExvZyBhbGwgc3VwcGx5LWNoYWluIHJlcXVlc3RzXG4gIGFwcC51c2UoJy9hcGkvc3VwcGx5LWNoYWluJywgKHJlcSwgcmVzLCBuZXh0KSA9PiB7XG4gICAgY29uc29sZS5sb2coYFtTVVBQTFktQ0hBSU5dICR7cmVxLm1ldGhvZH0gJHtyZXEucGF0aH0gLSBSb3V0aW5nIHRvIGhhbmRsZXIuLi5gKTtcbiAgICBuZXh0KCk7XG4gIH0pO1xuICBhcHAudXNlKCcvYXBpL3N1cHBseS1jaGFpbicsIHN1cHBseUNoYWluUm91dGVyKTtcbiAgY29uc29sZS5sb2coJ+KchSBTdXBwbHkgQ2hhaW4gTWFuYWdlbWVudCBSb3V0ZXMgbG9hZGVkJyk7XG59XG5cbi8vIEhlYWx0aCBDaGVja1xuYXBwLmdldCgnL2hlYWx0aCcsIChyZXEsIHJlcykgPT4ge1xuICByZXMuanNvbih7XG4gICAgc3RhdHVzOiAnaGVhbHRoeScsXG4gICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgdXB0aW1lOiBwcm9jZXNzLnVwdGltZSgpLFxuICAgIGVudmlyb25tZW50OiBwcm9jZXNzLmVudi5OT0RFX0VOVixcbiAgICBwb3J0OiBwcm9jZXNzLmVudi5QT1JULFxuICAgIG1vbmdvZGI6IHByb2Nlc3MuZW52LlVTRV9NT0NLX0RCID09PSAndHJ1ZScgPyAnbW9jaycgOiAnY29ubmVjdGVkJyxcbiAgfSk7XG59KTtcblxuLy8gRW5oYW5jZWQgaGVhbHRoIGNoZWNrXG5hcHAuZ2V0KCcvYXBpL2hlYWx0aCcsIChyZXEsIHJlcykgPT4ge1xuICByZXMuanNvbih7XG4gICAgc3VjY2VzczogdHJ1ZSxcbiAgICBzdGF0dXM6ICdoZWFsdGh5JyxcbiAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICB1cHRpbWU6IE1hdGguZmxvb3IocHJvY2Vzcy51cHRpbWUoKSksXG4gICAgZW52aXJvbm1lbnQ6IHByb2Nlc3MuZW52Lk5PREVfRU5WIHx8ICdkZXZlbG9wbWVudCcsXG4gICAgc2VydmljZXM6IHtcbiAgICAgIGFwaTogJ29wZXJhdGlvbmFsJyxcbiAgICAgIGRhdGFiYXNlOiBwcm9jZXNzLmVudi5VU0VfTU9DS19EQiA9PT0gJ3RydWUnID8gJ21vY2snIDogJ2NoZWNraW5nJyxcbiAgICAgIGNhY2hlOiBwcm9jZXNzLmVudi5VU0VfTU9DS19DQUNIRSA9PT0gJ3RydWUnID8gJ21vY2snIDogJ2NvbmZpZ3VyZWQnLFxuICAgIH0sXG4gIH0pO1xufSk7XG5cbi8vIExvZyBtaWRkbGV3YXJlXG5hcHAudXNlKChyZXEsIHJlcywgbmV4dCkgPT4ge1xuICBjb25zb2xlLmxvZyhgJHtuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCl9IC0gJHtyZXEubWV0aG9kfSAke3JlcS5wYXRofWApO1xuICBuZXh0KCk7XG59KTtcblxuLy8g8J+HuPCfh6YgRGlyZWN0IE1PSSBQYXNzcG9ydCBSb3V0ZSBSZWdpc3RyYXRpb24gKFBsYWNlZCBFYXJseSlcbmNvbnNvbGUubG9nKCdbQVBQLUlOSVRdID09PSBTdGFydGluZyBNT0kgcm91dGUgcmVnaXN0cmF0aW9uID09PScpO1xuXG5jb25zdCBtb2lIZWFsdGhIYW5kbGVyID0gKHJlcSwgcmVzKSA9PiB7XG4gIGNvbnNvbGUubG9nKCdbTU9JLUVORFBPSU5UXSAvYXBpL21vaS9oZWFsdGggY2FsbGVkJyk7XG4gIHJlcy5qc29uKHtcbiAgICBzdWNjZXNzOiB0cnVlLFxuICAgIHN0YXR1czogJ2hlYWx0aHknLFxuICAgIHNlcnZpY2U6ICdNT0kgUGFzc3BvcnQgSW50ZWdyYXRpb24gU2VydmljZScsXG4gICAgdmVyc2lvbjogJzMuMC4wJyxcbiAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgfSk7XG59O1xuXG5hcHAuZ2V0KCcvYXBpL21vaS9oZWFsdGgnLCBtb2lIZWFsdGhIYW5kbGVyKTtcbmNvbnNvbGUubG9nKCdbQVBQLUlOSVRdIE1PSSBoZWFsdGggcm91dGUgcmVnaXN0ZXJlZCB1c2luZyBhcHAuZ2V0KCknKTtcblxuLy8gVmVyaWZ5IHJvdXRlIHdhcyBhZGRlZFxudHJ5IHtcbiAgY29uc3Qgcm91dGVTdGFjayA9IGFwcC5fcm91dGVyLnN0YWNrO1xuICBjb25zdCBtb2lSb3V0ZSA9IHJvdXRlU3RhY2suZmluZChyID0+IHIucm91dGUgJiYgci5yb3V0ZS5wYXRoID09PSAnL2FwaS9tb2kvaGVhbHRoJyk7XG4gIGNvbnNvbGUubG9nKCdbQVBQLUlOSVRdIE1PSSByb3V0ZSBpbiBzdGFjazonLCBtb2lSb3V0ZSA/ICdZRVMnIDogJ05PJyk7XG59IGNhdGNoIChlKSB7XG4gIGNvbnNvbGUubG9nKCdbQVBQLUlOSVRdIENvdWxkIG5vdCB2ZXJpZnkgcm91dGU6JywgZS5tZXNzYWdlKTtcbn1cblxuY29uc29sZS5sb2coJ1tBUFAtSU5JVF0gPT09IE1PSSByb3V0ZSByZWdpc3RyYXRpb24gY29tcGxldGUgPT09Jyk7XG5cbi8vIEFQSSBSb3V0ZXNcbnRyeSB7XG4gIC8vIEhSIFJvdXRlcnNcbiAgY29uc3QgaHJFbXBsb3llZVJvdXRlciA9IHNhZmVSZXF1aXJlKCcuL3JvdXRlcy9oci9lbXBsb3llZScpO1xuICBjb25zdCBockF0dGVuZGFuY2VSb3V0ZXIgPSBzYWZlUmVxdWlyZSgnLi9yb3V0ZXMvaHIvYXR0ZW5kYW5jZScpO1xuICBjb25zdCBockxlYXZlUm91dGVyID0gc2FmZVJlcXVpcmUoJy4vcm91dGVzL2hyL2xlYXZlJyk7XG4gIGNvbnN0IGhyUGF5cm9sbFJvdXRlciA9IHNhZmVSZXF1aXJlKCcuL3JvdXRlcy9oci9wYXlyb2xsJyk7XG4gIGNvbnN0IGhyUGVyZm9ybWFuY2VFdmFsdWF0aW9uUm91dGVyID0gc2FmZVJlcXVpcmUoJy4vcm91dGVzL2hyL3BlcmZvcm1hbmNlRXZhbHVhdGlvbicpO1xuXG4gIC8vIERvY3VtZW50YXRpb25cbiAgY29uc3QgZG9jc1JvdXRlciA9IHNhZmVSZXF1aXJlKCcuL3JvdXRlcy9kb2NzJyk7XG5cbiAgLy8gT3JpZ2luYWwgU3lzdGVtc1xuICBjb25zdCBwcmVkaWN0aW9uc1JvdXRlciA9IHNhZmVSZXF1aXJlKCcuL3JvdXRlcy9wcmVkaWN0aW9ucycpO1xuICBjb25zdCByZXBvcnRzUm91dGVyID0gc2FmZVJlcXVpcmUoJy4vcm91dGVzL3JlcG9ydHMnKTtcbiAgY29uc3Qgbm90aWZpY2F0aW9uc1JvdXRlciA9IHNhZmVSZXF1aXJlKCcuL3JvdXRlcy9ub3RpZmljYXRpb25zJyk7XG5cbiAgLy8gQWR2YW5jZWQgU3lzdGVtcyAoUGhhc2UgMylcbiAgY29uc3QgbW9uaXRvcmluZ1JvdXRlciA9IHNhZmVSZXF1aXJlKCcuL3JvdXRlcy9tb25pdG9yaW5nJyk7XG4gIGNvbnN0IHN1cHBvcnRSb3V0ZXIgPSBzYWZlUmVxdWlyZSgnLi9yb3V0ZXMvc3VwcG9ydCcpO1xuICBjb25zdCBpbnRlZ3JhdGlvbnNSb3V0ZXIgPSBzYWZlUmVxdWlyZSgnLi9yb3V0ZXMvaW50ZWdyYXRpb25zJyk7XG4gIGNvbnN0IHBlcmZvcm1hbmNlUm91dGVyID0gc2FmZVJlcXVpcmUoJy4vcm91dGVzL3BlcmZvcm1hbmNlJyk7XG5cbiAgLy8gQXV0aGVudGljYXRpb24gJiBVc2VyIE1hbmFnZW1lbnQgKFBoYXNlIDQpXG4gIGNvbnN0IGF1dGhSb3V0ZXIgPSBzYWZlUmVxdWlyZSgnLi9yb3V0ZXMvYXV0aCcpO1xuICBjb25zdCB1c2Vyc1JvdXRlciA9IHNhZmVSZXF1aXJlKCcuL3JvdXRlcy91c2VycycpO1xuICBjb25zb2xlLmxvZygnW0RFQlVHXSB1c2Vyc1JvdXRlciBsb2FkZWQ6JywgdXNlcnNSb3V0ZXIgPyAnU1VDQ0VTUycgOiAnRkFJTEVEJyk7XG4gIGNvbnN0IHJiYWNSb3V0ZXIgPSBzYWZlUmVxdWlyZSgnLi9yb3V0ZXMvcmJhYycpO1xuICBjb25zdCByYmFjQWR2YW5jZWRSb3V0ZXIgPSBzYWZlUmVxdWlyZSgnLi9yb3V0ZXMvcmJhYy1hZHZhbmNlZC5yb3V0ZXMnKTtcbiAgY29uc3QgbWZhUm91dGVyID0gc2FmZVJlcXVpcmUoJy4vcm91dGVzL21mYScpO1xuXG4gIC8vIEFuYWx5dGljcyAmIENNUyAoUGhhc2UgNClcbiAgY29uc3QgYW5hbHl0aWNzUm91dGVyID0gc2FmZVJlcXVpcmUoJy4vcm91dGVzL2FuYWx5dGljcycpO1xuICBjb25zdCBjbXNSb3V0ZXIgPSBzYWZlUmVxdWlyZSgnLi9yb3V0ZXMvY21zJyk7XG5cbiAgLy8gUGhhc2UgODogQWR2YW5jZWQgRmVhdHVyZXNcbiAgY29uc3QgdXBsb2FkUm91dGVyID0gc2FmZVJlcXVpcmUoJy4vcm91dGVzL3VwbG9hZCcpO1xuICBjb25zdCBleHBvcnRSb3V0ZXIgPSBzYWZlUmVxdWlyZSgnLi9yb3V0ZXMvZXhwb3J0Jyk7XG5cbiAgLy8gUGhhc2UgMTA6IEFkdmFuY2VkIEZlYXR1cmVzIChTZWFyY2gsIFZhbGlkYXRpb24sIFJlc3BvbnNlKVxuICBjb25zdCBzZWFyY2hSb3V0ZXIgPSBzYWZlUmVxdWlyZSgnLi9yb3V0ZXMvc2VhcmNoJyk7XG4gIGNvbnN0IHZhbGlkYXRlUm91dGVyID0gc2FmZVJlcXVpcmUoJy4vcm91dGVzL3ZhbGlkYXRlJyk7XG5cbiAgLy8gUGhhc2UgMTE6IFN5c3RlbSBJbnRlZ3JhdGlvblxuICBjb25zdCBkYXNoYm9hcmRSb3V0ZXIgPSBzYWZlUmVxdWlyZSgnLi9yb3V0ZXMvZGFzaGJvYXJkJyk7XG5cbiAgLy8gRXhlY3V0aXZlIEludGVsbGlnZW5jZSBEYXNoYm9hcmRcbiAgY29uc3QgZXhlY3V0aXZlRGFzaGJvYXJkUm91dGVyID0gc2FmZVJlcXVpcmUoJy4vcm91dGVzL2V4ZWN1dGl2ZS1kYXNoYm9hcmQnKTtcblxuICAvLyBCZW5lZmljaWFyeSBQb3J0YWwgKENvbW11bmljYXRpb24gJiBBd2FyZW5lc3MpXG4gIGNvbnN0IGJlbmVmaWNpYXJ5UG9ydGFsUm91dGVyID0gc2FmZVJlcXVpcmUoJy4vcm91dGVzL2JlbmVmaWNpYXJ5UG9ydGFsJyk7XG5cbiAgLy8gQ29tbXVuaXR5IEF3YXJlbmVzcyBTeXN0ZW1cbiAgY29uc3QgY29tbXVuaXR5Um91dGVyID0gc2FmZVJlcXVpcmUoJy4vcm91dGVzL2NvbW11bml0eScpO1xuXG4gIC8vIFBoYXNlIDEzOiBTcGVjaWFsaXplZCBQcm9ncmFtcyAmIFNlc3Npb25zXG4gIGNvbnN0IHNwZWNpYWxpemVkUHJvZ3JhbXNSb3V0ZXIgPSBzYWZlUmVxdWlyZSgnLi9yb3V0ZXMvc3BlY2lhbGl6ZWRQcm9ncmFtcycpO1xuICBjb25zdCBhZHZhbmNlZFNlc3Npb25zUm91dGVyID0gc2FmZVJlcXVpcmUoJy4vcm91dGVzL2FkdmFuY2VkU2Vzc2lvbnMnKTtcbiAgY29uc3Qgc21hcnRTY2hlZHVsZXJSb3V0ZXIgPSBzYWZlUmVxdWlyZSgnLi9yb3V0ZXMvc21hcnRTY2hlZHVsZXInKTtcbiAgY29uc3QgZGlzYWJpbGl0eVJlaGFiaWxpdGF0aW9uUm91dGVyID0gc2FmZVJlcXVpcmUoJy4vcm91dGVzL2Rpc2FiaWxpdHktcmVoYWJpbGl0YXRpb24ucm91dGVzJyk7XG5cbiAgLy8gUGhhc2UgMTQ6IEVxdWlwbWVudCBNYW5hZ2VtZW50IFN5c3RlbVxuICBjb25zdCBlcXVpcG1lbnRSb3V0ZXIgPSBzYWZlUmVxdWlyZSgnLi9yb3V0ZXMvZXF1aXBtZW50Jyk7XG5cbiAgLy8gUGhhc2UgMTU6IFF1YWxpdHkgTWFuYWdlbWVudCAmIEFjY3JlZGl0YXRpb25zXG4gIGNvbnN0IHF1YWxpdHlSb3V0ZXIgPSBzYWZlUmVxdWlyZSgnLi9yb3V0ZXMvcXVhbGl0eScpO1xuXG4gIC8vIFBoYXNlIDE2OiBJbnRlcm5hbCBBdWRpdCBNYW5hZ2VtZW50IFN5c3RlbVxuICBjb25zdCBpbnRlcm5hbEF1ZGl0Um91dGVyID0gc2FmZVJlcXVpcmUoJy4vcm91dGVzL2ludGVybmFsQXVkaXQnKTtcblxuICAvLyBQaGFzZSAxNzogVmVoaWNsZSAmIFRyYW5zcG9ydCBNYW5hZ2VtZW50IFN5c3RlbVxuICBjb25zdCB2ZWhpY2xlc1JvdXRlciA9IHNhZmVSZXF1aXJlKCcuL3JvdXRlcy92ZWhpY2xlcycpO1xuICBjb25zdCB0cmFuc3BvcnRSb3V0ZXNSb3V0ZXIgPSBzYWZlUmVxdWlyZSgnLi9yb3V0ZXMvdHJhbnNwb3J0Um91dGVzJyk7XG4gIGNvbnN0IHRyaXBzUm91dGVyID0gc2FmZVJlcXVpcmUoJy4vcm91dGVzL3RyaXBzJyk7XG5cbiAgLy8gUGhhc2UgMTg6IFJlYWwtVGltZSBDb2xsYWJvcmF0aW9uIFN5c3RlbVxuICBjb25zdCByZWFsdGltZUNvbGxhYm9yYXRpb25Sb3V0ZXIgPSBzYWZlUmVxdWlyZSgnLi9yb3V0ZXMvcmVhbHRpbWVDb2xsYWJvcmF0aW9uJyk7XG5cbiAgLy8gUGhhc2UgMTk6IFNtYXJ0IE5vdGlmaWNhdGlvbnMgU3lzdGVtXG4gIGNvbnN0IHNtYXJ0Tm90aWZpY2F0aW9uc1JvdXRlciA9IHNhZmVSZXF1aXJlKCcuL3JvdXRlcy9zbWFydE5vdGlmaWNhdGlvbnMnKTtcblxuICAvLyBQaGFzZSAyMDogQWR2YW5jZWQgQW5hbHl0aWNzICYgUmVwb3J0aW5nXG4gIGNvbnN0IGFkdmFuY2VkQW5hbHl0aWNzUm91dGVyID0gc2FmZVJlcXVpcmUoJy4vcm91dGVzL2FkdmFuY2VkQW5hbHl0aWNzJyk7XG5cbiAgLy8gUGhhc2UgMjE6IE1vYmlsZSBBcHAgQmFja2VuZCBTdXBwb3J0XG4gIGNvbnN0IG1vYmlsZUFwcFJvdXRlciA9IHNhZmVSZXF1aXJlKCcuL3JvdXRlcy9tb2JpbGVBcHAnKTtcblxuICAvLyBQaGFzZSAyMjogQ3VzdG9tIERhc2hib2FyZCBXaWRnZXQgQnVpbGRlclxuICBjb25zdCBkYXNoYm9hcmRXaWRnZXRSb3V0ZXIgPSBzYWZlUmVxdWlyZSgnLi9yb3V0ZXMvZGFzaGJvYXJkV2lkZ2V0Jyk7XG5cbiAgLy8gUGhhc2UgMjQ6IE11bHRpLVRlbmFudCBTdXBwb3J0XG4gIGNvbnN0IHRlbmFudFJvdXRlciA9IHNhZmVSZXF1aXJlKCcuL3JvdXRlcy90ZW5hbnQucm91dGVzJyk7XG5cbiAgLy8gUGhhc2UgMjU6IEFJIFJlY29tbWVuZGF0aW9ucyBFbmdpbmVcbiAgY29uc3QgYWlSZWNvbW1lbmRhdGlvbnNSb3V0ZXIgPSBzYWZlUmVxdWlyZSgnLi9yb3V0ZXMvYWkucmVjb21tZW5kYXRpb25zLnJvdXRlcycpO1xuXG4gIC8vIFBoYXNlIDI2OiBBZHZhbmNlZCBJbnRlZ3JhdGlvbnMgSHViXG4gIGNvbnN0IGludGVncmF0aW9uSHViUm91dGVyID0gc2FmZVJlcXVpcmUoJy4vcm91dGVzL2ludGVncmF0aW9uSHViLnJvdXRlcycpO1xuXG4gIC8vIFBoYXNlIDI3OiBRaXdhIChNaW5pc3RyeSBvZiBMYWJvcikgSW50ZWdyYXRpb25cbiAgY29uc3QgcWl3YVJvdXRlciA9IHNhZmVSZXF1aXJlKCcuL3JvdXRlcy9xaXdhLnJvdXRlcycpO1xuXG4gIC8vIFBoYXNlIDI4OiBNZWFzdXJlbWVudCAmIFJlaGFiaWxpdGF0aW9uIFByb2dyYW0gU3lzdGVtXG4gIGNvbnN0IG1lYXN1cmVtZW50c1JvdXRlciA9IHNhZmVSZXF1aXJlKCcuL3JvdXRlcy9tZWFzdXJlbWVudHMucm91dGVzJyk7XG5cbiAgLy8g8J+HuO+/vSBNT0kgUGFzc3BvcnQgSW50ZWdyYXRpb24gU3lzdGVtXG4gIGNvbnNvbGUubG9nKCdbTU9JLURFQlVHXSBBdHRlbXB0aW5nIHRvIGxvYWQgTU9JIFBhc3Nwb3J0IHJvdXRlcy4uLicpO1xuICBjb25zdCBtb2lQYXNzcG9ydFJvdXRlciA9IHNhZmVSZXF1aXJlKCcuL3JvdXRlcy9tb2ktcGFzc3BvcnQucm91dGVzJyk7XG4gIGNvbnNvbGUubG9nKCdbTU9JLURFQlVHXSBtb2lQYXNzcG9ydFJvdXRlciBsb2FkZWQ6JywgdHlwZW9mIG1vaVBhc3Nwb3J0Um91dGVyLCBtb2lQYXNzcG9ydFJvdXRlciA/ICdTVUNDRVNTJyA6ICdGQUlMRUQnKTtcblxuICAvLyBEYXRhIE1pZ3JhdGlvbiBTeXN0ZW1cbiAgY29uc3QgbWlncmF0aW9uUm91dGVyID0gc2FmZVJlcXVpcmUoJy4vcm91dGVzL21pZ3JhdGlvbnMnKTtcbiAgc3lzdGVtRGFzaGJvYXJkLmluaXRpYWxpemUoKS50aGVuKHN1Y2Nlc3MgPT4ge1xuICAgIGlmIChzdWNjZXNzKSB7XG4gICAgICBjb25zb2xlLmxvZygn4pyFIFN5c3RlbSBEYXNoYm9hcmQgSW5pdGlhbGl6ZWQnKTtcbiAgICB9XG4gIH0pO1xuXG4gIC8vIFJlZ2lzdGVyIGF2YWlsYWJsZSByb3V0ZXNcbiAgLy8gSFIgQVBJIGVuZHBvaW50c1xuICBpZiAoaHJFbXBsb3llZVJvdXRlcikgYXBwLnVzZSgnL2FwaS9oci9lbXBsb3llZXMnLCBockVtcGxveWVlUm91dGVyKTtcbiAgaWYgKGhyQXR0ZW5kYW5jZVJvdXRlcikgYXBwLnVzZSgnL2FwaS9oci9hdHRlbmRhbmNlJywgaHJBdHRlbmRhbmNlUm91dGVyKTtcbiAgaWYgKGhyTGVhdmVSb3V0ZXIpIGFwcC51c2UoJy9hcGkvaHIvbGVhdmVzJywgaHJMZWF2ZVJvdXRlcik7XG4gIGlmIChoclBheXJvbGxSb3V0ZXIpIGFwcC51c2UoJy9hcGkvaHIvcGF5cm9sbCcsIGhyUGF5cm9sbFJvdXRlcik7XG4gIGlmIChoclBlcmZvcm1hbmNlRXZhbHVhdGlvblJvdXRlcilcbiAgICBhcHAudXNlKCcvYXBpL2hyL3BlcmZvcm1hbmNlLWV2YWx1YXRpb25zJywgaHJQZXJmb3JtYW5jZUV2YWx1YXRpb25Sb3V0ZXIpO1xuICBpZiAocHJlZGljdGlvbnNSb3V0ZXIpIGFwcC51c2UoJy9hcGkvcHJlZGljdGlvbnMnLCBwcmVkaWN0aW9uc1JvdXRlcik7XG4gIGlmIChyZXBvcnRzUm91dGVyKSBhcHAudXNlKCcvYXBpL3JlcG9ydHMnLCByZXBvcnRzUm91dGVyKTtcbiAgaWYgKG5vdGlmaWNhdGlvbnNSb3V0ZXIpIGFwcC51c2UoJy9hcGkvbm90aWZpY2F0aW9ucycsIG5vdGlmaWNhdGlvbnNSb3V0ZXIpO1xuICAvLyDwn46vIEFkdmFuY2VkIE5vdGlmaWNhdGlvbiBTeXN0ZW0gKFdoYXRzQXBwLCBUZW1wbGF0ZXMsIEFuYWx5dGljcywgUnVsZXMpXG4gIGlmIChub3RpZmljYXRpb25Sb3V0ZXMpIHtcbiAgICBhcHAudXNlKCcvYXBpL25vdGlmaWNhdGlvbnMvYWR2YW5jZWQnLCBub3RpZmljYXRpb25Sb3V0ZXMpO1xuICAgIGNvbnNvbGUubG9nKCfinIUgQWR2YW5jZWQgTm90aWZpY2F0aW9uIFN5c3RlbSBSb3V0ZXMgbG9hZGVkIG9uIC9hcGkvbm90aWZpY2F0aW9ucy9hZHZhbmNlZCcpO1xuICB9IGVsc2Uge1xuICAgIGNvbnNvbGUubG9nKCfimqDvuI8gIEFkdmFuY2VkIE5vdGlmaWNhdGlvbiBTeXN0ZW0gcm91dGVzIG5vdCBsb2FkZWQnKTtcbiAgfVxuICBpZiAobW9uaXRvcmluZ1JvdXRlcikgYXBwLnVzZSgnL2FwaS9tb25pdG9yaW5nJywgbW9uaXRvcmluZ1JvdXRlcik7XG4gIGlmIChzdXBwb3J0Um91dGVyKSBhcHAudXNlKCcvYXBpL3N1cHBvcnQnLCBzdXBwb3J0Um91dGVyKTtcbiAgaWYgKGludGVncmF0aW9uc1JvdXRlcikgYXBwLnVzZSgnL2FwaS9pbnRlZ3JhdGlvbnMnLCBpbnRlZ3JhdGlvbnNSb3V0ZXIpO1xuICBpZiAocGVyZm9ybWFuY2VSb3V0ZXIpIGFwcC51c2UoJy9hcGkvcGVyZm9ybWFuY2UnLCBwZXJmb3JtYW5jZVJvdXRlcik7XG4gIGlmIChhdXRoUm91dGVyKSBhcHAudXNlKCcvYXBpL2F1dGgnLCBhdXRoUm91dGVyKTtcbiAgaWYgKHVzZXJzUm91dGVyKSB7XG4gICAgYXBwLnVzZSgnL2FwaS91c2VycycsIHVzZXJzUm91dGVyKTtcbiAgICBjb25zb2xlLmxvZygn4pyFIFVzZXJzIFJvdXRlcyBsb2FkZWQgb24gL2FwaS91c2VycycpO1xuICB9IGVsc2Uge1xuICAgIGNvbnNvbGUubG9nKCfimqDvuI8gIFVzZXJzIHJvdXRlciBmYWlsZWQgdG8gbG9hZCcpO1xuICB9XG4gIGlmIChyYmFjUm91dGVyKSBhcHAudXNlKCcvYXBpL3JiYWMnLCByYmFjUm91dGVyKTtcbiAgaWYgKG1mYVJvdXRlcikge1xuICAgIGFwcC51c2UoJy9hcGkvbWZhJywgbWZhUm91dGVyKTtcbiAgICBjb25zb2xlLmxvZygn4pyFIE1GQSBSb3V0ZXMgbG9hZGVkJyk7XG4gIH1cbiAgaWYgKHJiYWNBZHZhbmNlZFJvdXRlcikge1xuICAgIGFwcC51c2UoJy9hcGkvcmJhYy1hZHZhbmNlZCcsIHJiYWNBZHZhbmNlZFJvdXRlcik7XG4gICAgY29uc29sZS5sb2coJ+KchSBBZHZhbmNlZCBSQkFDIFJvdXRlcyBsb2FkZWQnKTtcbiAgfVxuICBpZiAoYW5hbHl0aWNzUm91dGVyKSBhcHAudXNlKCcvYXBpL2FuYWx5dGljcycsIGFuYWx5dGljc1JvdXRlcik7XG4gIGlmIChjbXNSb3V0ZXIpIGFwcC51c2UoJy9hcGkvY21zJywgY21zUm91dGVyKTtcbiAgaWYgKHVwbG9hZFJvdXRlcikgYXBwLnVzZSgnL2FwaS91cGxvYWQnLCB1cGxvYWRSb3V0ZXIpO1xuICBpZiAoZXhwb3J0Um91dGVyKSBhcHAudXNlKCcvYXBpL2V4cG9ydCcsIGV4cG9ydFJvdXRlcik7XG4gIGlmIChzZWFyY2hSb3V0ZXIpIGFwcC51c2UoJy9hcGkvc2VhcmNoJywgc2VhcmNoUm91dGVyKTtcbiAgaWYgKHZhbGlkYXRlUm91dGVyKSBhcHAudXNlKCcvYXBpL3ZhbGlkYXRlJywgdmFsaWRhdGVSb3V0ZXIpO1xuICBpZiAoZGFzaGJvYXJkUm91dGVyKSBhcHAudXNlKCcvYXBpL2Rhc2hib2FyZCcsIGRhc2hib2FyZFJvdXRlcik7XG4gIGlmIChleGVjdXRpdmVEYXNoYm9hcmRSb3V0ZXIpIGFwcC51c2UoJy9hcGkvZXhlY3V0aXZlLWRhc2hib2FyZCcsIGV4ZWN1dGl2ZURhc2hib2FyZFJvdXRlcik7XG4gIGlmIChiZW5lZmljaWFyeVBvcnRhbFJvdXRlcikgYXBwLnVzZSgnL2FwaS9iZW5lZmljaWFyeScsIGJlbmVmaWNpYXJ5UG9ydGFsUm91dGVyKTtcbiAgaWYgKGNvbW11bml0eVJvdXRlcikgYXBwLnVzZSgnL2FwaS9jb21tdW5pdHknLCBjb21tdW5pdHlSb3V0ZXIpO1xuICBpZiAoc3BlY2lhbGl6ZWRQcm9ncmFtc1JvdXRlcikgYXBwLnVzZSgnL2FwaS9wcm9ncmFtcycsIHNwZWNpYWxpemVkUHJvZ3JhbXNSb3V0ZXIpO1xuICBpZiAoYWR2YW5jZWRTZXNzaW9uc1JvdXRlcikgYXBwLnVzZSgnL2FwaS9zZXNzaW9ucycsIGFkdmFuY2VkU2Vzc2lvbnNSb3V0ZXIpO1xuICBpZiAoc21hcnRTY2hlZHVsZXJSb3V0ZXIpIGFwcC51c2UoJy9hcGkvc2NoZWR1bGVyJywgc21hcnRTY2hlZHVsZXJSb3V0ZXIpO1xuICBpZiAoZGlzYWJpbGl0eVJlaGFiaWxpdGF0aW9uUm91dGVyKSBhcHAudXNlKCcvYXBpL2Rpc2FiaWxpdHktcmVoYWJpbGl0YXRpb24nLCBkaXNhYmlsaXR5UmVoYWJpbGl0YXRpb25Sb3V0ZXIpO1xuXG4gIC8vIEVxdWlwbWVudCByb3V0ZXMgLSBhbGwgaW4gb25lIGZpbGVcbiAgaWYgKGVxdWlwbWVudFJvdXRlcikge1xuICAgIGFwcC51c2UoJy9hcGkvZXF1aXBtZW50JywgZXF1aXBtZW50Um91dGVyKTtcbiAgICBhcHAudXNlKCcvYXBpL21haW50ZW5hbmNlLXNjaGVkdWxlcycsIGVxdWlwbWVudFJvdXRlcik7XG4gICAgYXBwLnVzZSgnL2FwaS9sZW5kaW5nJywgZXF1aXBtZW50Um91dGVyKTtcbiAgICBhcHAudXNlKCcvYXBpL2ZhdWx0cycsIGVxdWlwbWVudFJvdXRlcik7XG4gICAgYXBwLnVzZSgnL2FwaS9jYWxpYnJhdGlvbicsIGVxdWlwbWVudFJvdXRlcik7XG4gICAgYXBwLnVzZSgnL2FwaS9hbGVydHMnLCBlcXVpcG1lbnRSb3V0ZXIpO1xuICB9XG5cbiAgLy8gUXVhbGl0eSBNYW5hZ2VtZW50IHJvdXRlc1xuICBpZiAocXVhbGl0eVJvdXRlcikge1xuICAgIGFwcC51c2UoJy9hcGkvcXVhbGl0eS9zdGFuZGFyZHMnLCBxdWFsaXR5Um91dGVyKTtcbiAgICBhcHAudXNlKCcvYXBpL3F1YWxpdHkvYWNjcmVkaXRhdGlvbnMnLCBxdWFsaXR5Um91dGVyKTtcbiAgICBhcHAudXNlKCcvYXBpL3F1YWxpdHkvYXVkaXRzJywgcXVhbGl0eVJvdXRlcik7XG4gICAgYXBwLnVzZSgnL2FwaS9xdWFsaXR5L2NvbXBsaWFuY2UnLCBxdWFsaXR5Um91dGVyKTtcbiAgICBhcHAudXNlKCcvYXBpL3F1YWxpdHkvaW5kaWNhdG9ycycsIHF1YWxpdHlSb3V0ZXIpO1xuICAgIGFwcC51c2UoJy9hcGkvcXVhbGl0eS9kYXNoYm9hcmQnLCBxdWFsaXR5Um91dGVyKTtcbiAgICBhcHAudXNlKCcvYXBpL3F1YWxpdHkvcmVwb3J0cycsIHF1YWxpdHlSb3V0ZXIpO1xuICB9XG5cbiAgLy8gSW50ZXJuYWwgQXVkaXQgTWFuYWdlbWVudCByb3V0ZXNcbiAgaWYgKGludGVybmFsQXVkaXRSb3V0ZXIpIHtcbiAgICBhcHAudXNlKCcvYXBpL2ludGVybmFsLWF1ZGl0cycsIGludGVybmFsQXVkaXRSb3V0ZXIpO1xuICB9XG5cbiAgLy8gVmVoaWNsZSAmIFRyYW5zcG9ydCBNYW5hZ2VtZW50IHJvdXRlcyAoUGhhc2UgMTcpXG4gIGlmICh2ZWhpY2xlc1JvdXRlcikgYXBwLnVzZSgnL2FwaS92ZWhpY2xlcycsIHZlaGljbGVzUm91dGVyKTtcbiAgZWxzZSBjb25zb2xlLmxvZygn4pqg77iPICBSb3V0ZXIgbm90IGZvdW5kOiAuL3JvdXRlcy92ZWhpY2xlcycpO1xuXG4gIGlmICh0cmFuc3BvcnRSb3V0ZXNSb3V0ZXIpIGFwcC51c2UoJy9hcGkvdHJhbnNwb3J0LXJvdXRlcycsIHRyYW5zcG9ydFJvdXRlc1JvdXRlcik7XG4gIGVsc2UgY29uc29sZS5sb2coJ+KaoO+4jyAgUm91dGVyIG5vdCBmb3VuZDogLi9yb3V0ZXMvdHJhbnNwb3J0Um91dGVzJyk7XG5cbiAgaWYgKHRyaXBzUm91dGVyKSBhcHAudXNlKCcvYXBpL3RyaXBzJywgdHJpcHNSb3V0ZXIpO1xuICBlbHNlIGNvbnNvbGUubG9nKCfimqDvuI8gIFJvdXRlciBub3QgZm91bmQ6IC4vcm91dGVzL3RyaXBzJyk7XG5cbiAgLy8gRHJpdmVyIE1hbmFnZW1lbnQgcm91dGVzIChQaGFzZSAyOSAtIEFJLVBvd2VyZWQgRHJpdmVyIE1hbmFnZW1lbnQpXG4gIGNvbnN0IGRyaXZlcnNSb3V0ZXIgPSBzYWZlUmVxdWlyZSgnLi9yb3V0ZXMvZHJpdmVycycpO1xuICBpZiAoZHJpdmVyc1JvdXRlcikgYXBwLnVzZSgnL2FwaS9kcml2ZXJzJywgZHJpdmVyc1JvdXRlcik7XG4gIGVsc2UgY29uc29sZS5sb2coJ+KaoO+4jyAgUm91dGVyIG5vdCBmb3VuZDogLi9yb3V0ZXMvZHJpdmVycycpO1xuXG4gIC8vIEdQUyBUcmFja2luZyByb3V0ZXMgKFBoYXNlIDMwIC0gUmVhbC10aW1lIFRyYWNraW5nKVxuICBjb25zdCBncHNSb3V0ZXIgPSBzYWZlUmVxdWlyZSgnLi9yb3V0ZXMvZ3BzJyk7XG4gIGlmIChncHNSb3V0ZXIpIGFwcC51c2UoJy9hcGkvZ3BzJywgZ3BzUm91dGVyKTtcbiAgZWxzZSBjb25zb2xlLmxvZygn4pqg77iPICBSb3V0ZXIgbm90IGZvdW5kOiAuL3JvdXRlcy9ncHMnKTtcblxuICAvLyBUcmFmZmljIEFjY2lkZW50IFJlcG9ydGluZyBTeXN0ZW0gKFBoYXNlIDMxIC0gQ29tcHJlaGVuc2l2ZSBBY2NpZGVudCBNYW5hZ2VtZW50KVxuICBjb25zdCB0cmFmZmljQWNjaWRlbnRzUm91dGVyID0gc2FmZVJlcXVpcmUoJy4vcm91dGVzL3RyYWZmaWNBY2NpZGVudHMnKTtcbiAgY29uc3QgdHJhZmZpY0FjY2lkZW50QW5hbHl0aWNzUm91dGVyID0gc2FmZVJlcXVpcmUoJy4vcm91dGVzL3RyYWZmaWNBY2NpZGVudEFuYWx5dGljcycpO1xuICBpZiAodHJhZmZpY0FjY2lkZW50c1JvdXRlcikgYXBwLnVzZSgnL2FwaS90cmFmZmljLWFjY2lkZW50cycsIHRyYWZmaWNBY2NpZGVudHNSb3V0ZXIpO1xuICBlbHNlIGNvbnNvbGUubG9nKCfimqDvuI8gIFJvdXRlciBub3QgZm91bmQ6IC4vcm91dGVzL3RyYWZmaWNBY2NpZGVudHMnKTtcbiAgaWYgKHRyYWZmaWNBY2NpZGVudEFuYWx5dGljc1JvdXRlcikgYXBwLnVzZSgnL2FwaS90cmFmZmljLWFjY2lkZW50cy9hbmFseXRpY3MnLCB0cmFmZmljQWNjaWRlbnRBbmFseXRpY3NSb3V0ZXIpO1xuICBlbHNlIGNvbnNvbGUubG9nKCfimqDvuI8gIFJvdXRlciBub3QgZm91bmQ6IC4vcm91dGVzL3RyYWZmaWNBY2NpZGVudEFuYWx5dGljcycpO1xuXG4gIC8vIPCfh7jvv70gTU9JIFBhc3Nwb3J0IEludGVncmF0aW9uIChQaGFzZTogR292ZXJubWVudCBJbnRlZ3JhdGlvbilcbiAgY29uc29sZS5sb2coYFtBUFAtUk9VVEVTXSBNT0kgcm91dGVyIHZhbHVlOiAke21vaVBhc3Nwb3J0Um91dGVyID8gJ1JFQURZJyA6ICdOVUxMJ31gKTtcbiAgaWYgKG1vaVBhc3Nwb3J0Um91dGVyKSB7XG4gICAgY29uc29sZS5sb2coJ1tBUFAtUk9VVEVTXSBSZWdpc3RlcmluZyBNT0kgcm91dGVzIGF0IC9hcGkvbW9pJyk7XG4gICAgYXBwLnVzZSgnL2FwaS9tb2knLCBtb2lQYXNzcG9ydFJvdXRlcik7XG4gICAgY29uc29sZS5sb2coJ+KchSBNT0kgUGFzc3BvcnQgSW50ZWdyYXRpb24gcm91dGVzIGxvYWRlZCBvbiAvYXBpL21vaScpO1xuICB9IGVsc2Uge1xuICAgIGNvbnNvbGUubG9nKCfimqDvuI8gIE1PSSBQYXNzcG9ydCBSb3V0ZXIgbm90IGZvdW5kOiAuL3JvdXRlcy9tb2ktcGFzc3BvcnQucm91dGVzJyk7XG4gIH1cblxuICBpZiAodXBsb2FkUm91dGVyKSBhcHAudXNlKCcvYXBpL3VwbG9hZCcsIHVwbG9hZFJvdXRlcik7XG4gIGVsc2UgY29uc29sZS5sb2coJ+KaoO+4jyAgUm91dGVyIG5vdCBmb3VuZDogLi9yb3V0ZXMvdXBsb2FkJyk7XG5cbiAgaWYgKGV4cG9ydFJvdXRlcikgYXBwLnVzZSgnL2FwaS9leHBvcnQnLCBleHBvcnRSb3V0ZXIpO1xuICBlbHNlIGNvbnNvbGUubG9nKCfimqDvuI8gIFJvdXRlciBub3QgZm91bmQ6IC4vcm91dGVzL2V4cG9ydCcpO1xuXG4gIGlmIChkb2NzUm91dGVyKSBhcHAudXNlKCcvYXBpLWRvY3MnLCBkb2NzUm91dGVyKTtcbiAgaWYgKGRvY3NSb3V0ZXIpIGFwcC51c2UoJy9kb2NzJywgZG9jc1JvdXRlcik7XG5cbiAgLy8gUmVhbC1UaW1lIENvbGxhYm9yYXRpb24gcm91dGVzIChQaGFzZSAxOClcbiAgaWYgKHJlYWx0aW1lQ29sbGFib3JhdGlvblJvdXRlcikgYXBwLnVzZSgnL2FwaS9jb2xsYWJvcmF0aW9uJywgcmVhbHRpbWVDb2xsYWJvcmF0aW9uUm91dGVyKTtcbiAgZWxzZSBjb25zb2xlLmxvZygn4pqg77iPICBSb3V0ZXIgbm90IGZvdW5kOiAuL3JvdXRlcy9yZWFsdGltZUNvbGxhYm9yYXRpb24nKTtcblxuICAvLyBTbWFydCBOb3RpZmljYXRpb25zIHJvdXRlcyAoUGhhc2UgMTkpXG4gIGlmIChzbWFydE5vdGlmaWNhdGlvbnNSb3V0ZXIpIGFwcC51c2UoJy9hcGkvbm90aWZpY2F0aW9ucy9zbWFydCcsIHNtYXJ0Tm90aWZpY2F0aW9uc1JvdXRlcik7XG4gIGVsc2UgY29uc29sZS5sb2coJ+KaoO+4jyAgUm91dGVyIG5vdCBmb3VuZDogLi9yb3V0ZXMvc21hcnROb3RpZmljYXRpb25zJyk7XG5cbiAgLy8gQWR2YW5jZWQgQW5hbHl0aWNzIHJvdXRlcyAoUGhhc2UgMjApXG4gIGlmIChhZHZhbmNlZEFuYWx5dGljc1JvdXRlcikgYXBwLnVzZSgnL2FwaS9hbmFseXRpY3MnLCBhZHZhbmNlZEFuYWx5dGljc1JvdXRlcik7XG4gIGVsc2UgY29uc29sZS5sb2coJ+KaoO+4jyAgUm91dGVyIG5vdCBmb3VuZDogLi9yb3V0ZXMvYWR2YW5jZWRBbmFseXRpY3MnKTtcblxuICAvLyBNb2JpbGUgQXBwIEJhY2tlbmQgcm91dGVzIChQaGFzZSAyMSlcbiAgaWYgKG1vYmlsZUFwcFJvdXRlcikgYXBwLnVzZSgnL2FwaS9tb2JpbGUnLCBtb2JpbGVBcHBSb3V0ZXIpO1xuICBlbHNlIGNvbnNvbGUubG9nKCfimqDvuI8gIFJvdXRlciBub3QgZm91bmQ6IC4vcm91dGVzL21vYmlsZUFwcCcpO1xuXG4gIC8vIERhc2hib2FyZCBXaWRnZXQgQnVpbGRlciByb3V0ZXMgKFBoYXNlIDIyKVxuICBpZiAoZGFzaGJvYXJkV2lkZ2V0Um91dGVyKSBhcHAudXNlKCcvYXBpL2Rhc2hib2FyZCcsIGRhc2hib2FyZFdpZGdldFJvdXRlcik7XG4gIGVsc2UgY29uc29sZS5sb2coJ+KaoO+4jyAgUm91dGVyIG5vdCBmb3VuZDogLi9yb3V0ZXMvZGFzaGJvYXJkV2lkZ2V0Jyk7XG5cbiAgLy8gTXVsdGktVGVuYW50IFN1cHBvcnQgcm91dGVzIChQaGFzZSAyNClcbiAgaWYgKHRlbmFudFJvdXRlcikgYXBwLnVzZSgnL2FwaS90ZW5hbnRzJywgdGVuYW50Um91dGVyKTtcbiAgZWxzZSBjb25zb2xlLmxvZygn4pqg77iPICBSb3V0ZXIgbm90IGZvdW5kOiAuL3JvdXRlcy90ZW5hbnQucm91dGVzJyk7XG5cbiAgLy8gQUkgUmVjb21tZW5kYXRpb25zIEVuZ2luZSByb3V0ZXMgKFBoYXNlIDI1KVxuICBpZiAoYWlSZWNvbW1lbmRhdGlvbnNSb3V0ZXIpIGFwcC51c2UoJy9hcGkvYWknLCBhaVJlY29tbWVuZGF0aW9uc1JvdXRlcik7XG4gIGVsc2UgY29uc29sZS5sb2coJ+KaoO+4jyAgUm91dGVyIG5vdCBmb3VuZDogLi9yb3V0ZXMvYWkucmVjb21tZW5kYXRpb25zLnJvdXRlcycpO1xuXG4gIC8vIEFkdmFuY2VkIEludGVncmF0aW9ucyBIdWIgcm91dGVzIChQaGFzZSAyNilcbiAgaWYgKGludGVncmF0aW9uSHViUm91dGVyKSBhcHAudXNlKCcvYXBpL2ludGVncmF0aW9ucy1odWInLCBpbnRlZ3JhdGlvbkh1YlJvdXRlcik7XG4gIGVsc2UgY29uc29sZS5sb2coJ+KaoO+4jyAgUm91dGVyIG5vdCBmb3VuZDogLi9yb3V0ZXMvaW50ZWdyYXRpb25IdWIucm91dGVzJyk7XG5cbiAgLy8gUWl3YSAoTWluaXN0cnkgb2YgTGFib3IpIEludGVncmF0aW9uIHJvdXRlcyAoUGhhc2UgMjcpXG4gIGlmIChxaXdhUm91dGVyKSBhcHAudXNlKCcvYXBpL3Fpd2EnLCBxaXdhUm91dGVyKTtcbiAgZWxzZSBjb25zb2xlLmxvZygn4pqg77iPICBSb3V0ZXIgbm90IGZvdW5kOiAuL3JvdXRlcy9xaXdhLnJvdXRlcycpO1xuXG4gIC8vIE1lYXN1cmVtZW50ICYgUmVoYWJpbGl0YXRpb24gUHJvZ3JhbSBTeXN0ZW0gcm91dGVzIChQaGFzZSAyOClcbiAgaWYgKG1lYXN1cmVtZW50c1JvdXRlcikgYXBwLnVzZSgnL2FwaS9tZWFzdXJlbWVudHMnLCBtZWFzdXJlbWVudHNSb3V0ZXIpO1xuICBlbHNlIGNvbnNvbGUubG9nKCfimqDvuI8gIFJvdXRlciBub3QgZm91bmQ6IC4vcm91dGVzL21lYXN1cmVtZW50cy5yb3V0ZXMnKTtcblxuICAvLyBEYXRhIE1pZ3JhdGlvbiBTeXN0ZW0gcm91dGVzXG4gIGNvbnNvbGUubG9nKCdbTUlHUkFUSU9OLURFQlVHXSBBYm91dCB0byByZWdpc3RlciBtaWdyYXRpb25zIHJvdXRlci4uLicpO1xuICBjb25zb2xlLmxvZygnW01JR1JBVElPTi1ERUJVR10gbWlncmF0aW9uUm91dGVyIHR5cGU6JywgdHlwZW9mIG1pZ3JhdGlvblJvdXRlcik7XG4gIGNvbnNvbGUubG9nKCdbTUlHUkFUSU9OLURFQlVHXSBtaWdyYXRpb25Sb3V0ZXIuc3RhY2sgZXhpc3RzOicsIG1pZ3JhdGlvblJvdXRlciAmJiBtaWdyYXRpb25Sb3V0ZXIuc3RhY2sgPyAnWUVTJyA6ICdOTycpO1xuICBpZiAobWlncmF0aW9uUm91dGVyKSB7XG4gICAgY29uc29sZS5sb2coJ1tNSUdSQVRJT04tREVCVUddIENhbGxpbmcgYXBwLnVzZSBmb3IgL2FwaS9taWdyYXRpb25zJyk7XG4gICAgYXBwLnVzZSgnL2FwaS9taWdyYXRpb25zJywgbWlncmF0aW9uUm91dGVyKTtcbiAgICBjb25zb2xlLmxvZygn4pyFIE1pZ3JhdGlvbiBSb3V0ZXMgbG9hZGVkIHN1Y2Nlc3NmdWxseSBvbiAvYXBpL21pZ3JhdGlvbnMnKTtcbiAgICBjb25zb2xlLmxvZygnW01JR1JBVElPTi1ERUJVR10gUmVnaXN0ZXJlZCBzdWNjZXNzZnVsbHknKTtcbiAgfSBlbHNlIHtcbiAgICBjb25zb2xlLmxvZygn4pqg77iPICBSb3V0ZXIgbm90IGZvdW5kOiAuL3JvdXRlcy9taWdyYXRpb25zJyk7XG4gIH1cbiAgY29uc29sZS5sb2coJ1tNSUdSQVRJT04tREVCVUddIE1pZ3JhdGlvbiByb3V0ZXIgcmVnaXN0cmF0aW9uIGNvbXBsZXRlJyk7XG5cbiAgY29uc29sZS5sb2coJ+KchSBSb3V0ZXMgbG9hZGVkIHN1Y2Nlc3NmdWxseScpO1xuXG4gIC8vID09PSBESVJFQ1QgTUlHUkFUSU9OIEVORFBPSU5UUyAoV29ya2Fyb3VuZCBmb3IgUm91dGVyIElzc3VlKSA9PT1cbiAgLy8gVGhlc2UgYXJlIGFkZGVkIGRpcmVjdGx5IHRvIGFwcCBhcyBhIHdvcmthcm91bmQgZm9yIHJvdXRlciBtb3VudGluZyBpc3N1ZXNcbiAgY29uc3QgTWlncmF0aW9uU2VydmljZSA9IHJlcXVpcmUoJy4vc2VydmljZXMvbWlncmF0aW9uL01pZ3JhdGlvbk1hbmFnZXInKTtcbiAgY29uc3QgQ1NWUHJvY2Vzc29yID0gcmVxdWlyZSgnLi9zZXJ2aWNlcy9taWdyYXRpb24vQ1NWUHJvY2Vzc29yJyk7XG4gIFxuICBsZXQgbWlncmF0aW9uTWFuYWdlciA9IG51bGw7XG4gIFxuICAvLyBEaXJlY3QgZW5kcG9pbnQ6IEluaXRpYWxpemVcbiAgYXBwLnBvc3QoJy9hcGkvbWlncmF0aW9ucy9pbml0aWFsaXplJywgKHJlcSwgcmVzKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHsgc291cmNlREIsIHRhcmdldERCIH0gPSByZXEuYm9keTtcbiAgICAgIGlmICghc291cmNlREIgfHwgIXRhcmdldERCKSB7XG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7XG4gICAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgICAgZXJyb3I6ICdTb3VyY2UgYW5kIHRhcmdldCBkYXRhYmFzZXMgYXJlIHJlcXVpcmVkJyxcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICBtaWdyYXRpb25NYW5hZ2VyID0gbmV3IE1pZ3JhdGlvblNlcnZpY2Uoe1xuICAgICAgICBzb3VyY2VEQixcbiAgICAgICAgdGFyZ2V0REIsXG4gICAgICAgIGNzdlByb2Nlc3NvcjogbmV3IENTVlByb2Nlc3NvcigpLFxuICAgICAgICBsb2dnZXI6IGNvbnNvbGUsXG4gICAgICB9KTtcbiAgICAgIGNvbnNvbGUubG9nKCdbTUlHUkFUSU9OXSBNYW5hZ2VyIGluaXRpYWxpemVkJyk7XG4gICAgICByZXMuanNvbih7XG4gICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgIG1lc3NhZ2U6ICdNaWdyYXRpb24gbWFuYWdlciBpbml0aWFsaXplZCcsXG4gICAgICB9KTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgcmVzLnN0YXR1cyg1MDApLmpzb24oe1xuICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgZXJyb3I6IGVycm9yLm1lc3NhZ2UsXG4gICAgICB9KTtcbiAgICB9XG4gIH0pO1xuICBcbiAgLy8gRGlyZWN0IGVuZHBvaW50OiBHZXQvQ3JlYXRlIFBsYW5cbiAgYXBwLmdldCgnL2FwaS9taWdyYXRpb25zL3BsYW4nLCAocmVxLCByZXMpID0+IHtcbiAgICB0cnkge1xuICAgICAgaWYgKCFtaWdyYXRpb25NYW5hZ2VyKSB7XG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7XG4gICAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgICAgZXJyb3I6ICdObyBtaWdyYXRpb24gcGxhbiBjcmVhdGVkJ1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIHJlcy5qc29uKHtcbiAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgcGxhbjogbWlncmF0aW9uTWFuYWdlci5nZXRDdXJyZW50UGxhbiA/IG1pZ3JhdGlvbk1hbmFnZXIuZ2V0Q3VycmVudFBsYW4oKSA6IG51bGxcbiAgICAgIH0pO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICByZXMuc3RhdHVzKDUwMCkuanNvbih7XG4gICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICBlcnJvcjogZXJyb3IubWVzc2FnZSxcbiAgICAgIH0pO1xuICAgIH1cbiAgfSk7XG4gIFxuICBjb25zb2xlLmxvZygn4pyFIERpcmVjdCBNaWdyYXRpb24gRW5kcG9pbnRzIFJlZ2lzdGVyZWQgKFdvcmthcm91bmQpJyk7XG5cbiAgLy8gUGhhc2UgMTA6IEFuYWx5dGljcyAmIE9wdGltaXphdGlvbiBlbmRwb2ludHNcbiAgYXBwLmdldCgnL2FwaS9hZG1pbi9hbmFseXRpY3MnLCAocmVxLCByZXMpID0+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3Qgc3VtbWFyeSA9IGFuYWx5dGljcy5nZXRTdW1tYXJ5KCk7XG4gICAgICByZXMuanNvbihzdW1tYXJ5KTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgcmVzLnN0YXR1cyg1MDApLmpzb24oeyBlcnJvcjogZXJyb3IubWVzc2FnZSB9KTtcbiAgICB9XG4gIH0pO1xuXG4gIC8vIENhY2hlIG1hbmFnZW1lbnQgZW5kcG9pbnRcbiAgYXBwLnBvc3QoJy9hcGkvYWRtaW4vY2FjaGUvY2xlYXInLCBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgICB0cnkge1xuICAgICAgYXdhaXQgY2FjaGUuY2xlYXIoKTtcbiAgICAgIHJlcy5qc29uKHsgbWVzc2FnZTogJ0NhY2hlIGNsZWFyZWQgc3VjY2Vzc2Z1bGx5JyB9KTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgcmVzLnN0YXR1cyg1MDApLmpzb24oeyBlcnJvcjogZXJyb3IubWVzc2FnZSB9KTtcbiAgICB9XG4gIH0pO1xuXG4gIC8vIENhY2hlIHN0YXR1cyBlbmRwb2ludFxuICBhcHAuZ2V0KCcvYXBpL2FkbWluL2NhY2hlL3N0YXRzJywgYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHN0YXRzID0gYXdhaXQgY2FjaGUuc3RhdHMoKTtcbiAgICAgIHJlcy5qc29uKHsgc3RhdHMgfSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfSk7XG4gICAgfVxuICB9KTtcblxuICAvLyBSYXRlIGxpbWl0IHN0YXR1cyBlbmRwb2ludFxuICBhcHAuZ2V0KCcvYXBpL2FkbWluL3JhdGVsaW1pdC9zdGF0dXMnLCBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3Qgc3RhdHVzID0gYXdhaXQgbGltaXRlcnMuYXBpLmdldFN0YXR1cyhyZXEpO1xuICAgICAgcmVzLmpzb24oc3RhdHVzKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgcmVzLnN0YXR1cyg1MDApLmpzb24oeyBlcnJvcjogZXJyb3IubWVzc2FnZSB9KTtcbiAgICB9XG4gIH0pO1xuICBjb25zb2xlLmxvZygnICAgLSBFbnRlcnByaXNlOiBhdXRoLCB1c2VycywgcmJhYywgYW5hbHl0aWNzLCBjbXMnKTtcbiAgY29uc29sZS5sb2coJyAgIC0gUGhhc2UgODogdXBsb2FkLCBleHBvcnQnKTtcbiAgY29uc29sZS5sb2coJyAgIC0gUGhhc2UgMTM6IHByb2dyYW1zLCBzZXNzaW9ucywgc2NoZWR1bGVyJyk7XG4gIGNvbnNvbGUubG9nKCcgICAtIFBoYXNlIDI5LTMxOiBkcml2ZXJzLCBncHMsIHRyYWZmaWMtYWNjaWRlbnRzJyk7XG59IGNhdGNoIChlcnIpIHtcbiAgY29uc29sZS5lcnJvcign4p2MIEVycm9yIGxvYWRpbmcgcm91dGVzOicsIGVyci5tZXNzYWdlKTtcbn1cblxuLy8gQnJhbmNoLUVSUCBJbnRlZ3JhdGlvbiByb3V0ZXMgKEFkdmFuY2VkIEJyYW5jaCBNYW5hZ2VtZW50KVxuLy8gUmVnaXN0ZXJlZCBvdXRzaWRlIHRyeSBibG9jayB0byBlbnN1cmUgaXQgYWx3YXlzIGxvYWRzXG5jb25zb2xlLmxvZygnW0lOVEVHUkFUSU9OLURFQlVHXSBTdGFydGluZyBpbnRlZ3JhdGlvbiByb3V0ZXMgcmVnaXN0cmF0aW9uLi4uJyk7XG5jb25zb2xlLmxvZygnW0lOVEVHUkFUSU9OLURFQlVHXSBicmFuY2hJbnRlZ3JhdGlvblJvdXRlcyB0eXBlOicsIHR5cGVvZiBicmFuY2hJbnRlZ3JhdGlvblJvdXRlcyk7XG5pZiAoYnJhbmNoSW50ZWdyYXRpb25Sb3V0ZXMpIHtcbiAgY29uc29sZS5sb2coJ1tJTlRFR1JBVElPTi1ERUJVR10gYnJhbmNoSW50ZWdyYXRpb25Sb3V0ZXMucm91dGVyIHR5cGU6JywgdHlwZW9mIGJyYW5jaEludGVncmF0aW9uUm91dGVzLnJvdXRlcik7XG59XG5cbmlmIChicmFuY2hJbnRlZ3JhdGlvblJvdXRlcyAmJiBicmFuY2hJbnRlZ3JhdGlvblJvdXRlcy5yb3V0ZXIpIHtcbiAgY29uc29sZS5sb2coJ1tJTlRFR1JBVElPTi1ERUJVR10gUmVnaXN0ZXJpbmcgaW50ZWdyYXRpb24gcm91dGVzLi4uJyk7XG4gIGFwcC51c2UoJy9hcGkvaW50ZWdyYXRpb24nLCBicmFuY2hJbnRlZ3JhdGlvblJvdXRlcy5yb3V0ZXIpO1xuICBjb25zb2xlLmxvZygn4pyFIEJyYW5jaC1FUlAgSW50ZWdyYXRpb24gcm91dGVzIGxvYWRlZCBvbiAvYXBpL2ludGVncmF0aW9uJyk7XG59IGVsc2Uge1xuICBjb25zb2xlLmxvZygn4pqg77iPICBCcmFuY2gtRVJQIEludGVncmF0aW9uIHJvdXRlciBmYWlsZWQgdG8gbG9hZCcpO1xufVxuXG4vLyBUZXN0IGRpcmVjdCBpbnRlZ3JhdGlvbiByb3V0ZVxuYXBwLmdldCgnL2FwaS9pbnRlZ3JhdGlvbi10ZXN0JywgKHJlcSwgcmVzKSA9PiB7XG4gIHJlcy5qc29uKHsgbWVzc2FnZTogJ0RpcmVjdCBpbnRlZ3JhdGlvbiB0ZXN0IHJvdXRlIHdvcmtzJyB9KTtcbn0pO1xuXG4vLyA0MDQgaGFuZGxlclxuYXBwLnVzZSgocmVxLCByZXMpID0+IHtcbiAgY29uc29sZS5sb2coYFs0MDQtREVCVUddIFVubWF0Y2hlZCByb3V0ZTogJHtyZXEubWV0aG9kfSAke3JlcS5wYXRofWApO1xuICByZXMuc3RhdHVzKDQwNCkuanNvbih7XG4gICAgZXJyb3I6ICdOb3QgRm91bmQnLFxuICAgIHBhdGg6IHJlcS5wYXRoLFxuICAgIG1ldGhvZDogcmVxLm1ldGhvZCxcbiAgfSk7XG59KTtcblxuLy8gRXJyb3IgSGFuZGxlclxuYXBwLnVzZShlcnJvckhhbmRsZXIpO1xuXG4vLyBTdGFydCBzY2hlZHVsZWQgbm90aWZpY2F0aW9ucyBqb2JcbnRyeSB7XG4gIHJlcXVpcmUoJy4vc2VydmljZXMvc2NoZWR1bGVkTm90aWZpY2F0aW9uc0pvYicpKCk7XG4gIGNvbnNvbGUubG9nKCdTY2hlZHVsZWQgbm90aWZpY2F0aW9ucyBqb2Igc3RhcnRlZC4nKTtcbn0gY2F0Y2ggKGVycikge1xuICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gc3RhcnQgc2NoZWR1bGVkIG5vdGlmaWNhdGlvbnMgam9iOicsIGVycik7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gYXBwO1xuIl0sIm1hcHBpbmdzIjoiQUFBQSxNQUFNQSxPQUFPLEdBQUdDLE9BQU8sQ0FBQyxTQUFTLENBQUM7QUFDbEMsTUFBTUMsSUFBSSxHQUFHRCxPQUFPLENBQUMsTUFBTSxDQUFDO0FBQzVCQSxPQUFPLENBQUMsUUFBUSxDQUFDLENBQUNFLE1BQU0sQ0FBQyxDQUFDO0FBRTFCLE1BQU1DLEdBQUcsR0FBR0osT0FBTyxDQUFDLENBQUM7QUFFckJLLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLGdDQUFnQyxDQUFDOztBQUU3QztBQUNBLE1BQU1DLFdBQVcsR0FBSUMsUUFBUSxJQUFLO0VBQ2hDLElBQUk7SUFDRixPQUFPUCxPQUFPLENBQUNPLFFBQVEsQ0FBQztFQUMxQixDQUFDLENBQUMsTUFBTTtJQUNOSCxPQUFPLENBQUNDLEdBQUcsQ0FBQyx5QkFBeUJFLFFBQVEsRUFBRSxDQUFDO0lBQ2hELE9BQU8sSUFBSTtFQUNiO0FBQ0YsQ0FBQzs7QUFFRDtBQUNBLE1BQU1DLGlCQUFpQixHQUFHRixXQUFXLENBQUMsNkJBQTZCLENBQUM7QUFDcEUsTUFBTUcsdUJBQXVCLEdBQUdILFdBQVcsQ0FBQyxvQ0FBb0MsQ0FBQztBQUNqRixNQUFNSSxrQkFBa0IsR0FBR0osV0FB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