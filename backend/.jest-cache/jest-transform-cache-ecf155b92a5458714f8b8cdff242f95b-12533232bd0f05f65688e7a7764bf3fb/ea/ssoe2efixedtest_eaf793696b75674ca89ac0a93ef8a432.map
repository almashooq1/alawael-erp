{"version":3,"names":["http","require","assert","BASE_URL","SSO_BASE","testUser","email","password","name","authToken","refreshToken","sessionId","userId","makeRequest","method","path","body","fullPath","Promise","resolve","reject","fullUrl","startsWith","url","URL","options","hostname","port","pathname","search","headers","req","request","res","data","on","chunk","parsed","JSON","parse","status","statusCode","e","write","stringify","end","tests","Health Check","console","log","strictEqual","Status Endpoint","Login - Valid Credentials","token","accessToken","user","id","session","Login - Missing Email","Login - Missing Password","Verify Token","Refresh Token","Introspect Token","List Sessions","Get User Info","OAuth Authorize","OAuth Token","grant_type","code","client_id","Logout","Logout All","runTests","repeat","passed","failed","results","testName","testFn","Object","entries","push","err","message","error","toFixed","forEach","r","icon","process","exit","setTimeout"],"sources":["sso-e2e-fixed.test.js"],"sourcesContent":["\r\n\r\nconst http = require('http');\r\nconst assert = require('assert');\r\n\r\nconst BASE_URL = 'http://localhost:3002';\r\nconst SSO_BASE = `${BASE_URL}/api/sso`;\r\n\r\n// Test data\r\nconst testUser = {\r\n  email: 'test@example.com',\r\n  password: 'Test@123456',\r\n  name: 'Test User'\r\n};\r\n\r\nlet authToken = '';\r\nlet refreshToken = '';\r\nlet sessionId = '';\r\nlet userId = '';\r\n\r\n// Helper function to make HTTP requests\r\nfunction makeRequest(method, path, body = null, fullPath = false) {\r\n  return new Promise((resolve, reject) => {\r\n    let fullUrl;\r\n    if (fullPath || path.startsWith('http')) {\r\n      fullUrl = path;\r\n    } else {\r\n      fullUrl = `${SSO_BASE}${path}`;\r\n    }\r\n    \r\n    const url = new URL(fullUrl);\r\n    \r\n    const options = {\r\n      hostname: url.hostname,\r\n      port: url.port || 3002,\r\n      path: url.pathname + url.search,\r\n      method: method,\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        ...(authToken && { 'Authorization': `Bearer ${authToken}` })\r\n      }\r\n    };\r\n\r\n    const req = http.request(options, (res) => {\r\n      let data = '';\r\n      res.on('data', chunk => data += chunk);\r\n      res.on('end', () => {\r\n        try {\r\n          const parsed = JSON.parse(data);\r\n          resolve({ status: res.statusCode, body: parsed });\r\n        } catch (e) {\r\n          resolve({ status: res.statusCode, body: data });\r\n        }\r\n      });\r\n    });\r\n\r\n    req.on('error', reject);\r\n    if (body) req.write(JSON.stringify(body));\r\n    req.end();\r\n  });\r\n}\r\n\r\n// Test cases\r\nconst tests = {\r\n  // Health & Status Tests\r\n  'Health Check': async () => {\r\n    const res = await makeRequest('GET', `${BASE_URL}/health`);\r\n    console.log(`   Health Check: GET /health -> ${res.status}`);\r\n    assert.strictEqual(res.status, 200, 'Health check should return 200');\r\n    console.log('   âœ… PASS');\r\n  },\r\n\r\n  'Status Endpoint': async () => {\r\n    const res = await makeRequest('GET', '/status');\r\n    console.log(`   Status Endpoint: GET /api/sso/status -> ${res.status}`);\r\n    assert.strictEqual(res.status, 200, `Status should be 200, got ${res.status}`);\r\n    console.log('   âœ… PASS');\r\n  },\r\n\r\n  // Authentication Tests\r\n  'Login - Valid Credentials': async () => {\r\n    const res = await makeRequest('POST', '/login', {\r\n      email: testUser.email,\r\n      password: testUser.password\r\n    });\r\n    console.log(`   Login: POST /api/sso/login -> ${res.status}`);\r\n    assert(res.status === 200 || res.status === 201, `Expected 200/201, got ${res.status}`);\r\n    \r\n    if (res.body.token) {\r\n      authToken = res.body.token;\r\n      console.log('   âœ… PASS - Token received');\r\n    } else if (res.body.accessToken) {\r\n      authToken = res.body.accessToken;\r\n      console.log('   âœ… PASS - AccessToken received');\r\n    } else {\r\n      console.log('   âœ… PASS - Login accepted (mock mode)');\r\n    }\r\n    \r\n    if (res.body.refreshToken) refreshToken = res.body.refreshToken;\r\n    if (res.body.user?.id) userId = res.body.user.id;\r\n    if (res.body.session?.id) sessionId = res.body.session.id;\r\n  },\r\n\r\n  'Login - Missing Email': async () => {\r\n    const res = await makeRequest('POST', '/login', {\r\n      password: testUser.password\r\n    });\r\n    console.log(`   Missing Email: POST /api/sso/login -> ${res.status}`);\r\n    assert(res.status >= 400, `Should reject, got ${res.status}`);\r\n    console.log('   âœ… PASS');\r\n  },\r\n\r\n  'Login - Missing Password': async () => {\r\n    const res = await makeRequest('POST', '/login', {\r\n      email: testUser.email\r\n    });\r\n    console.log(`   Missing Password: POST /api/sso/login -> ${res.status}`);\r\n    assert(res.status >= 400, `Should reject, got ${res.status}`);\r\n    console.log('   âœ… PASS');\r\n  },\r\n\r\n  // Token Operations\r\n  'Verify Token': async () => {\r\n    if (!authToken) {\r\n      console.log('   Verify Token: SKIPPED (no auth token)');\r\n      return;\r\n    }\r\n    const res = await makeRequest('POST', '/verify-token', {\r\n      token: authToken\r\n    });\r\n    console.log(`   Verify Token: POST /api/sso/verify-token -> ${res.status}`);\r\n    assert(res.status === 200 || res.status === 401, `Got ${res.status}`);\r\n    console.log('   âœ… PASS');\r\n  },\r\n\r\n  'Refresh Token': async () => {\r\n    if (!refreshToken && !authToken) {\r\n      console.log('   Refresh Token: SKIPPED (no tokens)');\r\n      return;\r\n    }\r\n    const res = await makeRequest('POST', '/refresh-token', {\r\n      refreshToken: refreshToken || authToken\r\n    });\r\n    console.log(`   Refresh Token: POST /api/sso/refresh-token -> ${res.status}`);\r\n    assert(res.status === 200 || res.status === 401, `Got ${res.status}`);\r\n    console.log('   âœ… PASS');\r\n  },\r\n\r\n  'Introspect Token': async () => {\r\n    if (!authToken) {\r\n      console.log('   Introspect Token: SKIPPED (no auth token)');\r\n      return;\r\n    }\r\n    const res = await makeRequest('POST', '/introspect', {\r\n      token: authToken\r\n    });\r\n    console.log(`   Introspect Token: POST /api/sso/introspect -> ${res.status}`);\r\n    assert(res.status === 200 || res.status === 401, `Got ${res.status}`);\r\n    console.log('   âœ… PASS');\r\n  },\r\n\r\n  // Session Tests\r\n  'List Sessions': async () => {\r\n    const res = await makeRequest('GET', '/sessions');\r\n    console.log(`   List Sessions: GET /api/sso/sessions -> ${res.status}`);\r\n    assert(res.status === 200 || res.status === 401, `Expected 200/401, got ${res.status}`);\r\n    console.log('   âœ… PASS');\r\n  },\r\n\r\n  'Get User Info': async () => {\r\n    if (!authToken) {\r\n      console.log('   Get User Info: SKIPPED (no auth token)');\r\n      return;\r\n    }\r\n    const res = await makeRequest('GET', '/userinfo');\r\n    console.log(`   Get User Info: GET /api/sso/userinfo -> ${res.status}`);\r\n    assert(res.status === 200 || res.status === 401, `Got ${res.status}`);\r\n    console.log('   âœ… PASS');\r\n  },\r\n\r\n  // OAuth Tests\r\n  'OAuth Authorize': async () => {\r\n    const res = await makeRequest('GET', '/oauth2/authorize?client_id=test&redirect_uri=http://localhost:3000/callback');\r\n    console.log(`   OAuth Authorize: GET /api/sso/oauth2/authorize -> ${res.status}`);\r\n    assert(res.status === 200 || res.status === 301 || res.status === 302 || res.status === 400, `Got ${res.status}`);\r\n    console.log('   âœ… PASS');\r\n  },\r\n\r\n  'OAuth Token': async () => {\r\n    const res = await makeRequest('POST', '/oauth2/token', {\r\n      grant_type: 'authorization_code',\r\n      code: 'test_code',\r\n      client_id: 'test'\r\n    });\r\n    console.log(`   OAuth Token: POST /api/sso/oauth2/token -> ${res.status}`);\r\n    assert(res.status === 200 || res.status === 400, `Got ${res.status}`);\r\n    console.log('   âœ… PASS');\r\n  },\r\n\r\n  // Logout Tests\r\n  'Logout': async () => {\r\n    const res = await makeRequest('POST', '/logout');\r\n    console.log(`   Logout: POST /api/sso/logout -> ${res.status}`);\r\n    assert(res.status === 200 || res.status === 401, `Expected 200/401, got ${res.status}`);\r\n    console.log('   âœ… PASS');\r\n  },\r\n\r\n  'Logout All': async () => {\r\n    const res = await makeRequest('POST', '/logout-all');\r\n    console.log(`   Logout All: POST /api/sso/logout-all -> ${res.status}`);\r\n    assert(res.status === 200 || res.status === 401, `Expected 200/401, got ${res.status}`);\r\n    console.log('   âœ… PASS');\r\n  }\r\n};\r\n\r\n// Run tests\r\nasync function runTests() {\r\n  console.log('\\nðŸ§ª SSO E2E Test Suite');\r\n  console.log('â•'.repeat(50));\r\n  \r\n  let passed = 0;\r\n  let failed = 0;\r\n  const results = [];\r\n\r\n  for (const [testName, testFn] of Object.entries(tests)) {\r\n    try {\r\n      console.log(`\\nðŸ“‹ ${testName}`);\r\n      await testFn();\r\n      passed++;\r\n      results.push({ name: testName, status: 'PASS' });\r\n    } catch (err) {\r\n      console.log(`   âŒ FAIL: ${err.message}`);\r\n      failed++;\r\n      results.push({ name: testName, status: 'FAIL', error: err.message });\r\n    }\r\n  }\r\n\r\n  // Summary\r\n  console.log('\\n' + 'â•'.repeat(50));\r\n  console.log('\\nðŸ“Š Test Results Summary');\r\n  console.log(`âœ… Passed: ${passed}`);\r\n  console.log(`âŒ Failed: ${failed}`);\r\n  console.log(`ðŸ“ˆ Total: ${passed + failed}`);\r\n  console.log(`ðŸ“Š Success Rate: ${((passed / (passed + failed)) * 100).toFixed(1)}%\\n`);\r\n\r\n  // Detailed results\r\n  console.log('Detailed Results:');\r\n  results.forEach(r => {\r\n    const icon = r.status === 'PASS' ? 'âœ…' : 'âŒ';\r\n    console.log(`  ${icon} ${r.name}: ${r.status}${r.error ? ` - ${r.error}` : ''}`);\r\n  });\r\n\r\n  process.exit(failed > 0 ? 1 : 0);\r\n}\r\n\r\n// Run tests after short delay to ensure server is ready\r\nsetTimeout(runTests, 1000);\r\n"],"mappings":"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","ignoreList":[]}