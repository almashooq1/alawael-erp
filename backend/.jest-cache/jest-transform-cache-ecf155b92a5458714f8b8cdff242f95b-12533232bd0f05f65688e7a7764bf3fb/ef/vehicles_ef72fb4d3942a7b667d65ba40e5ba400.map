{"version":3,"names":["express","require","router","Router","VehicleController","protect","authorize","post","createVehicle","get","getAllVehicles","listVehicleStatistics","getLowFuelVehicles","findNearbyVehicles","findAvailableVehicles","getVehicleById","put","updateVehicle","delete","deleteVehicle","patch","updateGPS","addMaintenanceRecord","addEmergencyAlert","updateFuel","getVehicleStatistics","assignDriver","module","exports"],"sources":["vehicles.js"],"sourcesContent":["/**\r\n * Vehicle Routes - مسارات API للمركبات\r\n */\r\n\r\nconst express = require('express');\r\nconst router = express.Router();\r\nconst VehicleController = require('../controllers/vehicle.controller');\r\nconst { protect, authorize } = require('../middleware/auth');\r\n\r\n// ========== مسارات عامة ==========\r\n\r\n/**\r\n * @route   POST /api/vehicles\r\n * @desc    إنشاء مركبة جديدة\r\n * @access  Private (Admin, Manager)\r\n */\r\nrouter.post('/', protect, authorize('admin', 'manager'), VehicleController.createVehicle);\r\n\r\n/**\r\n * @route   GET /api/vehicles\r\n * @desc    جلب جميع المركبات\r\n * @access  Private\r\n */\r\nrouter.get('/', protect, VehicleController.getAllVehicles);\r\n\r\n/**\r\n * @route   GET /api/vehicles/statistics\r\n * @desc    جلب إحصائيات المركبات\r\n * @access  Private\r\n */\r\nrouter.get('/statistics', protect, VehicleController.listVehicleStatistics);\r\n\r\n/**\r\n * @route   GET /api/vehicles/low-fuel\r\n * @desc    جلب المركبات منخفضة الوقود\r\n * @access  Private\r\n */\r\nrouter.get('/low-fuel', protect, VehicleController.getLowFuelVehicles);\r\n\r\n/**\r\n * @route   GET /api/vehicles/nearby\r\n * @desc    البحث عن مركبات قريبة\r\n * @access  Private\r\n */\r\nrouter.get('/nearby', protect, VehicleController.findNearbyVehicles);\r\n\r\n/**\r\n * @route   GET /api/vehicles/available\r\n * @desc    البحث عن مركبات متاحة\r\n * @access  Private\r\n */\r\nrouter.get('/available', protect, VehicleController.findAvailableVehicles);\r\n\r\n/**\r\n * @route   GET /api/vehicles/:id\r\n * @desc    جلب مركبة بواسطة ID\r\n * @access  Private\r\n */\r\nrouter.get('/:id', protect, VehicleController.getVehicleById);\r\n\r\n/**\r\n * @route   PUT /api/vehicles/:id\r\n * @desc    تحديث مركبة\r\n * @access  Private (Admin, Manager)\r\n */\r\nrouter.put('/:id', protect, authorize('admin', 'manager'), VehicleController.updateVehicle);\r\n\r\n/**\r\n * @route   DELETE /api/vehicles/:id\r\n * @desc    حذف مركبة\r\n * @access  Private (Admin, Manager)\r\n */\r\nrouter.delete('/:id', protect, authorize('admin', 'manager'), VehicleController.deleteVehicle);\r\n\r\n// ========== مسارات GPS ==========\r\n\r\n/**\r\n * @route   PATCH /api/vehicles/:id/gps\r\n * @desc    تحديث موقع GPS للمركبة\r\n * @access  Private (Driver, Manager, Admin)\r\n */\r\nrouter.patch('/:id/gps', protect, authorize('driver', 'manager', 'admin'), VehicleController.updateGPS);\r\n\r\n// ========== مسارات الصيانة ==========\r\n\r\n/**\r\n * @route   POST /api/vehicles/:id/maintenance\r\n * @desc    إضافة سجل صيانة\r\n * @access  Private (Manager, Admin)\r\n */\r\nrouter.post('/:id/maintenance', protect, authorize('manager', 'admin'), VehicleController.addMaintenanceRecord);\r\n\r\n// ========== مسارات الطوارئ ==========\r\n\r\n/**\r\n * @route   POST /api/vehicles/:id/emergency\r\n * @desc    إضافة إنذار طوارئ\r\n * @access  Private (Driver, Manager, Admin)\r\n */\r\nrouter.post('/:id/emergency', protect, authorize('driver', 'manager', 'admin'), VehicleController.addEmergencyAlert);\r\n\r\n// ========== مسارات الوقود ==========\r\n\r\n/**\r\n * @route   POST /api/vehicles/:id/fuel\r\n * @desc    تحديث استهلاك الوقود\r\n * @access  Private (Driver, Manager, Admin)\r\n */\r\nrouter.post('/:id/fuel', protect, authorize('driver', 'manager', 'admin'), VehicleController.updateFuel);\r\n\r\n// ========== مسارات الإحصائيات ==========\r\n\r\n/**\r\n * @route   GET /api/vehicles/:id/statistics\r\n * @desc    جلب إحصائيات المركبة\r\n * @access  Private\r\n */\r\nrouter.get('/:id/statistics', protect, VehicleController.getVehicleStatistics);\r\n\r\n// ========== مسارات التعيين ==========\r\n\r\n/**\r\n * @route   POST /api/vehicles/:id/assign-driver\r\n * @desc    تعيين سائق للمركبة\r\n * @access  Private (Manager, Admin)\r\n */\r\nrouter.post('/:id/assign-driver', protect, authorize('manager', 'admin'), VehicleController.assignDriver);\r\n\r\nmodule.exports = router;\r\n"],"mappings":"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","ignoreList":[]}