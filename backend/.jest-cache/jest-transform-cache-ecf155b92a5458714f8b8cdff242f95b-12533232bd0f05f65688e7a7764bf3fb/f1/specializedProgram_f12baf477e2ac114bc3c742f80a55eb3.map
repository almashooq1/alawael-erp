{"version":3,"names":["mongoose","require","DISABILITY_TYPES","MOTOR","VISUAL","HEARING","INTELLECTUAL","DEVELOPMENTAL","COMMUNICATION","MULTIPLE","SEVERITY_LEVELS","MILD","MODERATE","SEVERE","PROFOUND","specializedProgramSchema","Schema","name","type","String","required","trim","example","code","unique","description","disabilityType","enum","Object","values","supportedSeverityLevels","ageGroup","min","Number","max","sessionConfig","standardDuration","default","minDuration","maxDuration","frequencyPerWeek","maxConcurrentParticipants","isGroupSession","Boolean","programGoals","goalId","Types","ObjectId","title","category","measurable","timeline","activities","activityId","difficulty","targetAreas","equipment","instructions","estimatedDuration","variations","requiredEquipment","equipmentName","quantity","alternatives","materials","materialId","url","language","qualifiedSpecialists","specialtyId","certifications","minExperience","eligibilityCriteria","minAge","maxAge","prerequisites","contraindicators","assessmentRequired","assessmentType","expectedOutcomes","isActive","status","pricing","costPerSession","currency","discountForPackage","packagePrice","packageSessions","statistics","totalBeneficiaries","totalSessions","successRate","averageOutcomeImprovement","specialNotes","createdBy","createdAt","Date","now","updatedBy","updatedAt","timestamps","collection","index","module","exports","model","schema"],"sources":["specializedProgram.js"],"sourcesContent":["/**\r\n * نموذج البرامج المتخصصة - Specialized Programs Model\r\n * يدير البرامج المختلفة حسب نوع الإعاقة والخدمات المقدمة\r\n */\r\n\r\nconst mongoose = require('mongoose');\r\n\r\n// أنواع الإعاقات المدعومة\r\nconst DISABILITY_TYPES = {\r\n  MOTOR: 'إعاقة حركية',\r\n  VISUAL: 'إعاقة بصرية',\r\n  HEARING: 'إعاقة سمعية',\r\n  INTELLECTUAL: 'إعاقة ذهنية',\r\n  DEVELOPMENTAL: 'اضطراب تطوري',\r\n  COMMUNICATION: 'اضطراب التواصل',\r\n  MULTIPLE: 'إعاقات متعددة',\r\n};\r\n\r\n// مستويات شدة الإعاقة\r\nconst SEVERITY_LEVELS = {\r\n  MILD: 'خفيفة',\r\n  MODERATE: 'متوسطة',\r\n  SEVERE: 'شديدة',\r\n  PROFOUND: 'عميقة',\r\n};\r\n\r\nconst specializedProgramSchema = new mongoose.Schema(\r\n  {\r\n    // المعلومات الأساسية\r\n    name: {\r\n      type: String,\r\n      required: true,\r\n      trim: true,\r\n      example: 'برنامج العلاج الطبيعي للإعاقة الحركية',\r\n    },\r\n\r\n    code: {\r\n      type: String,\r\n      required: true,\r\n      unique: true,\r\n      trim: true,\r\n      example: 'PROG-MOTOR-001',\r\n    },\r\n\r\n    description: String,\r\n\r\n    // تصنيف الإعاقة\r\n    disabilityType: {\r\n      type: String,\r\n      enum: Object.values(DISABILITY_TYPES),\r\n      required: true,\r\n    },\r\n\r\n    // مستويات الشدة المدعومة\r\n    supportedSeverityLevels: [\r\n      {\r\n        type: String,\r\n        enum: Object.values(SEVERITY_LEVELS),\r\n      },\r\n    ],\r\n\r\n    // الفئة العمرية\r\n    ageGroup: {\r\n      min: Number,\r\n      max: Number,\r\n    },\r\n\r\n    // معلومات الجلسات\r\n    sessionConfig: {\r\n      standardDuration: {\r\n        type: Number,\r\n        default: 60, // بالدقائق\r\n        description: 'مدة الجلسة القياسية',\r\n      },\r\n\r\n      minDuration: {\r\n        type: Number,\r\n        default: 30,\r\n      },\r\n\r\n      maxDuration: {\r\n        type: Number,\r\n        default: 120,\r\n      },\r\n\r\n      frequencyPerWeek: {\r\n        type: Number,\r\n        default: 2,\r\n        description: 'عدد الجلسات الأسبوعية الموصى به',\r\n      },\r\n\r\n      maxConcurrentParticipants: {\r\n        type: Number,\r\n        default: 1,\r\n      },\r\n\r\n      isGroupSession: {\r\n        type: Boolean,\r\n        default: false,\r\n      },\r\n    },\r\n\r\n    // الأهداف العامة للبرنامج\r\n    programGoals: [\r\n      {\r\n        goalId: mongoose.Schema.Types.ObjectId,\r\n        title: String,\r\n        description: String,\r\n        category: {\r\n          type: String,\r\n          enum: ['physical', 'cognitive', 'behavioral', 'communication', 'social'],\r\n        },\r\n        measurable: Boolean,\r\n        timeline: Number, // بالأسابيع\r\n      },\r\n    ],\r\n\r\n    // الأنشطة والتمارين المرتبطة بالبرنامج\r\n    activities: [\r\n      {\r\n        activityId: mongoose.Schema.Types.ObjectId,\r\n        name: String,\r\n        description: String,\r\n        difficulty: {\r\n          type: String,\r\n          enum: ['easy', 'medium', 'hard'],\r\n        },\r\n        targetAreas: [String],\r\n        equipment: [String],\r\n        instructions: String,\r\n        estimatedDuration: Number, // بالدقائق\r\n        variations: [String], // اختلافات التمرين\r\n      },\r\n    ],\r\n\r\n    // المعدات والأدوات المطلوبة\r\n    requiredEquipment: [\r\n      {\r\n        equipmentName: String,\r\n        quantity: Number,\r\n        description: String,\r\n        alternatives: [String],\r\n      },\r\n    ],\r\n\r\n    // المواد التعليمية والمراجع\r\n    materials: [\r\n      {\r\n        materialId: mongoose.Schema.Types.ObjectId,\r\n        title: String,\r\n        type: {\r\n          type: String,\r\n          enum: ['document', 'video', 'audio', 'image', 'interactive'],\r\n        },\r\n        url: String,\r\n        description: String,\r\n        language: String,\r\n      },\r\n    ],\r\n\r\n    // الأخصائيون المؤهلون\r\n    qualifiedSpecialists: [\r\n      {\r\n        specialtyId: mongoose.Schema.Types.ObjectId,\r\n        title: String,\r\n        certifications: [String],\r\n        minExperience: Number, // بالسنوات\r\n      },\r\n    ],\r\n\r\n    // معايير الأهلية والقبول\r\n    eligibilityCriteria: {\r\n      minAge: Number,\r\n      maxAge: Number,\r\n      prerequisites: [String],\r\n      contraindicators: [String],\r\n      assessmentRequired: Boolean,\r\n      assessmentType: String,\r\n    },\r\n\r\n    // الملاحظات والنتائج المتوقعة\r\n    expectedOutcomes: [String],\r\n\r\n    // الحالة والتفعيل\r\n    isActive: {\r\n      type: Boolean,\r\n      default: true,\r\n    },\r\n\r\n    status: {\r\n      type: String,\r\n      enum: ['draft', 'review', 'active', 'archived'],\r\n      default: 'active',\r\n    },\r\n\r\n    // التكاليف (إذا كانت مطلوبة)\r\n    pricing: {\r\n      costPerSession: Number,\r\n      currency: String,\r\n      discountForPackage: {\r\n        type: Number, // نسبة الخصم %\r\n        min: 0,\r\n        max: 100,\r\n      },\r\n      packagePrice: Number,\r\n      packageSessions: Number,\r\n    },\r\n\r\n    // البيانات الإحصائية\r\n    statistics: {\r\n      totalBeneficiaries: {\r\n        type: Number,\r\n        default: 0,\r\n      },\r\n      totalSessions: {\r\n        type: Number,\r\n        default: 0,\r\n      },\r\n      successRate: {\r\n        type: Number, // نسبة النجاح %\r\n        default: 0,\r\n      },\r\n      averageOutcomeImprovement: Number,\r\n    },\r\n\r\n    // الملاحظات والمتطلبات الخاصة\r\n    specialNotes: String,\r\n\r\n    createdBy: mongoose.Schema.Types.ObjectId,\r\n    createdAt: {\r\n      type: Date,\r\n      default: Date.now,\r\n    },\r\n\r\n    updatedBy: mongoose.Schema.Types.ObjectId,\r\n    updatedAt: {\r\n      type: Date,\r\n      default: Date.now,\r\n    },\r\n  },\r\n  {\r\n    timestamps: true,\r\n    collection: 'specializedPrograms',\r\n  }\r\n);\r\n\r\n// الفهارس لتحسين الأداء\r\nspecializedProgramSchema.index({ disabilityType: 1 });\r\nspecializedProgramSchema.index({ isActive: 1 });\r\nspecializedProgramSchema.index({ 'sessionConfig.frequencyPerWeek': 1 });\r\n\r\nmodule.exports = {\r\n  model: mongoose.model('SpecializedProgram', specializedProgramSchema),\r\n  schema: specializedProgramSchema,\r\n  DISABILITY_TYPES,\r\n  SEVERITY_LEVELS,\r\n};\r\n"],"mappings":"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","ignoreList":[]}