{"version":3,"names":["logger","require","AIInsightsService","constructor","anomalies","insights","predictions","Map","patterns","correlations","detectAnomalies","metric","dataPoints","length","values","map","d","value","mean","reduce","a","b","variance","Math","pow","stdDev","sqrt","forEach","index","zScore","abs","push","timestamp","toFixed","severity","message","analyzeTrend","trend","n","sumX","sumY","sumXY","sumX2","i","slope","strength","firstValue","lastValue","trendPercent","parseFloat","direction","hasSignificantChange","generateInsights","kpiId","kpiData","type","name","recommendation","details","slice","currentValue","current","target","gap","gapPercent","recentValues","recentMean","recentVariance","volatility","predictFutureValue","periods","alpha","forecast","period","predictedValue","round","confidence","method","lastObservedValue","averagePrediction","detectPatterns","periodLength","weeklyPattern","periodValues","j","avg","day","averageValue","maxDay","max","p","minDay","min","peakDay","peakValue","lowDay","lowValue","variation","analyzeCorrelations","kpi1Values","kpi2Values","mean1","mean2","numerator","denominator1","denominator2","diff1","diff2","correlation","isSignificant","generateRecommendations","recommendations","insight","priority","action","estimatedImpact","ceil","generateAISummary","kpis","summary","Date","totalKPIs","analysisStatus","keyFindings","alerts","criticalCount","warningCount","allRecommendations","kpi","id","history","recs","finding","filter","k","generateExecutiveBriefing","aiSummary","title","date","criticalIssues","f","optionsApproval","keyInsights","topRecommendations","predictedOutcome","generateOutcomePrediction","riskAssessment","assessRisks","totalConfidence","pred","parseInt","overallConfidence","risks","riskLevel","recoveryTime","mitigation","totalRisks","highRisks","r","mediumRisks","module","exports"],"sources":["aiInsightsService.js"],"sourcesContent":["/**\r\n * AI-Powered Insights Service\r\n * Intelligent analysis, anomaly detection, and recommendations\r\n * \r\n * Features:\r\n * - Anomaly detection in KPIs\r\n * - Predictive analytics\r\n * - Smart recommendations\r\n * - Pattern recognition\r\n * - Seasonal analysis\r\n * - Correlation analysis\r\n * - Auto-generated insights\r\n */\r\n\r\nconst logger = require('../utils/logger');\r\n\r\nclass AIInsightsService {\r\n  constructor() {\r\n    this.anomalies = [];\r\n    this.insights = [];\r\n    this.predictions = new Map();\r\n    this.patterns = new Map();\r\n    this.correlations = [];\r\n  }\r\n\r\n  /**\r\n   * Detect anomalies in metric data\r\n   */\r\n  detectAnomalies(metric, dataPoints = []) {\r\n    if (dataPoints.length < 3) {\r\n      return [];\r\n    }\r\n\r\n    const anomalies = [];\r\n    const values = dataPoints.map(d => d.value);\r\n    \r\n    // Calculate mean and standard deviation\r\n    const mean = values.reduce((a, b) => a + b, 0) / values.length;\r\n    const variance = values.reduce((a, b) => a + Math.pow(b - mean, 2), 0) / values.length;\r\n    const stdDev = Math.sqrt(variance);\r\n\r\n    // Find anomalies (values outside 2 standard deviations)\r\n    values.forEach((value, index) => {\r\n      const zScore = Math.abs((value - mean) / stdDev);\r\n      \r\n      if (zScore > 2) {\r\n        anomalies.push({\r\n          timestamp: dataPoints[index].timestamp,\r\n          value,\r\n          zScore: zScore.toFixed(2),\r\n          severity: zScore > 3 ? 'critical' : 'warning',\r\n          message: `Unusual value detected: ${value} (${zScore.toFixed(2)}Ïƒ from mean)`,\r\n        });\r\n      }\r\n    });\r\n\r\n    return anomalies;\r\n  }\r\n\r\n  /**\r\n   * Analyze trends in data\r\n   */\r\n  analyzeTrend(dataPoints = []) {\r\n    if (dataPoints.length < 2) {\r\n      return { trend: 'insufficient_data' };\r\n    }\r\n\r\n    const values = dataPoints.map(d => d.value);\r\n    const n = values.length;\r\n\r\n    // Simple linear regression\r\n    let sumX = 0, sumY = 0, sumXY = 0, sumX2 = 0;\r\n    \r\n    for (let i = 0; i < n; i++) {\r\n      sumX += i;\r\n      sumY += values[i];\r\n      sumXY += i * values[i];\r\n      sumX2 += i * i;\r\n    }\r\n\r\n    const slope = (n * sumXY - sumX * sumY) / (n * sumX2 - sumX * sumX);\r\n    const trend = slope > 0.01 ? 'increasing' : slope < -0.01 ? 'decreasing' : 'stable';\r\n    const strength = Math.abs(slope);\r\n\r\n    // Calculate trend percentage\r\n    const firstValue = values[0];\r\n    const lastValue = values[n - 1];\r\n    const trendPercent = ((lastValue - firstValue) / firstValue * 100).toFixed(2);\r\n\r\n    return {\r\n      trend,\r\n      strength: strength.toFixed(3),\r\n      trendPercent: parseFloat(trendPercent),\r\n      direction: slope > 0 ? 'upward' : 'downward',\r\n      hasSignificantChange: Math.abs(parseFloat(trendPercent)) > 5,\r\n    };\r\n  }\r\n\r\n  /**\r\n   * Generate intelligent insights from data\r\n   */\r\n  generateInsights(kpiId, kpiData, dataPoints = []) {\r\n    const insights = [];\r\n    const trend = this.analyzeTrend(dataPoints);\r\n    const anomalies = this.detectAnomalies(kpiData, dataPoints);\r\n\r\n    // Trend-based insights\r\n    if (trend.trend === 'increasing' && trend.strength > 0.01) {\r\n      insights.push({\r\n        type: 'positive',\r\n        severity: 'info',\r\n        message: `${kpiData.name} shows positive trend with ${trend.trendPercent}% change`,\r\n        recommendation: 'Continue current strategy',\r\n      });\r\n    } else if (trend.trend === 'decreasing' && trend.strength > 0.01) {\r\n      insights.push({\r\n        type: 'negative',\r\n        severity: 'warning',\r\n        message: `${kpiData.name} shows negative trend with ${trend.trendPercent}% decline`,\r\n        recommendation: 'Review current operations and identify improvement areas',\r\n      });\r\n    }\r\n\r\n    // Anomaly-based insights\r\n    if (anomalies.length > 0) {\r\n      insights.push({\r\n        type: 'anomaly',\r\n        severity: anomalies[0].severity,\r\n        message: `Detected ${anomalies.length} anomaly(ies) in recent data`,\r\n        details: anomalies.slice(0, 3),\r\n        recommendation: 'Investigate unusual values and update monitoring thresholds',\r\n      });\r\n    }\r\n\r\n    // Performance gap insights\r\n    const currentValue = kpiData.current;\r\n    const target = kpiData.target;\r\n    const gap = target - currentValue;\r\n    const gapPercent = (gap / target * 100);\r\n\r\n    if (gap > 0 && gapPercent > 10) {\r\n      insights.push({\r\n        type: 'gap',\r\n        severity: gapPercent > 20 ? 'critical' : 'warning',\r\n        message: `Performance gap of ${gapPercent.toFixed(1)}% from target`,\r\n        gap,\r\n        recommendation: `Close the gap by improving at least ${(gap / dataPoints.length || gap / 4).toFixed(0)} per period`,\r\n      });\r\n    }\r\n\r\n    // Volatility analysis\r\n    if (dataPoints.length > 5) {\r\n      const recentValues = dataPoints.slice(-5).map(d => d.value);\r\n      const recentMean = recentValues.reduce((a, b) => a + b) / recentValues.length;\r\n      const recentVariance = recentValues.reduce((a, b) => a + Math.pow(b - recentMean, 2)) / recentValues.length;\r\n      const volatility = Math.sqrt(recentVariance);\r\n\r\n      if (volatility > currentValue * 0.1) {\r\n        insights.push({\r\n          type: 'volatility',\r\n          severity: 'warning',\r\n          message: `High volatility detected (${volatility.toFixed(0)} variation)`,\r\n          recommendation: 'Stabilize processes and reduce variability',\r\n        });\r\n      }\r\n    }\r\n\r\n    return insights;\r\n  }\r\n\r\n  /**\r\n   * Predict future KPI values\r\n   */\r\n  predictFutureValue(dataPoints = [], periods = 4) {\r\n    if (dataPoints.length < 3) {\r\n      return null;\r\n    }\r\n\r\n    const values = dataPoints.map(d => d.value);\r\n    const n = values.length;\r\n\r\n    // Simple exponential smoothing\r\n    let alpha = 0.3;\r\n    let forecast = values[n - 1];\r\n    const predictions = [];\r\n\r\n    // Calculate suitable alpha\r\n    if (n > 10) {\r\n      alpha = 0.2;\r\n    } else if (n > 20) {\r\n      alpha = 0.15;\r\n    }\r\n\r\n    // Generate forecasts\r\n    for (let i = 1; i <= periods; i++) {\r\n      forecast = alpha * values[n - 1] + (1 - alpha) * forecast;\r\n      predictions.push({\r\n        period: i,\r\n        predictedValue: Math.round(forecast),\r\n        confidence: (95 - (i * 3)).toFixed(0), // Decreasing confidence\r\n      });\r\n    }\r\n\r\n    return {\r\n      method: 'exponential_smoothing',\r\n      lastObservedValue: values[n - 1],\r\n      predictions,\r\n      averagePrediction: Math.round(predictions.reduce((a, b) => a + b.predictedValue, 0) / predictions.length),\r\n    };\r\n  }\r\n\r\n  /**\r\n   * Detect patterns in data\r\n   */\r\n  detectPatterns(dataPoints = [], periodLength = 7) {\r\n    if (dataPoints.length < periodLength * 2) {\r\n      return [];\r\n    }\r\n\r\n    const patterns = [];\r\n    const values = dataPoints.map(d => d.value);\r\n\r\n    // Weekly pattern detection\r\n    const weeklyPattern = [];\r\n    for (let i = 0; i < periodLength; i++) {\r\n      const periodValues = [];\r\n      for (let j = i; j < values.length; j += periodLength) {\r\n        periodValues.push(values[j]);\r\n      }\r\n      const avg = periodValues.reduce((a, b) => a + b) / periodValues.length;\r\n      weeklyPattern.push({ day: i, averageValue: avg });\r\n    }\r\n\r\n    // Find peak and low days\r\n    const maxDay = weeklyPattern.reduce((max, p) => p.averageValue > max.averageValue ? p : max);\r\n    const minDay = weeklyPattern.reduce((min, p) => p.averageValue < min.averageValue ? p : min);\r\n\r\n    patterns.push({\r\n      type: 'weekly',\r\n      peakDay: maxDay.day,\r\n      peakValue: maxDay.averageValue,\r\n      lowDay: minDay.day,\r\n      lowValue: minDay.averageValue,\r\n      variation: ((maxDay.averageValue - minDay.averageValue) / minDay.averageValue * 100).toFixed(1),\r\n    });\r\n\r\n    return patterns;\r\n  }\r\n\r\n  /**\r\n   * Analyze correlations between KPIs\r\n   */\r\n  analyzeCorrelations(kpi1Values = [], kpi2Values = []) {\r\n    if (kpi1Values.length < 2 || kpi2Values.length < 2 || kpi1Values.length !== kpi2Values.length) {\r\n      return null;\r\n    }\r\n\r\n    // Calculate Pearson correlation\r\n    const n = kpi1Values.length;\r\n    const mean1 = kpi1Values.reduce((a, b) => a + b) / n;\r\n    const mean2 = kpi2Values.reduce((a, b) => a + b) / n;\r\n\r\n    let numerator = 0;\r\n    let denominator1 = 0;\r\n    let denominator2 = 0;\r\n\r\n    for (let i = 0; i < n; i++) {\r\n      const diff1 = kpi1Values[i] - mean1;\r\n      const diff2 = kpi2Values[i] - mean2;\r\n      numerator += diff1 * diff2;\r\n      denominator1 += diff1 * diff1;\r\n      denominator2 += diff2 * diff2;\r\n    }\r\n\r\n    const correlation = numerator / Math.sqrt(denominator1 * denominator2);\r\n\r\n    return {\r\n      correlation: correlation.toFixed(3),\r\n      strength: Math.abs(correlation) > 0.7 ? 'strong' : Math.abs(correlation) > 0.4 ? 'moderate' : 'weak',\r\n      direction: correlation > 0 ? 'positive' : 'negative',\r\n      isSignificant: Math.abs(correlation) > 0.5,\r\n    };\r\n  }\r\n\r\n  /**\r\n   * Generate smart recommendations\r\n   */\r\n  generateRecommendations(kpiData, insights = [], trend = {}) {\r\n    const recommendations = [];\r\n\r\n    insights.forEach(insight => {\r\n      switch (insight.type) {\r\n        case 'negative':\r\n          recommendations.push({\r\n            priority: 'high',\r\n            action: 'Review and Optimize',\r\n            details: `The declining trend in ${kpiData.name} requires immediate review of underlying processes`,\r\n            estimatedImpact: `Potential recovery: ${Math.abs(insight.trendPercent * 2).toFixed(1)}% improvement possible`,\r\n          });\r\n          break;\r\n\r\n        case 'gap':\r\n          if (insight.gapPercent > 15) {\r\n            recommendations.push({\r\n              priority: 'high',\r\n              action: 'Increase Focus',\r\n              details: `Significant gap (${insight.gapPercent.toFixed(1)}%) from target requires focused effort`,\r\n              estimatedImpact: `Closing gap needs ${Math.ceil(insight.gap / 3)} per period improvement`,\r\n            });\r\n          }\r\n          break;\r\n\r\n        case 'volatility':\r\n          recommendations.push({\r\n            priority: 'medium',\r\n            action: 'Standardize Processes',\r\n            details: 'High volatility indicates inconsistent performance - standardize processes',\r\n            estimatedImpact: 'Reducing volatility could improve predictability and target achievement',\r\n          });\r\n          break;\r\n\r\n        case 'anomaly':\r\n          recommendations.push({\r\n            priority: 'medium',\r\n            action: 'Investigate',\r\n            details: 'Unusual data patterns detected - investigate root causes',\r\n          });\r\n          break;\r\n      }\r\n    });\r\n\r\n    return recommendations.slice(0, 5);\r\n  }\r\n\r\n  /**\r\n   * Generate AI-powered dashboard summary\r\n   */\r\n  generateAISummary(kpis = []) {\r\n    const summary = {\r\n      timestamp: new Date(),\r\n      totalKPIs: kpis.length,\r\n      analysisStatus: 'complete',\r\n      keyFindings: [],\r\n      recommendations: [],\r\n      alerts: [],\r\n    };\r\n\r\n    // Analyze all KPIs\r\n    let criticalCount = 0;\r\n    let warningCount = 0;\r\n    const allRecommendations = [];\r\n\r\n    kpis.forEach(kpi => {\r\n      const insights = this.generateInsights(kpi.id, kpi, kpi.history || []);\r\n      const predictions = this.predictFutureValue(kpi.history || []);\r\n\r\n      insights.forEach(insight => {\r\n        if (insight.severity === 'critical') criticalCount++;\r\n        if (insight.severity === 'warning') warningCount++;\r\n      });\r\n\r\n      const recs = this.generateRecommendations(kpi, insights);\r\n      allRecommendations.push(...recs);\r\n    });\r\n\r\n    summary.keyFindings = [\r\n      { finding: `${criticalCount} Critical Issues`, severity: 'high' },\r\n      { finding: `${warningCount} Warnings`, severity: 'medium' },\r\n      { finding: `${kpis.filter(k => k.trend === 'up').length} Positive Trends`, severity: 'info' },\r\n    ];\r\n\r\n    summary.recommendations = allRecommendations.slice(0, 10);\r\n\r\n    return summary;\r\n  }\r\n\r\n  /**\r\n   * Generate executive briefing\r\n   */\r\n  generateExecutiveBriefing(kpis = []) {\r\n    const aiSummary = this.generateAISummary(kpis);\r\n\r\n    return {\r\n      title: 'AI-Generated Executive Briefing',\r\n      date: new Date(),\r\n      summary: {\r\n        totalKPIs: aiSummary.totalKPIs,\r\n        criticalIssues: aiSummary.keyFindings.filter(f => f.severity === 'high').length,\r\n        optionsApproval: aiSummary.keyFindings.filter(f => f.severity === 'medium').length,\r\n      },\r\n      keyInsights: aiSummary.keyFindings,\r\n      topRecommendations: aiSummary.recommendations.slice(0, 5),\r\n      predictedOutcome: this.generateOutcomePrediction(kpis),\r\n      riskAssessment: this.assessRisks(kpis),\r\n    };\r\n  }\r\n\r\n  /**\r\n   * Generate outcome predictions\r\n   */\r\n  generateOutcomePrediction(kpis = []) {\r\n    const predictions = [];\r\n    let totalConfidence = 0;\r\n\r\n    kpis.forEach(kpi => {\r\n      if (kpi.history && kpi.history.length > 3) {\r\n        const pred = this.predictFutureValue(kpi.history, 4);\r\n        if (pred) {\r\n          predictions.push({\r\n            kpi: kpi.name,\r\n            currentValue: kpi.current,\r\n            predictedValue: pred.averagePrediction,\r\n            trend: kpi.current < pred.averagePrediction ? 'will improve' : 'will decline',\r\n            confidence: parseInt(pred.predictions[0].confidence),\r\n          });\r\n          totalConfidence += parseInt(pred.predictions[0].confidence);\r\n        }\r\n      }\r\n    });\r\n\r\n    return {\r\n      period: 'next_4_periods',\r\n      predictions: predictions.slice(0, 5),\r\n      overallConfidence: Math.round(totalConfidence / predictions.length) || 0,\r\n      recommendation: totalConfidence / predictions.length > 75 ? 'Trust predictions for planning' : 'Gather more data for reliable predictions',\r\n    };\r\n  }\r\n\r\n  /**\r\n   * Assess risks in KPI performance\r\n   */\r\n  assessRisks(kpis = []) {\r\n    const risks = [];\r\n\r\n    kpis.forEach(kpi => {\r\n      const variance = ((kpi.current - kpi.target) / kpi.target) * 100;\r\n\r\n      if (variance < -10) {\r\n        risks.push({\r\n          kpi: kpi.name,\r\n          riskLevel: 'high',\r\n          gap: Math.abs(variance).toFixed(1),\r\n          recoveryTime: Math.ceil(Math.abs(variance) / 2),\r\n          mitigation: `Implement corrective actions to close ${Math.abs(variance).toFixed(1)}% gap`,\r\n        });\r\n      } else if (variance < -5) {\r\n        risks.push({\r\n          kpi: kpi.name,\r\n          riskLevel: 'medium',\r\n          gap: Math.abs(variance).toFixed(1),\r\n          recoveryTime: Math.ceil(Math.abs(variance) / 3),\r\n          mitigation: `Monitor closely and prepare contingency plans`,\r\n        });\r\n      }\r\n    });\r\n\r\n    return {\r\n      totalRisks: risks.length,\r\n      highRisks: risks.filter(r => r.riskLevel === 'high').length,\r\n      mediumRisks: risks.filter(r => r.riskLevel === 'medium').length,\r\n      details: risks.slice(0, 5),\r\n    };\r\n  }\r\n}\r\n\r\nmodule.exports = new AIInsightsService();\r\n"],"mappings":"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","ignoreList":[]}