{"version":3,"names":["express","require","router","Router","IntegrationHubController","requireAuth","requireTenant","post","registerConnector","authenticateConnector","get","getConnectors","getConnector","createWorkflow","executeWorkflow","registerWebhook","triggerWebhook","publishApp","getMarketplaceApps","subscribeToApp","getStatistics","module","exports"],"sources":["integrationHub.routes.js"],"sourcesContent":["/**\n * Integration Hub Routes\n * Routes for managing integrations, workflows, webhooks, and marketplace\n */\n\nconst express = require('express');\nconst router = express.Router();\nconst IntegrationHubController = require('../controllers/integrationHub.controller');\nconst { requireAuth, requireTenant } = require('../middleware/auth');\n\n/**\n * ========== CONNECTORS ROUTES ==========\n */\n\n/**\n * @route   POST /api/integrations/connectors/register\n * @desc    Register a new integration connector\n * @access  Private (Tenant Admin)\n * @param   {string} connectorId - Unique connector identifier\n * @param   {string} name - Connector display name\n * @param   {string} provider - Provider name (zapier, slack, etc.)\n * @param   {string} [baseUrl] - API base URL\n * @param   {object} [config] - Connector configuration\n * @return  {object} Connector object\n */\nrouter.post(\n  '/connectors/register',\n  requireAuth,\n  requireTenant,\n  IntegrationHubController.registerConnector\n);\n\n/**\n * @route   POST /api/integrations/connectors/:connectorId/authenticate\n * @desc    Authenticate connector with credentials\n * @access  Private (Tenant Admin)\n * @param   {string} connectorId - Connector ID to authenticate\n * @body    {string} [apiKey] - API key credential\n * @body    {string} [apiSecret] - API secret\n * @body    {string} [accessToken] - OAuth access token\n * @body    {string} [refreshToken] - OAuth refresh token\n * @return  {object} Credential information\n */\nrouter.post(\n  '/connectors/:connectorId/authenticate',\n  requireAuth,\n  requireTenant,\n  IntegrationHubController.authenticateConnector\n);\n\n/**\n * @route   GET /api/integrations/connectors\n * @desc    Get all available connectors\n * @access  Private\n * @return  {array} Array of connector objects\n */\nrouter.get('/connectors', requireAuth, IntegrationHubController.getConnectors);\n\n/**\n * @route   GET /api/integrations/connectors/:connectorId\n * @desc    Get specific connector details\n * @access  Private\n * @param   {string} connectorId - Connector ID\n * @return  {object} Connector details\n */\nrouter.get('/connectors/:connectorId', requireAuth, IntegrationHubController.getConnector);\n\n/**\n * ========== WORKFLOWS ROUTES ==========\n */\n\n/**\n * @route   POST /api/integrations/workflows\n * @desc    Create a new workflow\n * @access  Private (Tenant User)\n * @param   {string} name - Workflow name\n * @param   {object} trigger - Trigger configuration\n * @param   {array} [actions] - Array of actions to execute\n * @param   {array} [conditions] - Conditional logic\n * @return  {object} Created workflow\n * @example\n * {\n *   \"name\": \"Slack Alert on New Order\",\n *   \"trigger\": {\n *     \"connectorId\": \"shopify\",\n *     \"event\": \"order.created\"\n *   },\n *   \"actions\": [\n *     {\n *       \"connectorId\": \"slack\",\n *       \"type\": \"send_message\",\n *       \"data\": { \"channel\": \"#orders\", \"text\": \"New order created\" }\n *     }\n *   ]\n * }\n */\nrouter.post(\n  '/workflows',\n  requireAuth,\n  requireTenant,\n  IntegrationHubController.createWorkflow\n);\n\n/**\n * @route   POST /api/integrations/workflows/:workflowId/execute\n * @desc    Execute a workflow\n * @access  Private (Tenant User)\n * @param   {string} workflowId - Workflow ID\n * @body    {object} triggerData - Data to pass to workflow\n * @return  {object} Execution result\n */\nrouter.post(\n  '/workflows/:workflowId/execute',\n  requireAuth,\n  requireTenant,\n  IntegrationHubController.executeWorkflow\n);\n\n/**\n * ========== WEBHOOKS ROUTES ==========\n */\n\n/**\n * @route   POST /api/integrations/webhooks/register\n * @desc    Register a webhook endpoint\n * @access  Private (Tenant Admin)\n * @param   {string} connectorId - Connector ID\n * @param   {string} webhookUrl - URL to receive webhook events\n * @param   {array} [events] - Array of events to subscribe to\n * @return  {object} Webhook registration details\n */\nrouter.post(\n  '/webhooks/register',\n  requireAuth,\n  requireTenant,\n  IntegrationHubController.registerWebhook\n);\n\n/**\n * @route   POST /api/integrations/webhooks/:webhookId/trigger\n * @desc    Trigger a webhook (for testing)\n * @access  Private\n * @param   {string} webhookId - Webhook ID\n * @body    {object} - Webhook payload data\n * @return  {object} Trigger result\n */\nrouter.post(\n  '/webhooks/:webhookId/trigger',\n  requireAuth,\n  IntegrationHubController.triggerWebhook\n);\n\n/**\n * ========== MARKETPLACE ROUTES ==========\n */\n\n/**\n * @route   POST /api/integrations/marketplace/apps\n * @desc    Publish a new app to marketplace\n * @access  Private (Developer/Admin)\n * @param   {string} name - App name\n * @param   {string} author - App author email\n * @param   {string} category - App category (productivity, communication, ecommerce, etc.)\n * @param   {string} [description] - App description\n * @param   {string} [version] - Semantic version\n * @param   {object} [pricing] - Pricing information\n * @param   {array} [features] - App features list\n * @return  {object} Published app details\n */\nrouter.post(\n  '/marketplace/apps',\n  requireAuth,\n  IntegrationHubController.publishApp\n);\n\n/**\n * @route   GET /api/integrations/marketplace/apps\n * @desc    Get marketplace apps with filtering\n * @access  Public\n * @query   {string} [category] - Filter by category\n * @query   {string} [pricing] - Filter by pricing (free, premium, enterprise)\n * @query   {string} [search] - Search by name or description\n * @query   {number} [limit] - Limit number of results\n * @return  {array} Array of apps matching criteria\n */\nrouter.get('/marketplace/apps', IntegrationHubController.getMarketplaceApps);\n\n/**\n * @route   POST /api/integrations/marketplace/subscribe\n * @desc    Subscribe to a marketplace app\n * @access  Private (Tenant User)\n * @param   {string} appId - App ID to subscribe to\n * @param   {string} [plan] - Subscription plan (free, premium, enterprise)\n * @return  {object} Subscription details with API key\n */\nrouter.post(\n  '/marketplace/subscribe',\n  requireAuth,\n  requireTenant,\n  IntegrationHubController.subscribeToApp\n);\n\n/**\n * ========== STATISTICS ROUTES ==========\n */\n\n/**\n * @route   GET /api/integrations/statistics\n * @desc    Get integration hub statistics\n * @access  Private (Tenant Admin)\n * @return  {object} Statistics object containing:\n *          - totalConnectors: number\n *          - connectorsByStatus: object\n *          - totalWorkflows: number\n *          - activeWorkflows: number\n *          - totalExecutions: number\n *          - webhooksRegistered: number\n *          - marketplaceApps: number\n *          - totalSubscriptions: number\n */\nrouter.get(\n  '/statistics',\n  requireAuth,\n  requireTenant,\n  IntegrationHubController.getStatistics\n);\n\nmodule.exports = router;\n"],"mappings":"AAAA;AACA;AACA;AACA;;AAEA,MAAMA,OAAO,GAAGC,OAAO,CAAC,SAAS,CAAC;AAClC,MAAMC,MAAM,GAAGF,OAAO,CAACG,MAAM,CAAC,CAAC;AAC/B,MAAMC,wBAAwB,GAAGH,OAAO,CAAC,0CAA0C,CAAC;AACpF,MAAM;EAAEI,WAAW;EAAEC;AAAc,CAAC,GAAGL,OAAO,CAAC,oBAAoB,CAAC;;AAEpE;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACAC,MAAM,CAACK,IAAI,CACT,sBAAsB,EACtBF,WAAW,EACXC,aAAa,EACbF,wBAAwB,CAACI,iBAC3B,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACAN,MAAM,CAACK,IAAI,CACT,uCAAuC,EACvCF,WAAW,EACXC,aAAa,EACbF,wBAAwB,CAACK,qBAC3B,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACAP,MAAM,CAACQ,GAAG,CAAC,aAAa,EAAEL,WAAW,EAAED,wBAAwB,CAACO,aAAa,CAAC;;AAE9E;AACA;AACA;AACA;AACA;AACA;AACA;AACAT,MAAM,CAACQ,GAAG,CAAC,0BAA0B,EAAEL,WAAW,EAAED,wBAAwB,CAACQ,YAAY,CAAC;;AAE1F;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACAV,MAAM,CAACK,IAAI,CACT,YAAY,EACZF,WAAW,EACXC,aAAa,EACbF,wBAAwB,CAACS,cAC3B,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACAX,MAAM,CAACK,IAAI,CACT,gCAAgC,EAChCF,WAAW,EACXC,aAAa,EACbF,wBAAwB,CAACU,eAC3B,CAAC;;AAED;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACAZ,MAAM,CAACK,IAAI,CACT,oBAAoB,EACpBF,WAAW,EACXC,aAAa,EACbF,wBAAwB,CAACW,eAC3B,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACAb,MAAM,CAACK,IAAI,CACT,8BAA8B,EAC9BF,WAAW,EACXD,wBAAwB,CAACY,cAC3B,CAAC;;AAED;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACAd,MAAM,CAACK,IAAI,CACT,mBAAmB,EACnBF,WAAW,EACXD,wBAAwB,CAACa,UAC3B,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACAf,MAAM,CAACQ,GAAG,CAAC,mBAAmB,EAAEN,wBAAwB,CAACc,kBAAkB,CAAC;;AAE5E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACAhB,MAAM,CAACK,IAAI,CACT,wBAAwB,EACxBF,WAAW,EACXC,aAAa,EACbF,wBAAwB,CAACe,cAC3B,CAAC;;AAED;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACAjB,MAAM,CAACQ,GAAG,CACR,aAAa,EACbL,WAAW,EACXC,aAAa,EACbF,wBAAwB,CAACgB,aAC3B,CAAC;AAEDC,MAAM,CAACC,OAAO,GAAGpB,MAAM","ignoreList":[]}