{"version":3,"names":["Logger","require","successResponse","errorResponse","mobileDeviceManager","offlineSyncManager","pushNotificationOptimizer","mobileAnalyticsService","exports","registerDevice","req","res","deviceName","osType","osVersion","appVersion","model","manufacturer","pushToken","rest","body","device","userId","user","id","registerPushToken","platform","error","message","getUserDevices","devices","stats","getDeviceStats","trustDevice","deviceId","daysValid","untrustDevice","enableBiometric","biometricType","deleteDevice","params","getPendingOperations","query","operations","count","length","queueOperation","type","resource","resourceId","payload","priority","operation","syncOperations","results","getSyncStatus","status","resolveConflict","operationId","localData","remoteData","strategy","resolved","sendPushNotification","title","customData","action","notification","sendBatchNotifications","deviceIds","Array","isArray","deviceList","map","environment","token","testPushDelivery","result","getPushStats","getNotificationStats","startSession","networkType","locale","timezone","session","endSession","sessionId","trackEvent","category","label","value","screenName","customParams","event","logCrash","stack","severity","fatal","crash","getSessionStats","getUserAnalytics","days","analytics","parseInt","getCrashReport","filters","report","getPerformanceReport","metricName"],"sources":["mobileApp.controller.js"],"sourcesContent":["/**\r\n * Mobile App Backend Controller\r\n * متحكم تطبيق الهاتف المحمول\r\n * \r\n * Endpoints:\r\n * - Device Management\r\n * - Offline Sync\r\n * - Push Notifications\r\n * - Mobile Analytics\r\n */\r\n\r\nconst { Logger } = require('../utils/logger');\r\nconst { successResponse, errorResponse } = require('../utils/response');\r\n\r\nconst mobileDeviceManager = require('../services/mobileDeviceManager.service');\r\nconst offlineSyncManager = require('../services/offlineSyncManager.service');\r\nconst pushNotificationOptimizer = require('../services/pushNotificationOptimizer.service');\r\nconst mobileAnalyticsService = require('../services/mobileAnalytics.service');\r\n\r\n// ============================================================\r\n// Device Management\r\n// ============================================================\r\n\r\n/**\r\n * تسجيل جهاز محمول جديد\r\n * Register new mobile device\r\n */\r\nexports.registerDevice = async (req, res) => {\r\n  try {\r\n    const { deviceName, osType, osVersion, appVersion, model, manufacturer, pushToken, ...rest } =\r\n      req.body;\r\n\r\n    if (!osType || !appVersion) {\r\n      return errorResponse(res, 400, 'OS Type and App Version are required', 'en');\r\n    }\r\n\r\n    const device = mobileDeviceManager.registerDevice({\r\n      userId: req.user.id,\r\n      deviceName,\r\n      osType,\r\n      osVersion,\r\n      appVersion,\r\n      model,\r\n      manufacturer,\r\n      pushToken,\r\n      ...rest,\r\n    });\r\n\r\n    // Register push token immediately\r\n    if (pushToken) {\r\n      pushNotificationOptimizer.registerPushToken(req.user.id, device.id, pushToken, {\r\n        platform: osType,\r\n      });\r\n    }\r\n\r\n    return successResponse(res, 200, 'Device registered successfully', 'جهاز مسجل بنجاح', device);\r\n  } catch (error) {\r\n    Logger.error('Register device error:', error);\r\n    return errorResponse(res, 500, error.message, 'خطأ في تسجيل الجهاز');\r\n  }\r\n};\r\n\r\n/**\r\n * الحصول على أجهزة المستخدم\r\n * Get user devices\r\n */\r\nexports.getUserDevices = async (req, res) => {\r\n  try {\r\n    const devices = mobileDeviceManager.getUserDevices(req.user.id);\r\n    const stats = mobileDeviceManager.getDeviceStats(req.user.id);\r\n\r\n    return successResponse(\r\n      res,\r\n      200,\r\n      'Devices retrieved successfully',\r\n      'تم استرجاع الأجهزة بنجاح',\r\n      { devices, stats }\r\n    );\r\n  } catch (error) {\r\n    Logger.error('Get devices error:', error);\r\n    return errorResponse(res, 500, error.message, 'خطأ في الحصول على الأجهزة');\r\n  }\r\n};\r\n\r\n/**\r\n * الثقة في جهاز (المصادقة البيومترية)\r\n * Trust device for biometric auth\r\n */\r\nexports.trustDevice = async (req, res) => {\r\n  try {\r\n    const { deviceId, daysValid = 90 } = req.body;\r\n\r\n    if (!deviceId) {\r\n      return errorResponse(res, 400, 'Device ID is required', 'معرف الجهاز مطلوب');\r\n    }\r\n\r\n    const device = mobileDeviceManager.trustDevice(deviceId, daysValid);\r\n\r\n    return successResponse(res, 200, 'Device trusted', 'تم الثقة في الجهاز', device);\r\n  } catch (error) {\r\n    Logger.error('Trust device error:', error);\r\n    return errorResponse(res, 500, error.message, 'خطأ في تفعيل الثقة');\r\n  }\r\n};\r\n\r\n/**\r\n * إزالة الثقة من جهاز\r\n * Untrust device\r\n */\r\nexports.untrustDevice = async (req, res) => {\r\n  try {\r\n    const { deviceId } = req.body;\r\n\r\n    if (!deviceId) {\r\n      return errorResponse(res, 400, 'Device ID is required', 'معرف الجهاز مطلوب');\r\n    }\r\n\r\n    const device = mobileDeviceManager.untrustDevice(deviceId);\r\n\r\n    return successResponse(res, 200, 'Device untrusted', 'تم إزالة الثقة من الجهاز', device);\r\n  } catch (error) {\r\n    Logger.error('Untrust device error:', error);\r\n    return errorResponse(res, 500, error.message, 'خطأ في إزالة الثقة');\r\n  }\r\n};\r\n\r\n/**\r\n * تفعيل المصادقة البيومترية\r\n * Enable biometric authentication\r\n */\r\nexports.enableBiometric = async (req, res) => {\r\n  try {\r\n    const { deviceId, biometricType } = req.body;\r\n\r\n    if (!deviceId || !biometricType) {\r\n      return errorResponse(\r\n        res,\r\n        400,\r\n        'Device ID and biometric type are required',\r\n        'معرف الجهاز ونوع البيومتري مطلوبان'\r\n      );\r\n    }\r\n\r\n    const device = mobileDeviceManager.enableBiometric(deviceId, biometricType);\r\n\r\n    return successResponse(res, 200, 'Biometric enabled', 'تم تفعيل البيومتري', device);\r\n  } catch (error) {\r\n    Logger.error('Enable biometric error:', error);\r\n    return errorResponse(res, 500, error.message, 'خطأ في تفعيل البيومتري');\r\n  }\r\n};\r\n\r\n/**\r\n * حذف جهاز\r\n * Delete device\r\n */\r\nexports.deleteDevice = async (req, res) => {\r\n  try {\r\n    const { deviceId } = req.params;\r\n\r\n    mobileDeviceManager.deleteDevice(deviceId);\r\n\r\n    return successResponse(res, 200, 'Device deleted', 'تم حذف الجهاز');\r\n  } catch (error) {\r\n    Logger.error('Delete device error:', error);\r\n    return errorResponse(res, 500, error.message, 'خطأ في حذف الجهاز');\r\n  }\r\n};\r\n\r\n// ============================================================\r\n// Offline Sync Management\r\n// ============================================================\r\n\r\n/**\r\n * الحصول على العمليات المعلقة (بدون اتصال)\r\n * Get pending offline operations\r\n */\r\nexports.getPendingOperations = async (req, res) => {\r\n  try {\r\n    const { deviceId } = req.query;\r\n\r\n    if (!deviceId) {\r\n      return errorResponse(res, 400, 'Device ID is required', 'معرف الجهاز مطلوب');\r\n    }\r\n\r\n    const operations = offlineSyncManager.getPendingOperations(req.user.id, deviceId);\r\n\r\n    return successResponse(\r\n      res,\r\n      200,\r\n      'Pending operations retrieved',\r\n      'تم استرجاع العمليات المعلقة',\r\n      { operations, count: operations.length }\r\n    );\r\n  } catch (error) {\r\n    Logger.error('Get pending operations error:', error);\r\n    return errorResponse(res, 500, error.message, 'خطأ في الحصول على العمليات');\r\n  }\r\n};\r\n\r\n/**\r\n * إضافة عملية إلى قائمة الانتظار بدون اتصال\r\n * Queue offline operation\r\n */\r\nexports.queueOperation = async (req, res) => {\r\n  try {\r\n    const { deviceId, type, resource, resourceId, payload, priority } = req.body;\r\n\r\n    if (!deviceId || !type || !resource) {\r\n      return errorResponse(res, 400, 'Missing required fields', 'حقول مطلوبة ناقصة');\r\n    }\r\n\r\n    const operation = offlineSyncManager.queueOperation({\r\n      userId: req.user.id,\r\n      deviceId,\r\n      type,\r\n      resource,\r\n      resourceId,\r\n      payload,\r\n      priority,\r\n    });\r\n\r\n    return successResponse(\r\n      res,\r\n      200,\r\n      'Operation queued for sync',\r\n      'تمت إضافة العملية للمزامنة',\r\n      operation\r\n    );\r\n  } catch (error) {\r\n    Logger.error('Queue operation error:', error);\r\n    return errorResponse(res, 500, error.message, 'خطأ في إضافة العملية');\r\n  }\r\n};\r\n\r\n/**\r\n * مزامنة العمليات المعلقة\r\n * Sync pending operations\r\n */\r\nexports.syncOperations = async (req, res) => {\r\n  try {\r\n    const { deviceId } = req.body;\r\n\r\n    if (!deviceId) {\r\n      return errorResponse(res, 400, 'Device ID is required', 'معرف الجهاز مطلوب');\r\n    }\r\n\r\n    const results = await offlineSyncManager.syncOperations(req.user.id, deviceId);\r\n\r\n    return successResponse(res, 200, 'Sync completed', 'تمت المزامنة', results);\r\n  } catch (error) {\r\n    Logger.error('Sync operations error:', error);\r\n    return errorResponse(res, 500, error.message, 'خطأ في المزامنة');\r\n  }\r\n};\r\n\r\n/**\r\n * الحصول على حالة المزامنة\r\n * Get sync status\r\n */\r\nexports.getSyncStatus = async (req, res) => {\r\n  try {\r\n    const { deviceId } = req.query;\r\n\r\n    if (!deviceId) {\r\n      return errorResponse(res, 400, 'Device ID is required', 'معرف الجهاز مطلوب');\r\n    }\r\n\r\n    const status = offlineSyncManager.getSyncStatus(req.user.id, deviceId);\r\n\r\n    return successResponse(res, 200, 'Sync status retrieved', 'تم استرجاع حالة المزامنة', status);\r\n  } catch (error) {\r\n    Logger.error('Get sync status error:', error);\r\n    return errorResponse(res, 500, error.message, 'خطأ في الحصول على الحالة');\r\n  }\r\n};\r\n\r\n/**\r\n * حل تعارض في البيانات\r\n * Resolve data conflict\r\n */\r\nexports.resolveConflict = async (req, res) => {\r\n  try {\r\n    const { operationId, localData, remoteData, strategy } = req.body;\r\n\r\n    if (!operationId) {\r\n      return errorResponse(res, 400, 'Operation ID is required', 'معرف العملية مطلوب');\r\n    }\r\n\r\n    const resolved = offlineSyncManager.resolveConflict({\r\n      operationId,\r\n      localData,\r\n      remoteData,\r\n      strategy,\r\n    });\r\n\r\n    return successResponse(res, 200, 'Conflict resolved', 'تم حل التعارض', { resolved });\r\n  } catch (error) {\r\n    Logger.error('Resolve conflict error:', error);\r\n    return errorResponse(res, 500, error.message, 'خطأ في حل التعارض');\r\n  }\r\n};\r\n\r\n// ============================================================\r\n// Push Notifications\r\n// ============================================================\r\n\r\n/**\r\n * إرسال إشعار دفع\r\n * Send push notification\r\n */\r\nexports.sendPushNotification = async (req, res) => {\r\n  try {\r\n    const { title, body, deviceId, priority, customData, action } = req.body;\r\n\r\n    if (!title || !body || !deviceId) {\r\n      return errorResponse(\r\n        res,\r\n        400,\r\n        'Title, body, and device ID are required',\r\n        'العنوان والمحتوى ومعرف الجهاز مطلوبة'\r\n      );\r\n    }\r\n\r\n    const notification = await pushNotificationOptimizer.sendPushNotification({\r\n      userId: req.user.id,\r\n      deviceId,\r\n      title,\r\n      body,\r\n      priority,\r\n      customData,\r\n      action,\r\n    });\r\n\r\n    return successResponse(\r\n      res,\r\n      200,\r\n      'Notification sent',\r\n      'تم إرسال الإشعار',\r\n      notification\r\n    );\r\n  } catch (error) {\r\n    Logger.error('Send push notification error:', error);\r\n    return errorResponse(res, 500, error.message, 'خطأ في إرسال الإشعار');\r\n  }\r\n};\r\n\r\n/**\r\n * إرسال إشعارات مجموعية\r\n * Send batch push notifications\r\n */\r\nexports.sendBatchNotifications = async (req, res) => {\r\n  try {\r\n    const { deviceIds, title, body, customData } = req.body;\r\n\r\n    if (!Array.isArray(deviceIds) || !title || !body) {\r\n      return errorResponse(\r\n        res,\r\n        400,\r\n        'Invalid batch notification data',\r\n        'بيانات الإشعارات غير صحيحة'\r\n      );\r\n    }\r\n\r\n    const deviceList = deviceIds.map(deviceId => ({\r\n      userId: req.user.id,\r\n      deviceId,\r\n    }));\r\n\r\n    const results = await pushNotificationOptimizer.sendBatchNotifications(deviceList, {\r\n      title,\r\n      body,\r\n      customData,\r\n    });\r\n\r\n    return successResponse(res, 200, 'Batch sent', 'تم إرسال الدفعة', results);\r\n  } catch (error) {\r\n    Logger.error('Send batch notifications error:', error);\r\n    return errorResponse(res, 500, error.message, 'خطأ في إرسال الدفعة');\r\n  }\r\n};\r\n\r\n/**\r\n * تسجيل رمز الإشعارات\r\n * Register push token\r\n */\r\nexports.registerPushToken = async (req, res) => {\r\n  try {\r\n    const { deviceId, pushToken, platform, environment } = req.body;\r\n\r\n    if (!deviceId || !pushToken) {\r\n      return errorResponse(\r\n        res,\r\n        400,\r\n        'Device ID and push token are required',\r\n        'معرف الجهاز والرمز مطلوبان'\r\n      );\r\n    }\r\n\r\n    const token = pushNotificationOptimizer.registerPushToken(req.user.id, deviceId, pushToken, {\r\n      platform,\r\n      environment,\r\n    });\r\n\r\n    return successResponse(res, 200, 'Token registered', 'تم تسجيل الرمز', token);\r\n  } catch (error) {\r\n    Logger.error('Register push token error:', error);\r\n    return errorResponse(res, 500, error.message, 'خطأ في التسجيل');\r\n  }\r\n};\r\n\r\n/**\r\n * اختبار إرسال الإشعارات\r\n * Test push notification delivery\r\n */\r\nexports.testPushDelivery = async (req, res) => {\r\n  try {\r\n    const { deviceId } = req.body;\r\n\r\n    if (!deviceId) {\r\n      return errorResponse(res, 400, 'Device ID is required', 'معرف الجهاز مطلوب');\r\n    }\r\n\r\n    const result = await pushNotificationOptimizer.testPushDelivery(req.user.id, deviceId);\r\n\r\n    return successResponse(res, 200, 'Test initiated', 'بدء الاختبار', result);\r\n  } catch (error) {\r\n    Logger.error('Test push delivery error:', error);\r\n    return errorResponse(res, 500, error.message, 'خطأ في الاختبار');\r\n  }\r\n};\r\n\r\n/**\r\n * الحصول على إحصائيات الإشعارات\r\n * Get push notification statistics\r\n */\r\nexports.getPushStats = async (req, res) => {\r\n  try {\r\n    const stats = pushNotificationOptimizer.getNotificationStats(req.user.id);\r\n\r\n    return successResponse(\r\n      res,\r\n      200,\r\n      'Push stats retrieved',\r\n      'تم استرجاع الإحصائيات',\r\n      stats\r\n    );\r\n  } catch (error) {\r\n    Logger.error('Get push stats error:', error);\r\n    return errorResponse(res, 500, error.message, 'خطأ في الإحصائيات');\r\n  }\r\n};\r\n\r\n// ============================================================\r\n// Mobile Analytics\r\n// ============================================================\r\n\r\n/**\r\n * بدء جلسة محمول\r\n * Start mobile session\r\n */\r\nexports.startSession = async (req, res) => {\r\n  try {\r\n    const { deviceId, appVersion, osVersion, networkType, locale, timezone } = req.body;\r\n\r\n    if (!deviceId || !appVersion || !osVersion) {\r\n      return errorResponse(\r\n        res,\r\n        400,\r\n        'Device ID, app version, and OS version are required',\r\n        'المعرف والإصدارات مطلوبة'\r\n      );\r\n    }\r\n\r\n    const session = mobileAnalyticsService.startSession(req.user.id, deviceId, {\r\n      appVersion,\r\n      osVersion,\r\n      networkType,\r\n      locale,\r\n      timezone,\r\n    });\r\n\r\n    return successResponse(res, 200, 'Session started', 'تمت بداية الجلسة', session);\r\n  } catch (error) {\r\n    Logger.error('Start session error:', error);\r\n    return errorResponse(res, 500, error.message, 'خطأ في بدء الجلسة');\r\n  }\r\n};\r\n\r\n/**\r\n * إنهاء جلسة\r\n * End session\r\n */\r\nexports.endSession = async (req, res) => {\r\n  try {\r\n    const { sessionId } = req.body;\r\n\r\n    if (!sessionId) {\r\n      return errorResponse(res, 400, 'Session ID is required', 'معرف الجلسة مطلوب');\r\n    }\r\n\r\n    const session = mobileAnalyticsService.endSession(sessionId);\r\n\r\n    return successResponse(res, 200, 'Session ended', 'انتهت الجلسة', session);\r\n  } catch (error) {\r\n    Logger.error('End session error:', error);\r\n    return errorResponse(res, 500, error.message, 'خطأ في إنهاء الجلسة');\r\n  }\r\n};\r\n\r\n/**\r\n * تتبع حدث\r\n * Track event\r\n */\r\nexports.trackEvent = async (req, res) => {\r\n  try {\r\n    const { sessionId, category, action, label, value, screenName, customParams } = req.body;\r\n\r\n    if (!sessionId || !category || !action) {\r\n      return errorResponse(\r\n        res,\r\n        400,\r\n        'Session ID, category, and action are required',\r\n        'معرف الجلسة والفئة والإجراء مطلوبة'\r\n      );\r\n    }\r\n\r\n    const event = mobileAnalyticsService.trackEvent(sessionId, {\r\n      category,\r\n      action,\r\n      label,\r\n      value,\r\n      screenName,\r\n      customParams,\r\n    });\r\n\r\n    return successResponse(res, 200, 'Event tracked', 'تم تتبع الحدث', event);\r\n  } catch (error) {\r\n    Logger.error('Track event error:', error);\r\n    return errorResponse(res, 500, error.message, 'خطأ في التتبع');\r\n  }\r\n};\r\n\r\n/**\r\n * تسجيل توقف أو خطأ\r\n * Log crash\r\n */\r\nexports.logCrash = async (req, res) => {\r\n  try {\r\n    const { sessionId, type, message, stack, severity, fatal, customData } = req.body;\r\n\r\n    if (!sessionId || !message) {\r\n      return errorResponse(\r\n        res,\r\n        400,\r\n        'Session ID and message are required',\r\n        'معرف الجلسة والرسالة مطلوبة'\r\n      );\r\n    }\r\n\r\n    const crash = mobileAnalyticsService.logCrash(sessionId, {\r\n      type,\r\n      message,\r\n      stack,\r\n      severity,\r\n      fatal,\r\n      customData,\r\n    });\r\n\r\n    return successResponse(res, 200, 'Crash reported', 'تم تقرير التوقف', crash);\r\n  } catch (error) {\r\n    Logger.error('Log crash error:', error);\r\n    return errorResponse(res, 500, error.message, 'خطأ في تقرير التوقف');\r\n  }\r\n};\r\n\r\n/**\r\n * الحصول على إحصائيات الجلسة\r\n * Get session statistics\r\n */\r\nexports.getSessionStats = async (req, res) => {\r\n  try {\r\n    const { sessionId } = req.query;\r\n\r\n    if (!sessionId) {\r\n      return errorResponse(res, 400, 'Session ID is required', 'معرف الجلسة مطلوب');\r\n    }\r\n\r\n    const stats = mobileAnalyticsService.getSessionStats(sessionId);\r\n\r\n    return successResponse(res, 200, 'Session stats retrieved', 'تم استرجاع الإحصائيات', stats);\r\n  } catch (error) {\r\n    Logger.error('Get session stats error:', error);\r\n    return errorResponse(res, 500, error.message, 'خطأ في الإحصائيات');\r\n  }\r\n};\r\n\r\n/**\r\n * الحصول على تحليلات المستخدم\r\n * Get user analytics\r\n */\r\nexports.getUserAnalytics = async (req, res) => {\r\n  try {\r\n    const { days = 30 } = req.query;\r\n\r\n    const analytics = mobileAnalyticsService.getUserAnalytics(req.user.id, parseInt(days));\r\n\r\n    return successResponse(\r\n      res,\r\n      200,\r\n      'User analytics retrieved',\r\n      'تم استرجاع التحليلات',\r\n      analytics\r\n    );\r\n  } catch (error) {\r\n    Logger.error('Get user analytics error:', error);\r\n    return errorResponse(res, 500, error.message, 'خطأ في التحليلات');\r\n  }\r\n};\r\n\r\n/**\r\n * الحصول على تقرير الأعطال\r\n * Get crash report\r\n */\r\nexports.getCrashReport = async (req, res) => {\r\n  try {\r\n    const { userId, severity, fatal } = req.query;\r\n\r\n    const filters = {\r\n      userId: userId || req.user.id,\r\n      severity,\r\n      fatal: fatal === 'true',\r\n    };\r\n\r\n    const report = mobileAnalyticsService.getCrashReport(filters);\r\n\r\n    return successResponse(res, 200, 'Crash report retrieved', 'تم استرجاع التقرير', report);\r\n  } catch (error) {\r\n    Logger.error('Get crash report error:', error);\r\n    return errorResponse(res, 500, error.message, 'خطأ في التقرير');\r\n  }\r\n};\r\n\r\n/**\r\n * الحصول على تقرير الأداء\r\n * Get performance report\r\n */\r\nexports.getPerformanceReport = async (req, res) => {\r\n  try {\r\n    const { metricName } = req.query;\r\n\r\n    if (!metricName) {\r\n      return errorResponse(res, 400, 'Metric name is required', 'اسم المقياس مطلوب');\r\n    }\r\n\r\n    const report = mobileAnalyticsService.getPerformanceReport(req.user.id, metricName);\r\n\r\n    return successResponse(\r\n      res,\r\n      200,\r\n      'Performance report retrieved',\r\n      'تم استرجاع تقرير الأداء',\r\n      report\r\n    );\r\n  } catch (error) {\r\n    Logger.error('Get performance report error:', error);\r\n    return errorResponse(res, 500, error.message, 'خطأ في تقرير الأداء');\r\n  }\r\n};\r\n"],"mappings":"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","ignoreList":[]}