# ğŸ³ AlAwael ERP - Dockerfile
# Ø§Ù„Ù†Ø¸Ø§Ù… Ø§Ù„Ù…ÙˆØ­Ø¯

FROM node:18-alpine

# ØªØ¹ÙŠÙŠÙ† Ù…Ø¬Ù„Ø¯ Ø§Ù„Ø¹Ù…Ù„
WORKDIR /app

# Ù†Ø³Ø® Ù…Ù„Ù Ø§Ù„Ø­Ø²Ù…
COPY package.unified.json ./package.json

# ØªØ«Ø¨ÙŠØª Ø§Ù„Ø­Ø²Ù…
RUN npm install --production

# Ù†Ø³Ø® Ø§Ù„Ù…Ù„ÙØ§Øª Ø§Ù„Ù…ÙˆØ­Ø¯Ø©
COPY middleware/ ./middleware/
COPY routes/ ./routes/
COPY models/ ./models/
COPY services/ ./services/
COPY utils/ ./utils/
COPY config/ ./config/
COPY server.unified.js ./
COPY app.unified.js ./
COPY index.unified.js ./

# Ù…ØªØºÙŠØ±Ø§Øª Ø§Ù„Ø¨ÙŠØ¦Ø©
ENV NODE_ENV=production
ENV PORT=3000

# Ø§Ù„Ù…Ù†ÙØ°
EXPOSE 3000

# Ø¨Ø¯Ø¡ Ø§Ù„ØªØ´ØºÙŠÙ„
CMD ["node", "index.unified.js"]
