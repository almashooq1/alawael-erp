#!/usr/bin/env python3
# -*- coding: utf-8 -*-
"""
إضافة المهارات الإدراكية من الصورة الثالثة
"""

from app import app, db
from models import SkillCategory, Skill

def add_cognitive_skills():
    """إضافة المهارات الإدراكية للنظام"""
    
    with app.app_context():
        # إنشاء فئة المهارات الإدراكية
        cognitive_category = SkillCategory.query.filter_by(category_name="المهارات الإدراكية").first()
        if not cognitive_category:
            cognitive_category = SkillCategory(
                category_name="المهارات الإدراكية",
                description="مهارات التفكير والإدراك والفهم والذاكرة",
                icon="fas fa-brain",
                color="#6f42c1",
                display_order=3
            )
            db.session.add(cognitive_category)
            db.session.commit()
            print("تم إنشاء فئة المهارات الإدراكية")
        
        # قائمة المهارات الإدراكية من الصورة
        cognitive_skills = [
            # مهارات التمييز والتصنيف
            {
                "skill_name": "يميز بين الأشياء المتشابهة والمختلفة",
                "description": "قدرة الطفل على التمييز بين الأشياء المتشابهة والمختلفة في الشكل أو اللون أو الحجم",
                "evaluation_criteria": "يحدد الأشياء المتشابهة والمختلفة بدقة عند عرضها عليه",
                "success_indicators": "التمييز البصري، المقارنة، التصنيف"
            },
            {
                "skill_name": "يصنف الأشياء حسب اللون",
                "description": "قدرة الطفل على تجميع الأشياء حسب اللون المتشابه",
                "evaluation_criteria": "يضع الأشياء ذات اللون الواحد في مجموعة واحدة",
                "success_indicators": "التمييز اللوني، التصنيف، التنظيم"
            },
            {
                "skill_name": "يصنف الأشياء حسب الشكل",
                "description": "قدرة الطفل على تجميع الأشياء حسب الشكل المتشابه",
                "evaluation_criteria": "يضع الأشياء ذات الشكل الواحد في مجموعة واحدة",
                "success_indicators": "التمييز الشكلي، التصنيف، الإدراك البصري"
            },
            {
                "skill_name": "يصنف الأشياء حسب الحجم",
                "description": "قدرة الطفل على تجميع الأشياء حسب الحجم (كبير، متوسط، صغير)",
                "evaluation_criteria": "يرتب الأشياء من الأكبر إلى الأصغر أو يجمعها حسب الحجم",
                "success_indicators": "إدراك الحجم، المقارنة، التسلسل"
            },
            {
                "skill_name": "يطابق الأشياء المتشابهة",
                "description": "قدرة الطفل على مطابقة الأشياء المتشابهة مع بعضها البعض",
                "evaluation_criteria": "يضع الشيء مع مثيله أو شبيهه بدقة",
                "success_indicators": "المطابقة، التمييز البصري، الذاكرة البصرية"
            },
            
            # مهارات الأرقام والعد
            {
                "skill_name": "يعد من 1 إلى 5",
                "description": "قدرة الطفل على العد التسلسلي من 1 إلى 5",
                "evaluation_criteria": "يعد بالتسلسل الصحيح من 1 إلى 5 بدون أخطاء",
                "success_indicators": "العد التسلسلي، الذاكرة، مفهوم الأرقام"
            },
            {
                "skill_name": "يعد من 1 إلى 10",
                "description": "قدرة الطفل على العد التسلسلي من 1 إلى 10",
                "evaluation_criteria": "يعد بالتسلسل الصحيح من 1 إلى 10 بدون أخطاء",
                "success_indicators": "العد المتقدم، الذاكرة، التسلسل الرقمي"
            },
            {
                "skill_name": "يشير إلى الرقم المطلوب من 1-5",
                "description": "قدرة الطفل على تحديد والإشارة إلى رقم معين عند طلبه",
                "evaluation_criteria": "يشير بدقة إلى الرقم المطلوب من بين الأرقام 1-5",
                "success_indicators": "التعرف على الأرقام، الفهم، الاستجابة"
            },
            {
                "skill_name": "يعد الأشياء من 1-3",
                "description": "قدرة الطفل على عد الأشياء الملموسة من 1 إلى 3",
                "evaluation_criteria": "يعد الأشياء بالإشارة إليها واحداً واحداً حتى 3",
                "success_indicators": "العد العملي، التطبيق، مفهوم الكمية"
            },
            {
                "skill_name": "يعد الأشياء من 1-5",
                "description": "قدرة الطفل على عد الأشياء الملموسة من 1 إلى 5",
                "evaluation_criteria": "يعد الأشياء بالإشارة إليها واحداً واحداً حتى 5",
                "success_indicators": "العد المتقدم، التطبيق العملي، مفهوم الكمية"
            },
            
            # مهارات الألوان
            {
                "skill_name": "يتعرف على اللون الأحمر",
                "description": "قدرة الطفل على تحديد والتعرف على اللون الأحمر",
                "evaluation_criteria": "يشير إلى اللون الأحمر عند طلبه من بين ألوان مختلفة",
                "success_indicators": "التمييز اللوني، الذاكرة البصرية، التعرف"
            },
            {
                "skill_name": "يتعرف على اللون الأزرق",
                "description": "قدرة الطفل على تحديد والتعرف على اللون الأزرق",
                "evaluation_criteria": "يشير إلى اللون الأزرق عند طلبه من بين ألوان مختلفة",
                "success_indicators": "التمييز اللوني، الذاكرة البصرية، التعرف"
            },
            {
                "skill_name": "يتعرف على اللون الأصفر",
                "description": "قدرة الطفل على تحديد والتعرف على اللون الأصفر",
                "evaluation_criteria": "يشير إلى اللون الأصفر عند طلبه من بين ألوان مختلفة",
                "success_indicators": "التمييز اللوني، الذاكرة البصرية، التعرف"
            },
            {
                "skill_name": "يتعرف على اللون الأخضر",
                "description": "قدرة الطفل على تحديد والتعرف على اللون الأخضر",
                "evaluation_criteria": "يشير إلى اللون الأخضر عند طلبه من بين ألوان مختلفة",
                "success_indicators": "التمييز اللوني، الذاكرة البصرية، التعرف"
            },
            {
                "skill_name": "يسمي الألوان الأساسية",
                "description": "قدرة الطفل على تسمية الألوان الأساسية (أحمر، أزرق، أصفر)",
                "evaluation_criteria": "يذكر اسم اللون عند الإشارة إليه",
                "success_indicators": "المعرفة اللونية، التعبير اللفظي، الذاكرة"
            },
            
            # مهارات الأشكال الهندسية
            {
                "skill_name": "يتعرف على الشكل الدائري",
                "description": "قدرة الطفل على تحديد والتعرف على الشكل الدائري",
                "evaluation_criteria": "يشير إلى الدائرة عند طلبها من بين أشكال مختلفة",
                "success_indicators": "التمييز الشكلي، الإدراك البصري، التعرف"
            },
            {
                "skill_name": "يتعرف على الشكل المربع",
                "description": "قدرة الطفل على تحديد والتعرف على الشكل المربع",
                "evaluation_criteria": "يشير إلى المربع عند طلبه من بين أشكال مختلفة",
                "success_indicators": "التمييز الشكلي، الإدراك البصري، التعرف"
            },
            {
                "skill_name": "يتعرف على الشكل المثلث",
                "description": "قدرة الطفل على تحديد والتعرف على الشكل المثلث",
                "evaluation_criteria": "يشير إلى المثلث عند طلبه من بين أشكال مختلفة",
                "success_indicators": "التمييز الشكلي، الإدراك البصري، التعرف"
            },
            {
                "skill_name": "يسمي الأشكال الهندسية الأساسية",
                "description": "قدرة الطفل على تسمية الأشكال الهندسية (دائرة، مربع، مثلث)",
                "evaluation_criteria": "يذكر اسم الشكل عند الإشارة إليه",
                "success_indicators": "المعرفة الشكلية، التعبير اللفظي، الذاكرة"
            },
            
            # مهارات المفاهيم المكانية
            {
                "skill_name": "يفهم مفهوم فوق وتحت",
                "description": "قدرة الطفل على فهم وتطبيق مفاهيم فوق وتحت",
                "evaluation_criteria": "يضع الأشياء فوق أو تحت بناءً على التعليمات",
                "success_indicators": "الإدراك المكاني، فهم التعليمات، التطبيق"
            },
            {
                "skill_name": "يفهم مفهوم داخل وخارج",
                "description": "قدرة الطفل على فهم وتطبيق مفاهيم داخل وخارج",
                "evaluation_criteria": "يضع الأشياء داخل أو خارج الحاوية بناءً على التعليمات",
                "success_indicators": "الإدراك المكاني، فهم المفاهيم، التطبيق"
            },
            {
                "skill_name": "يفهم مفهوم أمام وخلف",
                "description": "قدرة الطفل على فهم وتطبيق مفاهيم أمام وخلف",
                "evaluation_criteria": "يحدد الأشياء الموجودة أمام أو خلف شيء آخر",
                "success_indicators": "الإدراك المكاني، التوجه، فهم المفاهيم"
            },
            {
                "skill_name": "يفهم مفهوم يمين ويسار",
                "description": "قدرة الطفل على فهم وتطبيق مفاهيم اليمين واليسار",
                "evaluation_criteria": "يحدد الاتجاه الصحيح عند طلب اليمين أو اليسار",
                "success_indicators": "التوجه المكاني، التمييز الاتجاهي، الفهم"
            },
            
            # مهارات المقارنة والحجم
            {
                "skill_name": "يميز بين الكبير والصغير",
                "description": "قدرة الطفل على التمييز بين الأشياء الكبيرة والصغيرة",
                "evaluation_criteria": "يشير إلى الشيء الكبير أو الصغير عند الطلب",
                "success_indicators": "إدراك الحجم، المقارنة، التمييز"
            },
            {
                "skill_name": "يميز بين الطويل والقصير",
                "description": "قدرة الطفل على التمييز بين الأشياء الطويلة والقصيرة",
                "evaluation_criteria": "يشير إلى الشيء الطويل أو القصير عند الطلب",
                "success_indicators": "إدراك الطول، المقارنة، التمييز"
            },
            {
                "skill_name": "يرتب الأشياء من الأكبر إلى الأصغر",
                "description": "قدرة الطفل على ترتيب الأشياء حسب الحجم تنازلياً",
                "evaluation_criteria": "يرتب 3-5 أشياء من الأكبر إلى الأصغر بشكل صحيح",
                "success_indicators": "التسلسل، المقارنة، التنظيم"
            },
            {
                "skill_name": "يرتب الأشياء من الأصغر إلى الأكبر",
                "description": "قدرة الطفل على ترتيب الأشياء حسب الحجم تصاعدياً",
                "evaluation_criteria": "يرتب 3-5 أشياء من الأصغر إلى الأكبر بشكل صحيح",
                "success_indicators": "التسلسل، المقارنة، التنظيم"
            },
            
            # مهارات الذاكرة والتذكر
            {
                "skill_name": "يتذكر مكان الأشياء المخفية",
                "description": "قدرة الطفل على تذكر مكان الأشياء التي تم إخفاؤها",
                "evaluation_criteria": "يجد الشيء المخفي في المكان الصحيح بعد فترة قصيرة",
                "success_indicators": "الذاكرة المكانية، التذكر، التركيز"
            },
            {
                "skill_name": "يكرر تسلسل من حركتين",
                "description": "قدرة الطفل على تكرار تسلسل من حركتين بعد مشاهدته",
                "evaluation_criteria": "يؤدي نفس التسلسل من الحركتين بالترتيب الصحيح",
                "success_indicators": "الذاكرة الحركية، التقليد، التسلسل"
            },
            {
                "skill_name": "يكرر تسلسل من ثلاث حركات",
                "description": "قدرة الطفل على تكرار تسلسل من ثلاث حركات بعد مشاهدته",
                "evaluation_criteria": "يؤدي نفس التسلسل من الثلاث حركات بالترتيب الصحيح",
                "success_indicators": "الذاكرة الحركية المتقدمة، التقليد، التسلسل"
            },
            
            # مهارات حل المشكلات
            {
                "skill_name": "يحل مشاكل بسيطة بالمحاولة والخطأ",
                "description": "قدرة الطفل على حل المشاكل البسيطة من خلال التجريب",
                "evaluation_criteria": "يجرب طرق مختلفة حتى يصل للحل الصحيح",
                "success_indicators": "حل المشكلات، المثابرة، التفكير"
            },
            {
                "skill_name": "يكمل الألغاز البسيطة (2-4 قطع)",
                "description": "قدرة الطفل على تركيب الألغاز البسيطة من 2-4 قطع",
                "evaluation_criteria": "يركب اللغز بشكل صحيح في الوقت المناسب",
                "success_indicators": "حل المشكلات، التنسيق البصري الحركي، الصبر"
            },
            {
                "skill_name": "يجد الطريق في متاهة بسيطة",
                "description": "قدرة الطفل على إيجاد الطريق الصحيح في متاهة بسيطة",
                "evaluation_criteria": "يتتبع الطريق الصحيح من البداية للنهاية",
                "success_indicators": "حل المشكلات، التخطيط، التتبع البصري"
            },
            
            # مهارات التركيز والانتباه
            {
                "skill_name": "يركز على نشاط واحد لمدة 3-5 دقائق",
                "description": "قدرة الطفل على التركيز والانتباه لنشاط واحد لفترة محددة",
                "evaluation_criteria": "يبقى منتبهاً ومشاركاً في النشاط لمدة 3-5 دقائق متواصلة",
                "success_indicators": "التركيز، الانتباه، المثابرة"
            },
            {
                "skill_name": "يتبع تعليمات من خطوتين",
                "description": "قدرة الطفل على فهم وتنفيذ تعليمات مكونة من خطوتين",
                "evaluation_criteria": "ينفذ التعليمتين بالترتيب الصحيح",
                "success_indicators": "فهم التعليمات، الذاكرة، التنفيذ"
            },
            {
                "skill_name": "يتبع تعليمات من ثلاث خطوات",
                "description": "قدرة الطفل على فهم وتنفيذ تعليمات مكونة من ثلاث خطوات",
                "evaluation_criteria": "ينفذ التعليمات الثلاث بالترتيب الصحيح",
                "success_indicators": "فهم التعليمات المعقدة، الذاكرة، التنفيذ"
            }
        ]
        
        # إضافة المهارات إلى قاعدة البيانات
        skills_added = 0
        for skill_data in cognitive_skills:
            # التحقق من عدم وجود المهارة مسبقاً
            existing_skill = Skill.query.filter_by(skill_name=skill_data["skill_name"]).first()
            if not existing_skill:
                new_skill = Skill(
                    skill_name=skill_data["skill_name"],
                    description=skill_data["description"],
                    category_id=cognitive_category.id,
                    skill_level="متوسط",
                    evaluation_criteria=skill_data["evaluation_criteria"],
                    success_indicators=skill_data["success_indicators"],
                    is_active=True
                )
                db.session.add(new_skill)
                skills_added += 1
        
        # حفظ التغييرات
        db.session.commit()
        print(f"تم إضافة {skills_added} مهارة إدراكية جديدة")
        print("تم إكمال إضافة جميع المهارات الإدراكية بنجاح!")

if __name__ == "__main__":
    add_cognitive_skills()
