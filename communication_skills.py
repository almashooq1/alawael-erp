#!/usr/bin/env python3
# -*- coding: utf-8 -*-
"""
إضافة مهارات التواصل من الصورة السابعة
"""

from app import app, db
from models import SkillCategory, Skill

def add_communication_skills():
    """إضافة مهارات التواصل للنظام"""
    
    with app.app_context():
        # إنشاء فئة مهارات التواصل
        communication_category = SkillCategory.query.filter_by(category_name="مهارات التواصل").first()
        if not communication_category:
            communication_category = SkillCategory(
                category_name="مهارات التواصل",
                description="مهارات التواصل اللفظي وغير اللفظي والتعبير والفهم اللغوي",
                icon="fas fa-comments",
                color="#e83e8c",
                display_order=7
            )
            db.session.add(communication_category)
            db.session.commit()
            print("تم إنشاء فئة مهارات التواصل")
        
        # قائمة مهارات التواصل من الصورة
        communication_skills = [
            # مهارات التواصل الأساسية
            {
                "skill_name": "يصدر أصواتاً مختلفة للتعبير",
                "description": "قدرة الطفل على إصدار أصوات متنوعة للتعبير عن حاجاته ومشاعره",
                "evaluation_criteria": "يصدر أصواتاً مختلفة مثل الضحك، البكاء، الأصوات الحلقية",
                "success_indicators": "التنوع الصوتي، التعبير، التواصل الأولي"
            },
            {
                "skill_name": "يقلد الأصوات البسيطة",
                "description": "قدرة الطفل على تقليد الأصوات التي يسمعها من الآخرين",
                "evaluation_criteria": "يقلد أصوات بسيطة مثل 'آه'، 'أوه'، أصوات الحيوانات",
                "success_indicators": "التقليد الصوتي، الانتباه السمعي، التفاعل"
            },
            {
                "skill_name": "يستجيب لصوته في المرآة",
                "description": "قدرة الطفل على الاستجابة والتفاعل مع صوته عند رؤية نفسه في المرآة",
                "evaluation_criteria": "يصدر أصواتاً أو يبتسم عند رؤية نفسه في المرآة",
                "success_indicators": "الوعي الذاتي، التفاعل البصري، التعبير الصوتي"
            },
            {
                "skill_name": "يلتفت عند سماع اسمه",
                "description": "قدرة الطفل على الاستجابة والالتفات عند نداء اسمه",
                "evaluation_criteria": "يلتفت أو يستجيب عند نداء اسمه في معظم المرات",
                "success_indicators": "التعرف على الاسم، الانتباه السمعي، الاستجابة"
            },
            {
                "skill_name": "يستجيب للأصوات المألوفة",
                "description": "قدرة الطفل على التمييز والاستجابة للأصوات المألوفة في بيئته",
                "evaluation_criteria": "يستجيب لأصوات الأشخاص المألوفين أو الأصوات المعتادة",
                "success_indicators": "التمييز السمعي، الذاكرة السمعية، الاستجابة"
            },
            {
                "skill_name": "يصدر أصواتاً عند اللعب",
                "description": "قدرة الطفل على إصدار أصوات مختلفة أثناء اللعب والتفاعل",
                "evaluation_criteria": "يصدر أصواتاً متنوعة أثناء اللعب مع الألعاب أو الأشخاص",
                "success_indicators": "التعبير اللعبي، التفاعل الصوتي، المتعة"
            },
            
            # مهارات التواصل غير اللفظي
            {
                "skill_name": "يشير إلى الأشياء التي يريدها",
                "description": "قدرة الطفل على استخدام الإشارة للتعبير عن رغباته",
                "evaluation_criteria": "يشير بإصبعه أو يديه للأشياء التي يريد الحصول عليها",
                "success_indicators": "التواصل الإشاري، التعبير عن الرغبات، التفاعل الهادف"
            },
            {
                "skill_name": "يهز رأسه للموافقة أو الرفض",
                "description": "قدرة الطفل على استخدام حركة الرأس للتعبير عن الموافقة أو الرفض",
                "evaluation_criteria": "يهز رأسه للأعلى والأسفل للموافقة أو يمين ويسار للرفض",
                "success_indicators": "التواصل الحركي، التعبير عن الرأي، الفهم"
            },
            {
                "skill_name": "يستخدم تعبيرات الوجه للتواصل",
                "description": "قدرة الطفل على استخدام تعبيرات وجهه للتواصل مع الآخرين",
                "evaluation_criteria": "يستخدم الابتسامة، العبوس، أو تعبيرات أخرى للتواصل",
                "success_indicators": "التعبير الوجهي، التواصل العاطفي، التفاعل"
            },
            {
                "skill_name": "يقلد الحركات البسيطة",
                "description": "قدرة الطفل على تقليد الحركات والإيماءات البسيطة",
                "evaluation_criteria": "يقلد حركات مثل التصفيق، التلويح، رفع اليدين",
                "success_indicators": "التقليد الحركي، التعلم بالمحاكاة، التفاعل"
            },
            {
                "skill_name": "يمد يديه ليُحمل",
                "description": "قدرة الطفل على مد يديه للإشارة إلى رغبته في أن يُحمل",
                "evaluation_criteria": "يمد يديه للأعلى عندما يريد أن يحمله شخص ما",
                "success_indicators": "التواصل الجسدي، التعبير عن الحاجة، التفاعل"
            },
            {
                "skill_name": "يستخدم الإيماءات للتعبير عن الحاجات",
                "description": "قدرة الطفل على استخدام إيماءات مختلفة للتعبير عن احتياجاته",
                "evaluation_criteria": "يستخدم إيماءات مثل فتح الفم للطعام أو الإشارة للحمام",
                "success_indicators": "التواصل الإيمائي، التعبير عن الحاجات، الفهم"
            },
            
            # مهارات الفهم اللغوي
            {
                "skill_name": "يفهم كلمات بسيطة مثل 'لا' و 'تعال'",
                "description": "قدرة الطفل على فهم واتباع كلمات وتعليمات بسيطة",
                "evaluation_criteria": "يستجيب لكلمات مثل 'لا'، 'تعال'، 'اجلس' بشكل مناسب",
                "success_indicators": "الفهم اللغوي، الاستجابة للتعليمات، التطور اللغوي"
            },
            {
                "skill_name": "يتعرف على أسماء الأشخاص المألوفين",
                "description": "قدرة الطفل على التعرف والاستجابة لأسماء الأشخاص المألوفين",
                "evaluation_criteria": "ينظر أو يتجه نحو الشخص عند ذكر اسمه",
                "success_indicators": "التعرف على الأسماء، الذاكرة اللغوية، الارتباط"
            },
            {
                "skill_name": "يفهم أسماء الأشياء المألوفة",
                "description": "قدرة الطفل على فهم والتعرف على أسماء الأشياء في بيئته",
                "evaluation_criteria": "ينظر أو يشير للشيء عند ذكر اسمه (كرة، كوب، لعبة)",
                "success_indicators": "المفردات الاستقبالية، الفهم، الربط بين الكلمة والشيء"
            },
            {
                "skill_name": "يستجيب لأسئلة 'أين؟'",
                "description": "قدرة الطفل على الاستجابة لأسئلة المكان البسيطة",
                "evaluation_criteria": "ينظر أو يشير عند السؤال 'أين الكرة؟' أو 'أين ماما؟'",
                "success_indicators": "فهم أسئلة المكان، البحث البصري، الاستجابة"
            },
            {
                "skill_name": "يفهم التعليمات البسيطة المصحوبة بالإشارة",
                "description": "قدرة الطفل على فهم التعليمات عندما تكون مصحوبة بإشارات",
                "evaluation_criteria": "يتبع تعليمات مثل 'أعطني' مع مد اليد أو 'تعال' مع الإشارة",
                "success_indicators": "الفهم المتعدد الحواس، اتباع التعليمات، التطور اللغوي"
            },
            {
                "skill_name": "يميز بين نبرات الصوت المختلفة",
                "description": "قدرة الطفل على التمييز بين نبرات الصوت والاستجابة لها",
                "evaluation_criteria": "يستجيب بشكل مختلف للصوت الحازم والصوت اللطيف",
                "success_indicators": "التمييز السمعي، فهم النبرة، الاستجابة العاطفية"
            },
            
            # مهارات التعبير اللفظي المبكر
            {
                "skill_name": "يقول أصوات مقاطع مثل 'با با' أو 'ما ما'",
                "description": "قدرة الطفل على إنتاج مقاطع صوتية مكررة",
                "evaluation_criteria": "يقول مقاطع مثل 'با با'، 'ما ما'، 'دا دا' بوضوح",
                "success_indicators": "المناغاة، التطور الصوتي، التكرار المقطعي"
            },
            {
                "skill_name": "يحاول تقليد الكلمات البسيطة",
                "description": "قدرة الطفل على محاولة تقليد الكلمات التي يسمعها",
                "evaluation_criteria": "يحاول تقليد كلمات بسيطة حتى لو لم تكن واضحة تماماً",
                "success_indicators": "التقليد اللفظي، المحاولة، التطور اللغوي"
            },
            {
                "skill_name": "يقول كلمة أو كلمتين بوضوح",
                "description": "قدرة الطفل على نطق كلمة أو كلمتين بوضوح ومعنى",
                "evaluation_criteria": "يقول كلمات مثل 'ماما'، 'بابا'، 'لا' بوضوح وفي السياق المناسب",
                "success_indicators": "الكلمات الأولى، الوضوح، الاستخدام الهادف"
            },
            {
                "skill_name": "يستخدم الأصوات للحصول على الانتباه",
                "description": "قدرة الطفل على استخدام الأصوات بشكل هادف للحصول على انتباه الآخرين",
                "evaluation_criteria": "يصدر أصواتاً عندما يريد انتباه شخص ما أو شيئاً معيناً",
                "success_indicators": "التواصل الهادف، طلب الانتباه، التفاعل الاجتماعي"
            },
            {
                "skill_name": "يعبر عن 'نعم' أو 'لا' بطريقته",
                "description": "قدرة الطفل على التعبير عن الموافقة أو الرفض بطريقته الخاصة",
                "evaluation_criteria": "يعبر عن الموافقة أو الرفض بالأصوات أو الحركات أو الكلمات",
                "success_indicators": "التعبير عن الرأي، التواصل الوظيفي، الاختيار"
            },
            {
                "skill_name": "يستخدم نفس الصوت للشيء نفسه",
                "description": "قدرة الطفل على استخدام صوت ثابت للإشارة إلى شيء معين",
                "evaluation_criteria": "يستخدم نفس الصوت أو الكلمة للإشارة إلى نفس الشيء مراراً",
                "success_indicators": "الثبات اللغوي، الربط، التطور المعجمي"
            },
            
            # مهارات التفاعل التواصلي
            {
                "skill_name": "يشارك في 'محادثات' صوتية بسيطة",
                "description": "قدرة الطفل على المشاركة في تبادل الأصوات مع الآخرين",
                "evaluation_criteria": "يتناوب في إصدار الأصوات مع شخص آخر كأنه محادثة",
                "success_indicators": "التناوب التواصلي، التفاعل الصوتي، المحادثة الأولية"
            },
            {
                "skill_name": "يستمع عندما يتحدث إليه الآخرون",
                "description": "قدرة الطفل على الانتباه والاستماع عندما يتحدث إليه شخص ما",
                "evaluation_criteria": "يتوقف عن النشاط وينتبه عندما يتحدث إليه شخص",
                "success_indicators": "الانتباه المشترك، الاستماع، التفاعل الاجتماعي"
            },
            {
                "skill_name": "يظهر اهتماماً بالكتب والصور",
                "description": "قدرة الطفل على إظهار الاهتمام بالكتب والصور عند عرضها عليه",
                "evaluation_criteria": "ينظر ويتفاعل مع الكتب والصور عند عرضها",
                "success_indicators": "الاهتمام البصري، التفاعل مع المواد، التطور ما قبل القراءة"
            },
            {
                "skill_name": "يقلد أصوات الحيوانات البسيطة",
                "description": "قدرة الطفل على تقليد أصوات الحيوانات المألوفة",
                "evaluation_criteria": "يقلد أصوات مثل 'مو' للبقرة أو 'وو' للكلب",
                "success_indicators": "التقليد الصوتي، اللعب الصوتي، التطور اللغوي"
            },
            {
                "skill_name": "يستجيب لاسمه بالنظر أو الصوت",
                "description": "قدرة الطفل على الاستجابة لاسمه بطرق مختلفة",
                "evaluation_criteria": "ينظر أو يصدر صوتاً أو يبتسم عند نداء اسمه",
                "success_indicators": "التعرف على الاسم، الاستجابة المتنوعة، الهوية"
            },
            {
                "skill_name": "يحاول جذب انتباه الآخرين لمشاركة اهتمامه",
                "description": "قدرة الطفل على محاولة جذب الآخرين لمشاركته في شيء يهتم به",
                "evaluation_criteria": "يشير أو يصدر أصواتاً لجذب الآخرين لشيء يراه مثيراً",
                "success_indicators": "الانتباه المشترك، المشاركة الاجتماعية، التفاعل"
            },
            
            # مهارات التواصل الوظيفي
            {
                "skill_name": "يطلب الطعام أو الشراب بطريقته",
                "description": "قدرة الطفل على طلب الطعام أو الشراب باستخدام وسائل التواصل المتاحة له",
                "evaluation_criteria": "يشير أو يصدر أصواتاً أو يستخدم كلمات لطلب الطعام أو الشراب",
                "success_indicators": "التواصل الوظيفي، التعبير عن الحاجات، الطلب"
            },
            {
                "skill_name": "يعبر عن الألم أو الانزعاج",
                "description": "قدرة الطفل على التعبير عن الألم أو عدم الراحة بطريقة واضحة",
                "evaluation_criteria": "يبكي أو يصدر أصواتاً مختلفة أو يشير عند الألم أو الانزعاج",
                "success_indicators": "التعبير عن الألم، التواصل الصحي، طلب المساعدة"
            },
            {
                "skill_name": "يطلب المساعدة عند الحاجة",
                "description": "قدرة الطفل على طلب المساعدة عندما يواجه صعوبة في شيء ما",
                "evaluation_criteria": "يشير أو يصدر أصواتاً أو يذهب لشخص ما عند الحاجة للمساعدة",
                "success_indicators": "طلب المساعدة، التواصل الوظيفي، الاعتماد الاجتماعي"
            },
            {
                "skill_name": "يعبر عن الفرح أو السعادة",
                "description": "قدرة الطفل على التعبير عن مشاعر الفرح والسعادة بطرق واضحة",
                "evaluation_criteria": "يضحك أو يبتسم أو يصدر أصواتاً سعيدة عند الفرح",
                "success_indicators": "التعبير العاطفي، المشاعر الإيجابية، التواصل العاطفي"
            },
            {
                "skill_name": "يظهر تفضيلاته بوضوح",
                "description": "قدرة الطفل على إظهار ما يحب وما لا يحب بطريقة واضحة",
                "evaluation_criteria": "يظهر سعادة أو رفض واضح للأشياء أو الأنشطة المختلفة",
                "success_indicators": "التعبير عن التفضيلات، الاختيار، الشخصية"
            },
            {
                "skill_name": "يستخدم التواصل للتفاعل الاجتماعي",
                "description": "قدرة الطفل على استخدام وسائل التواصل للتفاعل مع الآخرين اجتماعياً",
                "evaluation_criteria": "يستخدم الأصوات أو الإشارات أو الكلمات للعب والتفاعل مع الآخرين",
                "success_indicators": "التفاعل الاجتماعي، التواصل اللعبي، المشاركة"
            },
            
            # مهارات التطور اللغوي المتقدم
            {
                "skill_name": "يفهم أوامر من خطوتين بسيطة",
                "description": "قدرة الطفل على فهم واتباع تعليمات تتكون من خطوتين بسيطتين",
                "evaluation_criteria": "يتبع تعليمات مثل 'خذ الكرة وأعطها لي' أو 'اذهب واجلب اللعبة'",
                "success_indicators": "الفهم المعقد، الذاكرة العاملة، اتباع التسلسل"
            },
            {
                "skill_name": "يستخدم كلمات للتعبير عن الرغبات",
                "description": "قدرة الطفل على استخدام كلمات محددة للتعبير عن ما يريد",
                "evaluation_criteria": "يقول كلمات مثل 'أريد'، 'أعطي'، أو أسماء الأشياء التي يريدها",
                "success_indicators": "المفردات التعبيرية، التواصل الهادف، الطلب اللفظي"
            },
            {
                "skill_name": "يجمع بين الكلمات والإشارات",
                "description": "قدرة الطفل على استخدام الكلمات والإشارات معاً للتواصل",
                "evaluation_criteria": "يقول كلمة ويشير في نفس الوقت لتوضيح المعنى",
                "success_indicators": "التواصل المتعدد الوسائط، التعزيز، الوضوح"
            },
            {
                "skill_name": "يبدأ في تكوين جمل من كلمتين",
                "description": "قدرة الطفل على ربط كلمتين معاً لتكوين جملة بسيطة",
                "evaluation_criteria": "يقول جمل مثل 'أريد ماء' أو 'ماما تعال' أو 'لعبة كبيرة'",
                "success_indicators": "تركيب الجمل، النحو البسيط، التطور اللغوي المتقدم"
            },
            {
                "skill_name": "يسأل أسئلة بسيطة بطريقته",
                "description": "قدرة الطفل على طرح أسئلة بسيطة باستخدام وسائل التواصل المتاحة له",
                "evaluation_criteria": "يسأل أسئلة مثل 'أين؟' أو يستخدم نبرة استفهام مع الكلمات",
                "success_indicators": "الفضول اللغوي، طرح الأسئلة، التفاعل الاستفهامي"
            },
            {
                "skill_name": "يتذكر ويستخدم أسماء الأشخاص المألوفين",
                "description": "قدرة الطفل على تذكر واستخدام أسماء الأشخاص المهمين في حياته",
                "evaluation_criteria": "يقول أو يحاول قول أسماء الأشخاص المألوفين مثل الأهل والأشقاء",
                "success_indicators": "الذاكرة الاجتماعية، الأسماء، العلاقات الشخصية"
            }
        ]
        
        # إضافة المهارات إلى قاعدة البيانات
        skills_added = 0
        for skill_data in communication_skills:
            # التحقق من عدم وجود المهارة مسبقاً
            existing_skill = Skill.query.filter_by(skill_name=skill_data["skill_name"]).first()
            if not existing_skill:
                new_skill = Skill(
                    skill_name=skill_data["skill_name"],
                    description=skill_data["description"],
                    category_id=communication_category.id,
                    skill_level="متوسط",
                    evaluation_criteria=skill_data["evaluation_criteria"],
                    success_indicators=skill_data["success_indicators"],
                    is_active=True
                )
                db.session.add(new_skill)
                skills_added += 1
        
        # حفظ التغييرات
        db.session.commit()
        print(f"تم إضافة {skills_added} مهارة تواصل جديدة")
        print("تم إكمال إضافة جميع مهارات التواصل بنجاح!")

if __name__ == "__main__":
    add_communication_skills()
