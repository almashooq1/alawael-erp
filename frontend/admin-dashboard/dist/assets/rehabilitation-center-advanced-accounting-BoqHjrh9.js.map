{"version":3,"file":"rehabilitation-center-advanced-accounting-BoqHjrh9.js","sources":["../../src/rehabilitation-center-advanced-accounting.js"],"sourcesContent":["/**\n * üí∞ Advanced Accounting & Financial Management System\n * ŸÜÿ∏ÿßŸÖ ÿ•ÿØÿßÿ±ÿ© ÿßŸÑŸÖÿßŸÑŸäÿ© ŸàÿßŸÑŸÖÿ≠ÿßÿ≥ÿ®ÿ© ÿßŸÑŸÖÿ™ŸÇÿØŸÖ ÿßŸÑÿ∞ŸÉŸä ÿßŸÑŸÖÿ™ŸÉÿßŸÖŸÑ\n */\n\nimport apiClient from './utils/api-client.js';\nimport { API_ENDPOINTS } from './config/api.js';\nimport connectionManager from './utils/connection-manager.js';\nimport realtimeSync from './utils/realtime-sync.js';\nimport systemEnhancer from './utils/system-enhancer.js';\nimport aiAssistant from './utils/ai-assistant.js';\nimport advancedCache from './utils/advanced-cache.js';\n\nclass AdvancedAccountingManagement {\n  constructor(container) {\n    this.container = container;\n    this.useAPI = true;\n    this.apiClient = apiClient;\n    this.API_ENDPOINTS = API_ENDPOINTS.advancedAccounting || {};\n    this.connectionManager = connectionManager;\n    this.realtimeSync = realtimeSync;\n    this.systemEnhancer = systemEnhancer;\n    this.aiAssistant = aiAssistant;\n    this.advancedCache = advancedCache;\n\n    this.accounts = [];\n    this.transactions = [];\n    this.invoices = [];\n    this.payments = [];\n    this.expenses = [];\n    this.revenues = [];\n    this.budgets = [];\n    this.reports = [];\n    this.analytics = [];\n\n    this.currentView = 'accounts';\n    this.filters = {\n      type: 'all',\n      category: 'all',\n      status: 'all',\n      dateRange: 'all',\n    };\n\n    this.init();\n  }\n\n  async init() {\n    this.render();\n    this.setupEventListeners();\n    await this.loadData();\n    this.setupRealtimeSync();\n    this.setupConnectionMonitoring();\n  }\n\n  render() {\n    if (!this.container) return;\n\n    this.container.innerHTML = `\n      <div class=\"advanced-accounting-management\">\n        <div class=\"accounting-header\">\n          <h2>üí∞ ŸÜÿ∏ÿßŸÖ ÿ•ÿØÿßÿ±ÿ© ÿßŸÑŸÖÿßŸÑŸäÿ© ŸàÿßŸÑŸÖÿ≠ÿßÿ≥ÿ®ÿ© ÿßŸÑŸÖÿ™ŸÇÿØŸÖ ÿßŸÑÿ∞ŸÉŸä ÿßŸÑŸÖÿ™ŸÉÿßŸÖŸÑ</h2>\n          <div class=\"header-actions\">\n            <button class=\"btn btn-primary\" onclick=\"this.createTransaction()\">\n              <i class=\"fas fa-plus\"></i> ŸÖÿπÿßŸÖŸÑÿ© ÿ¨ÿØŸäÿØÿ©\n            </button>\n            <button class=\"btn btn-secondary\" onclick=\"this.createInvoice()\">\n              <i class=\"fas fa-file-invoice\"></i> ŸÅÿßÿ™Ÿàÿ±ÿ© ÿ¨ÿØŸäÿØÿ©\n            </button>\n          </div>\n        </div>\n\n        <div class=\"accounting-tabs\">\n          <button class=\"tab-btn ${this.currentView === 'accounts' ? 'active' : ''}\" \n                  onclick=\"this.switchView('accounts')\">\n            <i class=\"fas fa-wallet\"></i> ÿßŸÑÿ≠ÿ≥ÿßÿ®ÿßÿ™\n          </button>\n          <button class=\"tab-btn ${this.currentView === 'transactions' ? 'active' : ''}\" \n                  onclick=\"this.switchView('transactions')\">\n            <i class=\"fas fa-exchange-alt\"></i> ÿßŸÑŸÖÿπÿßŸÖŸÑÿßÿ™\n          </button>\n          <button class=\"tab-btn ${this.currentView === 'invoices' ? 'active' : ''}\" \n                  onclick=\"this.switchView('invoices')\">\n            <i class=\"fas fa-file-invoice-dollar\"></i> ÿßŸÑŸÅŸàÿßÿ™Ÿäÿ±\n          </button>\n          <button class=\"tab-btn ${this.currentView === 'payments' ? 'active' : ''}\" \n                  onclick=\"this.switchView('payments')\">\n            <i class=\"fas fa-credit-card\"></i> ÿßŸÑŸÖÿØŸÅŸàÿπÿßÿ™\n          </button>\n          <button class=\"tab-btn ${this.currentView === 'expenses' ? 'active' : ''}\" \n                  onclick=\"this.switchView('expenses')\">\n            <i class=\"fas fa-arrow-down\"></i> ÿßŸÑŸÖÿµÿ±ŸàŸÅÿßÿ™\n          </button>\n          <button class=\"tab-btn ${this.currentView === 'revenues' ? 'active' : ''}\" \n                  onclick=\"this.switchView('revenues')\">\n            <i class=\"fas fa-arrow-up\"></i> ÿßŸÑÿ•Ÿäÿ±ÿßÿØÿßÿ™\n          </button>\n          <button class=\"tab-btn ${this.currentView === 'budgets' ? 'active' : ''}\" \n                  onclick=\"this.switchView('budgets')\">\n            <i class=\"fas fa-chart-pie\"></i> ÿßŸÑŸÖŸäÿ≤ÿßŸÜŸäÿßÿ™\n          </button>\n          <button class=\"tab-btn ${this.currentView === 'reports' ? 'active' : ''}\" \n                  onclick=\"this.switchView('reports')\">\n            <i class=\"fas fa-file-chart-line\"></i> ÿßŸÑÿ™ŸÇÿßÿ±Ÿäÿ±\n          </button>\n          <button class=\"tab-btn ${this.currentView === 'analytics' ? 'active' : ''}\" \n                  onclick=\"this.switchView('analytics')\">\n            <i class=\"fas fa-chart-bar\"></i> ÿßŸÑÿ™ÿ≠ŸÑŸäŸÑÿßÿ™\n          </button>\n        </div>\n\n        <div class=\"accounting-filters\">\n          <select class=\"filter-select\" onchange=\"this.handleFilterChange('type', event)\">\n            <option value=\"all\">ÿ¨ŸÖŸäÿπ ÿßŸÑÿ£ŸÜŸàÿßÿπ</option>\n            <option value=\"income\">ÿØÿÆŸÑ</option>\n            <option value=\"expense\">ŸÖÿµÿ±ŸàŸÅ</option>\n            <option value=\"transfer\">ÿ™ÿ≠ŸàŸäŸÑ</option>\n          </select>\n          <select class=\"filter-select\" onchange=\"this.handleFilterChange('status', event)\">\n            <option value=\"all\">ÿ¨ŸÖŸäÿπ ÿßŸÑÿ≠ÿßŸÑÿßÿ™</option>\n            <option value=\"pending\">ŸÇŸäÿØ ÿßŸÑÿßŸÜÿ™ÿ∏ÿßÿ±</option>\n            <option value=\"completed\">ŸÖŸÉÿ™ŸÖŸÑ</option>\n            <option value=\"cancelled\">ŸÖŸÑÿ∫Ÿâ</option>\n          </select>\n          <input type=\"text\" class=\"search-input\" placeholder=\"ÿ®ÿ≠ÿ´...\" \n                 oninput=\"this.handleSearch(event)\">\n        </div>\n\n        <div class=\"accounting-content\" id=\"accountingContent\">\n          ${this.renderCurrentView()}\n        </div>\n      </div>\n    `;\n  }\n\n  renderCurrentView() {\n    switch (this.currentView) {\n      case 'accounts':\n        return this.renderAccounts();\n      case 'transactions':\n        return this.renderTransactions();\n      case 'invoices':\n        return this.renderInvoices();\n      case 'payments':\n        return this.renderPayments();\n      case 'expenses':\n        return this.renderExpenses();\n      case 'revenues':\n        return this.renderRevenues();\n      case 'budgets':\n        return this.renderBudgets();\n      case 'reports':\n        return this.renderReports();\n      case 'analytics':\n        return this.renderAnalytics();\n      default:\n        return this.renderAccounts();\n    }\n  }\n\n  renderAccounts() {\n    if (this.accounts.length === 0) {\n      return `\n        <div class=\"empty-state\">\n          <i class=\"fas fa-wallet\"></i>\n          <p>ŸÑÿß ÿ™Ÿàÿ¨ÿØ ÿ≠ÿ≥ÿßÿ®ÿßÿ™</p>\n        </div>\n      `;\n    }\n\n    return `\n      <div class=\"accounts-grid\">\n        ${this.accounts\n          .map(\n            account => `\n          <div class=\"account-card type-${account.type}\">\n            <div class=\"account-header\">\n              <h3>${account.name || 'ÿ≠ÿ≥ÿßÿ®'}</h3>\n              <span class=\"account-type\">${this.getAccountTypeText(account.type)}</span>\n            </div>\n            <div class=\"account-body\">\n              <div class=\"account-balance\">\n                <span class=\"balance-label\">ÿßŸÑÿ±ÿµŸäÿØ:</span>\n                <span class=\"balance-value ${account.balance >= 0 ? 'positive' : 'negative'}\">\n                  ${this.formatCurrency(account.balance || 0)}\n                </span>\n              </div>\n              <div class=\"account-details\">\n                <div class=\"detail-item\">\n                  <span class=\"detail-label\">ÿßŸÑÿ±ŸÇŸÖ:</span>\n                  <span class=\"detail-value\">${account.number || 'ÿ∫Ÿäÿ± ŸÖÿ≠ÿØÿØ'}</span>\n                </div>\n                <div class=\"detail-item\">\n                  <span class=\"detail-label\">ÿßŸÑÿ®ŸÜŸÉ:</span>\n                  <span class=\"detail-value\">${account.bank || 'ÿ∫Ÿäÿ± ŸÖÿ≠ÿØÿØ'}</span>\n                </div>\n                <div class=\"detail-item\">\n                  <span class=\"detail-label\">ÿπÿØÿØ ÿßŸÑŸÖÿπÿßŸÖŸÑÿßÿ™:</span>\n                  <span class=\"detail-value\">${account.transactionsCount || 0}</span>\n                </div>\n              </div>\n            </div>\n          </div>\n        `\n          )\n          .join('')}\n      </div>\n    `;\n  }\n\n  renderTransactions() {\n    const filtered = this.getFilteredData(this.transactions);\n\n    if (filtered.length === 0) {\n      return `\n        <div class=\"empty-state\">\n          <i class=\"fas fa-exchange-alt\"></i>\n          <p>ŸÑÿß ÿ™Ÿàÿ¨ÿØ ŸÖÿπÿßŸÖŸÑÿßÿ™</p>\n          <button class=\"btn btn-primary\" onclick=\"this.createTransaction()\">\n            ÿ•ÿ∂ÿßŸÅÿ© ŸÖÿπÿßŸÖŸÑÿ© ÿ¨ÿØŸäÿØÿ©\n          </button>\n        </div>\n      `;\n    }\n\n    return `\n      <div class=\"transactions-list\">\n        ${filtered\n          .map(\n            transaction => `\n          <div class=\"transaction-card type-${transaction.type} status-${transaction.status}\">\n            <div class=\"transaction-header\">\n              <div class=\"transaction-info\">\n                <h3>${transaction.description || 'ŸÖÿπÿßŸÖŸÑÿ©'}</h3>\n                <p class=\"transaction-date\">${this.formatDateTime(transaction.date)}</p>\n              </div>\n              <div class=\"transaction-amount ${transaction.type === 'income' ? 'positive' : transaction.type === 'expense' ? 'negative' : 'neutral'}\">\n                ${transaction.type === 'income' ? '+' : transaction.type === 'expense' ? '-' : ''}\n                ${this.formatCurrency(transaction.amount || 0)}\n              </div>\n            </div>\n            <div class=\"transaction-body\">\n              <div class=\"transaction-details\">\n                <div class=\"detail-item\">\n                  <span class=\"detail-label\">ŸÖŸÜ:</span>\n                  <span class=\"detail-value\">${transaction.fromAccount || 'ÿ∫Ÿäÿ± ŸÖÿ≠ÿØÿØ'}</span>\n                </div>\n                <div class=\"detail-item\">\n                  <span class=\"detail-label\">ÿ•ŸÑŸâ:</span>\n                  <span class=\"detail-value\">${transaction.toAccount || 'ÿ∫Ÿäÿ± ŸÖÿ≠ÿØÿØ'}</span>\n                </div>\n                <div class=\"detail-item\">\n                  <span class=\"detail-label\">ÿßŸÑŸÅÿ¶ÿ©:</span>\n                  <span class=\"detail-value\">${transaction.category || 'ÿ∫Ÿäÿ± ŸÖÿ≠ÿØÿØ'}</span>\n                </div>\n                <div class=\"detail-item\">\n                  <span class=\"detail-label\">ÿßŸÑÿ≠ÿßŸÑÿ©:</span>\n                  <span class=\"detail-value\">${this.getStatusText(transaction.status)}</span>\n                </div>\n              </div>\n            </div>\n          </div>\n        `\n          )\n          .join('')}\n      </div>\n    `;\n  }\n\n  renderInvoices() {\n    if (this.invoices.length === 0) {\n      return `\n        <div class=\"empty-state\">\n          <i class=\"fas fa-file-invoice-dollar\"></i>\n          <p>ŸÑÿß ÿ™Ÿàÿ¨ÿØ ŸÅŸàÿßÿ™Ÿäÿ±</p>\n          <button class=\"btn btn-primary\" onclick=\"this.createInvoice()\">\n            ÿ•ÿ∂ÿßŸÅÿ© ŸÅÿßÿ™Ÿàÿ±ÿ© ÿ¨ÿØŸäÿØÿ©\n          </button>\n        </div>\n      `;\n    }\n\n    return `\n      <div class=\"invoices-list\">\n        ${this.invoices\n          .map(\n            invoice => `\n          <div class=\"invoice-card status-${invoice.status}\">\n            <div class=\"invoice-header\">\n              <div class=\"invoice-info\">\n                <h3>ŸÅÿßÿ™Ÿàÿ±ÿ© #${invoice.number || 'ÿ∫Ÿäÿ± ŸÖÿ≠ÿØÿØ'}</h3>\n                <p class=\"invoice-client\">${invoice.clientName || 'ÿ∫Ÿäÿ± ŸÖÿ≠ÿØÿØ'}</p>\n              </div>\n              <div class=\"invoice-amount\">\n                ${this.formatCurrency(invoice.total || 0)}\n              </div>\n            </div>\n            <div class=\"invoice-body\">\n              <div class=\"invoice-details\">\n                <div class=\"detail-item\">\n                  <span class=\"detail-label\">ÿßŸÑÿ™ÿßÿ±ŸäÿÆ:</span>\n                  <span class=\"detail-value\">${this.formatDate(invoice.date)}</span>\n                </div>\n                <div class=\"detail-item\">\n                  <span class=\"detail-label\">ÿ™ÿßÿ±ŸäÿÆ ÿßŸÑÿßÿ≥ÿ™ÿ≠ŸÇÿßŸÇ:</span>\n                  <span class=\"detail-value\">${this.formatDate(invoice.dueDate)}</span>\n                </div>\n                <div class=\"detail-item\">\n                  <span class=\"detail-label\">ÿßŸÑÿ≠ÿßŸÑÿ©:</span>\n                  <span class=\"detail-value\">${this.getStatusText(invoice.status)}</span>\n                </div>\n                <div class=\"detail-item\">\n                  <span class=\"detail-label\">ÿßŸÑŸÖÿØŸÅŸàÿπ:</span>\n                  <span class=\"detail-value\">${this.formatCurrency(invoice.paid || 0)}</span>\n                </div>\n              </div>\n            </div>\n            <div class=\"invoice-actions\">\n              <button class=\"btn btn-sm btn-primary\" onclick=\"this.viewInvoice(${invoice.id})\">\n                <i class=\"fas fa-eye\"></i> ÿπÿ±ÿ∂\n              </button>\n              <button class=\"btn btn-sm btn-success\" onclick=\"this.downloadInvoice(${invoice.id})\">\n                <i class=\"fas fa-download\"></i> ÿ™ÿ≠ŸÖŸäŸÑ\n              </button>\n            </div>\n          </div>\n        `\n          )\n          .join('')}\n      </div>\n    `;\n  }\n\n  renderPayments() {\n    if (this.payments.length === 0) {\n      return `\n        <div class=\"empty-state\">\n          <i class=\"fas fa-credit-card\"></i>\n          <p>ŸÑÿß ÿ™Ÿàÿ¨ÿØ ŸÖÿØŸÅŸàÿπÿßÿ™</p>\n        </div>\n      `;\n    }\n\n    return `\n      <div class=\"payments-list\">\n        ${this.payments\n          .map(\n            payment => `\n          <div class=\"payment-card status-${payment.status} method-${payment.method}\">\n            <div class=\"payment-header\">\n              <h3>${payment.description || 'ÿØŸÅÿπÿ©'}</h3>\n              <span class=\"payment-amount\">${this.formatCurrency(payment.amount || 0)}</span>\n            </div>\n            <div class=\"payment-body\">\n              <div class=\"payment-details\">\n                <div class=\"detail-item\">\n                  <span class=\"detail-label\">ÿßŸÑÿ∑ÿ±ŸäŸÇÿ©:</span>\n                  <span class=\"detail-value\">${this.getPaymentMethodText(payment.method)}</span>\n                </div>\n                <div class=\"detail-item\">\n                  <span class=\"detail-label\">ÿßŸÑÿ™ÿßÿ±ŸäÿÆ:</span>\n                  <span class=\"detail-value\">${this.formatDate(payment.date)}</span>\n                </div>\n                <div class=\"detail-item\">\n                  <span class=\"detail-label\">ÿßŸÑÿ≠ÿßŸÑÿ©:</span>\n                  <span class=\"detail-value\">${this.getStatusText(payment.status)}</span>\n                </div>\n              </div>\n            </div>\n          </div>\n        `\n          )\n          .join('')}\n      </div>\n    `;\n  }\n\n  renderExpenses() {\n    if (this.expenses.length === 0) {\n      return `\n        <div class=\"empty-state\">\n          <i class=\"fas fa-arrow-down\"></i>\n          <p>ŸÑÿß ÿ™Ÿàÿ¨ÿØ ŸÖÿµÿ±ŸàŸÅÿßÿ™</p>\n        </div>\n      `;\n    }\n\n    return `\n      <div class=\"expenses-list\">\n        ${this.expenses\n          .map(\n            expense => `\n          <div class=\"expense-card category-${expense.category}\">\n            <div class=\"expense-header\">\n              <h3>${expense.description || 'ŸÖÿµÿ±ŸàŸÅ'}</h3>\n              <span class=\"expense-amount negative\">-${this.formatCurrency(expense.amount || 0)}</span>\n            </div>\n            <div class=\"expense-body\">\n              <div class=\"expense-details\">\n                <div class=\"detail-item\">\n                  <span class=\"detail-label\">ÿßŸÑŸÅÿ¶ÿ©:</span>\n                  <span class=\"detail-value\">${expense.category || 'ÿ∫Ÿäÿ± ŸÖÿ≠ÿØÿØ'}</span>\n                </div>\n                <div class=\"detail-item\">\n                  <span class=\"detail-label\">ÿßŸÑÿ™ÿßÿ±ŸäÿÆ:</span>\n                  <span class=\"detail-value\">${this.formatDate(expense.date)}</span>\n                </div>\n              </div>\n            </div>\n          </div>\n        `\n          )\n          .join('')}\n      </div>\n    `;\n  }\n\n  renderRevenues() {\n    if (this.revenues.length === 0) {\n      return `\n        <div class=\"empty-state\">\n          <i class=\"fas fa-arrow-up\"></i>\n          <p>ŸÑÿß ÿ™Ÿàÿ¨ÿØ ÿ•Ÿäÿ±ÿßÿØÿßÿ™</p>\n        </div>\n      `;\n    }\n\n    return `\n      <div class=\"revenues-list\">\n        ${this.revenues\n          .map(\n            revenue => `\n          <div class=\"revenue-card category-${revenue.category}\">\n            <div class=\"revenue-header\">\n              <h3>${revenue.description || 'ÿ•Ÿäÿ±ÿßÿØ'}</h3>\n              <span class=\"revenue-amount positive\">+${this.formatCurrency(revenue.amount || 0)}</span>\n            </div>\n            <div class=\"revenue-body\">\n              <div class=\"revenue-details\">\n                <div class=\"detail-item\">\n                  <span class=\"detail-label\">ÿßŸÑŸÅÿ¶ÿ©:</span>\n                  <span class=\"detail-value\">${revenue.category || 'ÿ∫Ÿäÿ± ŸÖÿ≠ÿØÿØ'}</span>\n                </div>\n                <div class=\"detail-item\">\n                  <span class=\"detail-label\">ÿßŸÑÿ™ÿßÿ±ŸäÿÆ:</span>\n                  <span class=\"detail-value\">${this.formatDate(revenue.date)}</span>\n                </div>\n              </div>\n            </div>\n          </div>\n        `\n          )\n          .join('')}\n      </div>\n    `;\n  }\n\n  renderBudgets() {\n    if (this.budgets.length === 0) {\n      return `\n        <div class=\"empty-state\">\n          <i class=\"fas fa-chart-pie\"></i>\n          <p>ŸÑÿß ÿ™Ÿàÿ¨ÿØ ŸÖŸäÿ≤ÿßŸÜŸäÿßÿ™</p>\n        </div>\n      `;\n    }\n\n    return `\n      <div class=\"budgets-list\">\n        ${this.budgets\n          .map(\n            budget => `\n          <div class=\"budget-card\">\n            <div class=\"budget-header\">\n              <h3>${budget.name || 'ŸÖŸäÿ≤ÿßŸÜŸäÿ©'}</h3>\n              <span class=\"budget-period\">${budget.period || 'ÿ∫Ÿäÿ± ŸÖÿ≠ÿØÿØ'}</span>\n            </div>\n            <div class=\"budget-body\">\n              <div class=\"budget-progress\">\n                <div class=\"progress-bar\">\n                  <div class=\"progress-fill\" style=\"width: ${this.getBudgetProgress(budget)}%\"></div>\n                </div>\n                <div class=\"progress-text\">\n                  <span>ÿßŸÑŸÖÿ≥ÿ™ÿÆÿØŸÖ: ${this.formatCurrency(budget.used || 0)}</span>\n                  <span>ÿßŸÑŸÖÿÆÿµÿµ: ${this.formatCurrency(budget.allocated || 0)}</span>\n                </div>\n              </div>\n              <div class=\"budget-details\">\n                <div class=\"detail-item\">\n                  <span class=\"detail-label\">ÿßŸÑŸÖÿ™ÿ®ŸÇŸä:</span>\n                  <span class=\"detail-value\">${this.formatCurrency((budget.allocated || 0) - (budget.used || 0))}</span>\n                </div>\n                <div class=\"detail-item\">\n                  <span class=\"detail-label\">ÿßŸÑŸÜÿ≥ÿ®ÿ©:</span>\n                  <span class=\"detail-value\">${this.getBudgetProgress(budget)}%</span>\n                </div>\n              </div>\n            </div>\n          </div>\n        `\n          )\n          .join('')}\n      </div>\n    `;\n  }\n\n  renderReports() {\n    if (this.reports.length === 0) {\n      return `\n        <div class=\"empty-state\">\n          <i class=\"fas fa-file-chart-line\"></i>\n          <p>ŸÑÿß ÿ™Ÿàÿ¨ÿØ ÿ™ŸÇÿßÿ±Ÿäÿ±</p>\n        </div>\n      `;\n    }\n\n    return `\n      <div class=\"reports-list\">\n        ${this.reports\n          .map(\n            report => `\n          <div class=\"report-card\">\n            <div class=\"report-header\">\n              <h3>${report.title || 'ÿ™ŸÇÿ±Ÿäÿ±'}</h3>\n              <span class=\"report-date\">${this.formatDate(report.date)}</span>\n            </div>\n            <div class=\"report-body\">\n              <div class=\"report-details\">\n                <div class=\"detail-item\">\n                  <span class=\"detail-label\">ÿßŸÑŸÜŸàÿπ:</span>\n                  <span class=\"detail-value\">${report.type || 'ÿ∫Ÿäÿ± ŸÖÿ≠ÿØÿØ'}</span>\n                </div>\n                <div class=\"detail-item\">\n                  <span class=\"detail-label\">ÿßŸÑŸÅÿ™ÿ±ÿ©:</span>\n                  <span class=\"detail-value\">${report.period || 'ÿ∫Ÿäÿ± ŸÖÿ≠ÿØÿØ'}</span>\n                </div>\n              </div>\n            </div>\n            <div class=\"report-actions\">\n              <button class=\"btn btn-sm btn-primary\" onclick=\"this.viewReport(${report.id})\">\n                <i class=\"fas fa-eye\"></i> ÿπÿ±ÿ∂\n              </button>\n              <button class=\"btn btn-sm btn-success\" onclick=\"this.downloadReport(${report.id})\">\n                <i class=\"fas fa-download\"></i> ÿ™ÿ≠ŸÖŸäŸÑ\n              </button>\n            </div>\n          </div>\n        `\n          )\n          .join('')}\n      </div>\n    `;\n  }\n\n  renderAnalytics() {\n    if (this.analytics.length === 0) {\n      return `\n        <div class=\"empty-state\">\n          <i class=\"fas fa-chart-bar\"></i>\n          <p>ŸÑÿß ÿ™Ÿàÿ¨ÿØ ÿ®ŸäÿßŸÜÿßÿ™ ÿ™ÿ≠ŸÑŸäŸÑŸäÿ©</p>\n        </div>\n      `;\n    }\n\n    return `\n      <div class=\"analytics-dashboard\">\n        ${this.analytics\n          .map(\n            analytic => `\n          <div class=\"analytic-card\">\n            <div class=\"analytic-header\">\n              <h3>${analytic.metric}</h3>\n              <span class=\"analytic-value\">${analytic.value}</span>\n            </div>\n            <div class=\"analytic-body\">\n              <p>${analytic.description || ''}</p>\n              ${\n                analytic.trend\n                  ? `\n                <div class=\"analytic-trend ${analytic.trend > 0 ? 'up' : 'down'}\">\n                  <i class=\"fas fa-arrow-${analytic.trend > 0 ? 'up' : 'down'}\"></i>\n                  ${Math.abs(analytic.trend)}%\n                </div>\n              `\n                  : ''\n              }\n            </div>\n          </div>\n        `\n          )\n          .join('')}\n      </div>\n    `;\n  }\n\n  getFilteredData(data) {\n    let filtered = [...data];\n    if (this.filters.type !== 'all') {\n      filtered = filtered.filter(item => item.type === this.filters.type);\n    }\n    if (this.filters.category !== 'all') {\n      filtered = filtered.filter(item => item.category === this.filters.category);\n    }\n    if (this.filters.status !== 'all') {\n      filtered = filtered.filter(item => item.status === this.filters.status);\n    }\n    return filtered;\n  }\n\n  getBudgetProgress(budget) {\n    if (!budget.allocated || budget.allocated === 0) return 0;\n    return Math.min(100, ((budget.used || 0) / budget.allocated) * 100);\n  }\n\n  async loadData() {\n    if (!this.useAPI) {\n      this.loadFromLocalStorage();\n      return;\n    }\n\n    try {\n      if (!this.connectionManager.isFullyConnected()) {\n        this.loadFromLocalStorage();\n        return;\n      }\n\n      const [\n        accounts,\n        transactions,\n        invoices,\n        payments,\n        expenses,\n        revenues,\n        budgets,\n        reports,\n        analytics,\n      ] = await Promise.all([\n        this.apiClient.get(this.API_ENDPOINTS.accounts || '/api/advanced-accounting/accounts'),\n        this.apiClient.get(\n          this.API_ENDPOINTS.transactions || '/api/advanced-accounting/transactions'\n        ),\n        this.apiClient.get(this.API_ENDPOINTS.invoices || '/api/advanced-accounting/invoices'),\n        this.apiClient.get(this.API_ENDPOINTS.payments || '/api/advanced-accounting/payments'),\n        this.apiClient.get(this.API_ENDPOINTS.expenses || '/api/advanced-accounting/expenses'),\n        this.apiClient.get(this.API_ENDPOINTS.revenues || '/api/advanced-accounting/revenues'),\n        this.apiClient.get(this.API_ENDPOINTS.budgets || '/api/advanced-accounting/budgets'),\n        this.apiClient.get(this.API_ENDPOINTS.reports || '/api/advanced-accounting/reports'),\n        this.apiClient.get(this.API_ENDPOINTS.analytics || '/api/advanced-accounting/analytics'),\n      ]);\n\n      this.accounts = accounts.data || [];\n      this.transactions = transactions.data || [];\n      this.invoices = invoices.data || [];\n      this.payments = payments.data || [];\n      this.expenses = expenses.data || [];\n      this.revenues = revenues.data || [];\n      this.budgets = budgets.data || [];\n      this.reports = reports.data || [];\n      this.analytics = analytics.data || [];\n\n      this.saveToLocalStorage();\n      this.updateContent();\n    } catch (error) {\n      console.error('Error loading accounting data:', error);\n      this.loadFromLocalStorage();\n    }\n  }\n\n  setupRealtimeSync() {\n    if (!this.realtimeSync) return;\n    this.realtimeSync.subscribe('advanced-accounting', '*', update => {\n      if (update.action === 'create' || update.action === 'update' || update.action === 'delete') {\n        this.loadData();\n      }\n    });\n  }\n\n  setupConnectionMonitoring() {\n    if (!this.connectionManager) return;\n    this.connectionManager.on('online', () => {\n      this.loadData();\n    });\n  }\n\n  switchView(view) {\n    this.currentView = view;\n    this.updateContent();\n  }\n\n  handleFilterChange(type, event) {\n    this.filters[type] = event.target.value;\n    this.updateContent();\n  }\n\n  handleSearch(event) {\n    this.updateContent();\n  }\n\n  updateContent() {\n    const content = document.getElementById('accountingContent');\n    if (content) {\n      content.innerHTML = this.renderCurrentView();\n    }\n  }\n\n  getStatusText(status) {\n    const statusMap = {\n      pending: 'ŸÇŸäÿØ ÿßŸÑÿßŸÜÿ™ÿ∏ÿßÿ±',\n      completed: 'ŸÖŸÉÿ™ŸÖŸÑ',\n      cancelled: 'ŸÖŸÑÿ∫Ÿâ',\n      paid: 'ŸÖÿØŸÅŸàÿπ',\n      unpaid: 'ÿ∫Ÿäÿ± ŸÖÿØŸÅŸàÿπ',\n      overdue: 'ŸÖÿ™ÿ£ÿÆÿ±',\n    };\n    return statusMap[status] || status;\n  }\n\n  getAccountTypeText(type) {\n    const typeMap = {\n      bank: 'ÿ®ŸÜŸÉŸä',\n      cash: 'ŸÜŸÇÿØŸä',\n      credit: 'ÿßÿ¶ÿ™ŸÖÿßŸÜŸä',\n      investment: 'ÿßÿ≥ÿ™ÿ´ŸÖÿßÿ±Ÿä',\n    };\n    return typeMap[type] || type;\n  }\n\n  getPaymentMethodText(method) {\n    const methodMap = {\n      cash: 'ŸÜŸÇÿØŸä',\n      card: 'ÿ®ÿ∑ÿßŸÇÿ©',\n      bank: 'ÿ™ÿ≠ŸàŸäŸÑ ÿ®ŸÜŸÉŸä',\n      check: 'ÿ¥ŸäŸÉ',\n      online: 'ÿ•ŸÑŸÉÿ™ÿ±ŸàŸÜŸä',\n    };\n    return methodMap[method] || method;\n  }\n\n  formatCurrency(amount) {\n    return new Intl.NumberFormat('ar-SA', {\n      style: 'currency',\n      currency: 'SAR',\n      minimumFractionDigits: 2,\n    }).format(amount);\n  }\n\n  formatDate(date) {\n    if (!date) return 'ÿ∫Ÿäÿ± ŸÖÿ≠ÿØÿØ';\n    return new Date(date).toLocaleDateString('ar-SA');\n  }\n\n  formatDateTime(dateTime) {\n    if (!dateTime) return 'ÿ∫Ÿäÿ± ŸÖÿ≠ÿØÿØ';\n    return new Date(dateTime).toLocaleString('ar-SA');\n  }\n\n  saveToLocalStorage() {\n    try {\n      localStorage.setItem('advancedAccounts', JSON.stringify(this.accounts));\n      localStorage.setItem('advancedTransactions', JSON.stringify(this.transactions));\n      localStorage.setItem('advancedInvoices', JSON.stringify(this.invoices));\n      localStorage.setItem('advancedPayments', JSON.stringify(this.payments));\n      localStorage.setItem('advancedExpenses', JSON.stringify(this.expenses));\n      localStorage.setItem('advancedRevenues', JSON.stringify(this.revenues));\n      localStorage.setItem('advancedBudgets', JSON.stringify(this.budgets));\n      localStorage.setItem('advancedReports', JSON.stringify(this.reports));\n      localStorage.setItem('advancedAnalytics', JSON.stringify(this.analytics));\n    } catch (error) {\n      console.error('Error saving to localStorage:', error);\n    }\n  }\n\n  loadFromLocalStorage() {\n    try {\n      this.accounts = JSON.parse(localStorage.getItem('advancedAccounts') || '[]');\n      this.transactions = JSON.parse(localStorage.getItem('advancedTransactions') || '[]');\n      this.invoices = JSON.parse(localStorage.getItem('advancedInvoices') || '[]');\n      this.payments = JSON.parse(localStorage.getItem('advancedPayments') || '[]');\n      this.expenses = JSON.parse(localStorage.getItem('advancedExpenses') || '[]');\n      this.revenues = JSON.parse(localStorage.getItem('advancedRevenues') || '[]');\n      this.budgets = JSON.parse(localStorage.getItem('advancedBudgets') || '[]');\n      this.reports = JSON.parse(localStorage.getItem('advancedReports') || '[]');\n      this.analytics = JSON.parse(localStorage.getItem('advancedAnalytics') || '[]');\n    } catch (error) {\n      console.error('Error loading from localStorage:', error);\n    }\n  }\n\n  setupEventListeners() {\n    this.createTransaction = this.createTransaction.bind(this);\n    this.createInvoice = this.createInvoice.bind(this);\n    this.switchView = this.switchView.bind(this);\n    this.handleFilterChange = this.handleFilterChange.bind(this);\n    this.handleSearch = this.handleSearch.bind(this);\n    this.viewInvoice = this.viewInvoice.bind(this);\n    this.downloadInvoice = this.downloadInvoice.bind(this);\n    this.viewReport = this.viewReport.bind(this);\n    this.downloadReport = this.downloadReport.bind(this);\n  }\n\n  async createTransaction() {\n    console.log('Create transaction');\n  }\n\n  async createInvoice() {\n    console.log('Create invoice');\n  }\n\n  async viewInvoice(id) {\n    console.log('View invoice', id);\n  }\n\n  async downloadInvoice(id) {\n    console.log('Download invoice', id);\n  }\n\n  async viewReport(id) {\n    console.log('View report', id);\n  }\n\n  async downloadReport(id) {\n    console.log('Download report', id);\n  }\n}\n\nexport default AdvancedAccountingManagement;\n"],"names":["AdvancedAccountingManagement","container","apiClient","API_ENDPOINTS","connectionManager","realtimeSync","systemEnhancer","aiAssistant","advancedCache","account","filtered","transaction","invoice","payment","expense","revenue","budget","report","analytic","data","item","accounts","transactions","invoices","payments","expenses","revenues","budgets","reports","analytics","error","update","view","type","event","content","status","method","amount","date","dateTime","id"],"mappings":"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"}