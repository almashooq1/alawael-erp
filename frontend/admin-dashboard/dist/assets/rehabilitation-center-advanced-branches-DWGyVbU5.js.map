{"version":3,"file":"rehabilitation-center-advanced-branches-DWGyVbU5.js","sources":["../../src/rehabilitation-center-advanced-branches.js"],"sourcesContent":["/**\n * üè¢ Advanced Branches Management & Main Branch Integration System\n * ŸÜÿ∏ÿßŸÖ ÿ±ÿ®ÿ∑ ÿßŸÑŸÅÿ±Ÿàÿπ ŸÖÿπ ÿßŸÑŸÅÿ±ÿπ ÿßŸÑÿ±ÿ¶Ÿäÿ≥Ÿä ÿßŸÑŸÖÿ™ŸÇÿØŸÖ ÿßŸÑÿ∞ŸÉŸä ÿßŸÑŸÖÿ™ŸÉÿßŸÖŸÑ\n */\n\nimport apiClient from './utils/api-client.js';\nimport { API_ENDPOINTS } from './config/api.js';\nimport connectionManager from './utils/connection-manager.js';\nimport realtimeSync from './utils/realtime-sync.js';\nimport systemEnhancer from './utils/system-enhancer.js';\nimport aiAssistant from './utils/ai-assistant.js';\nimport advancedCache from './utils/advanced-cache.js';\n\nclass AdvancedBranchesManagement {\n  constructor(container) {\n    this.container = container;\n    this.useAPI = true;\n    this.apiClient = apiClient;\n    this.API_ENDPOINTS = API_ENDPOINTS.advancedBranches || {};\n    this.connectionManager = connectionManager;\n    this.realtimeSync = realtimeSync;\n    this.systemEnhancer = systemEnhancer;\n    this.aiAssistant = aiAssistant;\n    this.advancedCache = advancedCache;\n\n    this.branches = [];\n    this.mainBranch = null;\n    this.connections = [];\n    this.syncStatus = [];\n    this.transfers = [];\n    this.sharedResources = [];\n    this.analytics = [];\n\n    this.currentView = 'branches';\n    this.filters = {\n      status: 'all',\n      type: 'all',\n      search: '',\n    };\n\n    this.init();\n  }\n\n  async init() {\n    this.render();\n    this.setupEventListeners();\n    await this.loadData();\n    this.setupRealtimeSync();\n    this.setupConnectionMonitoring();\n  }\n\n  render() {\n    if (!this.container) return;\n\n    this.container.innerHTML = `\n      <div class=\"advanced-branches-management\">\n        <div class=\"branches-header\">\n          <h2>üè¢ ŸÜÿ∏ÿßŸÖ ÿ±ÿ®ÿ∑ ÿßŸÑŸÅÿ±Ÿàÿπ ŸÖÿπ ÿßŸÑŸÅÿ±ÿπ ÿßŸÑÿ±ÿ¶Ÿäÿ≥Ÿä ÿßŸÑŸÖÿ™ŸÇÿØŸÖ ÿßŸÑÿ∞ŸÉŸä ÿßŸÑŸÖÿ™ŸÉÿßŸÖŸÑ</h2>\n          <div class=\"header-actions\">\n            <button class=\"btn btn-primary\" onclick=\"this.createBranch()\">\n              <i class=\"fas fa-plus\"></i> ŸÅÿ±ÿπ ÿ¨ÿØŸäÿØ\n            </button>\n            <button class=\"btn btn-secondary\" onclick=\"this.connectBranch()\">\n              <i class=\"fas fa-link\"></i> ÿ±ÿ®ÿ∑ ŸÅÿ±ÿπ\n            </button>\n            <button class=\"btn btn-info\" onclick=\"this.syncAllBranches()\">\n              <i class=\"fas fa-sync\"></i> ŸÖÿ≤ÿßŸÖŸÜÿ© ÿßŸÑŸÉŸÑ\n            </button>\n          </div>\n        </div>\n\n        <div class=\"branches-tabs\">\n          <button class=\"tab-btn ${this.currentView === 'branches' ? 'active' : ''}\" \n                  onclick=\"this.switchView('branches')\">\n            <i class=\"fas fa-building\"></i> ÿßŸÑŸÅÿ±Ÿàÿπ\n          </button>\n          <button class=\"tab-btn ${this.currentView === 'main-branch' ? 'active' : ''}\" \n                  onclick=\"this.switchView('main-branch')\">\n            <i class=\"fas fa-home\"></i> ÿßŸÑŸÅÿ±ÿπ ÿßŸÑÿ±ÿ¶Ÿäÿ≥Ÿä\n          </button>\n          <button class=\"tab-btn ${this.currentView === 'connections' ? 'active' : ''}\" \n                  onclick=\"this.switchView('connections')\">\n            <i class=\"fas fa-network-wired\"></i> ÿßŸÑÿßÿ™ÿµÿßŸÑÿßÿ™\n          </button>\n          <button class=\"tab-btn ${this.currentView === 'sync' ? 'active' : ''}\" \n                  onclick=\"this.switchView('sync')\">\n            <i class=\"fas fa-sync-alt\"></i> ÿßŸÑŸÖÿ≤ÿßŸÖŸÜÿ©\n          </button>\n          <button class=\"tab-btn ${this.currentView === 'transfers' ? 'active' : ''}\" \n                  onclick=\"this.switchView('transfers')\">\n            <i class=\"fas fa-exchange-alt\"></i> ÿßŸÑÿ™ÿ≠ŸàŸäŸÑÿßÿ™\n          </button>\n          <button class=\"tab-btn ${this.currentView === 'resources' ? 'active' : ''}\" \n                  onclick=\"this.switchView('resources')\">\n            <i class=\"fas fa-share-alt\"></i> ÿßŸÑŸÖŸàÿßÿ±ÿØ ÿßŸÑŸÖÿ¥ÿ™ÿ±ŸÉÿ©\n          </button>\n          <button class=\"tab-btn ${this.currentView === 'analytics' ? 'active' : ''}\" \n                  onclick=\"this.switchView('analytics')\">\n            <i class=\"fas fa-chart-bar\"></i> ÿßŸÑÿ™ÿ≠ŸÑŸäŸÑÿßÿ™\n          </button>\n        </div>\n\n        <div class=\"branches-filters\">\n          <select class=\"filter-select\" onchange=\"this.handleFilterChange('status', event)\">\n            <option value=\"all\">ÿ¨ŸÖŸäÿπ ÿßŸÑÿ≠ÿßŸÑÿßÿ™</option>\n            <option value=\"active\">ŸÜÿ¥ÿ∑</option>\n            <option value=\"inactive\">ÿ∫Ÿäÿ± ŸÜÿ¥ÿ∑</option>\n            <option value=\"connected\">ŸÖÿ™ÿµŸÑ</option>\n            <option value=\"disconnected\">ÿ∫Ÿäÿ± ŸÖÿ™ÿµŸÑ</option>\n          </select>\n          <select class=\"filter-select\" onchange=\"this.handleFilterChange('type', event)\">\n            <option value=\"all\">ÿ¨ŸÖŸäÿπ ÿßŸÑÿ£ŸÜŸàÿßÿπ</option>\n            <option value=\"main\">ÿ±ÿ¶Ÿäÿ≥Ÿä</option>\n            <option value=\"sub\">ŸÅÿ±ÿπŸä</option>\n            <option value=\"satellite\">ÿ™ÿßÿ®ÿπ</option>\n          </select>\n          <input type=\"text\" class=\"search-input\" placeholder=\"ÿ®ÿ≠ÿ´...\" \n                 oninput=\"this.handleSearch(event)\">\n        </div>\n\n        <div class=\"branches-content\" id=\"branchesContent\">\n          ${this.renderCurrentView()}\n        </div>\n      </div>\n    `;\n  }\n\n  renderCurrentView() {\n    switch (this.currentView) {\n      case 'branches':\n        return this.renderBranches();\n      case 'main-branch':\n        return this.renderMainBranch();\n      case 'connections':\n        return this.renderConnections();\n      case 'sync':\n        return this.renderSync();\n      case 'transfers':\n        return this.renderTransfers();\n      case 'resources':\n        return this.renderResources();\n      case 'analytics':\n        return this.renderAnalytics();\n      default:\n        return this.renderBranches();\n    }\n  }\n\n  renderBranches() {\n    const filtered = this.getFilteredData(this.branches);\n\n    if (filtered.length === 0) {\n      return `\n        <div class=\"empty-state\">\n          <i class=\"fas fa-building\"></i>\n          <p>ŸÑÿß ÿ™Ÿàÿ¨ÿØ ŸÅÿ±Ÿàÿπ</p>\n          <button class=\"btn btn-primary\" onclick=\"this.createBranch()\">\n            ÿ•ÿ∂ÿßŸÅÿ© ŸÅÿ±ÿπ ÿ¨ÿØŸäÿØ\n          </button>\n        </div>\n      `;\n    }\n\n    return `\n      <div class=\"branches-grid\">\n        ${filtered\n          .map(\n            branch => `\n          <div class=\"branch-card status-${branch.status}\">\n            <div class=\"branch-header\">\n              <div class=\"branch-icon\">\n                <i class=\"fas fa-${branch.type === 'main' ? 'home' : 'building'}\"></i>\n              </div>\n              <div class=\"branch-info\">\n                <h3>${branch.name || 'ŸÅÿ±ÿπ'}</h3>\n                <p class=\"branch-code\">${branch.code || 'ÿ∫Ÿäÿ± ŸÖÿ≠ÿØÿØ'}</p>\n              </div>\n              <span class=\"status-badge status-${branch.status}\">${this.getStatusText(branch.status)}</span>\n            </div>\n            <div class=\"branch-body\">\n              <div class=\"branch-details\">\n                <div class=\"detail-item\">\n                  <span class=\"detail-label\">ÿßŸÑŸÜŸàÿπ:</span>\n                  <span class=\"detail-value\">${this.getTypeText(branch.type)}</span>\n                </div>\n                <div class=\"detail-item\">\n                  <span class=\"detail-label\">ÿßŸÑŸÖŸàŸÇÿπ:</span>\n                  <span class=\"detail-value\">${branch.location || 'ÿ∫Ÿäÿ± ŸÖÿ≠ÿØÿØ'}</span>\n                </div>\n                <div class=\"detail-item\">\n                  <span class=\"detail-label\">ÿßŸÑŸáÿßÿ™ŸÅ:</span>\n                  <span class=\"detail-value\">${branch.phone || 'ÿ∫Ÿäÿ± ŸÖÿ≠ÿØÿØ'}</span>\n                </div>\n                <div class=\"detail-item\">\n                  <span class=\"detail-label\">ÿ≠ÿßŸÑÿ© ÿßŸÑÿßÿ™ÿµÿßŸÑ:</span>\n                  <span class=\"detail-value ${branch.connected ? 'connected' : 'disconnected'}\">\n                    ${branch.connected ? 'ŸÖÿ™ÿµŸÑ' : 'ÿ∫Ÿäÿ± ŸÖÿ™ÿµŸÑ'}\n                  </span>\n                </div>\n                <div class=\"detail-item\">\n                  <span class=\"detail-label\">ÿπÿØÿØ ÿßŸÑŸÖÿ±ÿ∂Ÿâ:</span>\n                  <span class=\"detail-value\">${branch.patientsCount || 0}</span>\n                </div>\n                <div class=\"detail-item\">\n                  <span class=\"detail-label\">ÿπÿØÿØ ÿßŸÑŸÖŸàÿ∏ŸÅŸäŸÜ:</span>\n                  <span class=\"detail-value\">${branch.staffCount || 0}</span>\n                </div>\n              </div>\n            </div>\n            <div class=\"branch-actions\">\n              <button class=\"btn btn-sm btn-primary\" onclick=\"this.viewBranch(${branch.id})\">\n                <i class=\"fas fa-eye\"></i> ÿπÿ±ÿ∂\n              </button>\n              <button class=\"btn btn-sm btn-secondary\" onclick=\"this.editBranch(${branch.id})\">\n                <i class=\"fas fa-edit\"></i> ÿ™ÿπÿØŸäŸÑ\n              </button>\n              ${\n                !branch.connected\n                  ? `\n                <button class=\"btn btn-sm btn-success\" onclick=\"this.connectBranch(${branch.id})\">\n                  <i class=\"fas fa-link\"></i> ÿ±ÿ®ÿ∑\n                </button>\n              `\n                  : `\n                <button class=\"btn btn-sm btn-warning\" onclick=\"this.disconnectBranch(${branch.id})\">\n                  <i class=\"fas fa-unlink\"></i> ŸÇÿ∑ÿπ\n                </button>\n              `\n              }\n            </div>\n          </div>\n        `\n          )\n          .join('')}\n      </div>\n    `;\n  }\n\n  renderMainBranch() {\n    if (!this.mainBranch) {\n      return `\n        <div class=\"empty-state\">\n          <i class=\"fas fa-home\"></i>\n          <p>ŸÑÿß ŸäŸàÿ¨ÿØ ŸÅÿ±ÿπ ÿ±ÿ¶Ÿäÿ≥Ÿä ŸÖÿ≠ÿØÿØ</p>\n        </div>\n      `;\n    }\n\n    return `\n      <div class=\"main-branch-dashboard\">\n        <div class=\"main-branch-card\">\n          <div class=\"main-branch-header\">\n            <div class=\"main-branch-icon\">\n              <i class=\"fas fa-home\"></i>\n            </div>\n            <div class=\"main-branch-info\">\n              <h2>${this.mainBranch.name || 'ÿßŸÑŸÅÿ±ÿπ ÿßŸÑÿ±ÿ¶Ÿäÿ≥Ÿä'}</h2>\n              <p class=\"main-branch-code\">${this.mainBranch.code || 'ÿ∫Ÿäÿ± ŸÖÿ≠ÿØÿØ'}</p>\n            </div>\n            <span class=\"status-badge status-active\">ŸÜÿ¥ÿ∑</span>\n          </div>\n          <div class=\"main-branch-body\">\n            <div class=\"main-branch-details\">\n              <div class=\"detail-item\">\n                <span class=\"detail-label\">ÿßŸÑŸÖŸàŸÇÿπ:</span>\n                <span class=\"detail-value\">${this.mainBranch.location || 'ÿ∫Ÿäÿ± ŸÖÿ≠ÿØÿØ'}</span>\n              </div>\n              <div class=\"detail-item\">\n                <span class=\"detail-label\">ÿßŸÑŸáÿßÿ™ŸÅ:</span>\n                <span class=\"detail-value\">${this.mainBranch.phone || 'ÿ∫Ÿäÿ± ŸÖÿ≠ÿØÿØ'}</span>\n              </div>\n              <div class=\"detail-item\">\n                <span class=\"detail-label\">ÿßŸÑÿ®ÿ±ŸäÿØ ÿßŸÑÿ•ŸÑŸÉÿ™ÿ±ŸàŸÜŸä:</span>\n                <span class=\"detail-value\">${this.mainBranch.email || 'ÿ∫Ÿäÿ± ŸÖÿ≠ÿØÿØ'}</span>\n              </div>\n              <div class=\"detail-item\">\n                <span class=\"detail-label\">ÿπÿØÿØ ÿßŸÑŸÅÿ±Ÿàÿπ ÿßŸÑŸÖÿ™ÿµŸÑÿ©:</span>\n                <span class=\"detail-value\">${this.branches.filter(b => b.connected && b.type !== 'main').length}</span>\n              </div>\n              <div class=\"detail-item\">\n                <span class=\"detail-label\">ÿ•ÿ¨ŸÖÿßŸÑŸä ÿßŸÑŸÖÿ±ÿ∂Ÿâ:</span>\n                <span class=\"detail-value\">${this.mainBranch.totalPatients || 0}</span>\n              </div>\n              <div class=\"detail-item\">\n                <span class=\"detail-label\">ÿ•ÿ¨ŸÖÿßŸÑŸä ÿßŸÑŸÖŸàÿ∏ŸÅŸäŸÜ:</span>\n                <span class=\"detail-value\">${this.mainBranch.totalStaff || 0}</span>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    `;\n  }\n\n  renderConnections() {\n    if (this.connections.length === 0) {\n      return `\n        <div class=\"empty-state\">\n          <i class=\"fas fa-network-wired\"></i>\n          <p>ŸÑÿß ÿ™Ÿàÿ¨ÿØ ÿßÿ™ÿµÿßŸÑÿßÿ™</p>\n        </div>\n      `;\n    }\n\n    return `\n      <div class=\"connections-list\">\n        ${this.connections\n          .map(\n            conn => `\n          <div class=\"connection-card status-${conn.status}\">\n            <div class=\"connection-header\">\n              <h3>${conn.fromBranch} ‚Üí ${conn.toBranch}</h3>\n              <span class=\"status-badge status-${conn.status}\">${this.getStatusText(conn.status)}</span>\n            </div>\n            <div class=\"connection-body\">\n              <div class=\"connection-details\">\n                <div class=\"detail-item\">\n                  <span class=\"detail-label\">ŸÜŸàÿπ ÿßŸÑÿßÿ™ÿµÿßŸÑ:</span>\n                  <span class=\"detail-value\">${this.getConnectionTypeText(conn.type)}</span>\n                </div>\n                <div class=\"detail-item\">\n                  <span class=\"detail-label\">ÿ™ÿßÿ±ŸäÿÆ ÿßŸÑÿßÿ™ÿµÿßŸÑ:</span>\n                  <span class=\"detail-value\">${this.formatDate(conn.connectedAt)}</span>\n                </div>\n                <div class=\"detail-item\">\n                  <span class=\"detail-label\">ÿ≥ÿ±ÿπÿ© ÿßŸÑÿßÿ™ÿµÿßŸÑ:</span>\n                  <span class=\"detail-value\">${conn.speed || 'ÿ∫Ÿäÿ± ŸÖÿ≠ÿØÿØ'}</span>\n                </div>\n                <div class=\"detail-item\">\n                  <span class=\"detail-label\">ÿßŸÑÿßÿ≥ÿ™ŸÇÿ±ÿßÿ±:</span>\n                  <span class=\"detail-value\">${conn.stability || 0}%</span>\n                </div>\n              </div>\n            </div>\n          </div>\n        `\n          )\n          .join('')}\n      </div>\n    `;\n  }\n\n  renderSync() {\n    if (this.syncStatus.length === 0) {\n      return `\n        <div class=\"empty-state\">\n          <i class=\"fas fa-sync-alt\"></i>\n          <p>ŸÑÿß ÿ™Ÿàÿ¨ÿØ ÿπŸÖŸÑŸäÿßÿ™ ŸÖÿ≤ÿßŸÖŸÜÿ©</p>\n        </div>\n      `;\n    }\n\n    return `\n      <div class=\"sync-list\">\n        ${this.syncStatus\n          .map(\n            sync => `\n          <div class=\"sync-card status-${sync.status}\">\n            <div class=\"sync-header\">\n              <h3>${sync.branchName || 'ŸÅÿ±ÿπ'}</h3>\n              <span class=\"status-badge status-${sync.status}\">${this.getStatusText(sync.status)}</span>\n            </div>\n            <div class=\"sync-body\">\n              <div class=\"sync-details\">\n                <div class=\"detail-item\">\n                  <span class=\"detail-label\">ŸÜŸàÿπ ÿßŸÑŸÖÿ≤ÿßŸÖŸÜÿ©:</span>\n                  <span class=\"detail-value\">${this.getSyncTypeText(sync.type)}</span>\n                </div>\n                <div class=\"detail-item\">\n                  <span class=\"detail-label\">ÿ¢ÿÆÿ± ŸÖÿ≤ÿßŸÖŸÜÿ©:</span>\n                  <span class=\"detail-value\">${this.formatDate(sync.lastSync)}</span>\n                </div>\n                <div class=\"detail-item\">\n                  <span class=\"detail-label\">ÿßŸÑÿ™ŸÇÿØŸÖ:</span>\n                  <span class=\"detail-value\">${sync.progress || 0}%</span>\n                </div>\n                <div class=\"detail-item\">\n                  <span class=\"detail-label\">ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™ ÿßŸÑŸÖÿ≤ÿßŸÖŸÜÿ©:</span>\n                  <span class=\"detail-value\">${sync.syncedRecords || 0}</span>\n                </div>\n              </div>\n              ${\n                sync.status === 'syncing'\n                  ? `\n                <div class=\"sync-progress\">\n                  <div class=\"progress-bar\">\n                    <div class=\"progress-fill\" style=\"width: ${sync.progress || 0}%\"></div>\n                  </div>\n                </div>\n              `\n                  : ''\n              }\n            </div>\n          </div>\n        `\n          )\n          .join('')}\n      </div>\n    `;\n  }\n\n  renderTransfers() {\n    if (this.transfers.length === 0) {\n      return `\n        <div class=\"empty-state\">\n          <i class=\"fas fa-exchange-alt\"></i>\n          <p>ŸÑÿß ÿ™Ÿàÿ¨ÿØ ÿ™ÿ≠ŸàŸäŸÑÿßÿ™</p>\n        </div>\n      `;\n    }\n\n    return `\n      <div class=\"transfers-list\">\n        ${this.transfers\n          .map(\n            transfer => `\n          <div class=\"transfer-card status-${transfer.status}\">\n            <div class=\"transfer-header\">\n              <h3>${transfer.title || 'ÿ™ÿ≠ŸàŸäŸÑ'}</h3>\n              <span class=\"status-badge status-${transfer.status}\">${this.getStatusText(transfer.status)}</span>\n            </div>\n            <div class=\"transfer-body\">\n              <div class=\"transfer-details\">\n                <div class=\"detail-item\">\n                  <span class=\"detail-label\">ŸÖŸÜ:</span>\n                  <span class=\"detail-value\">${transfer.fromBranch || 'ÿ∫Ÿäÿ± ŸÖÿ≠ÿØÿØ'}</span>\n                </div>\n                <div class=\"detail-item\">\n                  <span class=\"detail-label\">ÿ•ŸÑŸâ:</span>\n                  <span class=\"detail-value\">${transfer.toBranch || 'ÿ∫Ÿäÿ± ŸÖÿ≠ÿØÿØ'}</span>\n                </div>\n                <div class=\"detail-item\">\n                  <span class=\"detail-label\">ÿßŸÑŸÜŸàÿπ:</span>\n                  <span class=\"detail-value\">${this.getTransferTypeText(transfer.type)}</span>\n                </div>\n                <div class=\"detail-item\">\n                  <span class=\"detail-label\">ÿßŸÑÿ™ÿßÿ±ŸäÿÆ:</span>\n                  <span class=\"detail-value\">${this.formatDate(transfer.date)}</span>\n                </div>\n              </div>\n            </div>\n          </div>\n        `\n          )\n          .join('')}\n      </div>\n    `;\n  }\n\n  renderResources() {\n    if (this.sharedResources.length === 0) {\n      return `\n        <div class=\"empty-state\">\n          <i class=\"fas fa-share-alt\"></i>\n          <p>ŸÑÿß ÿ™Ÿàÿ¨ÿØ ŸÖŸàÿßÿ±ÿØ ŸÖÿ¥ÿ™ÿ±ŸÉÿ©</p>\n        </div>\n      `;\n    }\n\n    return `\n      <div class=\"resources-grid\">\n        ${this.sharedResources\n          .map(\n            resource => `\n          <div class=\"resource-card status-${resource.status}\">\n            <div class=\"resource-header\">\n              <h3>${resource.name || 'ŸÖŸàÿ±ÿØ'}</h3>\n              <span class=\"status-badge status-${resource.status}\">${this.getStatusText(resource.status)}</span>\n            </div>\n            <div class=\"resource-body\">\n              <div class=\"resource-details\">\n                <div class=\"detail-item\">\n                  <span class=\"detail-label\">ÿßŸÑŸÜŸàÿπ:</span>\n                  <span class=\"detail-value\">${this.getResourceTypeText(resource.type)}</span>\n                </div>\n                <div class=\"detail-item\">\n                  <span class=\"detail-label\">ÿßŸÑŸÅÿ±Ÿàÿπ ÿßŸÑŸÖÿ¥ÿ™ÿ±ŸÉÿ©:</span>\n                  <span class=\"detail-value\">${resource.sharedBranches || 0}</span>\n                </div>\n                <div class=\"detail-item\">\n                  <span class=\"detail-label\">ÿ™ÿßÿ±ŸäÿÆ ÿßŸÑŸÖÿ¥ÿßÿ±ŸÉÿ©:</span>\n                  <span class=\"detail-value\">${this.formatDate(resource.sharedAt)}</span>\n                </div>\n              </div>\n            </div>\n          </div>\n        `\n          )\n          .join('')}\n      </div>\n    `;\n  }\n\n  renderAnalytics() {\n    if (this.analytics.length === 0) {\n      return `\n        <div class=\"empty-state\">\n          <i class=\"fas fa-chart-bar\"></i>\n          <p>ŸÑÿß ÿ™Ÿàÿ¨ÿØ ÿ®ŸäÿßŸÜÿßÿ™ ÿ™ÿ≠ŸÑŸäŸÑŸäÿ©</p>\n        </div>\n      `;\n    }\n\n    return `\n      <div class=\"analytics-dashboard\">\n        ${this.analytics\n          .map(\n            analytic => `\n          <div class=\"analytic-card\">\n            <div class=\"analytic-header\">\n              <h3>${analytic.metric}</h3>\n              <span class=\"analytic-value\">${analytic.value}</span>\n            </div>\n            <div class=\"analytic-body\">\n              <p>${analytic.description || ''}</p>\n            </div>\n          </div>\n        `\n          )\n          .join('')}\n      </div>\n    `;\n  }\n\n  getFilteredData(data) {\n    let filtered = [...data];\n    if (this.filters.status !== 'all') {\n      filtered = filtered.filter(item => item.status === this.filters.status);\n    }\n    if (this.filters.type !== 'all') {\n      filtered = filtered.filter(item => item.type === this.filters.type);\n    }\n    if (this.filters.search) {\n      const search = this.filters.search.toLowerCase();\n      filtered = filtered.filter(\n        item =>\n          (item.name && item.name.toLowerCase().includes(search)) ||\n          (item.code && item.code.toLowerCase().includes(search)) ||\n          (item.location && item.location.toLowerCase().includes(search))\n      );\n    }\n    return filtered;\n  }\n\n  async loadData() {\n    if (!this.useAPI) {\n      this.loadFromLocalStorage();\n      return;\n    }\n\n    try {\n      if (!this.connectionManager.isFullyConnected()) {\n        this.loadFromLocalStorage();\n        return;\n      }\n\n      const [branches, mainBranch, connections, syncStatus, transfers, resources, analytics] =\n        await Promise.all([\n          this.apiClient.get(this.API_ENDPOINTS.branches || '/api/advanced-branches/branches'),\n          this.apiClient.get(this.API_ENDPOINTS.mainBranch || '/api/advanced-branches/main-branch'),\n          this.apiClient.get(\n            this.API_ENDPOINTS.connections || '/api/advanced-branches/connections'\n          ),\n          this.apiClient.get(this.API_ENDPOINTS.syncStatus || '/api/advanced-branches/sync-status'),\n          this.apiClient.get(this.API_ENDPOINTS.transfers || '/api/advanced-branches/transfers'),\n          this.apiClient.get(this.API_ENDPOINTS.resources || '/api/advanced-branches/resources'),\n          this.apiClient.get(this.API_ENDPOINTS.analytics || '/api/advanced-branches/analytics'),\n        ]);\n\n      this.branches = branches.data || [];\n      this.mainBranch = mainBranch.data || null;\n      this.connections = connections.data || [];\n      this.syncStatus = syncStatus.data || [];\n      this.transfers = transfers.data || [];\n      this.sharedResources = resources.data || [];\n      this.analytics = analytics.data || [];\n\n      this.saveToLocalStorage();\n      this.updateContent();\n    } catch (error) {\n      console.error('Error loading branches data:', error);\n      this.loadFromLocalStorage();\n    }\n  }\n\n  setupRealtimeSync() {\n    if (!this.realtimeSync) return;\n    this.realtimeSync.subscribe('advanced-branches', '*', update => {\n      if (update.action === 'create' || update.action === 'update' || update.action === 'delete') {\n        this.loadData();\n      }\n    });\n  }\n\n  setupConnectionMonitoring() {\n    if (!this.connectionManager) return;\n    this.connectionManager.on('online', () => {\n      this.loadData();\n    });\n  }\n\n  switchView(view) {\n    this.currentView = view;\n    this.updateContent();\n  }\n\n  handleFilterChange(type, event) {\n    this.filters[type] = event.target.value;\n    this.updateContent();\n  }\n\n  handleSearch(event) {\n    this.filters.search = event.target.value;\n    this.updateContent();\n  }\n\n  updateContent() {\n    const content = document.getElementById('branchesContent');\n    if (content) {\n      content.innerHTML = this.renderCurrentView();\n    }\n  }\n\n  getStatusText(status) {\n    const statusMap = {\n      active: 'ŸÜÿ¥ÿ∑',\n      inactive: 'ÿ∫Ÿäÿ± ŸÜÿ¥ÿ∑',\n      connected: 'ŸÖÿ™ÿµŸÑ',\n      disconnected: 'ÿ∫Ÿäÿ± ŸÖÿ™ÿµŸÑ',\n      syncing: 'ŸÇŸäÿØ ÿßŸÑŸÖÿ≤ÿßŸÖŸÜÿ©',\n      completed: 'ŸÖŸÉÿ™ŸÖŸÑ',\n      pending: 'ŸÇŸäÿØ ÿßŸÑÿßŸÜÿ™ÿ∏ÿßÿ±',\n      failed: 'ŸÅÿ¥ŸÑ',\n    };\n    return statusMap[status] || status;\n  }\n\n  getTypeText(type) {\n    const typeMap = {\n      main: 'ÿ±ÿ¶Ÿäÿ≥Ÿä',\n      sub: 'ŸÅÿ±ÿπŸä',\n      satellite: 'ÿ™ÿßÿ®ÿπ',\n    };\n    return typeMap[type] || type;\n  }\n\n  getConnectionTypeText(type) {\n    const typeMap = {\n      direct: 'ŸÖÿ®ÿßÿ¥ÿ±',\n      vpn: 'VPN',\n      cloud: 'ÿ≥ÿ≠ÿßÿ®Ÿä',\n      api: 'API',\n    };\n    return typeMap[type] || type;\n  }\n\n  getSyncTypeText(type) {\n    const typeMap = {\n      full: 'ŸÉÿßŸÖŸÑÿ©',\n      incremental: 'ÿ™ÿ≤ÿßŸäÿØŸäÿ©',\n      manual: 'ŸäÿØŸàŸäÿ©',\n      automatic: 'ÿ™ŸÑŸÇÿßÿ¶Ÿäÿ©',\n    };\n    return typeMap[type] || type;\n  }\n\n  getTransferTypeText(type) {\n    const typeMap = {\n      patient: 'ŸÖÿ±Ÿäÿ∂',\n      staff: 'ŸÖŸàÿ∏ŸÅ',\n      data: 'ÿ®ŸäÿßŸÜÿßÿ™',\n      resource: 'ŸÖŸàÿ±ÿØ',\n    };\n    return typeMap[type] || type;\n  }\n\n  getResourceTypeText(type) {\n    const typeMap = {\n      equipment: 'ŸÖÿπÿØÿßÿ™',\n      staff: 'ŸÖŸàÿ∏ŸÅŸäŸÜ',\n      data: 'ÿ®ŸäÿßŸÜÿßÿ™',\n      service: 'ÿÆÿØŸÖÿ©',\n    };\n    return typeMap[type] || type;\n  }\n\n  formatDate(date) {\n    if (!date) return 'ÿ∫Ÿäÿ± ŸÖÿ≠ÿØÿØ';\n    return new Date(date).toLocaleDateString('ar-SA');\n  }\n\n  saveToLocalStorage() {\n    try {\n      localStorage.setItem('advancedBranches', JSON.stringify(this.branches));\n      localStorage.setItem('advancedMainBranch', JSON.stringify(this.mainBranch));\n      localStorage.setItem('advancedConnections', JSON.stringify(this.connections));\n      localStorage.setItem('advancedSyncStatus', JSON.stringify(this.syncStatus));\n      localStorage.setItem('advancedTransfers', JSON.stringify(this.transfers));\n      localStorage.setItem('advancedResources', JSON.stringify(this.sharedResources));\n      localStorage.setItem('advancedAnalytics', JSON.stringify(this.analytics));\n    } catch (error) {\n      console.error('Error saving to localStorage:', error);\n    }\n  }\n\n  loadFromLocalStorage() {\n    try {\n      this.branches = JSON.parse(localStorage.getItem('advancedBranches') || '[]');\n      this.mainBranch = JSON.parse(localStorage.getItem('advancedMainBranch') || 'null');\n      this.connections = JSON.parse(localStorage.getItem('advancedConnections') || '[]');\n      this.syncStatus = JSON.parse(localStorage.getItem('advancedSyncStatus') || '[]');\n      this.transfers = JSON.parse(localStorage.getItem('advancedTransfers') || '[]');\n      this.sharedResources = JSON.parse(localStorage.getItem('advancedResources') || '[]');\n      this.analytics = JSON.parse(localStorage.getItem('advancedAnalytics') || '[]');\n    } catch (error) {\n      console.error('Error loading from localStorage:', error);\n    }\n  }\n\n  setupEventListeners() {\n    this.createBranch = this.createBranch.bind(this);\n    this.connectBranch = this.connectBranch.bind(this);\n    this.syncAllBranches = this.syncAllBranches.bind(this);\n    this.switchView = this.switchView.bind(this);\n    this.handleFilterChange = this.handleFilterChange.bind(this);\n    this.handleSearch = this.handleSearch.bind(this);\n    this.viewBranch = this.viewBranch.bind(this);\n    this.editBranch = this.editBranch.bind(this);\n    this.disconnectBranch = this.disconnectBranch.bind(this);\n  }\n\n  async createBranch() {\n    console.log('Create branch');\n  }\n\n  async connectBranch(branchId) {\n    console.log('Connect branch', branchId);\n  }\n\n  async syncAllBranches() {\n    console.log('Sync all branches');\n  }\n\n  async viewBranch(id) {\n    console.log('View branch', id);\n  }\n\n  async editBranch(id) {\n    console.log('Edit branch', id);\n  }\n\n  async disconnectBranch(id) {\n    console.log('Disconnect branch', id);\n  }\n}\n\nexport default AdvancedBranchesManagement;\n"],"names":["AdvancedBranchesManagement","container","apiClient","API_ENDPOINTS","connectionManager","realtimeSync","systemEnhancer","aiAssistant","advancedCache","filtered","branch","b","conn","sync","transfer","resource","analytic","data","item","search","branches","mainBranch","connections","syncStatus","transfers","resources","analytics","error","update","view","type","event","content","status","date","branchId","id"],"mappings":"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"}