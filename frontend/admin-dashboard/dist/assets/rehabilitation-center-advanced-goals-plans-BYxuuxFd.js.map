{"version":3,"file":"rehabilitation-center-advanced-goals-plans-BYxuuxFd.js","sources":["../../src/rehabilitation-center-advanced-goals-plans.js"],"sourcesContent":["/**\n * üéØ Advanced Goals & Plans Management System\n * ŸÜÿ∏ÿßŸÖ ÿ•ÿØÿßÿ±ÿ© ÿßŸÑÿ£ŸáÿØÿßŸÅ ŸàÿßŸÑÿÆÿ∑ÿ∑ ÿßŸÑŸÖÿ™ŸÇÿØŸÖ ÿßŸÑÿ∞ŸÉŸä ÿßŸÑŸÖÿ™ŸÉÿßŸÖŸÑ\n */\n\nimport apiClient from './utils/api-client.js';\nimport { API_ENDPOINTS } from './config/api.js';\nimport connectionManager from './utils/connection-manager.js';\nimport realtimeSync from './utils/realtime-sync.js';\nimport systemEnhancer from './utils/system-enhancer.js';\nimport aiAssistant from './utils/ai-assistant.js';\nimport advancedCache from './utils/advanced-cache.js';\n\nclass AdvancedGoalsPlans {\n  constructor(container) {\n    this.container = container;\n    this.useAPI = true;\n    this.apiClient = apiClient;\n    this.API_ENDPOINTS = API_ENDPOINTS.advancedGoalsPlans || {};\n    this.connectionManager = connectionManager;\n    this.realtimeSync = realtimeSync;\n    this.systemEnhancer = systemEnhancer;\n    this.aiAssistant = aiAssistant;\n    this.advancedCache = advancedCache;\n\n    this.goals = [];\n    this.plans = [];\n    this.objectives = [];\n    this.milestones = [];\n    this.tasks = [];\n    this.progress = [];\n    this.reviews = [];\n    this.recommendations = [];\n    this.analytics = [];\n\n    this.currentView = 'goals';\n    this.filters = {\n      status: 'all',\n      priority: 'all',\n      category: 'all',\n      patient: 'all',\n    };\n\n    this.init();\n  }\n\n  async init() {\n    this.render();\n    this.setupEventListeners();\n    await this.loadData();\n    this.setupRealtimeSync();\n    this.setupConnectionMonitoring();\n  }\n\n  render() {\n    if (!this.container) return;\n\n    this.container.innerHTML = `\n      <div class=\"advanced-goals-plans\">\n        <div class=\"goals-plans-header\">\n          <h2>üéØ ŸÜÿ∏ÿßŸÖ ÿ•ÿØÿßÿ±ÿ© ÿßŸÑÿ£ŸáÿØÿßŸÅ ŸàÿßŸÑÿÆÿ∑ÿ∑ ÿßŸÑŸÖÿ™ŸÇÿØŸÖ ÿßŸÑÿ∞ŸÉŸä ÿßŸÑŸÖÿ™ŸÉÿßŸÖŸÑ</h2>\n          <div class=\"header-actions\">\n            <button class=\"btn btn-primary\" onclick=\"this.createGoal()\">\n              <i class=\"fas fa-plus\"></i> ŸáÿØŸÅ ÿ¨ÿØŸäÿØ\n            </button>\n            <button class=\"btn btn-secondary\" onclick=\"this.createPlan()\">\n              <i class=\"fas fa-clipboard-list\"></i> ÿÆÿ∑ÿ© ÿ¨ÿØŸäÿØÿ©\n            </button>\n          </div>\n        </div>\n\n        <div class=\"goals-plans-tabs\">\n          <button class=\"tab-btn ${this.currentView === 'goals' ? 'active' : ''}\" \n                  onclick=\"this.switchView('goals')\">\n            <i class=\"fas fa-bullseye\"></i> ÿßŸÑÿ£ŸáÿØÿßŸÅ\n          </button>\n          <button class=\"tab-btn ${this.currentView === 'plans' ? 'active' : ''}\" \n                  onclick=\"this.switchView('plans')\">\n            <i class=\"fas fa-clipboard-list\"></i> ÿßŸÑÿÆÿ∑ÿ∑\n          </button>\n          <button class=\"tab-btn ${this.currentView === 'objectives' ? 'active' : ''}\" \n                  onclick=\"this.switchView('objectives')\">\n            <i class=\"fas fa-list-check\"></i> ÿßŸÑÿ£ŸáÿØÿßŸÅ ÿßŸÑŸÅÿ±ÿπŸäÿ©\n          </button>\n          <button class=\"tab-btn ${this.currentView === 'milestones' ? 'active' : ''}\" \n                  onclick=\"this.switchView('milestones')\">\n            <i class=\"fas fa-flag-checkered\"></i> ÿßŸÑŸÖÿπÿßŸÑŸÖ\n          </button>\n          <button class=\"tab-btn ${this.currentView === 'tasks' ? 'active' : ''}\" \n                  onclick=\"this.switchView('tasks')\">\n            <i class=\"fas fa-tasks\"></i> ÿßŸÑŸÖŸáÿßŸÖ\n          </button>\n          <button class=\"tab-btn ${this.currentView === 'progress' ? 'active' : ''}\" \n                  onclick=\"this.switchView('progress')\">\n            <i class=\"fas fa-chart-line\"></i> ÿßŸÑÿ™ŸÇÿØŸÖ\n          </button>\n          <button class=\"tab-btn ${this.currentView === 'reviews' ? 'active' : ''}\" \n                  onclick=\"this.switchView('reviews')\">\n            <i class=\"fas fa-clipboard-check\"></i> ÿßŸÑŸÖÿ±ÿßÿ¨ÿπÿßÿ™\n          </button>\n          <button class=\"tab-btn ${this.currentView === 'recommendations' ? 'active' : ''}\" \n                  onclick=\"this.switchView('recommendations')\">\n            <i class=\"fas fa-lightbulb\"></i> ÿßŸÑÿ™ŸàÿµŸäÿßÿ™\n          </button>\n          <button class=\"tab-btn ${this.currentView === 'analytics' ? 'active' : ''}\" \n                  onclick=\"this.switchView('analytics')\">\n            <i class=\"fas fa-chart-bar\"></i> ÿßŸÑÿ™ÿ≠ŸÑŸäŸÑÿßÿ™\n          </button>\n        </div>\n\n        <div class=\"goals-plans-filters\">\n          <select class=\"filter-select\" onchange=\"this.handleFilterChange('status', event)\">\n            <option value=\"all\">ÿ¨ŸÖŸäÿπ ÿßŸÑÿ≠ÿßŸÑÿßÿ™</option>\n            <option value=\"pending\">ŸÇŸäÿØ ÿßŸÑÿßŸÜÿ™ÿ∏ÿßÿ±</option>\n            <option value=\"in-progress\">ŸÇŸäÿØ ÿßŸÑÿ™ŸÜŸÅŸäÿ∞</option>\n            <option value=\"completed\">ŸÖŸÉÿ™ŸÖŸÑ</option>\n            <option value=\"cancelled\">ŸÖŸÑÿ∫Ÿä</option>\n          </select>\n          <select class=\"filter-select\" onchange=\"this.handleFilterChange('priority', event)\">\n            <option value=\"all\">ÿ¨ŸÖŸäÿπ ÿßŸÑÿ£ŸàŸÑŸàŸäÿßÿ™</option>\n            <option value=\"low\">ŸÖŸÜÿÆŸÅÿ∂</option>\n            <option value=\"medium\">ŸÖÿ™Ÿàÿ≥ÿ∑</option>\n            <option value=\"high\">ÿπÿßŸÑŸä</option>\n            <option value=\"urgent\">ÿπÿßÿ¨ŸÑ</option>\n          </select>\n          <input type=\"text\" class=\"search-input\" placeholder=\"ÿ®ÿ≠ÿ´...\" \n                 oninput=\"this.handleSearch(event)\">\n        </div>\n\n        <div class=\"goals-plans-content\" id=\"goalsPlansContent\">\n          ${this.renderCurrentView()}\n        </div>\n      </div>\n    `;\n  }\n\n  renderCurrentView() {\n    switch (this.currentView) {\n      case 'goals':\n        return this.renderGoals();\n      case 'plans':\n        return this.renderPlans();\n      case 'objectives':\n        return this.renderObjectives();\n      case 'milestones':\n        return this.renderMilestones();\n      case 'tasks':\n        return this.renderTasks();\n      case 'progress':\n        return this.renderProgress();\n      case 'reviews':\n        return this.renderReviews();\n      case 'recommendations':\n        return this.renderRecommendations();\n      case 'analytics':\n        return this.renderAnalytics();\n      default:\n        return this.renderGoals();\n    }\n  }\n\n  renderGoals() {\n    const filtered = this.getFilteredData(this.goals);\n\n    if (filtered.length === 0) {\n      return `\n        <div class=\"empty-state\">\n          <i class=\"fas fa-bullseye\"></i>\n          <p>ŸÑÿß ÿ™Ÿàÿ¨ÿØ ÿ£ŸáÿØÿßŸÅ</p>\n          <button class=\"btn btn-primary\" onclick=\"this.createGoal()\">\n            ÿ•ÿ∂ÿßŸÅÿ© ŸáÿØŸÅ ÿ¨ÿØŸäÿØ\n          </button>\n        </div>\n      `;\n    }\n\n    return `\n      <div class=\"goals-grid\">\n        ${filtered\n          .map(\n            goal => `\n          <div class=\"goal-card status-${goal.status} priority-${goal.priority}\">\n            <div class=\"goal-header\">\n              <div class=\"goal-info\">\n                <h3>${goal.title || 'ŸáÿØŸÅ'}</h3>\n                <p class=\"goal-category\">${this.getCategoryText(goal.category)}</p>\n              </div>\n              <div class=\"goal-badges\">\n                <span class=\"status-badge status-${goal.status}\">${this.getStatusText(goal.status)}</span>\n                <span class=\"priority-badge priority-${goal.priority}\">${this.getPriorityText(goal.priority)}</span>\n              </div>\n            </div>\n            <div class=\"goal-body\">\n              <div class=\"goal-description\">\n                <p>${goal.description || ''}</p>\n              </div>\n              <div class=\"goal-details\">\n                <div class=\"detail-item\">\n                  <span class=\"detail-label\">ÿßŸÑŸÖÿ±Ÿäÿ∂:</span>\n                  <span class=\"detail-value\">${goal.patientName || 'ÿ∫Ÿäÿ± ŸÖÿ≠ÿØÿØ'}</span>\n                </div>\n                <div class=\"detail-item\">\n                  <span class=\"detail-label\">ÿßŸÑŸÖŸàÿπÿØ ÿßŸÑŸÜŸáÿßÿ¶Ÿä:</span>\n                  <span class=\"detail-value\">${this.formatDate(goal.deadline)}</span>\n                </div>\n                <div class=\"detail-item\">\n                  <span class=\"detail-label\">ÿßŸÑÿ£ŸáÿØÿßŸÅ ÿßŸÑŸÅÿ±ÿπŸäÿ©:</span>\n                  <span class=\"detail-value\">${goal.objectivesCount || 0}</span>\n                </div>\n                <div class=\"detail-item\">\n                  <span class=\"detail-label\">ÿßŸÑŸÖŸáÿßŸÖ:</span>\n                  <span class=\"detail-value\">${goal.tasksCount || 0}</span>\n                </div>\n              </div>\n              <div class=\"goal-progress\">\n                <div class=\"progress-bar\">\n                  <div class=\"progress-fill\" style=\"width: ${goal.progress || 0}%\"></div>\n                </div>\n                <span>${goal.progress || 0}%</span>\n              </div>\n            </div>\n            <div class=\"goal-actions\">\n              <button class=\"btn btn-sm btn-primary\" onclick=\"this.viewGoal(${goal.id})\">\n                <i class=\"fas fa-eye\"></i> ÿπÿ±ÿ∂\n              </button>\n              <button class=\"btn btn-sm btn-success\" onclick=\"this.updateGoalProgress(${goal.id})\">\n                <i class=\"fas fa-sync\"></i> ÿ™ÿ≠ÿØŸäÿ´\n              </button>\n              <button class=\"btn btn-sm btn-secondary\" onclick=\"this.editGoal(${goal.id})\">\n                <i class=\"fas fa-edit\"></i> ÿ™ÿπÿØŸäŸÑ\n              </button>\n            </div>\n          </div>\n        `\n          )\n          .join('')}\n      </div>\n    `;\n  }\n\n  renderPlans() {\n    if (this.plans.length === 0) {\n      return `\n        <div class=\"empty-state\">\n          <i class=\"fas fa-clipboard-list\"></i>\n          <p>ŸÑÿß ÿ™Ÿàÿ¨ÿØ ÿÆÿ∑ÿ∑</p>\n          <button class=\"btn btn-primary\" onclick=\"this.createPlan()\">\n            ÿ•ÿ∂ÿßŸÅÿ© ÿÆÿ∑ÿ© ÿ¨ÿØŸäÿØÿ©\n          </button>\n        </div>\n      `;\n    }\n\n    return `\n      <div class=\"plans-list\">\n        ${this.plans\n          .map(\n            plan => `\n          <div class=\"plan-card status-${plan.status}\">\n            <div class=\"plan-header\">\n              <div class=\"plan-info\">\n                <h3>${plan.name || 'ÿÆÿ∑ÿ©'}</h3>\n                <p class=\"plan-type\">${this.getTypeText(plan.type)}</p>\n              </div>\n              <span class=\"status-badge status-${plan.status}\">${this.getStatusText(plan.status)}</span>\n            </div>\n            <div class=\"plan-body\">\n              <div class=\"plan-details\">\n                <div class=\"detail-item\">\n                  <span class=\"detail-label\">ÿßŸÑŸÖÿ±Ÿäÿ∂:</span>\n                  <span class=\"detail-value\">${plan.patientName || 'ÿ∫Ÿäÿ± ŸÖÿ≠ÿØÿØ'}</span>\n                </div>\n                <div class=\"detail-item\">\n                  <span class=\"detail-label\">ÿ™ÿßÿ±ŸäÿÆ ÿßŸÑÿ®ÿØÿ°:</span>\n                  <span class=\"detail-value\">${this.formatDate(plan.startDate)}</span>\n                </div>\n                <div class=\"detail-item\">\n                  <span class=\"detail-label\">ÿ™ÿßÿ±ŸäÿÆ ÿßŸÑÿßŸÜÿ™Ÿáÿßÿ°:</span>\n                  <span class=\"detail-value\">${this.formatDate(plan.endDate)}</span>\n                </div>\n                <div class=\"detail-item\">\n                  <span class=\"detail-label\">ÿπÿØÿØ ÿßŸÑÿ£ŸáÿØÿßŸÅ:</span>\n                  <span class=\"detail-value\">${plan.goalsCount || 0}</span>\n                </div>\n                <div class=\"detail-item\">\n                  <span class=\"detail-label\">ÿπÿØÿØ ÿßŸÑŸÖÿπÿßŸÑŸÖ:</span>\n                  <span class=\"detail-value\">${plan.milestonesCount || 0}</span>\n                </div>\n              </div>\n              <div class=\"plan-progress\">\n                <div class=\"progress-bar\">\n                  <div class=\"progress-fill\" style=\"width: ${plan.progress || 0}%\"></div>\n                </div>\n                <span>${plan.progress || 0}%</span>\n              </div>\n            </div>\n            <div class=\"plan-actions\">\n              <button class=\"btn btn-sm btn-primary\" onclick=\"this.viewPlan(${plan.id})\">\n                <i class=\"fas fa-eye\"></i> ÿπÿ±ÿ∂\n              </button>\n              <button class=\"btn btn-sm btn-secondary\" onclick=\"this.editPlan(${plan.id})\">\n                <i class=\"fas fa-edit\"></i> ÿ™ÿπÿØŸäŸÑ\n              </button>\n            </div>\n          </div>\n        `\n          )\n          .join('')}\n      </div>\n    `;\n  }\n\n  renderObjectives() {\n    if (this.objectives.length === 0) {\n      return `\n        <div class=\"empty-state\">\n          <i class=\"fas fa-list-check\"></i>\n          <p>ŸÑÿß ÿ™Ÿàÿ¨ÿØ ÿ£ŸáÿØÿßŸÅ ŸÅÿ±ÿπŸäÿ©</p>\n        </div>\n      `;\n    }\n\n    return `\n      <div class=\"objectives-list\">\n        ${this.objectives\n          .map(\n            objective => `\n          <div class=\"objective-card ${objective.completed ? 'completed' : ''}\">\n            <div class=\"objective-header\">\n              <h3>${objective.title || 'ŸáÿØŸÅ ŸÅÿ±ÿπŸä'}</h3>\n              <div class=\"objective-badges\">\n                <span class=\"goal-badge\">${objective.goalName || 'ÿ∫Ÿäÿ± ŸÖÿ≠ÿØÿØ'}</span>\n                ${\n                  objective.completed\n                    ? `\n                  <span class=\"completed-badge\">\n                    <i class=\"fas fa-check-circle\"></i> ŸÖŸÉÿ™ŸÖŸÑ\n                  </span>\n                `\n                    : ''\n                }\n              </div>\n            </div>\n            <div class=\"objective-body\">\n              <p>${objective.description || ''}</p>\n              <div class=\"objective-details\">\n                <div class=\"detail-item\">\n                  <span class=\"detail-label\">ÿßŸÑŸÖŸàÿπÿØ ÿßŸÑŸÜŸáÿßÿ¶Ÿä:</span>\n                  <span class=\"detail-value\">${this.formatDate(objective.deadline)}</span>\n                </div>\n                <div class=\"detail-item\">\n                  <span class=\"detail-label\">ÿßŸÑÿ™ŸÇÿØŸÖ:</span>\n                  <span class=\"detail-value\">${objective.progress || 0}%</span>\n                </div>\n              </div>\n            </div>\n          </div>\n        `\n          )\n          .join('')}\n      </div>\n    `;\n  }\n\n  renderMilestones() {\n    if (this.milestones.length === 0) {\n      return `\n        <div class=\"empty-state\">\n          <i class=\"fas fa-flag-checkered\"></i>\n          <p>ŸÑÿß ÿ™Ÿàÿ¨ÿØ ŸÖÿπÿßŸÑŸÖ</p>\n        </div>\n      `;\n    }\n\n    return `\n      <div class=\"milestones-list\">\n        ${this.milestones\n          .map(\n            milestone => `\n          <div class=\"milestone-card ${milestone.achieved ? 'achieved' : ''}\">\n            <div class=\"milestone-header\">\n              <h3>${milestone.name || 'ŸÖÿπŸÑŸÖ'}</h3>\n              <div class=\"milestone-badges\">\n                <span class=\"plan-badge\">${milestone.planName || 'ÿ∫Ÿäÿ± ŸÖÿ≠ÿØÿØ'}</span>\n                ${\n                  milestone.achieved\n                    ? `\n                  <span class=\"achieved-badge\">\n                    <i class=\"fas fa-check-circle\"></i> ŸÖÿ≠ŸÇŸÇ\n                  </span>\n                `\n                    : ''\n                }\n              </div>\n            </div>\n            <div class=\"milestone-body\">\n              <div class=\"milestone-details\">\n                <div class=\"detail-item\">\n                  <span class=\"detail-label\">ÿßŸÑÿ™ÿßÿ±ŸäÿÆ ÿßŸÑŸÖÿ≥ÿ™ŸáÿØŸÅ:</span>\n                  <span class=\"detail-value\">${this.formatDate(milestone.targetDate)}</span>\n                </div>\n                <div class=\"detail-item\">\n                  <span class=\"detail-label\">ÿ™ÿßÿ±ŸäÿÆ ÿßŸÑÿ™ÿ≠ŸÇŸäŸÇ:</span>\n                  <span class=\"detail-value\">${milestone.achievedDate ? this.formatDate(milestone.achievedDate) : 'ŸÑŸÖ Ÿäÿ™ÿ≠ŸÇŸÇ ÿ®ÿπÿØ'}</span>\n                </div>\n              </div>\n            </div>\n          </div>\n        `\n          )\n          .join('')}\n      </div>\n    `;\n  }\n\n  renderTasks() {\n    if (this.tasks.length === 0) {\n      return `\n        <div class=\"empty-state\">\n          <i class=\"fas fa-tasks\"></i>\n          <p>ŸÑÿß ÿ™Ÿàÿ¨ÿØ ŸÖŸáÿßŸÖ</p>\n        </div>\n      `;\n    }\n\n    return `\n      <div class=\"tasks-list\">\n        ${this.tasks\n          .map(\n            task => `\n          <div class=\"task-card status-${task.status} priority-${task.priority}\">\n            <div class=\"task-header\">\n              <h3>${task.title || 'ŸÖŸáŸÖÿ©'}</h3>\n              <div class=\"task-badges\">\n                <span class=\"status-badge status-${task.status}\">${this.getStatusText(task.status)}</span>\n                <span class=\"priority-badge priority-${task.priority}\">${this.getPriorityText(task.priority)}</span>\n              </div>\n            </div>\n            <div class=\"task-body\">\n              <p>${task.description || ''}</p>\n              <div class=\"task-details\">\n                <div class=\"detail-item\">\n                  <span class=\"detail-label\">ÿßŸÑŸáÿØŸÅ:</span>\n                  <span class=\"detail-value\">${task.goalName || 'ÿ∫Ÿäÿ± ŸÖÿ≠ÿØÿØ'}</span>\n                </div>\n                <div class=\"detail-item\">\n                  <span class=\"detail-label\">ÿßŸÑŸÖŸàÿπÿØ ÿßŸÑŸÜŸáÿßÿ¶Ÿä:</span>\n                  <span class=\"detail-value\">${this.formatDate(task.deadline)}</span>\n                </div>\n                <div class=\"detail-item\">\n                  <span class=\"detail-label\">ÿßŸÑŸÖÿ≥ÿ§ŸàŸÑ:</span>\n                  <span class=\"detail-value\">${task.assigneeName || 'ÿ∫Ÿäÿ± ŸÖÿ≠ÿØÿØ'}</span>\n                </div>\n              </div>\n            </div>\n            <div class=\"task-actions\">\n              <button class=\"btn btn-sm btn-primary\" onclick=\"this.viewTask(${task.id})\">\n                <i class=\"fas fa-eye\"></i> ÿπÿ±ÿ∂\n              </button>\n              <button class=\"btn btn-sm btn-success\" onclick=\"this.completeTask(${task.id})\">\n                <i class=\"fas fa-check\"></i> ÿ•ŸÉŸÖÿßŸÑ\n              </button>\n            </div>\n          </div>\n        `\n          )\n          .join('')}\n      </div>\n    `;\n  }\n\n  renderProgress() {\n    if (this.progress.length === 0) {\n      return `\n        <div class=\"empty-state\">\n          <i class=\"fas fa-chart-line\"></i>\n          <p>ŸÑÿß ÿ™Ÿàÿ¨ÿØ ÿ®ŸäÿßŸÜÿßÿ™ ÿ™ŸÇÿØŸÖ</p>\n        </div>\n      `;\n    }\n\n    return `\n      <div class=\"progress-dashboard\">\n        ${this.progress\n          .map(\n            prog => `\n          <div class=\"progress-card\">\n            <div class=\"progress-header\">\n              <h3>${prog.goalName || prog.planName || 'ÿ∫Ÿäÿ± ŸÖÿ≠ÿØÿØ'}</h3>\n              <span class=\"progress-type\">${prog.type || 'ŸáÿØŸÅ'}</span>\n            </div>\n            <div class=\"progress-body\">\n              <div class=\"progress-metrics\">\n                <div class=\"metric-item\">\n                  <span class=\"metric-label\">ÿßŸÑÿ™ŸÇÿØŸÖ ÿßŸÑÿ•ÿ¨ŸÖÿßŸÑŸä:</span>\n                  <span class=\"metric-value\">${prog.overallProgress || 0}%</span>\n                </div>\n                <div class=\"metric-item\">\n                  <span class=\"metric-label\">ÿßŸÑÿ£ŸáÿØÿßŸÅ ÿßŸÑŸÖŸÉÿ™ŸÖŸÑÿ©:</span>\n                  <span class=\"metric-value\">${prog.completedGoals || 0}</span>\n                </div>\n                <div class=\"metric-item\">\n                  <span class=\"metric-label\">ÿßŸÑŸÖŸáÿßŸÖ ÿßŸÑŸÖŸÉÿ™ŸÖŸÑÿ©:</span>\n                  <span class=\"metric-value\">${prog.completedTasks || 0}</span>\n                </div>\n                <div class=\"metric-item\">\n                  <span class=\"metric-label\">ÿßŸÑŸÖÿπÿßŸÑŸÖ ÿßŸÑŸÖÿ≠ŸÇŸÇÿ©:</span>\n                  <span class=\"metric-value\">${prog.achievedMilestones || 0}</span>\n                </div>\n              </div>\n              <div class=\"progress-timeline\">\n                ${\n                  prog.history\n                    ?.map(\n                      (point, idx) => `\n                  <div class=\"timeline-point\">\n                    <div class=\"timeline-date\">${this.formatDate(point.date)}</div>\n                    <div class=\"timeline-progress\">${point.progress || 0}%</div>\n                  </div>\n                `\n                    )\n                    .join('') || ''\n                }\n              </div>\n            </div>\n          </div>\n        `\n          )\n          .join('')}\n      </div>\n    `;\n  }\n\n  renderReviews() {\n    if (this.reviews.length === 0) {\n      return `\n        <div class=\"empty-state\">\n          <i class=\"fas fa-clipboard-check\"></i>\n          <p>ŸÑÿß ÿ™Ÿàÿ¨ÿØ ŸÖÿ±ÿßÿ¨ÿπÿßÿ™</p>\n        </div>\n      `;\n    }\n\n    return `\n      <div class=\"reviews-list\">\n        ${this.reviews\n          .map(\n            review => `\n          <div class=\"review-card\">\n            <div class=\"review-header\">\n              <h3>${review.title || 'ŸÖÿ±ÿßÿ¨ÿπÿ©'}</h3>\n              <span class=\"review-date\">${this.formatDate(review.date)}</span>\n            </div>\n            <div class=\"review-body\">\n              <div class=\"review-details\">\n                <div class=\"detail-item\">\n                  <span class=\"detail-label\">ÿßŸÑŸáÿØŸÅ/ÿßŸÑÿÆÿ∑ÿ©:</span>\n                  <span class=\"detail-value\">${review.targetName || 'ÿ∫Ÿäÿ± ŸÖÿ≠ÿØÿØ'}</span>\n                </div>\n                <div class=\"detail-item\">\n                  <span class=\"detail-label\">ÿßŸÑŸÖÿ±ÿßÿ¨ÿπ:</span>\n                  <span class=\"detail-value\">${review.reviewerName || 'ÿ∫Ÿäÿ± ŸÖÿ≠ÿØÿØ'}</span>\n                </div>\n                <div class=\"detail-item\">\n                  <span class=\"detail-label\">ÿßŸÑÿ™ŸÇŸäŸäŸÖ:</span>\n                  <span class=\"detail-value\">${review.rating || 'ÿ∫Ÿäÿ± ŸÖÿ≠ÿØÿØ'}</span>\n                </div>\n              </div>\n              <div class=\"review-comments\">\n                <p>${review.comments || ''}</p>\n              </div>\n            </div>\n          </div>\n        `\n          )\n          .join('')}\n      </div>\n    `;\n  }\n\n  renderRecommendations() {\n    if (this.recommendations.length === 0) {\n      return `\n        <div class=\"empty-state\">\n          <i class=\"fas fa-lightbulb\"></i>\n          <p>ŸÑÿß ÿ™Ÿàÿ¨ÿØ ÿ™ŸàÿµŸäÿßÿ™</p>\n        </div>\n      `;\n    }\n\n    return `\n      <div class=\"recommendations-list\">\n        ${this.recommendations\n          .map(\n            rec => `\n          <div class=\"recommendation-card priority-${rec.priority || 'medium'}\">\n            <div class=\"recommendation-header\">\n              <h3>${rec.title || 'ÿ™ŸàÿµŸäÿ©'}</h3>\n              <span class=\"priority-badge priority-${rec.priority || 'medium'}\">\n                ${this.getPriorityText(rec.priority || 'medium')}\n              </span>\n            </div>\n            <div class=\"recommendation-body\">\n              <p>${rec.description || ''}</p>\n              <div class=\"recommendation-details\">\n                <div class=\"detail-item\">\n                  <span class=\"detail-label\">ÿßŸÑŸáÿØŸÅ/ÿßŸÑÿÆÿ∑ÿ©:</span>\n                  <span class=\"detail-value\">${rec.targetName || 'ÿ∫Ÿäÿ± ŸÖÿ≠ÿØÿØ'}</span>\n                </div>\n                <div class=\"detail-item\">\n                  <span class=\"detail-label\">ÿßŸÑÿ™ÿ£ÿ´Ÿäÿ± ÿßŸÑŸÖÿ™ŸàŸÇÿπ:</span>\n                  <span class=\"detail-value\">${rec.expectedImpact || 'ÿ∫Ÿäÿ± ŸÖÿ≠ÿØÿØ'}</span>\n                </div>\n              </div>\n            </div>\n            <div class=\"recommendation-actions\">\n              <button class=\"btn btn-sm btn-primary\" onclick=\"this.applyRecommendation(${rec.id})\">\n                <i class=\"fas fa-check\"></i> ÿ™ÿ∑ÿ®ŸäŸÇ\n              </button>\n            </div>\n          </div>\n        `\n          )\n          .join('')}\n      </div>\n    `;\n  }\n\n  renderAnalytics() {\n    if (this.analytics.length === 0) {\n      return `\n        <div class=\"empty-state\">\n          <i class=\"fas fa-chart-bar\"></i>\n          <p>ŸÑÿß ÿ™Ÿàÿ¨ÿØ ÿ®ŸäÿßŸÜÿßÿ™ ÿ™ÿ≠ŸÑŸäŸÑŸäÿ©</p>\n        </div>\n      `;\n    }\n\n    return `\n      <div class=\"analytics-dashboard\">\n        ${this.analytics\n          .map(\n            analytic => `\n          <div class=\"analytic-card\">\n            <div class=\"analytic-header\">\n              <h3>${analytic.metric}</h3>\n              <span class=\"analytic-value\">${analytic.value}</span>\n            </div>\n            <div class=\"analytic-body\">\n              <p>${analytic.description || ''}</p>\n              ${\n                analytic.trend\n                  ? `\n                <div class=\"analytic-trend ${analytic.trend > 0 ? 'up' : 'down'}\">\n                  <i class=\"fas fa-arrow-${analytic.trend > 0 ? 'up' : 'down'}\"></i>\n                  ${Math.abs(analytic.trend)}%\n                </div>\n              `\n                  : ''\n              }\n            </div>\n          </div>\n        `\n          )\n          .join('')}\n      </div>\n    `;\n  }\n\n  getFilteredData(data) {\n    let filtered = [...data];\n    if (this.filters.status !== 'all') {\n      filtered = filtered.filter(item => item.status === this.filters.status);\n    }\n    if (this.filters.priority !== 'all') {\n      filtered = filtered.filter(item => item.priority === this.filters.priority);\n    }\n    if (this.filters.category !== 'all') {\n      filtered = filtered.filter(item => item.category === this.filters.category);\n    }\n    if (this.filters.patient !== 'all') {\n      filtered = filtered.filter(item => item.patientId === parseInt(this.filters.patient));\n    }\n    return filtered;\n  }\n\n  async loadData() {\n    if (!this.useAPI) {\n      this.loadFromLocalStorage();\n      return;\n    }\n\n    try {\n      if (!this.connectionManager.isFullyConnected()) {\n        this.loadFromLocalStorage();\n        return;\n      }\n\n      const [\n        goals,\n        plans,\n        objectives,\n        milestones,\n        tasks,\n        progress,\n        reviews,\n        recommendations,\n        analytics,\n      ] = await Promise.all([\n        this.apiClient.get(this.API_ENDPOINTS.goals || '/api/advanced-goals-plans/goals'),\n        this.apiClient.get(this.API_ENDPOINTS.plans || '/api/advanced-goals-plans/plans'),\n        this.apiClient.get(this.API_ENDPOINTS.objectives || '/api/advanced-goals-plans/objectives'),\n        this.apiClient.get(this.API_ENDPOINTS.milestones || '/api/advanced-goals-plans/milestones'),\n        this.apiClient.get(this.API_ENDPOINTS.tasks || '/api/advanced-goals-plans/tasks'),\n        this.apiClient.get(this.API_ENDPOINTS.progress || '/api/advanced-goals-plans/progress'),\n        this.apiClient.get(this.API_ENDPOINTS.reviews || '/api/advanced-goals-plans/reviews'),\n        this.apiClient.get(\n          this.API_ENDPOINTS.recommendations || '/api/advanced-goals-plans/recommendations'\n        ),\n        this.apiClient.get(this.API_ENDPOINTS.analytics || '/api/advanced-goals-plans/analytics'),\n      ]);\n\n      this.goals = goals.data || [];\n      this.plans = plans.data || [];\n      this.objectives = objectives.data || [];\n      this.milestones = milestones.data || [];\n      this.tasks = tasks.data || [];\n      this.progress = progress.data || [];\n      this.reviews = reviews.data || [];\n      this.recommendations = recommendations.data || [];\n      this.analytics = analytics.data || [];\n\n      this.saveToLocalStorage();\n      this.updateContent();\n    } catch (error) {\n      console.error('Error loading goals and plans data:', error);\n      this.loadFromLocalStorage();\n    }\n  }\n\n  setupRealtimeSync() {\n    if (!this.realtimeSync) return;\n    this.realtimeSync.subscribe('advanced-goals-plans', '*', update => {\n      if (update.action === 'create' || update.action === 'update' || update.action === 'delete') {\n        this.loadData();\n      }\n    });\n  }\n\n  setupConnectionMonitoring() {\n    if (!this.connectionManager) return;\n    this.connectionManager.on('online', () => {\n      this.loadData();\n    });\n  }\n\n  switchView(view) {\n    this.currentView = view;\n    this.updateContent();\n  }\n\n  handleFilterChange(type, event) {\n    this.filters[type] = event.target.value;\n    this.updateContent();\n  }\n\n  handleSearch(event) {\n    this.updateContent();\n  }\n\n  updateContent() {\n    const content = document.getElementById('goalsPlansContent');\n    if (content) {\n      content.innerHTML = this.renderCurrentView();\n    }\n  }\n\n  getStatusText(status) {\n    const statusMap = {\n      pending: 'ŸÇŸäÿØ ÿßŸÑÿßŸÜÿ™ÿ∏ÿßÿ±',\n      'in-progress': 'ŸÇŸäÿØ ÿßŸÑÿ™ŸÜŸÅŸäÿ∞',\n      completed: 'ŸÖŸÉÿ™ŸÖŸÑ',\n      cancelled: 'ŸÖŸÑÿ∫Ÿä',\n    };\n    return statusMap[status] || status;\n  }\n\n  getPriorityText(priority) {\n    const priorityMap = {\n      low: 'ŸÖŸÜÿÆŸÅÿ∂',\n      medium: 'ŸÖÿ™Ÿàÿ≥ÿ∑',\n      high: 'ÿπÿßŸÑŸä',\n      urgent: 'ÿπÿßÿ¨ŸÑ',\n    };\n    return priorityMap[priority] || priority;\n  }\n\n  getCategoryText(category) {\n    const categoryMap = {\n      physical: 'ÿ¨ÿ≥ÿØŸä',\n      cognitive: 'ÿ•ÿØÿ±ÿßŸÉŸä',\n      speech: 'ŸÜÿ∑ŸÇ',\n      behavioral: 'ÿ≥ŸÑŸàŸÉŸä',\n      social: 'ÿßÿ¨ÿ™ŸÖÿßÿπŸä',\n    };\n    return categoryMap[category] || category;\n  }\n\n  getTypeText(type) {\n    const typeMap = {\n      treatment: 'ÿπŸÑÿßÿ¨Ÿä',\n      rehabilitation: 'ÿ™ÿ£ŸáŸäŸÑŸä',\n      educational: 'ÿ™ÿπŸÑŸäŸÖŸä',\n      social: 'ÿßÿ¨ÿ™ŸÖÿßÿπŸä',\n    };\n    return typeMap[type] || type;\n  }\n\n  formatDate(date) {\n    if (!date) return 'ÿ∫Ÿäÿ± ŸÖÿ≠ÿØÿØ';\n    return new Date(date).toLocaleDateString('ar-SA');\n  }\n\n  saveToLocalStorage() {\n    try {\n      localStorage.setItem('advancedGoals', JSON.stringify(this.goals));\n      localStorage.setItem('advancedPlans', JSON.stringify(this.plans));\n      localStorage.setItem('advancedObjectives', JSON.stringify(this.objectives));\n      localStorage.setItem('advancedMilestones', JSON.stringify(this.milestones));\n      localStorage.setItem('advancedTasks', JSON.stringify(this.tasks));\n      localStorage.setItem('advancedProgress', JSON.stringify(this.progress));\n      localStorage.setItem('advancedReviews', JSON.stringify(this.reviews));\n      localStorage.setItem('advancedRecommendations', JSON.stringify(this.recommendations));\n      localStorage.setItem('advancedAnalytics', JSON.stringify(this.analytics));\n    } catch (error) {\n      console.error('Error saving to localStorage:', error);\n    }\n  }\n\n  loadFromLocalStorage() {\n    try {\n      this.goals = JSON.parse(localStorage.getItem('advancedGoals') || '[]');\n      this.plans = JSON.parse(localStorage.getItem('advancedPlans') || '[]');\n      this.objectives = JSON.parse(localStorage.getItem('advancedObjectives') || '[]');\n      this.milestones = JSON.parse(localStorage.getItem('advancedMilestones') || '[]');\n      this.tasks = JSON.parse(localStorage.getItem('advancedTasks') || '[]');\n      this.progress = JSON.parse(localStorage.getItem('advancedProgress') || '[]');\n      this.reviews = JSON.parse(localStorage.getItem('advancedReviews') || '[]');\n      this.recommendations = JSON.parse(localStorage.getItem('advancedRecommendations') || '[]');\n      this.analytics = JSON.parse(localStorage.getItem('advancedAnalytics') || '[]');\n    } catch (error) {\n      console.error('Error loading from localStorage:', error);\n    }\n  }\n\n  setupEventListeners() {\n    this.createGoal = this.createGoal.bind(this);\n    this.createPlan = this.createPlan.bind(this);\n    this.switchView = this.switchView.bind(this);\n    this.handleFilterChange = this.handleFilterChange.bind(this);\n    this.handleSearch = this.handleSearch.bind(this);\n    this.viewGoal = this.viewGoal.bind(this);\n    this.updateGoalProgress = this.updateGoalProgress.bind(this);\n    this.editGoal = this.editGoal.bind(this);\n    this.viewPlan = this.viewPlan.bind(this);\n    this.editPlan = this.editPlan.bind(this);\n    this.viewTask = this.viewTask.bind(this);\n    this.completeTask = this.completeTask.bind(this);\n    this.applyRecommendation = this.applyRecommendation.bind(this);\n  }\n\n  async createGoal() {\n    console.log('Create goal');\n  }\n\n  async createPlan() {\n    console.log('Create plan');\n  }\n\n  async viewGoal(id) {\n    console.log('View goal', id);\n  }\n\n  async updateGoalProgress(id) {\n    console.log('Update goal progress', id);\n  }\n\n  async editGoal(id) {\n    console.log('Edit goal', id);\n  }\n\n  async viewPlan(id) {\n    console.log('View plan', id);\n  }\n\n  async editPlan(id) {\n    console.log('Edit plan', id);\n  }\n\n  async viewTask(id) {\n    console.log('View task', id);\n  }\n\n  async completeTask(id) {\n    console.log('Complete task', id);\n  }\n\n  async applyRecommendation(id) {\n    console.log('Apply recommendation', id);\n  }\n}\n\nexport default AdvancedGoalsPlans;\n"],"names":["AdvancedGoalsPlans","container","apiClient","API_ENDPOINTS","connectionManager","realtimeSync","systemEnhancer","aiAssistant","advancedCache","filtered","goal","plan","objective","milestone","task","prog","_a","point","idx","review","rec","analytic","data","item","goals","plans","objectives","milestones","tasks","progress","reviews","recommendations","analytics","error","update","view","type","event","content","status","priority","category","date","id"],"mappings":"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"}