{"version":3,"file":"rehabilitation-center-advanced-hr-DrjdT1oP.js","sources":["../../src/rehabilitation-center-advanced-hr.js"],"sourcesContent":["/**\n * ğŸ‘¥ Advanced HR Management System\n * Ù†Ø¸Ø§Ù… Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…ÙˆØ§Ø±Ø¯ Ø§Ù„Ø¨Ø´Ø±ÙŠØ© Ø§Ù„Ù…ØªÙ‚Ø¯Ù… Ø§Ù„Ø°ÙƒÙŠ Ø§Ù„Ù…ØªÙƒØ§Ù…Ù„\n */\n\nimport apiClient from './utils/api-client.js';\nimport { API_ENDPOINTS } from './config/api.js';\nimport connectionManager from './utils/connection-manager.js';\nimport realtimeSync from './utils/realtime-sync.js';\nimport systemEnhancer from './utils/system-enhancer.js';\nimport aiAssistant from './utils/ai-assistant.js';\nimport advancedCache from './utils/advanced-cache.js';\n\nclass AdvancedHRManagement {\n  constructor(container) {\n    this.container = container;\n    this.useAPI = true;\n    this.apiClient = apiClient;\n    this.API_ENDPOINTS = API_ENDPOINTS.advancedHR || {};\n    this.connectionManager = connectionManager;\n    this.realtimeSync = realtimeSync;\n    this.systemEnhancer = systemEnhancer;\n    this.aiAssistant = aiAssistant;\n    this.advancedCache = advancedCache;\n\n    this.employees = [];\n    this.departments = [];\n    this.positions = [];\n    this.leaves = [];\n    this.attendance = [];\n    this.performance = [];\n    this.recruitment = [];\n    this.training = [];\n    this.payroll = [];\n    this.analytics = [];\n\n    this.currentView = 'employees';\n    this.filters = {\n      status: 'all',\n      department: 'all',\n      position: 'all',\n      search: ''\n    };\n\n    this.init();\n  }\n\n  async init() {\n    this.render();\n    this.setupEventListeners();\n    await this.loadData();\n    this.setupRealtimeSync();\n    this.setupConnectionMonitoring();\n  }\n\n  render() {\n    if (!this.container) return;\n    // Get smart suggestions for search\n    let smartSuggestions = [];\n    if (this.aiAssistant && typeof this.aiAssistant.getSuggestions === 'function') {\n      smartSuggestions = this.aiAssistant.getSuggestions({\n        currentModule: 'employees',\n        filters: this.filters\n      }) || [];\n    }\n\n    this.container.innerHTML = `\n      <div class=\"advanced-hr-management\">\n        <div class=\"hr-header\">\n          <h2>ğŸ‘¥ Ù†Ø¸Ø§Ù… Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…ÙˆØ§Ø±Ø¯ Ø§Ù„Ø¨Ø´Ø±ÙŠØ© Ø§Ù„Ù…ØªÙ‚Ø¯Ù… Ø§Ù„Ø°ÙƒÙŠ Ø§Ù„Ù…ØªÙƒØ§Ù…Ù„</h2>\n          <div class=\"header-actions\">\n            <button class=\"btn btn-primary\" onclick=\"this.createEmployee()\">\n              <i class=\"fas fa-user-plus\"></i> Ù…ÙˆØ¸Ù Ø¬Ø¯ÙŠØ¯\n            </button>\n            <button class=\"btn btn-secondary\" onclick=\"this.createDepartment()\">\n              <i class=\"fas fa-building\"></i> Ù‚Ø³Ù… Ø¬Ø¯ÙŠØ¯\n            </button>\n          </div>\n        </div>\n\n        <div class=\"hr-tabs\">\n          <button class=\"tab-btn ${this.currentView === 'employees' ? 'active' : ''}\" onclick=\"this.switchView('employees')\">\n            <i class=\"fas fa-users\"></i> Ø§Ù„Ù…ÙˆØ¸ÙÙŠÙ†\n          </button>\n          <button class=\"tab-btn ${this.currentView === 'departments' ? 'active' : ''}\" onclick=\"this.switchView('departments')\">\n            <i class=\"fas fa-building\"></i> Ø§Ù„Ø£Ù‚Ø³Ø§Ù…\n          </button>\n          <button class=\"tab-btn ${this.currentView === 'positions' ? 'active' : ''}\" onclick=\"this.switchView('positions')\">\n            <i class=\"fas fa-briefcase\"></i> Ø§Ù„ÙˆØ¸Ø§Ø¦Ù\n          </button>\n          <button class=\"tab-btn ${this.currentView === 'leaves' ? 'active' : ''}\" onclick=\"this.switchView('leaves')\">\n            <i class=\"fas fa-calendar-times\"></i> Ø§Ù„Ø¥Ø¬Ø§Ø²Ø§Øª\n          </button>\n          <button class=\"tab-btn ${this.currentView === 'attendance' ? 'active' : ''}\" onclick=\"this.switchView('attendance')\">\n            <i class=\"fas fa-clock\"></i> Ø§Ù„Ø­Ø¶ÙˆØ±\n          </button>\n          <button class=\"tab-btn ${this.currentView === 'performance' ? 'active' : ''}\" onclick=\"this.switchView('performance')\">\n            <i class=\"fas fa-chart-line\"></i> Ø§Ù„Ø£Ø¯Ø§Ø¡\n          </button>\n          <button class=\"tab-btn ${this.currentView === 'recruitment' ? 'active' : ''}\" onclick=\"this.switchView('recruitment')\">\n            <i class=\"fas fa-user-tie\"></i> Ø§Ù„ØªÙˆØ¸ÙŠÙ\n          </button>\n          <button class=\"tab-btn ${this.currentView === 'training' ? 'active' : ''}\" onclick=\"this.switchView('training')\">\n            <i class=\"fas fa-graduation-cap\"></i> Ø§Ù„ØªØ¯Ø±ÙŠØ¨\n          </button>\n          <button class=\"tab-btn ${this.currentView === 'payroll' ? 'active' : ''}\" onclick=\"this.switchView('payroll')\">\n            <i class=\"fas fa-money-bill-wave\"></i> Ø§Ù„Ø±ÙˆØ§ØªØ¨\n          </button>\n          <button class=\"tab-btn ${this.currentView === 'analytics' ? 'active' : ''}\" onclick=\"this.switchView('analytics')\">\n            <i class=\"fas fa-chart-bar\"></i> Ø§Ù„ØªØ­Ù„ÙŠÙ„Ø§Øª\n          </button>\n          <button class=\"tab-btn ${this.currentView === 'hr-calendar' ? 'active' : ''}\" onclick=\"this.switchView('hr-calendar')\">\n            <i class=\"fas fa-calendar-alt\"></i> ØªÙ‚ÙˆÙŠÙ… Ø§Ù„Ù…ÙˆØ§Ø±Ø¯ Ø§Ù„Ø¨Ø´Ø±ÙŠØ©\n          </button>\n        </div>\n\n        <div class=\"hr-filters\">\n          <select class=\"filter-select\" onchange=\"this.handleFilterChange('status', event)\">\n            <option value=\"all\">Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ø§Ù„Ø§Øª</option>\n            <option value=\"active\">Ù†Ø´Ø·</option>\n            <option value=\"inactive\">ØºÙŠØ± Ù†Ø´Ø·</option>\n            <option value=\"on-leave\">ÙÙŠ Ø¥Ø¬Ø§Ø²Ø©</option>\n            <option value=\"terminated\">Ù…Ù†ØªÙ‡ÙŠ</option>\n          </select>\n          <select class=\"filter-select\" onchange=\"this.handleFilterChange('department', event)\">\n            <option value=\"all\">Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£Ù‚Ø³Ø§Ù…</option>\n            ${this.departments.map(dept => `\n              <option value=\"${dept.id}\">${dept.name}</option>\n            `).join('')}\n          </select>\n          <input type=\"text\" class=\"search-input\" placeholder=\"Ø¨Ø­Ø«...\" oninput=\"this.handleSearch(event)\">\n                  <div class=\"smart-suggestions\" style=\"margin-top:6px;\">\n                    ${smartSuggestions.length ? smartSuggestions.map(s => `\n                      <span class=\"suggestion-chip\" style=\"display:inline-block;background:#f3f4f6;border-radius:16px;padding:4px 12px;margin:2px;cursor:pointer;\" onclick=\"window.hrManager.applySmartSuggestion('${s.title.replace(/'/g, '\\'')}')\">\n                        <i class=\"fas fa-magic\"></i> ${s.title}\n                      </span>\n                    `).join('') : ''}\n                  </div>\n          // Apply smart suggestion to search\n          applySmartSuggestion(suggestion) {\n            this.filters.search = suggestion;\n            this.updateContent();\n          }\n        </div>\n\n        <div class=\"hr-content\" id=\"hrContent\">\n          ${this.renderCurrentView()}\n        </div>\n      </div>\n    `;\n  }\n\n  renderCurrentView() {\n    switch (this.currentView) {\n      case 'employees':\n        return this.renderEmployees();\n      case 'departments':\n        return this.renderDepartments();\n      case 'positions':\n        return this.renderPositions();\n      case 'leaves':\n        return this.renderLeaves();\n      case 'attendance':\n        return this.renderAttendance();\n      case 'performance':\n        return this.renderPerformance();\n      case 'recruitment':\n        return this.renderRecruitment();\n      case 'training':\n        return this.renderTraining();\n      case 'payroll':\n        return this.renderPayroll();\n      case 'analytics':\n        return this.renderAnalytics();\n      case 'hr-calendar':\n        return this.renderHRCalendar();\n      default:\n        return this.renderEmployees();\n    }\n  }\n\n  renderHRCalendar() {\n    // Compose HR events: attendance, leaves, training\n    const events = [];\n    this.attendance.forEach(a => {\n      events.push({\n        id: `att-${a.id}`,\n        title: `Ø­Ø¶ÙˆØ±: ${a.employeeName || a.employeeId}`,\n        description: `ÙˆÙ‚Øª Ø§Ù„Ø¯Ø®ÙˆÙ„: ${a.checkIn || ''} - ÙˆÙ‚Øª Ø§Ù„Ø®Ø±ÙˆØ¬: ${a.checkOut || ''}`,\n        start: a.date ? new Date(a.date) : new Date(),\n        end: a.date ? new Date(a.date) : new Date(),\n        calendar: 'Ø§Ù„Ø­Ø¶ÙˆØ±',\n        color: '#4ade80'\n      });\n    });\n    this.leaves.forEach(l => {\n      events.push({\n        id: `leave-${l.id}`,\n        title: `Ø¥Ø¬Ø§Ø²Ø©: ${l.employeeName || l.employeeId}`,\n        description: `Ù†ÙˆØ¹ Ø§Ù„Ø¥Ø¬Ø§Ø²Ø©: ${l.type || ''}`,\n        start: l.startDate ? new Date(l.startDate) : new Date(),\n        end: l.endDate ? new Date(l.endDate) : new Date(),\n        calendar: 'Ø§Ù„Ø¥Ø¬Ø§Ø²Ø§Øª',\n        color: '#fbbf24'\n      });\n    });\n    this.training.forEach(t => {\n      events.push({\n        id: `train-${t.id}`,\n        title: `ØªØ¯Ø±ÙŠØ¨: ${t.title}`,\n        description: `Ø§Ù„Ù…Ø´Ø§Ø±ÙƒÙˆÙ†: ${t.participantsCount || 0}`,\n        start: t.date ? new Date(t.date) : new Date(),\n        end: t.date ? new Date(t.date) : new Date(),\n        calendar: 'Ø§Ù„ØªØ¯Ø±ÙŠØ¨',\n        color: '#3b82f6'\n      });\n    });\n\n    // Render calendar-management.js calendar with HR events\n    setTimeout(() => {\n      if (window.calendarManager) {\n        window.calendarManager.events = events;\n        window.calendarManager.renderCalendar();\n      }\n    }, 0);\n\n    return `\n      <div>\n        <div id=\"calendarContainer\"></div>\n      </div>\n    `;\n  }\n\n  renderEmployees() {\n    const filtered = this.getFilteredData(this.employees);\n\n    if (filtered.length === 0) {\n      return `\n        <div class=\"empty-state\">\n          <i class=\"fas fa-users\"></i>\n          <p>Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ù…ÙˆØ¸ÙÙŠÙ†</p>\n          <button class=\"btn btn-primary\" onclick=\"this.createEmployee()\">\n            Ø¥Ø¶Ø§ÙØ© Ù…ÙˆØ¸Ù Ø¬Ø¯ÙŠØ¯\n          </button>\n        </div>\n      `;\n    }\n\n    return `\n      <div class=\"employees-grid\">\n        ${filtered.map(employee => `\n          <div class=\"employee-card status-${employee.status}\">\n            <div class=\"employee-header\">\n              <div class=\"employee-avatar\">\n                <i class=\"fas fa-user\"></i>\n              </div>\n              <div class=\"employee-info\">\n                <h3>${employee.name || 'ØºÙŠØ± Ù…Ø­Ø¯Ø¯'}</h3>\n                <p class=\"employee-id\">${employee.employeeId || 'ØºÙŠØ± Ù…Ø­Ø¯Ø¯'}</p>\n              </div>\n              <span class=\"status-badge status-${employee.status}\">${this.getStatusText(employee.status)}</span>\n            </div>\n            <div class=\"employee-body\">\n              <div class=\"employee-details\">\n                <div class=\"detail-item\">\n                  <span class=\"detail-label\">Ø§Ù„Ù‚Ø³Ù…:</span>\n                  <span class=\"detail-value\">${employee.departmentName || 'ØºÙŠØ± Ù…Ø­Ø¯Ø¯'}</span>\n                </div>\n                <div class=\"detail-item\">\n                  <span class=\"detail-label\">Ø§Ù„ÙˆØ¸ÙŠÙØ©:</span>\n                  <span class=\"detail-value\">${employee.positionName || 'ØºÙŠØ± Ù…Ø­Ø¯Ø¯'}</span>\n                </div>\n                <div class=\"detail-item\">\n                  <span class=\"detail-label\">Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ:</span>\n                  <span class=\"detail-value\">${employee.email || 'ØºÙŠØ± Ù…Ø­Ø¯Ø¯'}</span>\n                </div>\n                <div class=\"detail-item\">\n                  <span class=\"detail-label\">Ø§Ù„Ù‡Ø§ØªÙ:</span>\n                  <span class=\"detail-value\">${employee.phone || 'ØºÙŠØ± Ù…Ø­Ø¯Ø¯'}</span>\n                </div>\n                <div class=\"detail-item\">\n                  <span class=\"detail-label\">ØªØ§Ø±ÙŠØ® Ø§Ù„ØªØ¹ÙŠÙŠÙ†:</span>\n                  <span class=\"detail-value\">${this.formatDate(employee.hireDate)}</span>\n                </div>\n              </div>\n            </div>\n            <div class=\"employee-actions\">\n              <button class=\"btn btn-sm btn-primary\" onclick=\"this.viewEmployee(${employee.id})\">\n                <i class=\"fas fa-eye\"></i> Ø¹Ø±Ø¶\n              </button>\n              <button class=\"btn btn-sm btn-secondary\" onclick=\"this.editEmployee(${employee.id})\">\n                <i class=\"fas fa-edit\"></i> ØªØ¹Ø¯ÙŠÙ„\n              </button>\n              <button class=\"btn btn-sm btn-info\" onclick=\"window.hrManager.showEmployeeDocuments(${employee.id})\">\n                <i class='fas fa-file-upload'></i> Ø§Ù„Ù…Ø³ØªÙ†Ø¯Ø§Øª\n              </button>\n            </div>\n          </div>\n        `).join('')}\n      </div>\n    `;\n  }\n    // Show employee documents modal (upload/view)\n    showEmployeeDocuments(employeeId) {\n      const employee = this.employees.find(e => e.id === employeeId);\n      if (!employee) return;\n      // Modal container\n      const modal = document.createElement('div');\n      modal.className = 'modal';\n      modal.innerHTML = `\n        <div class=\"modal-content\" style=\"max-width:700px\">\n          <span class=\"close\" onclick=\"this.closest('.modal').remove()\">&times;</span>\n          <h2>Ù…Ø³ØªÙ†Ø¯Ø§Øª Ø§Ù„Ù…ÙˆØ¸Ù: ${employee.name || employee.employeeId || ''}</h2>\n          <div id=\"employeeFilesContainer\"></div>\n          <button class=\"btn btn-primary\" id=\"uploadEmployeeFileBtn\"><i class='fas fa-upload'></i> Ø±ÙØ¹ Ù…Ø³ØªÙ†Ø¯</button>\n        </div>\n      `;\n      document.body.appendChild(modal);\n\n      // Filter files for this employee (by employeeId)\n      if (!fileManager.employeeFiles) fileManager.employeeFiles = {};\n      if (!fileManager.employeeFiles[employeeId]) fileManager.employeeFiles[employeeId] = [];\n\n      // Render files for this employee\n      function renderEmployeeFiles() {\n        const container = modal.querySelector('#employeeFilesContainer');\n        const files = fileManager.employeeFiles[employeeId];\n        if (!container) return;\n        if (!files.length) {\n          container.innerHTML = `<div class='empty-state'><i class='fas fa-file'></i><p>Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ù…Ø³ØªÙ†Ø¯Ø§Øª</p></div>`;\n          return;\n        }\n        container.innerHTML = `<div class='files-grid'>${files.map(file => `\n          <div class='file-card'>\n            <div class='file-icon'><i class='fas fa-${fileManager.getFileIcon(file.type)}'></i></div>\n            <div class='file-info'>\n              <h4>${file.name}</h4>\n              <p><strong>Ø§Ù„Ø­Ø¬Ù…:</strong> ${fileManager.formatFileSize(file.size)}</p>\n              <p><strong>Ø±ÙØ¹ Ø¨ÙˆØ§Ø³Ø·Ø©:</strong> ${file.uploadedBy}</p>\n              <p><strong>ØªØ§Ø±ÙŠØ® Ø§Ù„Ø±ÙØ¹:</strong> ${Utils.formatDate(file.uploadedAt)}</p>\n            </div>\n            <div class='file-actions'>\n              <button class='btn btn-sm btn-success' onclick='window.hrManager.downloadEmployeeFile(${employeeId},\"${file.id}\")'><i class='fas fa-download'></i> ØªØ­Ù…ÙŠÙ„</button>\n              <button class='btn btn-sm btn-info' onclick='window.hrManager.previewEmployeeFile(${employeeId},\"${file.id}\")'><i class='fas fa-eye'></i> Ù…Ø¹Ø§ÙŠÙ†Ø©</button>\n              <button class='btn btn-sm btn-danger' onclick='window.hrManager.deleteEmployeeFile(${employeeId},\"${file.id}\")'><i class='fas fa-trash'></i> Ø­Ø°Ù</button>\n            </div>\n          </div>\n        `).join('')}</div>`;\n      }\n      renderEmployeeFiles();\n\n      // Upload button logic\n      modal.querySelector('#uploadEmployeeFileBtn').onclick = () => {\n        const input = document.createElement('input');\n        input.type = 'file';\n        input.multiple = true;\n        input.onchange = (e) => {\n          const files = Array.from(e.target.files);\n          files.forEach(file => {\n            const fileObj = {\n              id: Date.now() + Math.random(),\n              name: file.name,\n              type: fileManager.getFileType(file.name),\n              size: file.size,\n              uploadedBy: 'Super Admin',\n              uploadedAt: new Date(),\n              downloads: 0\n            };\n            fileManager.employeeFiles[employeeId].push(fileObj);\n          });\n          renderEmployeeFiles();\n          Utils.showNotification(`ØªÙ… Ø±ÙØ¹ ${files.length} Ù…Ø³ØªÙ†Ø¯`, 'success');\n        };\n        input.click();\n      };\n    }\n\n    // Download employee file\n    downloadEmployeeFile(employeeId, fileId) {\n      const files = (fileManager.employeeFiles && fileManager.employeeFiles[employeeId]) || [];\n      const file = files.find(f => f.id == fileId);\n      if (file) {\n        file.downloads = (file.downloads || 0) + 1;\n        Utils.showNotification(`Ø¬Ø§Ø±ÙŠ ØªØ­Ù…ÙŠÙ„ ${file.name}...`, 'info');\n      }\n    }\n\n    // Preview employee file\n    previewEmployeeFile(employeeId, fileId) {\n      const files = (fileManager.employeeFiles && fileManager.employeeFiles[employeeId]) || [];\n      const file = files.find(f => f.id == fileId);\n      if (!file) return;\n      const modal = document.createElement('div');\n      modal.className = 'modal';\n      modal.innerHTML = `\n        <div class='modal-content'>\n          <span class='close' onclick='this.closest(\".modal\").remove()'>&times;</span>\n          <h2>Ù…Ø¹Ø§ÙŠÙ†Ø© Ø§Ù„Ù…Ø³ØªÙ†Ø¯: ${file.name}</h2>\n          <div class='file-preview'>\n            <p>Ù‡Ø°Ù‡ Ù…Ø¹Ø§ÙŠÙ†Ø© Ù„Ù„Ù…Ù„Ù. Ø³ÙŠØªÙ… Ø¹Ø±Ø¶ Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ù…Ù„Ù Ù‡Ù†Ø§.</p>\n            <p><strong>Ø§Ù„Ù†ÙˆØ¹:</strong> ${file.type}</p>\n            <p><strong>Ø§Ù„Ø­Ø¬Ù…:</strong> ${fileManager.formatFileSize(file.size)}</p>\n          </div>\n        </div>\n      `;\n      document.body.appendChild(modal);\n    }\n\n    // Delete employee file\n    deleteEmployeeFile(employeeId, fileId) {\n      if (!fileManager.employeeFiles || !fileManager.employeeFiles[employeeId]) return;\n      if (confirm('Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø­Ø°Ù Ù‡Ø°Ø§ Ø§Ù„Ù…Ø³ØªÙ†Ø¯ØŸ')) {\n        fileManager.employeeFiles[employeeId] = fileManager.employeeFiles[employeeId].filter(f => f.id != fileId);\n        // Re-render modal if open\n        const modal = document.querySelector('.modal .modal-content h2')?.textContent?.includes('Ù…Ø³ØªÙ†Ø¯Ø§Øª Ø§Ù„Ù…ÙˆØ¸Ù') ? document.querySelector('.modal') : null;\n        if (modal) {\n          // Find the employeeId from the modal title\n          this.showEmployeeDocuments(employeeId);\n          modal.remove();\n        }\n        Utils.showNotification('ØªÙ… Ø­Ø°Ù Ø§Ù„Ù…Ø³ØªÙ†Ø¯', 'success');\n      }\n    }\n\n  renderDepartments() {\n    if (this.departments.length === 0) {\n      return `\n        <div class=\"empty-state\">\n          <i class=\"fas fa-building\"></i>\n          <p>Ù„Ø§ ØªÙˆØ¬Ø¯ Ø£Ù‚Ø³Ø§Ù…</p>\n          <button class=\"btn btn-primary\" onclick=\"this.createDepartment()\">\n            Ø¥Ø¶Ø§ÙØ© Ù‚Ø³Ù… Ø¬Ø¯ÙŠØ¯\n          </button>\n        </div>\n      `;\n    }\n\n    return `\n      <div class=\"departments-grid\">\n        ${this.departments.map(dept => `\n          <div class=\"department-card\">\n            <div class=\"department-header\">\n              <h3>${dept.name || 'Ù‚Ø³Ù…'}</h3>\n              <span class=\"department-code\">${dept.code || 'ØºÙŠØ± Ù…Ø­Ø¯Ø¯'}</span>\n            </div>\n            <div class=\"department-body\">\n              <div class=\"department-details\">\n                <div class=\"detail-item\">\n                  <span class=\"detail-label\">Ø§Ù„Ù…Ø¯ÙŠØ±:</span>\n                  <span class=\"detail-value\">${dept.managerName || 'ØºÙŠØ± Ù…Ø­Ø¯Ø¯'}</span>\n                </div>\n                <div class=\"detail-item\">\n                  <span class=\"detail-label\">Ø¹Ø¯Ø¯ Ø§Ù„Ù…ÙˆØ¸ÙÙŠÙ†:</span>\n                  <span class=\"detail-value\">${dept.employeeCount || 0}</span>\n                </div>\n                <div class=\"detail-item\">\n                  <span class=\"detail-label\">Ø§Ù„Ù…ÙˆÙ‚Ø¹:</span>\n                  <span class=\"detail-value\">${dept.location || 'ØºÙŠØ± Ù…Ø­Ø¯Ø¯'}</span>\n                </div>\n                <div class=\"detail-item\">\n                  <span class=\"detail-label\">Ø§Ù„Ù…ÙŠØ²Ø§Ù†ÙŠØ©:</span>\n                  <span class=\"detail-value\">${dept.budget || 0} Ø±ÙŠØ§Ù„</span>\n                </div>\n              </div>\n            </div>\n            <div class=\"department-actions\">\n              <button class=\"btn btn-sm btn-primary\" onclick=\"this.viewDepartment(${dept.id})\">\n                <i class=\"fas fa-eye\"></i> Ø¹Ø±Ø¶\n              </button>\n              <button class=\"btn btn-sm btn-secondary\" onclick=\"this.editDepartment(${dept.id})\">\n                <i class=\"fas fa-edit\"></i> ØªØ¹Ø¯ÙŠÙ„\n              </button>\n            </div>\n          </div>\n        `).join('')}\n      </div>\n    `;\n  }\n\n  renderPositions() {\n    if (this.positions.length === 0) {\n      return `\n        <div class=\"empty-state\">\n          <i class=\"fas fa-briefcase\"></i>\n          <p>Ù„Ø§ ØªÙˆØ¬Ø¯ ÙˆØ¸Ø§Ø¦Ù</p>\n        </div>\n      `;\n    }\n\n    return `\n      <div class=\"positions-list\">\n        ${this.positions.map(position => `\n          <div class=\"position-card\">\n            <div class=\"position-header\">\n              <h3>${position.title || 'ÙˆØ¸ÙŠÙØ©'}</h3>\n              <span class=\"position-level\">${position.level || 'ØºÙŠØ± Ù…Ø­Ø¯Ø¯'}</span>\n            </div>\n            <div class=\"position-body\">\n              <div class=\"position-details\">\n                <div class=\"detail-item\">\n                  <span class=\"detail-label\">Ø§Ù„Ù‚Ø³Ù…:</span>\n                  <span class=\"detail-value\">${position.departmentName || 'ØºÙŠØ± Ù…Ø­Ø¯Ø¯'}</span>\n                </div>\n                <div class=\"detail-item\">\n                  <span class=\"detail-label\">Ø§Ù„Ø±Ø§ØªØ¨:</span>\n                  <span class=\"detail-value\">${position.salary || 0} Ø±ÙŠØ§Ù„</span>\n                </div>\n                <div class=\"detail-item\">\n                  <span class=\"detail-label\">Ø¹Ø¯Ø¯ Ø§Ù„Ù…ÙˆØ¸ÙÙŠÙ†:</span>\n                  <span class=\"detail-value\">${position.employeeCount || 0}</span>\n                </div>\n              </div>\n            </div>\n          </div>\n        `).join('')}\n      </div>\n    `;\n  }\n\n  renderLeaves() {\n    if (this.leaves.length === 0) {\n      return `\n        <div class=\"empty-state\">\n          <i class=\"fas fa-calendar-times\"></i>\n          <p>Ù„Ø§ ØªÙˆØ¬Ø¯ Ø¥Ø¬Ø§Ø²Ø§Øª</p>\n        </div>\n      `;\n    }\n\n    return `\n      <div class=\"leaves-list\">\n        ${this.leaves.map(leave => `\n          <div class=\"leave-card status-${leave.status} type-${leave.type}\">\n            <div class=\"leave-header\">\n              <h3>${leave.employeeName || 'Ø¥Ø¬Ø§Ø²Ø©'}</h3>\n              <span class=\"status-badge status-${leave.status}\">${this.getStatusText(leave.status)}</span>\n            </div>\n            <div class=\"leave-body\">\n              <div class=\"leave-details\">\n                <div class=\"detail-item\">\n                  <span class=\"detail-label\">Ø§Ù„Ù†ÙˆØ¹:</span>\n                  <span class=\"detail-value\">${this.getLeaveTypeText(leave.type)}</span>\n                </div>\n                <div class=\"detail-item\">\n                  <span class=\"detail-label\">Ù…Ù†:</span>\n                  <span class=\"detail-value\">${this.formatDate(leave.startDate)}</span>\n                </div>\n                <div class=\"detail-item\">\n                  <span class=\"detail-label\">Ø¥Ù„Ù‰:</span>\n                  <span class=\"detail-value\">${this.formatDate(leave.endDate)}</span>\n                </div>\n                <div class=\"detail-item\">\n                  <span class=\"detail-label\">Ø¹Ø¯Ø¯ Ø§Ù„Ø£ÙŠØ§Ù…:</span>\n                  <span class=\"detail-value\">${leave.days || 0}</span>\n                </div>\n              </div>\n            </div>\n            ${leave.status === 'pending' ? `\n              <div class=\"leave-actions\">\n                <button class=\"btn btn-sm btn-success\" onclick=\"this.approveLeave(${leave.id})\">\n                  <i class=\"fas fa-check\"></i> Ù…ÙˆØ§ÙÙ‚Ø©\n                </button>\n                <button class=\"btn btn-sm btn-danger\" onclick=\"this.rejectLeave(${leave.id})\">\n                  <i class=\"fas fa-times\"></i> Ø±ÙØ¶\n                </button>\n              </div>\n            ` : ''}\n          </div>\n        `).join('')}\n      </div>\n    `;\n  }\n\n  renderAttendance() {\n    if (this.attendance.length === 0) {\n      return `\n        <div class=\"empty-state\">\n          <i class=\"fas fa-clock\"></i>\n          <p>Ù„Ø§ ØªÙˆØ¬Ø¯ Ø³Ø¬Ù„Ø§Øª Ø­Ø¶ÙˆØ±</p>\n        </div>\n      `;\n    }\n\n    return `\n      <div class=\"attendance-list\">\n        ${this.attendance.map(record => `\n          <div class=\"attendance-card status-${record.status}\">\n            <div class=\"attendance-header\">\n              <h3>${record.employeeName || 'Ø­Ø¶ÙˆØ±'}</h3>\n              <span class=\"attendance-date\">${this.formatDate(record.date)}</span>\n            </div>\n            <div class=\"attendance-body\">\n              <div class=\"attendance-details\">\n                <div class=\"detail-item\">\n                  <span class=\"detail-label\">ÙˆÙ‚Øª Ø§Ù„Ø¯Ø®ÙˆÙ„:</span>\n                  <span class=\"detail-value\">${record.checkIn || 'ØºÙŠØ± Ù…Ø­Ø¯Ø¯'}</span>\n                </div>\n                <div class=\"detail-item\">\n                  <span class=\"detail-label\">ÙˆÙ‚Øª Ø§Ù„Ø®Ø±ÙˆØ¬:</span>\n                  <span class=\"detail-value\">${record.checkOut || 'ØºÙŠØ± Ù…Ø­Ø¯Ø¯'}</span>\n                </div>\n                <div class=\"detail-item\">\n                  <span class=\"detail-label\">Ø³Ø§Ø¹Ø§Øª Ø§Ù„Ø¹Ù…Ù„:</span>\n                  <span class=\"detail-value\">${record.hours || 0}</span>\n                </div>\n                <div class=\"detail-item\">\n                  <span class=\"detail-label\">Ø§Ù„Ø­Ø§Ù„Ø©:</span>\n                  <span class=\"detail-value\">${this.getStatusText(record.status)}</span>\n                </div>\n              </div>\n            </div>\n          </div>\n        `).join('')}\n      </div>\n    `;\n  }\n\n  renderPerformance() {\n    if (this.performance.length === 0) {\n      return `\n        <div class=\"empty-state\">\n          <i class=\"fas fa-chart-line\"></i>\n          <p>Ù„Ø§ ØªÙˆØ¬Ø¯ ØªÙ‚ÙŠÙŠÙ…Ø§Øª Ø£Ø¯Ø§Ø¡</p>\n        </div>\n      `;\n    }\n\n    return `\n      <div class=\"performance-list\">\n        ${this.performance.map(perf => `\n          <div class=\"performance-card level-${this.getPerformanceLevel(perf.score)}\">\n            <div class=\"performance-header\">\n              <h3>${perf.employeeName || 'Ø£Ø¯Ø§Ø¡'}</h3>\n              <span class=\"performance-score score-${this.getPerformanceLevel(perf.score)}\">\n                ${perf.score || 0}%\n              </span>\n            </div>\n            <div class=\"performance-body\">\n              <div class=\"performance-details\">\n                <div class=\"detail-item\">\n                  <span class=\"detail-label\">Ø§Ù„ÙØªØ±Ø©:</span>\n                  <span class=\"detail-value\">${perf.period || 'ØºÙŠØ± Ù…Ø­Ø¯Ø¯'}</span>\n                </div>\n                <div class=\"detail-item\">\n                  <span class=\"detail-label\">Ø§Ù„ØªÙ‚ÙŠÙŠÙ…:</span>\n                  <span class=\"detail-value\">${perf.rating || 'ØºÙŠØ± Ù…Ø­Ø¯Ø¯'}</span>\n                </div>\n              </div>\n            </div>\n          </div>\n        `).join('')}\n      </div>\n    `;\n  }\n\n  renderRecruitment() {\n    if (this.recruitment.length === 0) {\n      return `\n        <div class=\"empty-state\">\n          <i class=\"fas fa-user-tie\"></i>\n          <p>Ù„Ø§ ØªÙˆØ¬Ø¯ Ø·Ù„Ø¨Ø§Øª ØªÙˆØ¸ÙŠÙ</p>\n        </div>\n      `;\n    }\n\n    return `\n      <div class=\"recruitment-list\">\n        ${this.recruitment.map(rec => `\n          <div class=\"recruitment-card status-${rec.status}\">\n            <div class=\"recruitment-header\">\n              <h3>${rec.position || 'Ø·Ù„Ø¨ ØªÙˆØ¸ÙŠÙ'}</h3>\n              <span class=\"status-badge status-${rec.status}\">${this.getStatusText(rec.status)}</span>\n            </div>\n            <div class=\"recruitment-body\">\n              <div class=\"recruitment-details\">\n                <div class=\"detail-item\">\n                  <span class=\"detail-label\">Ø§Ù„Ù…ØªÙ‚Ø¯Ù…:</span>\n                  <span class=\"detail-value\">${rec.applicantName || 'ØºÙŠØ± Ù…Ø­Ø¯Ø¯'}</span>\n                </div>\n                <div class=\"detail-item\">\n                  <span class=\"detail-label\">Ø§Ù„ØªØ§Ø±ÙŠØ®:</span>\n                  <span class=\"detail-value\">${this.formatDate(rec.date)}</span>\n                </div>\n                <div class=\"detail-item\">\n                  <span class=\"detail-label\">Ø§Ù„Ø­Ø§Ù„Ø©:</span>\n                  <span class=\"detail-value\">${this.getStatusText(rec.status)}</span>\n                </div>\n              </div>\n            </div>\n          </div>\n        `).join('')}\n      </div>\n    `;\n  }\n\n  renderTraining() {\n    if (this.training.length === 0) {\n      return `\n        <div class=\"empty-state\">\n          <i class=\"fas fa-graduation-cap\"></i>\n          <p>Ù„Ø§ ØªÙˆØ¬Ø¯ Ø¨Ø±Ø§Ù…Ø¬ ØªØ¯Ø±ÙŠØ¨</p>\n        </div>\n      `;\n    }\n\n    return `\n      <div class=\"training-list\">\n        ${this.training.map(train => `\n          <div class=\"training-card status-${train.status}\">\n            <div class=\"training-header\">\n              <h3>${train.title || 'Ø¨Ø±Ù†Ø§Ù…Ø¬ ØªØ¯Ø±ÙŠØ¨ÙŠ'}</h3>\n              <span class=\"status-badge status-${train.status}\">${this.getStatusText(train.status)}</span>\n            </div>\n            <div class=\"training-body\">\n              <div class=\"training-details\">\n                <div class=\"detail-item\">\n                  <span class=\"detail-label\">Ø§Ù„Ù…Ø´Ø§Ø±ÙƒÙˆÙ†:</span>\n                  <span class=\"detail-value\">${train.participantsCount || 0}</span>\n                </div>\n                <div class=\"detail-item\">\n                  <span class=\"detail-label\">Ø§Ù„ØªØ§Ø±ÙŠØ®:</span>\n                  <span class=\"detail-value\">${this.formatDate(train.date)}</span>\n                </div>\n              </div>\n            </div>\n          </div>\n        `).join('')}\n      </div>\n    `;\n  }\n\n  renderPayroll() {\n    if (this.payroll.length === 0) {\n      return `\n        <div class=\"empty-state\">\n          <i class=\"fas fa-money-bill-wave\"></i>\n          <p>Ù„Ø§ ØªÙˆØ¬Ø¯ Ø³Ø¬Ù„Ø§Øª Ø±ÙˆØ§ØªØ¨</p>\n        </div>\n      `;\n    }\n\n    return `\n      <div class=\"payroll-list\">\n        ${this.payroll.map(pay => `\n          <div class=\"payroll-card\">\n            <div class=\"payroll-header\">\n              <h3>${pay.employeeName || 'Ø±Ø§ØªØ¨'}</h3>\n              <span class=\"payroll-amount\">${pay.amount || 0} Ø±ÙŠØ§Ù„</span>\n            </div>\n            <div class=\"payroll-body\">\n              <div class=\"payroll-details\">\n                <div class=\"detail-item\">\n                  <span class=\"detail-label\">Ø§Ù„ÙØªØ±Ø©:</span>\n                  <span class=\"detail-value\">${pay.period || 'ØºÙŠØ± Ù…Ø­Ø¯Ø¯'}</span>\n                </div>\n                <div class=\"detail-item\">\n                  <span class=\"detail-label\">Ø§Ù„Ø­Ø§Ù„Ø©:</span>\n                  <span class=\"detail-value\">${this.getStatusText(pay.status)}</span>\n                </div>\n              </div>\n            </div>\n          </div>\n        `).join('')}\n      </div>\n    `;\n  }\n\n  renderAnalytics() {\n    if (this.analytics.length === 0) {\n      return `\n        <div class=\"empty-state\">\n          <i class=\"fas fa-chart-bar\"></i>\n          <p>Ù„Ø§ ØªÙˆØ¬Ø¯ Ø¨ÙŠØ§Ù†Ø§Øª ØªØ­Ù„ÙŠÙ„ÙŠØ©</p>\n        </div>\n      `;\n    }\n\n    // Summary cards\n    const summaryCards = this.analytics.map(analytic => `\n      <div class=\"analytic-card\">\n        <div class=\"analytic-header\">\n          <h3>${analytic.metric}</h3>\n          <span class=\"analytic-value\">${analytic.value}</span>\n        </div>\n        <div class=\"analytic-body\">\n          <p>${analytic.description || ''}</p>\n          ${analytic.trend ? `\n            <div class=\"analytic-trend ${analytic.trend > 0 ? 'up' : 'down'}\">\n              <i class=\"fas fa-arrow-${analytic.trend > 0 ? 'up' : 'down'}\"></i>\n              ${Math.abs(analytic.trend)}%\n            </div>\n          ` : ''}\n        </div>\n      </div>\n    `).join('');\n\n    // Chart containers\n    const chartSection = `\n      <div class=\"charts-section\">\n        <div class=\"chart-container\">\n          <h4>Ø§Ù„Ø­Ø¶ÙˆØ± Ø§Ù„Ø´Ù‡Ø±ÙŠ</h4>\n          <canvas id=\"attendanceLineChart\" height=\"300\"></canvas>\n        </div>\n        <div class=\"chart-container\">\n          <h4>ØªÙˆØ²ÙŠØ¹ Ø­Ø§Ù„Ø§Øª Ø§Ù„Ù…ÙˆØ¸ÙÙŠÙ†</h4>\n          <canvas id=\"statusPieChart\" height=\"300\"></canvas>\n        </div>\n        <div class=\"chart-container\">\n          <h4>Ù…Ø¹Ø¯Ù„ Ø§Ù„Ø£Ø¯Ø§Ø¡ Ø­Ø³Ø¨ Ø§Ù„Ù‚Ø³Ù…</h4>\n          <canvas id=\"performanceBarChart\" height=\"300\"></canvas>\n        </div>\n      </div>\n    `;\n\n    // Render summary cards and charts\n    setTimeout(() => {\n      this.renderAnalyticsCharts();\n    }, 0);\n\n    return `\n      <div class=\"analytics-dashboard\">\n        ${summaryCards}\n      </div>\n      ${chartSection}\n    `;\n  }\n\n  renderAnalyticsCharts() {\n    // Attendance Line Chart (last 12 months)\n    const months = this.getLast12MonthsLabels();\n    const attendanceData = months.map(m => {\n      return this.attendance.filter(a => this.getMonthYear(a.date) === m).length;\n    });\n    if (window.chartManager) {\n      window.chartManager.drawLineChart('attendanceLineChart', {\n        labels: months,\n        datasets: [\n          {\n            label: 'Ø§Ù„Ø­Ø¶ÙˆØ±',\n            data: attendanceData,\n            color: '#4ade80'\n          }\n        ]\n      });\n    }\n\n    // Status Pie Chart\n    const statusCounts = ['active', 'inactive', 'on-leave', 'terminated'].map(status => {\n      return this.employees.filter(e => e.status === status).length;\n    });\n    const statusLabels = ['Ù†Ø´Ø·', 'ØºÙŠØ± Ù†Ø´Ø·', 'ÙÙŠ Ø¥Ø¬Ø§Ø²Ø©', 'Ù…Ù†ØªÙ‡ÙŠ'];\n    if (window.chartManager) {\n      window.chartManager.drawPieChart('statusPieChart', [\n        { label: statusLabels[0], value: statusCounts[0], color: '#4ade80' },\n        { label: statusLabels[1], value: statusCounts[1], color: '#94a3b8' },\n        { label: statusLabels[2], value: statusCounts[2], color: '#fbbf24' },\n        { label: statusLabels[3], value: statusCounts[3], color: '#f87171' }\n      ]);\n    }\n\n    // Performance Bar Chart (by department)\n    const departments = this.departments.map(d => d.name);\n    const perfByDept = this.departments.map(dept => {\n      const perfs = this.performance.filter(p => p.departmentId === dept.id);\n      if (perfs.length === 0) return 0;\n      return Math.round(perfs.reduce((sum, p) => sum + (p.score || 0), 0) / perfs.length);\n    });\n    if (window.chartManager) {\n      window.chartManager.drawBarChart('performanceBarChart', {\n        labels: departments,\n        datasets: [\n          {\n            label: 'Ù…Ø¹Ø¯Ù„ Ø§Ù„Ø£Ø¯Ø§Ø¡',\n            data: perfByDept,\n            color: '#3b82f6'\n          }\n        ]\n      });\n    }\n  }\n\n  getLast12MonthsLabels() {\n    const labels = [];\n    const now = new Date();\n    for (let i = 11; i >= 0; i--) {\n      const d = new Date(now.getFullYear(), now.getMonth() - i, 1);\n      labels.push(`${d.getFullYear()}/${(d.getMonth() + 1).toString().padStart(2, '0')}`);\n    }\n    return labels;\n  }\n\n  getMonthYear(date) {\n    if (!date) return '';\n    const d = new Date(date);\n    return `${d.getFullYear()}/${(d.getMonth() + 1).toString().padStart(2, '0')}`;\n  }\n\n  getFilteredData(data) {\n    let filtered = [...data];\n    if (this.filters.status !== 'all') {\n      filtered = filtered.filter(item => item.status === this.filters.status);\n    }\n    if (this.filters.department !== 'all') {\n      filtered = filtered.filter(item => item.departmentId === parseInt(this.filters.department));\n    }\n    if (this.filters.position !== 'all') {\n      filtered = filtered.filter(item => item.positionId === parseInt(this.filters.position));\n    }\n    if (this.filters.search) {\n      const search = this.filters.search.toLowerCase();\n      filtered = filtered.filter(item =>\n        (item.name && item.name.toLowerCase().includes(search)) ||\n        (item.employeeId && item.employeeId.toLowerCase().includes(search)) ||\n        (item.email && item.email.toLowerCase().includes(search)) ||\n        (item.departmentName && item.departmentName.toLowerCase().includes(search)) ||\n        (item.positionName && item.positionName.toLowerCase().includes(search)) ||\n        (item.phone && item.phone.toLowerCase().includes(search))\n      );\n    }\n    return filtered;\n  }\n\n  getPerformanceLevel(score) {\n    if (score >= 90) return 'excellent';\n    if (score >= 70) return 'good';\n    if (score >= 50) return 'fair';\n    return 'poor';\n  }\n\n  async loadData() {\n    if (!this.useAPI) {\n      this.loadFromLocalStorage();\n      return;\n    }\n\n    try {\n      if (!this.connectionManager.isFullyConnected()) {\n        this.loadFromLocalStorage();\n        return;\n      }\n\n      const [employees, departments, positions, leaves, attendance, performance, recruitment, training, payroll, analytics] = await Promise.all([\n        this.apiClient.get(this.API_ENDPOINTS.employees || '/api/advanced-hr/employees'),\n        this.apiClient.get(this.API_ENDPOINTS.departments || '/api/advanced-hr/departments'),\n        this.apiClient.get(this.API_ENDPOINTS.positions || '/api/advanced-hr/positions'),\n        this.apiClient.get(this.API_ENDPOINTS.leaves || '/api/advanced-hr/leaves'),\n        this.apiClient.get(this.API_ENDPOINTS.attendance || '/api/advanced-hr/attendance'),\n        this.apiClient.get(this.API_ENDPOINTS.performance || '/api/advanced-hr/performance'),\n        this.apiClient.get(this.API_ENDPOINTS.recruitment || '/api/advanced-hr/recruitment'),\n        this.apiClient.get(this.API_ENDPOINTS.training || '/api/advanced-hr/training'),\n        this.apiClient.get(this.API_ENDPOINTS.payroll || '/api/advanced-hr/payroll'),\n        this.apiClient.get(this.API_ENDPOINTS.analytics || '/api/advanced-hr/analytics')\n      ]);\n\n      this.employees = employees.data || [];\n      this.departments = departments.data || [];\n      this.positions = positions.data || [];\n      this.leaves = leaves.data || [];\n      this.attendance = attendance.data || [];\n      this.performance = performance.data || [];\n      this.recruitment = recruitment.data || [];\n      this.training = training.data || [];\n      this.payroll = payroll.data || [];\n      this.analytics = analytics.data || [];\n\n      this.saveToLocalStorage();\n      this.updateContent();\n    } catch (error) {\n      console.error('Error loading HR data:', error);\n      this.loadFromLocalStorage();\n    }\n  }\n\n  setupRealtimeSync() {\n    if (!this.realtimeSync) return;\n    this.realtimeSync.subscribe('advanced-hr', '*', (update) => {\n      if (update.action === 'create' || update.action === 'update' || update.action === 'delete') {\n        this.loadData();\n      }\n    });\n  }\n\n  setupConnectionMonitoring() {\n    if (!this.connectionManager) return;\n    this.connectionManager.on('online', () => {\n      this.loadData();\n    });\n  }\n\n  switchView(view) {\n    this.currentView = view;\n    this.updateContent();\n  }\n\n  handleFilterChange(type, event) {\n    this.filters[type] = event.target.value;\n    this.updateContent();\n  }\n\n  handleSearch(event) {\n    this.filters.search = event.target.value;\n    this.updateContent();\n  }\n\n  updateContent() {\n    const content = document.getElementById('hrContent');\n    if (content) {\n      content.innerHTML = this.renderCurrentView();\n    }\n  }\n\n  getStatusText(status) {\n    const statusMap = {\n      active: 'Ù†Ø´Ø·',\n      inactive: 'ØºÙŠØ± Ù†Ø´Ø·',\n      'on-leave': 'ÙÙŠ Ø¥Ø¬Ø§Ø²Ø©',\n      terminated: 'Ù…Ù†ØªÙ‡ÙŠ',\n      pending: 'Ù‚ÙŠØ¯ Ø§Ù„Ø§Ù†ØªØ¸Ø§Ø±',\n      approved: 'Ù…ÙˆØ§ÙÙ‚ Ø¹Ù„ÙŠÙ‡',\n      rejected: 'Ù…Ø±ÙÙˆØ¶',\n      completed: 'Ù…ÙƒØªÙ…Ù„',\n      paid: 'Ù…Ø¯ÙÙˆØ¹',\n      unpaid: 'ØºÙŠØ± Ù…Ø¯ÙÙˆØ¹'\n    };\n    return statusMap[status] || status;\n  }\n\n  getLeaveTypeText(type) {\n    const typeMap = {\n      annual: 'Ø³Ù†ÙˆÙŠØ©',\n      sick: 'Ù…Ø±Ø¶ÙŠØ©',\n      emergency: 'Ø·Ø§Ø±Ø¦Ø©',\n      unpaid: 'Ø¨Ø¯ÙˆÙ† Ø±Ø§ØªØ¨',\n      maternity: 'Ø£Ù…ÙˆÙ…Ø©',\n      paternity: 'Ø£Ø¨ÙˆØ©'\n    };\n    return typeMap[type] || type;\n  }\n\n  formatDate(date) {\n    if (!date) return 'ØºÙŠØ± Ù…Ø­Ø¯Ø¯';\n    return new Date(date).toLocaleDateString('ar-SA');\n  }\n\n  saveToLocalStorage() {\n    try {\n      localStorage.setItem('advancedEmployees', JSON.stringify(this.employees));\n      localStorage.setItem('advancedDepartments', JSON.stringify(this.departments));\n      localStorage.setItem('advancedPositions', JSON.stringify(this.positions));\n      localStorage.setItem('advancedLeaves', JSON.stringify(this.leaves));\n      localStorage.setItem('advancedAttendance', JSON.stringify(this.attendance));\n      localStorage.setItem('advancedPerformance', JSON.stringify(this.performance));\n      localStorage.setItem('advancedRecruitment', JSON.stringify(this.recruitment));\n      localStorage.setItem('advancedTraining', JSON.stringify(this.training));\n      localStorage.setItem('advancedPayroll', JSON.stringify(this.payroll));\n      localStorage.setItem('advancedAnalytics', JSON.stringify(this.analytics));\n    } catch (error) {\n      console.error('Error saving to localStorage:', error);\n    }\n  }\n\n  loadFromLocalStorage() {\n    try {\n      this.employees = JSON.parse(localStorage.getItem('advancedEmployees') || '[]');\n      this.departments = JSON.parse(localStorage.getItem('advancedDepartments') || '[]');\n      this.positions = JSON.parse(localStorage.getItem('advancedPositions') || '[]');\n      this.leaves = JSON.parse(localStorage.getItem('advancedLeaves') || '[]');\n      this.attendance = JSON.parse(localStorage.getItem('advancedAttendance') || '[]');\n      this.performance = JSON.parse(localStorage.getItem('advancedPerformance') || '[]');\n      this.recruitment = JSON.parse(localStorage.getItem('advancedRecruitment') || '[]');\n      this.training = JSON.parse(localStorage.getItem('advancedTraining') || '[]');\n      this.payroll = JSON.parse(localStorage.getItem('advancedPayroll') || '[]');\n      this.analytics = JSON.parse(localStorage.getItem('advancedAnalytics') || '[]');\n    } catch (error) {\n      console.error('Error loading from localStorage:', error);\n    }\n  }\n\n  setupEventListeners() {\n    this.createEmployee = this.createEmployee.bind(this);\n    this.createDepartment = this.createDepartment.bind(this);\n    this.switchView = this.switchView.bind(this);\n    this.handleFilterChange = this.handleFilterChange.bind(this);\n    this.handleSearch = this.handleSearch.bind(this);\n    this.viewEmployee = this.viewEmployee.bind(this);\n    this.editEmployee = this.editEmployee.bind(this);\n    this.viewDepartment = this.viewDepartment.bind(this);\n    this.editDepartment = this.editDepartment.bind(this);\n    this.approveLeave = this.approveLeave.bind(this);\n    this.rejectLeave = this.rejectLeave.bind(this);\n  }\n\n  async createEmployee() {\n    console.log('Create employee');\n  }\n\n  async createDepartment() {\n    console.log('Create department');\n  }\n\n  async viewEmployee(id) {\n    console.log('View employee', id);\n  }\n\n  async editEmployee(id) {\n    console.log('Edit employee', id);\n  }\n\n  async viewDepartment(id) {\n    console.log('View department', id);\n  }\n\n  async editDepartment(id) {\n    console.log('Edit department', id);\n  }\n\n  async approveLeave(id) {\n    console.log('Approve leave', id);\n  }\n\n  async rejectLeave(id) {\n    console.log('Reject leave', id);\n  }\n}\n\n// Expose globally for UI event handlers and smart suggestions\nwindow.AdvancedHRManagement = AdvancedHRManagement;\nwindow.hrManager = window.hrManager || null;\nexport default AdvancedHRManagement;\n"],"names":["AdvancedHRManagement","container","apiClient","API_ENDPOINTS","connectionManager","realtimeSync","systemEnhancer","aiAssistant","advancedCache","smartSuggestions","dept","s","events","l","t","filtered","employee","employeeId","e","modal","renderEmployeeFiles","files","file","input","fileObj","fileId","f","_b","_a","position","leave","record","perf","rec","train","pay","summaryCards","analytic","chartSection","months","attendanceData","m","a","statusCounts","status","statusLabels","departments","d","perfByDept","perfs","p","sum","labels","now","i","date","data","item","search","score","employees","positions","leaves","attendance","performance","recruitment","training","payroll","analytics","error","update","view","type","event","content","id"],"mappings":"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"}