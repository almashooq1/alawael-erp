{"version":3,"mappings":";qHAOA,IAAIA,EAAY,KACZC,EAAgB,KAChBC,EAAe,KACfC,EAAoB,KACpBC,EAAc,KACdC,EAAgB,KAEpB,eAAeC,GAAiB,CAC9B,GAAIN,IAAc,KAElB,GAAI,CAEFA,GADkB,MAAKO,EAAA,IAAC,OAAO,oBAAuB,OAAAC,KAAA,4BAChC,QAEtBP,GADqB,MAAKM,EAAA,IAAC,OAAO,oBAAiB,OAAAC,KAAA,4BACtB,cAE7B,GAAI,CAEFL,GADmB,MAAKI,EAAA,IAAC,OAAO,oBAA+B,OAAAC,KAAA,4BAChC,OACjC,MAAgB,CACd,QAAQ,KAAK,kCAAkC,CACjD,CAEA,GAAI,CAEFN,GADmB,MAAKK,EAAA,IAAC,OAAO,oBAA0B,OAAAC,KAAA,4BAChC,OAC5B,MAAgB,CACd,QAAQ,KAAK,8BAA8B,CAC7C,CAEA,GAAI,CAEFJ,GADiB,MAAKG,EAAA,IAAC,OAAO,oBAAyB,OAAAC,KAAA,4BAChC,OACzB,MAAgB,CACd,QAAQ,KAAK,4BAA4B,CAC3C,CAEA,GAAI,CAEFH,GADoB,MAAKE,EAAA,IAAC,OAAO,oBAA2B,OAAAC,KAAA,4BAChC,OAC9B,MAAgB,CACd,QAAQ,KAAK,8BAA8B,CAC7C,CACF,MAAgB,CACd,QAAQ,KAAK,2BAA2B,EACxCR,EAAY,KACZC,EAAgB,IAClB,CACF,CAEA,MAAMQ,CAAwC,CAC5C,aAAc,CACZ,KAAK,aAAe,GACpB,KAAK,YAAc,GACnB,KAAK,SAAW,GAChB,KAAK,KAAO,GACZ,KAAK,YAAc,eACnB,KAAK,aAAe,MACpB,KAAK,YAAc,GACnB,KAAK,QAAU,GACf,KAAK,OAAS,GACd,KAAK,KAAI,CACX,CAEA,MAAM,MAAO,CACX,MAAMH,EAAc,EACpB,KAAK,OAASN,IAAc,KAExB,KAAK,QACP,MAAM,KAAK,iBAAgB,EAC3B,MAAM,KAAK,gBAAe,EAC1B,MAAM,KAAK,aAAY,EACvB,MAAM,KAAK,SAAQ,GAEnB,KAAK,sBAAqB,EAGxBE,GACF,KAAK,kBAAiB,EAGpBC,GACF,KAAK,0BAAyB,EAGhC,KAAK,0BAAyB,CAChC,CAEA,mBAAoB,CAClBD,EAAa,UAAU,sBAAuBQ,GAAQ,CACpD,KAAK,iBAAgB,CACvB,CAAC,CACH,CAEA,2BAA4B,CAC1BP,EAAkB,eAAeQ,GAAY,CACvCA,GAAY,KAAK,QACnB,KAAK,mBAAkB,CAE3B,CAAC,CACH,CAEA,MAAM,kBAAmB,WACvB,KAAK,QAAU,GACf,GAAI,CACF,GAAI,KAAK,QAAUX,EAAW,CAC5B,MAAMY,EAAW,wBACXC,EAASR,EAAgBA,EAAc,IAAIO,CAAQ,EAAI,KAE7D,GAAIC,EACF,KAAK,aAAeA,MACf,CACL,MAAMC,EAAW,MAAMd,EAAU,MAC/Be,GAAAC,EAAAf,GAAA,YAAAA,EAAe,sBAAf,YAAAe,EAAoC,eAApC,YAAAD,EAAkD,OAChD,wCACd,GACcE,EAAAH,EAAS,OAAT,MAAAG,EAAe,UACjB,KAAK,aAAeH,EAAS,KAAK,MAAQ,GACtCT,GACFA,EAAc,IAAIO,EAAU,KAAK,aAAc,CAC7C,IAAK,EAAI,GAAK,IACd,KAAM,CAAC,aAAa,CACpC,CAAe,EAGP,CACF,CACF,OAASM,EAAO,CACd,QAAQ,MAAM,8BAA+BA,CAAK,EAClD,KAAK,4BAA2B,CAClC,QAAC,CACC,KAAK,QAAU,GACf,KAAK,0BAAyB,CAChC,CACF,CAEA,MAAM,iBAAkB,WACtB,GAAI,CACF,GAAI,KAAK,QAAUlB,EAAW,CAC5B,MAAMc,EAAW,MAAMd,EAAU,MAC/Be,GAAAC,EAAAf,GAAA,YAAAA,EAAe,sBAAf,YAAAe,EAAoC,cAApC,YAAAD,EAAiD,OAC/C,uCACZ,GACYE,EAAAH,EAAS,OAAT,MAAAG,EAAe,UACjB,KAAK,YAAcH,EAAS,KAAK,MAAQ,GAE7C,CACF,OAASI,EAAO,CACd,QAAQ,MAAM,6BAA8BA,CAAK,EACjD,KAAK,2BAA0B,CACjC,CACF,CAEA,MAAM,cAAe,WACnB,GAAI,CACF,GAAI,KAAK,QAAUlB,EAAW,CAC5B,MAAMc,EAAW,MAAMd,EAAU,MAC/Be,GAAAC,EAAAf,GAAA,YAAAA,EAAe,sBAAf,YAAAe,EAAoC,WAApC,YAAAD,EAA8C,OAAQ,oCAChE,GACYE,EAAAH,EAAS,OAAT,MAAAG,EAAe,UACjB,KAAK,SAAWH,EAAS,KAAK,MAAQ,GAE1C,CACF,OAASI,EAAO,CACd,QAAQ,MAAM,0BAA2BA,CAAK,EAC9C,KAAK,wBAAuB,CAC9B,CACF,CAEA,MAAM,UAAW,WACf,GAAI,CACF,GAAI,KAAK,QAAUlB,EAAW,CAC5B,MAAMc,EAAW,MAAMd,EAAU,MAC/Be,GAAAC,EAAAf,GAAA,YAAAA,EAAe,sBAAf,YAAAe,EAAoC,OAApC,YAAAD,EAA0C,OAAQ,gCAC5D,GACYE,EAAAH,EAAS,OAAT,MAAAG,EAAe,UACjB,KAAK,KAAOH,EAAS,KAAK,MAAQ,GAEtC,CACF,OAASI,EAAO,CACd,QAAQ,MAAM,sBAAuBA,CAAK,EAC1C,KAAK,oBAAmB,CAC1B,CACF,CAEA,6BAA8B,CAC5B,MAAMC,EAAS,aAAa,QAAQ,uBAAuB,EAC3D,GAAIA,EACF,GAAI,CACF,KAAK,aAAe,KAAK,MAAMA,CAAM,CACvC,OAASD,EAAO,CACd,QAAQ,MAAM,2CAA4CA,CAAK,CACjE,CAEJ,CAEA,4BAA6B,CAC3B,MAAMC,EAAS,aAAa,QAAQ,mCAAmC,EACvE,GAAIA,EACF,GAAI,CACF,KAAK,YAAc,KAAK,MAAMA,CAAM,CACtC,OAASD,EAAO,CACd,QAAQ,MAAM,0CAA2CA,CAAK,CAChE,CAEJ,CAEA,yBAA0B,CACxB,MAAMC,EAAS,aAAa,QAAQ,gCAAgC,EACpE,GAAIA,EACF,GAAI,CACF,KAAK,SAAW,KAAK,MAAMA,CAAM,CACnC,OAASD,EAAO,CACd,QAAQ,MAAM,uCAAwCA,CAAK,CAC7D,CAEJ,CAEA,qBAAsB,CACpB,MAAMC,EAAS,aAAa,QAAQ,4BAA4B,EAChE,GAAIA,EACF,GAAI,CACF,KAAK,KAAO,KAAK,MAAMA,CAAM,CAC/B,OAASD,EAAO,CACd,QAAQ,MAAM,mCAAoCA,CAAK,CACzD,CAEJ,CAEA,2BAA4B,CAC1B,aAAa,QAAQ,wBAAyB,KAAK,UAAU,KAAK,YAAY,CAAC,CACjF,CAEA,uBAAwB,CAClB,KAAK,aAAa,SAAW,IAC/B,KAAK,aAAe,GACpB,KAAK,0BAAyB,EAElC,CAEA,MAAM,oBAAqB,CACrB,KAAK,MAGX,CAEA,eAAeE,EAAQ,CACrB,KAAK,aAAeA,IAAW,KAAK,aAAe,MAAQA,EAC3D,KAAK,0BAAyB,CAChC,CAEA,mBAAmBC,EAAO,CACxB,KAAK,YAAcA,EACnB,KAAK,0BAAyB,CAChC,CAEA,yBAA0B,CACxB,IAAIC,EAAW,KAAK,aAMpB,GAJI,KAAK,eAAiB,QACxBA,EAAWA,EAAS,OAAOC,GAAKA,EAAE,SAAW,KAAK,YAAY,GAG5D,KAAK,YAAa,CACpB,MAAMF,EAAQ,KAAK,YAAY,YAAW,EAC1CC,EAAWA,EAAS,OAClBC,GACEA,EAAE,KAAK,YAAW,EAAG,SAASF,CAAK,GAAME,EAAE,MAAQA,EAAE,KAAK,YAAW,EAAG,SAASF,CAAK,CAChG,CACI,CAEA,OAAOC,CACT,CAEA,2BAA4B,CAC1B,MAAME,EAAY,SAAS,eAAe,gCAAgC,GAAK,SAAS,KAExFA,EAAU,UAAY;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mFAQyD,KAAK,QAAU,WAAa,EAAE;AAAA,0CACvE,KAAK,QAAU,UAAY,EAAE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mCAMpC,KAAK,cAAgB,eAAiB,SAAW,EAAE;AAAA;AAAA;AAAA,mCAGnD,KAAK,cAAgB,cAAgB,SAAW,EAAE;AAAA;AAAA;AAAA,mCAGlD,KAAK,cAAgB,WAAa,SAAW,EAAE;AAAA;AAAA;AAAA,mCAG/C,KAAK,cAAgB,OAAS,SAAW,EAAE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAMlE,KAAK,kBAAiB,CAAE;AAAA;AAAA;AAAA,KAIlC,CAEA,mBAAoB,CAClB,OAAQ,KAAK,YAAW,CACtB,IAAK,eACH,OAAO,KAAK,mBAAkB,EAChC,IAAK,cACH,OAAO,KAAK,kBAAiB,EAC/B,IAAK,WACH,OAAO,KAAK,eAAc,EAC5B,IAAK,OACH,OAAO,KAAK,WAAU,EACxB,QACE,OAAO,KAAK,mBAAkB,CACtC,CACE,CAEA,oBAAqB,CACnB,MAAMF,EAAW,KAAK,wBAAuB,EACvCG,EAAQ,CACZ,MAAO,KAAK,aAAa,OACzB,OAAQ,KAAK,aAAa,OAAOF,GAAKA,EAAE,SAAW,QAAQ,EAAE,OAC7D,SAAU,KAAK,aAAa,OAAOA,GAAKA,EAAE,SAAW,UAAU,EAAE,OACjE,MAAO,KAAK,aAAa,OAAOA,GAAKA,EAAE,SAAW,OAAO,EAAE,MACjE,EAEI,MAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iCASsBE,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iCASXA,EAAM,MAAM;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iCASZA,EAAM,QAAQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iCASdA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAOhCH,EACG,IACCI,GAAe;AAAA,uDACwBA,EAAY,MAAM;AAAA;AAAA,sBAEnDA,EAAY,IAAI;AAAA,yDACmBA,EAAY,MAAM;AAAA,oBACvD,KAAK,cAAcA,EAAY,MAAM,CAAC;AAAA;AAAA;AAAA;AAAA,qBAIrCA,EAAY,aAAe,EAAE;AAAA;AAAA;AAAA;AAAA,4BAItB,KAAK,YAAYA,EAAY,IAAI,CAAC;AAAA;AAAA;AAAA;AAAA,uCAIvB,IAAI,KAAKA,EAAY,SAAS,EAAE,mBAAmB,OAAO,CAAC;AAAA;AAAA;AAAA;AAAA;AAAA,sGAKIA,EAAY,EAAE;AAAA;AAAA;AAAA,sGAGdA,EAAY,EAAE;AAAA;AAAA;AAAA,4CAGxEA,EAAY,SAAW,SAAW,cAAgB,aAAa;AAAA,yEAClCA,EAAY,EAAE;AAAA,4CAC3CA,EAAY,SAAW,SAAW,MAAQ,IAAI,UAAUA,EAAY,SAAW,SAAW,QAAU,OAAO;AAAA;AAAA;AAAA;AAAA,WAKvJ,EACe,KAAK,EAAE,GAAK,4CAC3B;AAAA;AAAA;AAAA,KAIE,CAEA,mBAAoB,CAClB,MAAO;AAAA;AAAA;AAAA,YAIC,KAAK,YACF,IACCC,GAAc;AAAA,qDACuBA,EAAW,MAAM;AAAA;AAAA,sBAEhDA,EAAW,IAAI;AAAA,wDACmBA,EAAW,MAAM;AAAA,oBACrD,KAAK,cAAcA,EAAW,MAAM,CAAC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BAO7BA,EAAW,MAAQ,UAAU;AAAA;AAAA;AAAA;AAAA,kCAIvBA,EAAW,MAAQ,UAAU;AAAA;AAAA;AAAA;AAAA,uCAIxBA,EAAW,cAAgB,IAAI,KAAKA,EAAW,aAAa,EAAE,eAAe,OAAO,EAAI,SAAS;AAAA;AAAA;AAAA;AAAA;AAAA,qGAKnCA,EAAW,EAAE;AAAA;AAAA;AAAA,qGAGbA,EAAW,EAAE;AAAA;AAAA;AAAA;AAAA;AAAA,WAMlH,EACe,KAAK,EAAE,GAAK,4CAC3B;AAAA;AAAA;AAAA,KAIE,CAEA,gBAAiB,CACf,MAAO;AAAA;AAAA;AAAA,YAIC,KAAK,SACF,IACCC,GAAW;AAAA,+CACoBA,EAAQ,MAAM;AAAA;AAAA,sBAEvCA,EAAQ,IAAI;AAAA,qDACmBA,EAAQ,MAAM;AAAA,oBAC/C,KAAK,cAAcA,EAAQ,MAAM,CAAC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iCAOrBA,EAAQ,KAAO,UAAU;AAAA;AAAA;AAAA;AAAA,oCAItBA,EAAQ,QAAU,MAAM;AAAA;AAAA;AAAA;AAAA,yCAInBA,EAAQ,WAAa,IAAI,KAAKA,EAAQ,UAAU,EAAE,eAAe,OAAO,EAAI,WAAW;AAAA;AAAA;AAAA;AAAA;AAAA,kGAK9BA,EAAQ,EAAE;AAAA;AAAA;AAAA,kGAGVA,EAAQ,EAAE;AAAA;AAAA;AAAA;AAAA;AAAA,WAM5G,EACe,KAAK,EAAE,GAAK,6CAC3B;AAAA;AAAA;AAAA,KAIE,CAEA,YAAa,CACX,MAAO;AAAA;AAAA;AAAA,YAIC,KAAK,KACF,IACCC,GAAO;AAAA,uCACgBA,EAAI,MAAM;AAAA;AAAA,sBAE3BA,EAAI,IAAI;AAAA,iDACmBA,EAAI,MAAM;AAAA,oBACvC,KAAK,cAAcA,EAAI,MAAM,CAAC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sCAOZA,EAAI,UAAY,UAAU;AAAA;AAAA;AAAA;AAAA,kCAI9BA,EAAI,UAAY,UAAU;AAAA;AAAA;AAAA;AAAA,qCAIvBA,EAAI,eAAiB,CAAC;AAAA;AAAA;AAAA;AAAA;AAAA,8FAKmCA,EAAI,EAAE;AAAA;AAAA;AAAA,8FAGNA,EAAI,EAAE;AAAA;AAAA;AAAA;AAAA;AAAA,WAMpG,EACe,KAAK,EAAE,GAAK,yCAC3B;AAAA;AAAA;AAAA,KAIE,CAEA,cAAcT,EAAQ,CAOpB,MANc,CACZ,OAAQ,MACR,SAAU,UACV,MAAO,MACP,QAAS,cACf,EACiBA,CAAM,GAAKA,CAC1B,CAEA,YAAYU,EAAM,CAQhB,MAPc,CACZ,IAAK,MACL,QAAS,UACT,SAAU,eACV,KAAM,MACN,MAAO,eACb,EACiBA,CAAI,GAAKA,CACxB,CAEA,WAAWC,EAAM,CACf,KAAK,YAAcA,EACnB,KAAK,0BAAyB,CAChC,CAEA,gBAAgBC,EAAe,CAC7B,MAAM,gBAAgBA,CAAa,wBAAwB,CAC7D,CAEA,gBAAgBA,EAAe,CAC7B,MAAM,kBAAkBA,CAAa,wBAAwB,CAC/D,CAEA,kBAAkBA,EAAe,CAC/B,MAAM,uBAAuBA,CAAa,wBAAwB,CACpE,CAEA,eAAeC,EAAc,CAC3B,MAAM,gBAAgBA,CAAY,wBAAwB,CAC5D,CAEA,eAAeA,EAAc,CAC3B,MAAM,mBAAmBA,CAAY,wBAAwB,CAC/D,CAEA,YAAYC,EAAW,CACrB,MAAM,gBAAgBA,CAAS,wBAAwB,CACzD,CAEA,YAAYA,EAAW,CACrB,MAAM,kBAAkBA,CAAS,wBAAwB,CAC3D,CAEA,QAAQC,EAAO,CACb,MAAM,YAAYA,CAAK,wBAAwB,CACjD,CAEA,QAAQA,EAAO,CACb,MAAM,cAAcA,CAAK,wBAAwB,CACnD,CAEA,iBAAkB,CAChB,MAAM,yCAAyC,CACjD,CAEA,MAAM,SAAU,CACV9B,GACFA,EAAc,MAAM,CAAC,aAAa,CAAC,EAErC,MAAM,KAAK,iBAAgB,EAC3B,MAAM,KAAK,gBAAe,EAC1B,MAAM,KAAK,aAAY,EACvB,MAAM,KAAK,SAAQ,EACf,OAAO,WAAc,YACvB,UAAU,aAAc,SAAS,CAErC,CACF,CAGA,MAAM+B,EAAsB,IAAI3B,EAG5B,OAAO,OAAW,MACpB,OAAO,oBAAsB2B,EAGzB,OAAO,yBACT,OAAO,wBAAwB,cAAcA,EAAqB,qBAAqB,GAKvF,OAAOC,EAAW,KAAeA,EAAO,UAC1CA,EAAO,QAAU5B","names":["apiClient","API_ENDPOINTS","realtimeSync","connectionManager","aiAssistant","advancedCache","loadAPIModules","__vitePreload","n","RehabilitationCenterAdvancedIntegration","data","isOnline","cacheKey","cached","response","_b","_a","_c","error","stored","status","query","filtered","i","container","stats","integration","connection","webhook","api","type","view","integrationId","connectionId","webhookId","apiId","advancedIntegration","module"],"ignoreList":[],"sources":["../../src/rehabilitation-center-advanced-integration.js"],"sourcesContent":["/**\n * ğŸ”— Ù†Ø¸Ø§Ù… Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„ØªÙƒØ§Ù…Ù„ Ø§Ù„Ù…ØªÙ‚Ø¯Ù…\n * Advanced Integration Management System\n * Ù†Ø¸Ø§Ù… Ø´Ø§Ù…Ù„ ÙˆÙ…ØªÙ‚Ø¯Ù… Ù„Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„ØªÙƒØ§Ù…Ù„Ø§Øª ÙˆØ§Ù„ÙˆØ§Ø¬Ù‡Ø§Øª\n */\n\n// Import API Client and endpoints (lazy loading)\nlet apiClient = null;\nlet API_ENDPOINTS = null;\nlet realtimeSync = null;\nlet connectionManager = null;\nlet aiAssistant = null;\nlet advancedCache = null;\n\nasync function loadAPIModules() {\n  if (apiClient !== null) return;\n\n  try {\n    const apiModule = await import('./utils/api-client.js');\n    apiClient = apiModule.default;\n    const configModule = await import('./config/api.js');\n    API_ENDPOINTS = configModule.API_ENDPOINTS;\n\n    try {\n      const connModule = await import('./utils/connection-manager.js');\n      connectionManager = connModule.default;\n    } catch (error) {\n      console.warn('Connection manager not available');\n    }\n\n    try {\n      const syncModule = await import('./utils/realtime-sync.js');\n      realtimeSync = syncModule.default;\n    } catch (error) {\n      console.warn('Real-time sync not available');\n    }\n\n    try {\n      const aiModule = await import('./utils/ai-assistant.js');\n      aiAssistant = aiModule.default;\n    } catch (error) {\n      console.warn('AI Assistant not available');\n    }\n\n    try {\n      const cacheModule = await import('./utils/advanced-cache.js');\n      advancedCache = cacheModule.default;\n    } catch (error) {\n      console.warn('Advanced cache not available');\n    }\n  } catch (error) {\n    console.warn('API modules not available');\n    apiClient = null;\n    API_ENDPOINTS = null;\n  }\n}\n\nclass RehabilitationCenterAdvancedIntegration {\n  constructor() {\n    this.integrations = [];\n    this.connections = [];\n    this.webhooks = [];\n    this.apis = [];\n    this.currentView = 'integrations';\n    this.filterStatus = 'all';\n    this.searchQuery = '';\n    this.loading = false;\n    this.useAPI = false;\n    this.init();\n  }\n\n  async init() {\n    await loadAPIModules();\n    this.useAPI = apiClient !== null;\n\n    if (this.useAPI) {\n      await this.loadIntegrations();\n      await this.loadConnections();\n      await this.loadWebhooks();\n      await this.loadAPIs();\n    } else {\n      this.initializeDefaultData();\n    }\n\n    if (realtimeSync) {\n      this.setupRealtimeSync();\n    }\n\n    if (connectionManager) {\n      this.setupConnectionMonitoring();\n    }\n\n    this.renderAdvancedIntegration();\n  }\n\n  setupRealtimeSync() {\n    realtimeSync.subscribe('integration:updated', data => {\n      this.loadIntegrations();\n    });\n  }\n\n  setupConnectionMonitoring() {\n    connectionManager.onStatusChange(isOnline => {\n      if (isOnline && this.useAPI) {\n        this.syncPendingChanges();\n      }\n    });\n  }\n\n  async loadIntegrations() {\n    this.loading = true;\n    try {\n      if (this.useAPI && apiClient) {\n        const cacheKey = 'advanced_integrations';\n        const cached = advancedCache ? advancedCache.get(cacheKey) : null;\n\n        if (cached) {\n          this.integrations = cached;\n        } else {\n          const response = await apiClient.get(\n            API_ENDPOINTS?.advancedIntegration?.integrations?.list ||\n              '/api/advanced-integration/integrations'\n          );\n          if (response.data?.success) {\n            this.integrations = response.data.data || [];\n            if (advancedCache) {\n              advancedCache.set(cacheKey, this.integrations, {\n                ttl: 5 * 60 * 1000,\n                tags: ['integration'],\n              });\n            }\n          }\n        }\n      }\n    } catch (error) {\n      console.error('Error loading integrations:', error);\n      this.loadIntegrationsFromStorage();\n    } finally {\n      this.loading = false;\n      this.renderAdvancedIntegration();\n    }\n  }\n\n  async loadConnections() {\n    try {\n      if (this.useAPI && apiClient) {\n        const response = await apiClient.get(\n          API_ENDPOINTS?.advancedIntegration?.connections?.list ||\n            '/api/advanced-integration/connections'\n        );\n        if (response.data?.success) {\n          this.connections = response.data.data || [];\n        }\n      }\n    } catch (error) {\n      console.error('Error loading connections:', error);\n      this.loadConnectionsFromStorage();\n    }\n  }\n\n  async loadWebhooks() {\n    try {\n      if (this.useAPI && apiClient) {\n        const response = await apiClient.get(\n          API_ENDPOINTS?.advancedIntegration?.webhooks?.list || '/api/advanced-integration/webhooks'\n        );\n        if (response.data?.success) {\n          this.webhooks = response.data.data || [];\n        }\n      }\n    } catch (error) {\n      console.error('Error loading webhooks:', error);\n      this.loadWebhooksFromStorage();\n    }\n  }\n\n  async loadAPIs() {\n    try {\n      if (this.useAPI && apiClient) {\n        const response = await apiClient.get(\n          API_ENDPOINTS?.advancedIntegration?.apis?.list || '/api/advanced-integration/apis'\n        );\n        if (response.data?.success) {\n          this.apis = response.data.data || [];\n        }\n      }\n    } catch (error) {\n      console.error('Error loading APIs:', error);\n      this.loadAPIsFromStorage();\n    }\n  }\n\n  loadIntegrationsFromStorage() {\n    const stored = localStorage.getItem('advanced_integrations');\n    if (stored) {\n      try {\n        this.integrations = JSON.parse(stored);\n      } catch (error) {\n        console.error('Error loading integrations from storage:', error);\n      }\n    }\n  }\n\n  loadConnectionsFromStorage() {\n    const stored = localStorage.getItem('advanced_integrations_connections');\n    if (stored) {\n      try {\n        this.connections = JSON.parse(stored);\n      } catch (error) {\n        console.error('Error loading connections from storage:', error);\n      }\n    }\n  }\n\n  loadWebhooksFromStorage() {\n    const stored = localStorage.getItem('advanced_integrations_webhooks');\n    if (stored) {\n      try {\n        this.webhooks = JSON.parse(stored);\n      } catch (error) {\n        console.error('Error loading webhooks from storage:', error);\n      }\n    }\n  }\n\n  loadAPIsFromStorage() {\n    const stored = localStorage.getItem('advanced_integrations_apis');\n    if (stored) {\n      try {\n        this.apis = JSON.parse(stored);\n      } catch (error) {\n        console.error('Error loading APIs from storage:', error);\n      }\n    }\n  }\n\n  saveIntegrationsToStorage() {\n    localStorage.setItem('advanced_integrations', JSON.stringify(this.integrations));\n  }\n\n  initializeDefaultData() {\n    if (this.integrations.length === 0) {\n      this.integrations = [];\n      this.saveIntegrationsToStorage();\n    }\n  }\n\n  async syncPendingChanges() {\n    if (this.useAPI && apiClient) {\n      // TODO: Sync pending changes\n    }\n  }\n\n  filterByStatus(status) {\n    this.filterStatus = status === this.filterStatus ? 'all' : status;\n    this.renderAdvancedIntegration();\n  }\n\n  searchIntegrations(query) {\n    this.searchQuery = query;\n    this.renderAdvancedIntegration();\n  }\n\n  getFilteredIntegrations() {\n    let filtered = this.integrations;\n\n    if (this.filterStatus !== 'all') {\n      filtered = filtered.filter(i => i.status === this.filterStatus);\n    }\n\n    if (this.searchQuery) {\n      const query = this.searchQuery.toLowerCase();\n      filtered = filtered.filter(\n        i =>\n          i.name.toLowerCase().includes(query) || (i.type && i.type.toLowerCase().includes(query))\n      );\n    }\n\n    return filtered;\n  }\n\n  renderAdvancedIntegration() {\n    const container = document.getElementById('advanced-integration-container') || document.body;\n\n    container.innerHTML = `\n      <div class=\"advanced-integration\">\n        <div class=\"header-section\">\n          <h2><i class=\"fas fa-plug\"></i> Ù†Ø¸Ø§Ù… Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„ØªÙƒØ§Ù…Ù„ Ø§Ù„Ù…ØªÙ‚Ø¯Ù…</h2>\n          <div class=\"header-actions\">\n            <button class=\"btn btn-primary\" onclick=\"advancedIntegration.showCreateModal()\">\n              <i class=\"fas fa-plus\"></i> ØªÙƒØ§Ù…Ù„ Ø¬Ø¯ÙŠØ¯\n            </button>\n            <button class=\"btn btn-info\" onclick=\"advancedIntegration.refresh()\" ${this.loading ? 'disabled' : ''}>\n              <i class=\"fas fa-sync-alt ${this.loading ? 'fa-spin' : ''}\"></i> ØªØ­Ø¯ÙŠØ«\n            </button>\n          </div>\n        </div>\n\n        <div class=\"tabs-section\">\n          <button class=\"tab-btn ${this.currentView === 'integrations' ? 'active' : ''}\" onclick=\"advancedIntegration.switchView('integrations')\">\n            <i class=\"fas fa-plug\"></i> Ø§Ù„ØªÙƒØ§Ù…Ù„Ø§Øª\n          </button>\n          <button class=\"tab-btn ${this.currentView === 'connections' ? 'active' : ''}\" onclick=\"advancedIntegration.switchView('connections')\">\n            <i class=\"fas fa-network-wired\"></i> Ø§Ù„Ø§ØªØµØ§Ù„Ø§Øª\n          </button>\n          <button class=\"tab-btn ${this.currentView === 'webhooks' ? 'active' : ''}\" onclick=\"advancedIntegration.switchView('webhooks')\">\n            <i class=\"fas fa-code-branch\"></i> Webhooks\n          </button>\n          <button class=\"tab-btn ${this.currentView === 'apis' ? 'active' : ''}\" onclick=\"advancedIntegration.switchView('apis')\">\n            <i class=\"fas fa-code\"></i> APIs\n          </button>\n        </div>\n\n        <div class=\"content-section\">\n          ${this.renderCurrentView()}\n        </div>\n      </div>\n    `;\n  }\n\n  renderCurrentView() {\n    switch (this.currentView) {\n      case 'integrations':\n        return this.renderIntegrations();\n      case 'connections':\n        return this.renderConnections();\n      case 'webhooks':\n        return this.renderWebhooks();\n      case 'apis':\n        return this.renderAPIs();\n      default:\n        return this.renderIntegrations();\n    }\n  }\n\n  renderIntegrations() {\n    const filtered = this.getFilteredIntegrations();\n    const stats = {\n      total: this.integrations.length,\n      active: this.integrations.filter(i => i.status === 'active').length,\n      inactive: this.integrations.filter(i => i.status === 'inactive').length,\n      error: this.integrations.filter(i => i.status === 'error').length,\n    };\n\n    return `\n      <div class=\"integrations-view\">\n        <div class=\"integrations-stats\">\n          <div class=\"stat-card\">\n            <div class=\"stat-icon\" style=\"background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\">\n              <i class=\"fas fa-plug\"></i>\n            </div>\n            <div class=\"stat-content\">\n              <h3>Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„ØªÙƒØ§Ù…Ù„Ø§Øª</h3>\n              <p class=\"count\">${stats.total}</p>\n            </div>\n          </div>\n          <div class=\"stat-card\">\n            <div class=\"stat-icon\" style=\"background: linear-gradient(135deg, #28a745 0%, #20c997 100%);\">\n              <i class=\"fas fa-check-circle\"></i>\n            </div>\n            <div class=\"stat-content\">\n              <h3>Ù†Ø´Ø·</h3>\n              <p class=\"count\">${stats.active}</p>\n            </div>\n          </div>\n          <div class=\"stat-card\">\n            <div class=\"stat-icon\" style=\"background: linear-gradient(135deg, #6c757d 0%, #5a6268 100%);\">\n              <i class=\"fas fa-pause-circle\"></i>\n            </div>\n            <div class=\"stat-content\">\n              <h3>ØºÙŠØ± Ù†Ø´Ø·</h3>\n              <p class=\"count\">${stats.inactive}</p>\n            </div>\n          </div>\n          <div class=\"stat-card\">\n            <div class=\"stat-icon\" style=\"background: linear-gradient(135deg, #dc3545 0%, #c82333 100%);\">\n              <i class=\"fas fa-exclamation-circle\"></i>\n            </div>\n            <div class=\"stat-content\">\n              <h3>Ø®Ø·Ø£</h3>\n              <p class=\"count\">${stats.error}</p>\n            </div>\n          </div>\n        </div>\n\n        <div class=\"integrations-list\">\n          ${\n            filtered\n              .map(\n                integration => `\n            <div class=\"integration-card integration-${integration.status}\">\n              <div class=\"integration-header\">\n                <h4>${integration.name}</h4>\n                <span class=\"integration-status status-${integration.status}\">\n                  ${this.getStatusName(integration.status)}\n                </span>\n              </div>\n              <div class=\"integration-body\">\n                <p>${integration.description || ''}</p>\n                <div class=\"integration-info\">\n                  <div class=\"info-item\">\n                    <i class=\"fas fa-tag\"></i>\n                    <span>${this.getTypeName(integration.type)}</span>\n                  </div>\n                  <div class=\"info-item\">\n                    <i class=\"fas fa-calendar\"></i>\n                    <span>Ø¢Ø®Ø± ØªØ­Ø¯ÙŠØ«: ${new Date(integration.updatedAt).toLocaleDateString('ar-SA')}</span>\n                  </div>\n                </div>\n              </div>\n              <div class=\"integration-actions\">\n                <button class=\"btn btn-sm btn-primary\" onclick=\"advancedIntegration.viewIntegration(${integration.id})\">\n                  <i class=\"fas fa-eye\"></i> Ø¹Ø±Ø¶\n                </button>\n                <button class=\"btn btn-sm btn-success\" onclick=\"advancedIntegration.editIntegration(${integration.id})\">\n                  <i class=\"fas fa-edit\"></i> ØªØ¹Ø¯ÙŠÙ„\n                </button>\n                <button class=\"btn btn-sm ${integration.status === 'active' ? 'btn-warning' : 'btn-success'}\" \n                        onclick=\"advancedIntegration.toggleIntegration(${integration.id})\">\n                  <i class=\"fas fa-toggle-${integration.status === 'active' ? 'off' : 'on'}\"></i> ${integration.status === 'active' ? 'ØªØ¹Ø·ÙŠÙ„' : 'ØªÙØ¹ÙŠÙ„'}\n                </button>\n              </div>\n            </div>\n          `\n              )\n              .join('') || '<p class=\"empty-state\">Ù„Ø§ ØªÙˆØ¬Ø¯ ØªÙƒØ§Ù…Ù„Ø§Øª</p>'\n          }\n        </div>\n      </div>\n    `;\n  }\n\n  renderConnections() {\n    return `\n      <div class=\"connections-view\">\n        <div class=\"connections-list\">\n          ${\n            this.connections\n              .map(\n                connection => `\n            <div class=\"connection-card connection-${connection.status}\">\n              <div class=\"connection-header\">\n                <h4>${connection.name}</h4>\n                <span class=\"connection-status status-${connection.status}\">\n                  ${this.getStatusName(connection.status)}\n                </span>\n              </div>\n              <div class=\"connection-body\">\n                <div class=\"connection-info\">\n                  <div class=\"info-item\">\n                    <i class=\"fas fa-server\"></i>\n                    <span>${connection.host || 'ØºÙŠØ± Ù…Ø­Ø¯Ø¯'}</span>\n                  </div>\n                  <div class=\"info-item\">\n                    <i class=\"fas fa-port\"></i>\n                    <span>Port: ${connection.port || 'ØºÙŠØ± Ù…Ø­Ø¯Ø¯'}</span>\n                  </div>\n                  <div class=\"info-item\">\n                    <i class=\"fas fa-clock\"></i>\n                    <span>Ø¢Ø®Ø± Ø§ØªØµØ§Ù„: ${connection.lastConnected ? new Date(connection.lastConnected).toLocaleString('ar-SA') : 'Ù„Ù… ÙŠØªØµÙ„'}</span>\n                  </div>\n                </div>\n              </div>\n              <div class=\"connection-actions\">\n                <button class=\"btn btn-sm btn-primary\" onclick=\"advancedIntegration.viewConnection(${connection.id})\">\n                  <i class=\"fas fa-eye\"></i> Ø¹Ø±Ø¶\n                </button>\n                <button class=\"btn btn-sm btn-success\" onclick=\"advancedIntegration.testConnection(${connection.id})\">\n                  <i class=\"fas fa-vial\"></i> Ø§Ø®ØªØ¨Ø§Ø±\n                </button>\n              </div>\n            </div>\n          `\n              )\n              .join('') || '<p class=\"empty-state\">Ù„Ø§ ØªÙˆØ¬Ø¯ Ø§ØªØµØ§Ù„Ø§Øª</p>'\n          }\n        </div>\n      </div>\n    `;\n  }\n\n  renderWebhooks() {\n    return `\n      <div class=\"webhooks-view\">\n        <div class=\"webhooks-list\">\n          ${\n            this.webhooks\n              .map(\n                webhook => `\n            <div class=\"webhook-card webhook-${webhook.status}\">\n              <div class=\"webhook-header\">\n                <h4>${webhook.name}</h4>\n                <span class=\"webhook-status status-${webhook.status}\">\n                  ${this.getStatusName(webhook.status)}\n                </span>\n              </div>\n              <div class=\"webhook-body\">\n                <div class=\"webhook-info\">\n                  <div class=\"info-item\">\n                    <i class=\"fas fa-link\"></i>\n                    <span>URL: ${webhook.url || 'ØºÙŠØ± Ù…Ø­Ø¯Ø¯'}</span>\n                  </div>\n                  <div class=\"info-item\">\n                    <i class=\"fas fa-method\"></i>\n                    <span>Method: ${webhook.method || 'POST'}</span>\n                  </div>\n                  <div class=\"info-item\">\n                    <i class=\"fas fa-calendar\"></i>\n                    <span>Ø¢Ø®Ø± Ø§Ø³ØªØ¯Ø¹Ø§Ø¡: ${webhook.lastCalled ? new Date(webhook.lastCalled).toLocaleString('ar-SA') : 'Ù„Ù… ÙŠÙØ³ØªØ¯Ø¹'}</span>\n                  </div>\n                </div>\n              </div>\n              <div class=\"webhook-actions\">\n                <button class=\"btn btn-sm btn-primary\" onclick=\"advancedIntegration.viewWebhook(${webhook.id})\">\n                  <i class=\"fas fa-eye\"></i> Ø¹Ø±Ø¶\n                </button>\n                <button class=\"btn btn-sm btn-success\" onclick=\"advancedIntegration.editWebhook(${webhook.id})\">\n                  <i class=\"fas fa-edit\"></i> ØªØ¹Ø¯ÙŠÙ„\n                </button>\n              </div>\n            </div>\n          `\n              )\n              .join('') || '<p class=\"empty-state\">Ù„Ø§ ØªÙˆØ¬Ø¯ webhooks</p>'\n          }\n        </div>\n      </div>\n    `;\n  }\n\n  renderAPIs() {\n    return `\n      <div class=\"apis-view\">\n        <div class=\"apis-list\">\n          ${\n            this.apis\n              .map(\n                api => `\n            <div class=\"api-card api-${api.status}\">\n              <div class=\"api-header\">\n                <h4>${api.name}</h4>\n                <span class=\"api-status status-${api.status}\">\n                  ${this.getStatusName(api.status)}\n                </span>\n              </div>\n              <div class=\"api-body\">\n                <div class=\"api-info\">\n                  <div class=\"info-item\">\n                    <i class=\"fas fa-link\"></i>\n                    <span>Endpoint: ${api.endpoint || 'ØºÙŠØ± Ù…Ø­Ø¯Ø¯'}</span>\n                  </div>\n                  <div class=\"info-item\">\n                    <i class=\"fas fa-key\"></i>\n                    <span>Auth: ${api.authType || 'ØºÙŠØ± Ù…Ø­Ø¯Ø¯'}</span>\n                  </div>\n                  <div class=\"info-item\">\n                    <i class=\"fas fa-chart-line\"></i>\n                    <span>Ø§Ù„Ø·Ù„Ø¨Ø§Øª: ${api.requestsCount || 0}</span>\n                  </div>\n                </div>\n              </div>\n              <div class=\"api-actions\">\n                <button class=\"btn btn-sm btn-primary\" onclick=\"advancedIntegration.viewAPI(${api.id})\">\n                  <i class=\"fas fa-eye\"></i> Ø¹Ø±Ø¶\n                </button>\n                <button class=\"btn btn-sm btn-success\" onclick=\"advancedIntegration.editAPI(${api.id})\">\n                  <i class=\"fas fa-edit\"></i> ØªØ¹Ø¯ÙŠÙ„\n                </button>\n              </div>\n            </div>\n          `\n              )\n              .join('') || '<p class=\"empty-state\">Ù„Ø§ ØªÙˆØ¬Ø¯ APIs</p>'\n          }\n        </div>\n      </div>\n    `;\n  }\n\n  getStatusName(status) {\n    const names = {\n      active: 'Ù†Ø´Ø·',\n      inactive: 'ØºÙŠØ± Ù†Ø´Ø·',\n      error: 'Ø®Ø·Ø£',\n      pending: 'Ù‚ÙŠØ¯ Ø§Ù„Ø§Ù†ØªØ¸Ø§Ø±',\n    };\n    return names[status] || status;\n  }\n\n  getTypeName(type) {\n    const names = {\n      api: 'API',\n      webhook: 'Webhook',\n      database: 'Ù‚Ø§Ø¹Ø¯Ø© Ø¨ÙŠØ§Ù†Ø§Øª',\n      file: 'Ù…Ù„Ù',\n      email: 'Ø¨Ø±ÙŠØ¯ Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ',\n    };\n    return names[type] || type;\n  }\n\n  switchView(view) {\n    this.currentView = view;\n    this.renderAdvancedIntegration();\n  }\n\n  viewIntegration(integrationId) {\n    alert(`Ø¹Ø±Ø¶ Ø§Ù„ØªÙƒØ§Ù…Ù„ #${integrationId} - Ø³ÙŠØªÙ… Ø§Ù„ØªØ·ÙˆÙŠØ± Ù‚Ø±ÙŠØ¨Ø§Ù‹`);\n  }\n\n  editIntegration(integrationId) {\n    alert(`ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„ØªÙƒØ§Ù…Ù„ #${integrationId} - Ø³ÙŠØªÙ… Ø§Ù„ØªØ·ÙˆÙŠØ± Ù‚Ø±ÙŠØ¨Ø§Ù‹`);\n  }\n\n  toggleIntegration(integrationId) {\n    alert(`ØªØ¨Ø¯ÙŠÙ„ Ø­Ø§Ù„Ø© Ø§Ù„ØªÙƒØ§Ù…Ù„ #${integrationId} - Ø³ÙŠØªÙ… Ø§Ù„ØªØ·ÙˆÙŠØ± Ù‚Ø±ÙŠØ¨Ø§Ù‹`);\n  }\n\n  viewConnection(connectionId) {\n    alert(`Ø¹Ø±Ø¶ Ø§Ù„Ø§ØªØµØ§Ù„ #${connectionId} - Ø³ÙŠØªÙ… Ø§Ù„ØªØ·ÙˆÙŠØ± Ù‚Ø±ÙŠØ¨Ø§Ù‹`);\n  }\n\n  testConnection(connectionId) {\n    alert(`Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ø§ØªØµØ§Ù„ #${connectionId} - Ø³ÙŠØªÙ… Ø§Ù„ØªØ·ÙˆÙŠØ± Ù‚Ø±ÙŠØ¨Ø§Ù‹`);\n  }\n\n  viewWebhook(webhookId) {\n    alert(`Ø¹Ø±Ø¶ Webhook #${webhookId} - Ø³ÙŠØªÙ… Ø§Ù„ØªØ·ÙˆÙŠØ± Ù‚Ø±ÙŠØ¨Ø§Ù‹`);\n  }\n\n  editWebhook(webhookId) {\n    alert(`ØªØ¹Ø¯ÙŠÙ„ Webhook #${webhookId} - Ø³ÙŠØªÙ… Ø§Ù„ØªØ·ÙˆÙŠØ± Ù‚Ø±ÙŠØ¨Ø§Ù‹`);\n  }\n\n  viewAPI(apiId) {\n    alert(`Ø¹Ø±Ø¶ API #${apiId} - Ø³ÙŠØªÙ… Ø§Ù„ØªØ·ÙˆÙŠØ± Ù‚Ø±ÙŠØ¨Ø§Ù‹`);\n  }\n\n  editAPI(apiId) {\n    alert(`ØªØ¹Ø¯ÙŠÙ„ API #${apiId} - Ø³ÙŠØªÙ… Ø§Ù„ØªØ·ÙˆÙŠØ± Ù‚Ø±ÙŠØ¨Ø§Ù‹`);\n  }\n\n  showCreateModal() {\n    alert('Ù†Ù…ÙˆØ°Ø¬ Ø¥Ù†Ø´Ø§Ø¡ ØªÙƒØ§Ù…Ù„ - Ø³ÙŠØªÙ… Ø§Ù„ØªØ·ÙˆÙŠØ± Ù‚Ø±ÙŠØ¨Ø§Ù‹');\n  }\n\n  async refresh() {\n    if (advancedCache) {\n      advancedCache.clear(['integration']);\n    }\n    await this.loadIntegrations();\n    await this.loadConnections();\n    await this.loadWebhooks();\n    await this.loadAPIs();\n    if (typeof showToast === 'function') {\n      showToast('ØªÙ… Ø§Ù„ØªØ­Ø¯ÙŠØ«', 'success');\n    }\n  }\n}\n\n// Initialize advanced integration system\nconst advancedIntegration = new RehabilitationCenterAdvancedIntegration();\n\n// Make it available globally\nif (typeof window !== 'undefined') {\n  window.advancedIntegration = advancedIntegration;\n\n  // Enhance with universal module enhancer if available\n  if (window.universalModuleEnhancer) {\n    window.universalModuleEnhancer.enhanceModule(advancedIntegration, 'advancedIntegration');\n  }\n}\n\n// Export for use in other modules\nif (typeof module !== 'undefined' && module.exports) {\n  module.exports = RehabilitationCenterAdvancedIntegration;\n}\n"],"file":"assets/rehabilitation-center-advanced-integration-BaWKf11s.js"}