{"version":3,"file":"rehabilitation-center-advanced-library-B1HyY-fg.js","sources":["../../src/rehabilitation-center-advanced-library.js"],"sourcesContent":["/**\n * üìö Advanced Library & Educational Resources Management System\n * ŸÜÿ∏ÿßŸÖ ÿ•ÿØÿßÿ±ÿ© ÿßŸÑŸÖŸÉÿ™ÿ®ÿ© ŸàÿßŸÑŸÖŸàÿßÿ±ÿØ ÿßŸÑÿ™ÿπŸÑŸäŸÖŸäÿ© ÿßŸÑŸÖÿ™ŸÇÿØŸÖ ÿßŸÑÿ∞ŸÉŸä ÿßŸÑŸÖÿ™ŸÉÿßŸÖŸÑ\n */\n\nimport apiClient from './utils/api-client.js';\nimport { API_ENDPOINTS } from './config/api.js';\nimport connectionManager from './utils/connection-manager.js';\nimport realtimeSync from './utils/realtime-sync.js';\nimport systemEnhancer from './utils/system-enhancer.js';\nimport aiAssistant from './utils/ai-assistant.js';\nimport advancedCache from './utils/advanced-cache.js';\n\nclass AdvancedLibraryManagement {\n  constructor(container) {\n    this.container = container;\n    this.useAPI = true;\n    this.apiClient = apiClient;\n    this.API_ENDPOINTS = API_ENDPOINTS.advancedLibrary || {};\n    this.connectionManager = connectionManager;\n    this.realtimeSync = realtimeSync;\n    this.systemEnhancer = systemEnhancer;\n    this.aiAssistant = aiAssistant;\n    this.advancedCache = advancedCache;\n\n    this.books = [];\n    this.resources = [];\n    this.borrowers = [];\n    this.loans = [];\n    this.categories = [];\n    this.analytics = [];\n\n    this.currentView = 'books';\n    this.filters = {\n      status: 'all',\n      category: 'all',\n      search: '',\n    };\n\n    this.init();\n  }\n\n  async init() {\n    this.render();\n    this.setupEventListeners();\n    await this.loadData();\n    this.setupRealtimeSync();\n    this.setupConnectionMonitoring();\n  }\n\n  render() {\n    if (!this.container) return;\n\n    this.container.innerHTML = `\n      <div class=\"advanced-library-management\">\n        <div class=\"library-header\">\n          <h2>üìö ŸÜÿ∏ÿßŸÖ ÿ•ÿØÿßÿ±ÿ© ÿßŸÑŸÖŸÉÿ™ÿ®ÿ© ŸàÿßŸÑŸÖŸàÿßÿ±ÿØ ÿßŸÑÿ™ÿπŸÑŸäŸÖŸäÿ© ÿßŸÑŸÖÿ™ŸÇÿØŸÖ ÿßŸÑÿ∞ŸÉŸä ÿßŸÑŸÖÿ™ŸÉÿßŸÖŸÑ</h2>\n          <div class=\"header-actions\">\n            <button class=\"btn btn-primary\" onclick=\"this.addBook()\">\n              <i class=\"fas fa-plus\"></i> ŸÉÿ™ÿßÿ® ÿ¨ÿØŸäÿØ\n            </button>\n            <button class=\"btn btn-secondary\" onclick=\"this.addResource()\">\n              <i class=\"fas fa-file-alt\"></i> ŸÖŸàÿ±ÿØ ÿ¨ÿØŸäÿØ\n            </button>\n            <button class=\"btn btn-info\" onclick=\"this.createLoan()\">\n              <i class=\"fas fa-hand-holding\"></i> ÿ•ÿπÿßÿ±ÿ© ÿ¨ÿØŸäÿØÿ©\n            </button>\n          </div>\n        </div>\n\n        <div class=\"library-tabs\">\n          <button class=\"tab-btn ${this.currentView === 'books' ? 'active' : ''}\" \n                  onclick=\"this.switchView('books')\">\n            <i class=\"fas fa-book\"></i> ÿßŸÑŸÉÿ™ÿ®\n          </button>\n          <button class=\"tab-btn ${this.currentView === 'resources' ? 'active' : ''}\" \n                  onclick=\"this.switchView('resources')\">\n            <i class=\"fas fa-file-alt\"></i> ÿßŸÑŸÖŸàÿßÿ±ÿØ\n          </button>\n          <button class=\"tab-btn ${this.currentView === 'borrowers' ? 'active' : ''}\" \n                  onclick=\"this.switchView('borrowers')\">\n            <i class=\"fas fa-users\"></i> ÿßŸÑŸÖÿ≥ÿ™ÿπŸäÿ±ŸàŸÜ\n          </button>\n          <button class=\"tab-btn ${this.currentView === 'loans' ? 'active' : ''}\" \n                  onclick=\"this.switchView('loans')\">\n            <i class=\"fas fa-hand-holding\"></i> ÿßŸÑÿ•ÿπÿßÿ±ÿßÿ™\n          </button>\n          <button class=\"tab-btn ${this.currentView === 'categories' ? 'active' : ''}\" \n                  onclick=\"this.switchView('categories')\">\n            <i class=\"fas fa-tags\"></i> ÿßŸÑŸÅÿ¶ÿßÿ™\n          </button>\n          <button class=\"tab-btn ${this.currentView === 'analytics' ? 'active' : ''}\" \n                  onclick=\"this.switchView('analytics')\">\n            <i class=\"fas fa-chart-bar\"></i> ÿßŸÑÿ™ÿ≠ŸÑŸäŸÑÿßÿ™\n          </button>\n        </div>\n\n        <div class=\"library-filters\">\n          <select class=\"filter-select\" onchange=\"this.handleFilterChange('status', event)\">\n            <option value=\"all\">ÿ¨ŸÖŸäÿπ ÿßŸÑÿ≠ÿßŸÑÿßÿ™</option>\n            <option value=\"available\">ŸÖÿ™ÿßÿ≠</option>\n            <option value=\"borrowed\">ŸÖÿπÿßÿ±</option>\n            <option value=\"reserved\">ŸÖÿ≠ÿ¨Ÿàÿ≤</option>\n          </select>\n          <select class=\"filter-select\" onchange=\"this.handleFilterChange('category', event)\">\n            <option value=\"all\">ÿ¨ŸÖŸäÿπ ÿßŸÑŸÅÿ¶ÿßÿ™</option>\n            ${this.categories.map(c => `<option value=\"${c.id}\">${c.name}</option>`).join('')}\n          </select>\n          <input type=\"text\" class=\"search-input\" placeholder=\"ÿ®ÿ≠ÿ´...\" \n                 oninput=\"this.handleSearch(event)\">\n        </div>\n\n        <div class=\"library-content\" id=\"libraryContent\">\n          ${this.renderCurrentView()}\n        </div>\n      </div>\n    `;\n  }\n\n  renderCurrentView() {\n    switch (this.currentView) {\n      case 'books':\n        return this.renderBooks();\n      case 'resources':\n        return this.renderResources();\n      case 'borrowers':\n        return this.renderBorrowers();\n      case 'loans':\n        return this.renderLoans();\n      case 'categories':\n        return this.renderCategories();\n      case 'analytics':\n        return this.renderAnalytics();\n      default:\n        return this.renderBooks();\n    }\n  }\n\n  renderBooks() {\n    const filtered = this.getFilteredData(this.books);\n\n    if (filtered.length === 0) {\n      return `\n        <div class=\"empty-state\">\n          <i class=\"fas fa-book\"></i>\n          <p>ŸÑÿß ÿ™Ÿàÿ¨ÿØ ŸÉÿ™ÿ®</p>\n          <button class=\"btn btn-primary\" onclick=\"this.addBook()\">\n            ÿ•ÿ∂ÿßŸÅÿ© ŸÉÿ™ÿßÿ® ÿ¨ÿØŸäÿØ\n          </button>\n        </div>\n      `;\n    }\n\n    return `\n      <div class=\"books-grid\">\n        ${filtered\n          .map(\n            book => `\n          <div class=\"book-card status-${book.status}\">\n            <div class=\"book-header\">\n              <h3>${book.title || 'ŸÉÿ™ÿßÿ®'}</h3>\n              <span class=\"status-badge status-${book.status}\">${this.getStatusText(book.status)}</span>\n            </div>\n            <div class=\"book-body\">\n              <div class=\"book-details\">\n                <div class=\"detail-item\">\n                  <span class=\"detail-label\">ÿßŸÑŸÖÿ§ŸÑŸÅ:</span>\n                  <span class=\"detail-value\">${book.author || 'ÿ∫Ÿäÿ± ŸÖÿ≠ÿØÿØ'}</span>\n                </div>\n                <div class=\"detail-item\">\n                  <span class=\"detail-label\">ÿßŸÑŸÅÿ¶ÿ©:</span>\n                  <span class=\"detail-value\">${book.categoryName || 'ÿ∫Ÿäÿ± ŸÖÿ≠ÿØÿØ'}</span>\n                </div>\n                <div class=\"detail-item\">\n                  <span class=\"detail-label\">ÿßŸÑŸÜÿ≥ÿÆ ÿßŸÑŸÖÿ™ÿßÿ≠ÿ©:</span>\n                  <span class=\"detail-value\">${book.availableCopies || 0}</span>\n                </div>\n                <div class=\"detail-item\">\n                  <span class=\"detail-label\">ÿ•ÿ¨ŸÖÿßŸÑŸä ÿßŸÑŸÜÿ≥ÿÆ:</span>\n                  <span class=\"detail-value\">${book.totalCopies || 0}</span>\n                </div>\n              </div>\n            </div>\n            <div class=\"book-actions\">\n              <button class=\"btn btn-sm btn-primary\" onclick=\"this.viewBook(${book.id})\">\n                <i class=\"fas fa-eye\"></i> ÿπÿ±ÿ∂\n              </button>\n              <button class=\"btn btn-sm btn-secondary\" onclick=\"this.editBook(${book.id})\">\n                <i class=\"fas fa-edit\"></i> ÿ™ÿπÿØŸäŸÑ\n              </button>\n            </div>\n          </div>\n        `\n          )\n          .join('')}\n      </div>\n    `;\n  }\n\n  renderResources() {\n    if (this.resources.length === 0) {\n      return `\n        <div class=\"empty-state\">\n          <i class=\"fas fa-file-alt\"></i>\n          <p>ŸÑÿß ÿ™Ÿàÿ¨ÿØ ŸÖŸàÿßÿ±ÿØ</p>\n          <button class=\"btn btn-primary\" onclick=\"this.addResource()\">\n            ÿ•ÿ∂ÿßŸÅÿ© ŸÖŸàÿ±ÿØ ÿ¨ÿØŸäÿØ\n          </button>\n        </div>\n      `;\n    }\n\n    return `\n      <div class=\"resources-grid\">\n        ${this.resources\n          .map(\n            resource => `\n          <div class=\"resource-card\">\n            <div class=\"resource-header\">\n              <h3>${resource.title || 'ŸÖŸàÿ±ÿØ'}</h3>\n              <span class=\"resource-type\">${this.getResourceTypeText(resource.type)}</span>\n            </div>\n            <div class=\"resource-body\">\n              <div class=\"resource-details\">\n                <div class=\"detail-item\">\n                  <span class=\"detail-label\">ÿßŸÑŸÜŸàÿπ:</span>\n                  <span class=\"detail-value\">${this.getResourceTypeText(resource.type)}</span>\n                </div>\n                <div class=\"detail-item\">\n                  <span class=\"detail-label\">ÿßŸÑÿ≠ÿ¨ŸÖ:</span>\n                  <span class=\"detail-value\">${this.formatFileSize(resource.size)}</span>\n                </div>\n                <div class=\"detail-item\">\n                  <span class=\"detail-label\">ÿ™ÿßÿ±ŸäÿÆ ÿßŸÑÿ•ÿ∂ÿßŸÅÿ©:</span>\n                  <span class=\"detail-value\">${this.formatDate(resource.addedDate)}</span>\n                </div>\n              </div>\n            </div>\n          </div>\n        `\n          )\n          .join('')}\n      </div>\n    `;\n  }\n\n  renderBorrowers() {\n    if (this.borrowers.length === 0) {\n      return `\n        <div class=\"empty-state\">\n          <i class=\"fas fa-users\"></i>\n          <p>ŸÑÿß ŸäŸàÿ¨ÿØ ŸÖÿ≥ÿ™ÿπŸäÿ±ŸàŸÜ</p>\n        </div>\n      `;\n    }\n\n    return `\n      <div class=\"borrowers-grid\">\n        ${this.borrowers\n          .map(\n            borrower => `\n          <div class=\"borrower-card\">\n            <div class=\"borrower-header\">\n              <div class=\"borrower-avatar\">\n                <i class=\"fas fa-user\"></i>\n              </div>\n              <div class=\"borrower-info\">\n                <h3>${borrower.name || 'ŸÖÿ≥ÿ™ÿπŸäÿ±'}</h3>\n                <p class=\"borrower-type\">${this.getBorrowerTypeText(borrower.type)}</p>\n              </div>\n            </div>\n            <div class=\"borrower-body\">\n              <div class=\"borrower-details\">\n                <div class=\"detail-item\">\n                  <span class=\"detail-label\">ÿπÿØÿØ ÿßŸÑÿ•ÿπÿßÿ±ÿßÿ™ ÿßŸÑŸÜÿ¥ÿ∑ÿ©:</span>\n                  <span class=\"detail-value\">${borrower.activeLoans || 0}</span>\n                </div>\n                <div class=\"detail-item\">\n                  <span class=\"detail-label\">ÿ•ÿ¨ŸÖÿßŸÑŸä ÿßŸÑÿ•ÿπÿßÿ±ÿßÿ™:</span>\n                  <span class=\"detail-value\">${borrower.totalLoans || 0}</span>\n                </div>\n              </div>\n            </div>\n          </div>\n        `\n          )\n          .join('')}\n      </div>\n    `;\n  }\n\n  renderLoans() {\n    if (this.loans.length === 0) {\n      return `\n        <div class=\"empty-state\">\n          <i class=\"fas fa-hand-holding\"></i>\n          <p>ŸÑÿß ÿ™Ÿàÿ¨ÿØ ÿ•ÿπÿßÿ±ÿßÿ™</p>\n          <button class=\"btn btn-primary\" onclick=\"this.createLoan()\">\n            ÿ•ÿ∂ÿßŸÅÿ© ÿ•ÿπÿßÿ±ÿ© ÿ¨ÿØŸäÿØÿ©\n          </button>\n        </div>\n      `;\n    }\n\n    return `\n      <div class=\"loans-list\">\n        ${this.loans\n          .map(\n            loan => `\n          <div class=\"loan-card status-${loan.status}\">\n            <div class=\"loan-header\">\n              <h3>${loan.bookTitle || 'ŸÉÿ™ÿßÿ®'}</h3>\n              <span class=\"status-badge status-${loan.status}\">${this.getStatusText(loan.status)}</span>\n            </div>\n            <div class=\"loan-body\">\n              <div class=\"loan-details\">\n                <div class=\"detail-item\">\n                  <span class=\"detail-label\">ÿßŸÑŸÖÿ≥ÿ™ÿπŸäÿ±:</span>\n                  <span class=\"detail-value\">${loan.borrowerName || 'ÿ∫Ÿäÿ± ŸÖÿ≠ÿØÿØ'}</span>\n                </div>\n                <div class=\"detail-item\">\n                  <span class=\"detail-label\">ÿ™ÿßÿ±ŸäÿÆ ÿßŸÑÿ•ÿπÿßÿ±ÿ©:</span>\n                  <span class=\"detail-value\">${this.formatDate(loan.loanDate)}</span>\n                </div>\n                <div class=\"detail-item\">\n                  <span class=\"detail-label\">ÿ™ÿßÿ±ŸäÿÆ ÿßŸÑÿßÿ≥ÿ™ÿ≠ŸÇÿßŸÇ:</span>\n                  <span class=\"detail-value\">${this.formatDate(loan.dueDate)}</span>\n                </div>\n                <div class=\"detail-item\">\n                  <span class=\"detail-label\">ÿ™ÿßÿ±ŸäÿÆ ÿßŸÑÿ•ÿ±ÿ¨ÿßÿπ:</span>\n                  <span class=\"detail-value\">${this.formatDate(loan.returnDate) || 'ŸÑŸÖ Ÿäÿ™ŸÖ ÿßŸÑÿ•ÿ±ÿ¨ÿßÿπ'}</span>\n                </div>\n              </div>\n            </div>\n          </div>\n        `\n          )\n          .join('')}\n      </div>\n    `;\n  }\n\n  renderCategories() {\n    if (this.categories.length === 0) {\n      return `\n        <div class=\"empty-state\">\n          <i class=\"fas fa-tags\"></i>\n          <p>ŸÑÿß ÿ™Ÿàÿ¨ÿØ ŸÅÿ¶ÿßÿ™</p>\n        </div>\n      `;\n    }\n\n    return `\n      <div class=\"categories-grid\">\n        ${this.categories\n          .map(\n            category => `\n          <div class=\"category-card\">\n            <div class=\"category-header\">\n              <h3>${category.name || 'ŸÅÿ¶ÿ©'}</h3>\n              <span class=\"category-count\">${category.booksCount || 0} ŸÉÿ™ÿßÿ®</span>\n            </div>\n            <div class=\"category-body\">\n              <p>${category.description || 'ŸÑÿß ŸäŸàÿ¨ÿØ ŸàÿµŸÅ'}</p>\n            </div>\n          </div>\n        `\n          )\n          .join('')}\n      </div>\n    `;\n  }\n\n  renderAnalytics() {\n    if (this.analytics.length === 0) {\n      return `\n        <div class=\"empty-state\">\n          <i class=\"fas fa-chart-bar\"></i>\n          <p>ŸÑÿß ÿ™Ÿàÿ¨ÿØ ÿ®ŸäÿßŸÜÿßÿ™ ÿ™ÿ≠ŸÑŸäŸÑŸäÿ©</p>\n        </div>\n      `;\n    }\n\n    return `\n      <div class=\"analytics-dashboard\">\n        ${this.analytics\n          .map(\n            analytic => `\n          <div class=\"analytic-card\">\n            <div class=\"analytic-header\">\n              <h3>${analytic.metric}</h3>\n              <span class=\"analytic-value\">${analytic.value}</span>\n            </div>\n            <div class=\"analytic-body\">\n              <p>${analytic.description || ''}</p>\n            </div>\n          </div>\n        `\n          )\n          .join('')}\n      </div>\n    `;\n  }\n\n  getFilteredData(data) {\n    let filtered = [...data];\n    if (this.filters.status !== 'all') {\n      filtered = filtered.filter(item => item.status === this.filters.status);\n    }\n    if (this.filters.category !== 'all') {\n      filtered = filtered.filter(item => item.categoryId === parseInt(this.filters.category));\n    }\n    if (this.filters.search) {\n      const search = this.filters.search.toLowerCase();\n      filtered = filtered.filter(\n        item =>\n          (item.title && item.title.toLowerCase().includes(search)) ||\n          (item.author && item.author.toLowerCase().includes(search))\n      );\n    }\n    return filtered;\n  }\n\n  async loadData() {\n    if (!this.useAPI) {\n      this.loadFromLocalStorage();\n      return;\n    }\n\n    try {\n      if (!this.connectionManager.isFullyConnected()) {\n        this.loadFromLocalStorage();\n        return;\n      }\n\n      const [books, resources, borrowers, loans, categories, analytics] = await Promise.all([\n        this.apiClient.get(this.API_ENDPOINTS.books || '/api/advanced-library/books'),\n        this.apiClient.get(this.API_ENDPOINTS.resources || '/api/advanced-library/resources'),\n        this.apiClient.get(this.API_ENDPOINTS.borrowers || '/api/advanced-library/borrowers'),\n        this.apiClient.get(this.API_ENDPOINTS.loans || '/api/advanced-library/loans'),\n        this.apiClient.get(this.API_ENDPOINTS.categories || '/api/advanced-library/categories'),\n        this.apiClient.get(this.API_ENDPOINTS.analytics || '/api/advanced-library/analytics'),\n      ]);\n\n      this.books = books.data || [];\n      this.resources = resources.data || [];\n      this.borrowers = borrowers.data || [];\n      this.loans = loans.data || [];\n      this.categories = categories.data || [];\n      this.analytics = analytics.data || [];\n\n      this.saveToLocalStorage();\n      this.updateContent();\n    } catch (error) {\n      console.error('Error loading library data:', error);\n      this.loadFromLocalStorage();\n    }\n  }\n\n  setupRealtimeSync() {\n    if (!this.realtimeSync) return;\n    this.realtimeSync.subscribe('advanced-library', '*', update => {\n      if (update.action === 'create' || update.action === 'update' || update.action === 'delete') {\n        this.loadData();\n      }\n    });\n  }\n\n  setupConnectionMonitoring() {\n    if (!this.connectionManager) return;\n    this.connectionManager.on('online', () => {\n      this.loadData();\n    });\n  }\n\n  switchView(view) {\n    this.currentView = view;\n    this.updateContent();\n  }\n\n  handleFilterChange(type, event) {\n    this.filters[type] = event.target.value;\n    this.updateContent();\n  }\n\n  handleSearch(event) {\n    this.filters.search = event.target.value;\n    this.updateContent();\n  }\n\n  updateContent() {\n    const content = document.getElementById('libraryContent');\n    if (content) {\n      content.innerHTML = this.renderCurrentView();\n    }\n  }\n\n  getStatusText(status) {\n    const statusMap = {\n      available: 'ŸÖÿ™ÿßÿ≠',\n      borrowed: 'ŸÖÿπÿßÿ±',\n      reserved: 'ŸÖÿ≠ÿ¨Ÿàÿ≤',\n    };\n    return statusMap[status] || status;\n  }\n\n  getResourceTypeText(type) {\n    const typeMap = {\n      pdf: 'PDF',\n      video: 'ŸÅŸäÿØŸäŸà',\n      audio: 'ÿµŸàÿ™Ÿä',\n      image: 'ÿµŸàÿ±ÿ©',\n      document: 'ŸÖÿ≥ÿ™ŸÜÿØ',\n    };\n    return typeMap[type] || type;\n  }\n\n  getBorrowerTypeText(type) {\n    const typeMap = {\n      patient: 'ŸÖÿ±Ÿäÿ∂',\n      staff: 'ŸÖŸàÿ∏ŸÅ',\n      student: 'ÿ∑ÿßŸÑÿ®',\n      visitor: 'ÿ≤ÿßÿ¶ÿ±',\n    };\n    return typeMap[type] || type;\n  }\n\n  formatDate(date) {\n    if (!date) return 'ÿ∫Ÿäÿ± ŸÖÿ≠ÿØÿØ';\n    return new Date(date).toLocaleDateString('ar-SA');\n  }\n\n  formatFileSize(bytes) {\n    if (!bytes) return '0 B';\n    const sizes = ['B', 'KB', 'MB', 'GB'];\n    const i = Math.floor(Math.log(bytes) / Math.log(1024));\n    return `${(bytes / Math.pow(1024, i)).toFixed(2)} ${sizes[i]}`;\n  }\n\n  saveToLocalStorage() {\n    try {\n      localStorage.setItem('advancedBooks', JSON.stringify(this.books));\n      localStorage.setItem('advancedResources', JSON.stringify(this.resources));\n      localStorage.setItem('advancedBorrowers', JSON.stringify(this.borrowers));\n      localStorage.setItem('advancedLoans', JSON.stringify(this.loans));\n      localStorage.setItem('advancedCategories', JSON.stringify(this.categories));\n      localStorage.setItem('advancedAnalytics', JSON.stringify(this.analytics));\n    } catch (error) {\n      console.error('Error saving to localStorage:', error);\n    }\n  }\n\n  loadFromLocalStorage() {\n    try {\n      this.books = JSON.parse(localStorage.getItem('advancedBooks') || '[]');\n      this.resources = JSON.parse(localStorage.getItem('advancedResources') || '[]');\n      this.borrowers = JSON.parse(localStorage.getItem('advancedBorrowers') || '[]');\n      this.loans = JSON.parse(localStorage.getItem('advancedLoans') || '[]');\n      this.categories = JSON.parse(localStorage.getItem('advancedCategories') || '[]');\n      this.analytics = JSON.parse(localStorage.getItem('advancedAnalytics') || '[]');\n    } catch (error) {\n      console.error('Error loading from localStorage:', error);\n    }\n  }\n\n  setupEventListeners() {\n    this.addBook = this.addBook.bind(this);\n    this.addResource = this.addResource.bind(this);\n    this.createLoan = this.createLoan.bind(this);\n    this.switchView = this.switchView.bind(this);\n    this.handleFilterChange = this.handleFilterChange.bind(this);\n    this.handleSearch = this.handleSearch.bind(this);\n    this.viewBook = this.viewBook.bind(this);\n    this.editBook = this.editBook.bind(this);\n  }\n\n  async addBook() {\n    console.log('Add book');\n  }\n\n  async addResource() {\n    console.log('Add resource');\n  }\n\n  async createLoan() {\n    console.log('Create loan');\n  }\n\n  async viewBook(id) {\n    console.log('View book', id);\n  }\n\n  async editBook(id) {\n    console.log('Edit book', id);\n  }\n}\n\nexport default AdvancedLibraryManagement;\n"],"names":["AdvancedLibraryManagement","container","apiClient","API_ENDPOINTS","connectionManager","realtimeSync","systemEnhancer","aiAssistant","advancedCache","c","filtered","book","resource","borrower","loan","category","analytic","data","item","search","books","resources","borrowers","loans","categories","analytics","error","update","view","type","event","content","status","date","bytes","sizes","i","id"],"mappings":"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"}