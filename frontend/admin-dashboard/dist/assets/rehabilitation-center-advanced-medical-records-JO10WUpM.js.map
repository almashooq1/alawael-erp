{"version":3,"file":"rehabilitation-center-advanced-medical-records-JO10WUpM.js","sources":["../../src/rehabilitation-center-advanced-medical-records.js"],"sourcesContent":["/**\n * üìã Advanced Medical Records Management System\n * ŸÜÿ∏ÿßŸÖ ÿ•ÿØÿßÿ±ÿ© ÿßŸÑŸÖŸÑŸÅÿßÿ™ ÿßŸÑÿ∑ÿ®Ÿäÿ© ÿßŸÑŸÖÿ™ŸÇÿØŸÖ ÿßŸÑÿ∞ŸÉŸä ÿßŸÑŸÖÿ™ŸÉÿßŸÖŸÑ\n */\n\nimport apiClient from './utils/api-client.js';\nimport { API_ENDPOINTS } from './config/api.js';\nimport connectionManager from './utils/connection-manager.js';\nimport realtimeSync from './utils/realtime-sync.js';\nimport systemEnhancer from './utils/system-enhancer.js';\nimport aiAssistant from './utils/ai-assistant.js';\nimport advancedCache from './utils/advanced-cache.js';\n\nclass AdvancedMedicalRecordsManagement {\n  constructor(container) {\n    this.container = container;\n    this.useAPI = true;\n    this.apiClient = apiClient;\n    this.API_ENDPOINTS = API_ENDPOINTS.advancedMedicalRecords || {};\n    this.connectionManager = connectionManager;\n    this.realtimeSync = realtimeSync;\n    this.systemEnhancer = systemEnhancer;\n    this.aiAssistant = aiAssistant;\n    this.advancedCache = advancedCache;\n\n    this.records = [];\n    this.diagnoses = [];\n    this.treatments = [];\n    this.labResults = [];\n    this.imaging = [];\n    this.notes = [];\n    this.history = [];\n    this.allergies = [];\n    this.vaccinations = [];\n    this.analytics = [];\n\n    this.currentView = 'records';\n    this.filters = {\n      status: 'all',\n      category: 'all',\n      patient: 'all',\n      provider: 'all',\n    };\n\n    this.init();\n  }\n\n  async init() {\n    this.render();\n    this.setupEventListeners();\n    await this.loadData();\n    this.setupRealtimeSync();\n    this.setupConnectionMonitoring();\n  }\n\n  render() {\n    if (!this.container) return;\n\n    this.container.innerHTML = `\n      <div class=\"advanced-medical-records-management\">\n        <div class=\"records-header\">\n          <h2>üìã ŸÜÿ∏ÿßŸÖ ÿ•ÿØÿßÿ±ÿ© ÿßŸÑŸÖŸÑŸÅÿßÿ™ ÿßŸÑÿ∑ÿ®Ÿäÿ© ÿßŸÑŸÖÿ™ŸÇÿØŸÖ ÿßŸÑÿ∞ŸÉŸä ÿßŸÑŸÖÿ™ŸÉÿßŸÖŸÑ</h2>\n          <div class=\"header-actions\">\n            <button class=\"btn btn-primary\" onclick=\"this.createRecord()\">\n              <i class=\"fas fa-plus\"></i> ŸÖŸÑŸÅ ÿ∑ÿ®Ÿä ÿ¨ÿØŸäÿØ\n            </button>\n            <button class=\"btn btn-secondary\" onclick=\"this.importRecord()\">\n              <i class=\"fas fa-file-import\"></i> ÿßÿ≥ÿ™Ÿäÿ±ÿßÿØ ŸÖŸÑŸÅ\n            </button>\n          </div>\n        </div>\n\n        <div class=\"records-tabs\">\n          <button class=\"tab-btn ${this.currentView === 'records' ? 'active' : ''}\" \n                  onclick=\"this.switchView('records')\">\n            <i class=\"fas fa-folder\"></i> ÿßŸÑŸÖŸÑŸÅÿßÿ™ ÿßŸÑÿ∑ÿ®Ÿäÿ©\n          </button>\n          <button class=\"tab-btn ${this.currentView === 'diagnoses' ? 'active' : ''}\" \n                  onclick=\"this.switchView('diagnoses')\">\n            <i class=\"fas fa-stethoscope\"></i> ÿßŸÑÿ™ÿ¥ÿÆŸäÿµÿßÿ™\n          </button>\n          <button class=\"tab-btn ${this.currentView === 'treatments' ? 'active' : ''}\" \n                  onclick=\"this.switchView('treatments')\">\n            <i class=\"fas fa-heartbeat\"></i> ÿßŸÑÿπŸÑÿßÿ¨ÿßÿ™\n          </button>\n          <button class=\"tab-btn ${this.currentView === 'lab-results' ? 'active' : ''}\" \n                  onclick=\"this.switchView('lab-results')\">\n            <i class=\"fas fa-flask\"></i> ŸÜÿ™ÿßÿ¶ÿ¨ ÿßŸÑŸÖÿÆÿ™ÿ®ÿ±\n          </button>\n          <button class=\"tab-btn ${this.currentView === 'imaging' ? 'active' : ''}\" \n                  onclick=\"this.switchView('imaging')\">\n            <i class=\"fas fa-x-ray\"></i> ÿßŸÑÿ£ÿ¥ÿπÿ© ŸàÿßŸÑÿ™ÿµŸàŸäÿ±\n          </button>\n          <button class=\"tab-btn ${this.currentView === 'notes' ? 'active' : ''}\" \n                  onclick=\"this.switchView('notes')\">\n            <i class=\"fas fa-sticky-note\"></i> ÿßŸÑŸÖŸÑÿßÿ≠ÿ∏ÿßÿ™\n          </button>\n          <button class=\"tab-btn ${this.currentView === 'history' ? 'active' : ''}\" \n                  onclick=\"this.switchView('history')\">\n            <i class=\"fas fa-history\"></i> ÿßŸÑÿ™ÿßÿ±ŸäÿÆ ÿßŸÑÿ∑ÿ®Ÿä\n          </button>\n          <button class=\"tab-btn ${this.currentView === 'allergies' ? 'active' : ''}\" \n                  onclick=\"this.switchView('allergies')\">\n            <i class=\"fas fa-exclamation-triangle\"></i> ÿßŸÑÿ≠ÿ≥ÿßÿ≥Ÿäÿßÿ™\n          </button>\n          <button class=\"tab-btn ${this.currentView === 'vaccinations' ? 'active' : ''}\" \n                  onclick=\"this.switchView('vaccinations')\">\n            <i class=\"fas fa-syringe\"></i> ÿßŸÑÿ™ÿ∑ÿπŸäŸÖÿßÿ™\n          </button>\n          <button class=\"tab-btn ${this.currentView === 'analytics' ? 'active' : ''}\" \n                  onclick=\"this.switchView('analytics')\">\n            <i class=\"fas fa-chart-bar\"></i> ÿßŸÑÿ™ÿ≠ŸÑŸäŸÑÿßÿ™\n          </button>\n        </div>\n\n        <div class=\"records-filters\">\n          <select class=\"filter-select\" onchange=\"this.handleFilterChange('status', event)\">\n            <option value=\"all\">ÿ¨ŸÖŸäÿπ ÿßŸÑÿ≠ÿßŸÑÿßÿ™</option>\n            <option value=\"active\">ŸÜÿ¥ÿ∑</option>\n            <option value=\"archived\">ŸÖÿ§ÿ±ÿ¥ŸÅ</option>\n            <option value=\"closed\">ŸÖÿ∫ŸÑŸÇ</option>\n          </select>\n          <select class=\"filter-select\" onchange=\"this.handleFilterChange('category', event)\">\n            <option value=\"all\">ÿ¨ŸÖŸäÿπ ÿßŸÑŸÅÿ¶ÿßÿ™</option>\n            <option value=\"general\">ÿπÿßŸÖ</option>\n            <option value=\"emergency\">ÿ∑Ÿàÿßÿ±ÿ¶</option>\n            <option value=\"follow-up\">ŸÖÿ™ÿßÿ®ÿπÿ©</option>\n            <option value=\"consultation\">ÿßÿ≥ÿ™ÿ¥ÿßÿ±ÿ©</option>\n          </select>\n          <input type=\"text\" class=\"search-input\" placeholder=\"ÿ®ÿ≠ÿ´...\" \n                 oninput=\"this.handleSearch(event)\">\n        </div>\n\n        <div class=\"records-content\" id=\"recordsContent\">\n          ${this.renderCurrentView()}\n        </div>\n      </div>\n    `;\n  }\n\n  renderCurrentView() {\n    switch (this.currentView) {\n      case 'records':\n        return this.renderRecords();\n      case 'diagnoses':\n        return this.renderDiagnoses();\n      case 'treatments':\n        return this.renderTreatments();\n      case 'lab-results':\n        return this.renderLabResults();\n      case 'imaging':\n        return this.renderImaging();\n      case 'notes':\n        return this.renderNotes();\n      case 'history':\n        return this.renderHistory();\n      case 'allergies':\n        return this.renderAllergies();\n      case 'vaccinations':\n        return this.renderVaccinations();\n      case 'analytics':\n        return this.renderAnalytics();\n      default:\n        return this.renderRecords();\n    }\n  }\n\n  renderRecords() {\n    const filtered = this.getFilteredData(this.records);\n\n    if (filtered.length === 0) {\n      return `\n        <div class=\"empty-state\">\n          <i class=\"fas fa-folder\"></i>\n          <p>ŸÑÿß ÿ™Ÿàÿ¨ÿØ ŸÖŸÑŸÅÿßÿ™ ÿ∑ÿ®Ÿäÿ©</p>\n          <button class=\"btn btn-primary\" onclick=\"this.createRecord()\">\n            ÿ•ÿ∂ÿßŸÅÿ© ŸÖŸÑŸÅ ÿ∑ÿ®Ÿä ÿ¨ÿØŸäÿØ\n          </button>\n        </div>\n      `;\n    }\n\n    return `\n      <div class=\"records-grid\">\n        ${filtered\n          .map(\n            record => `\n          <div class=\"record-card status-${record.status} category-${record.category}\">\n            <div class=\"record-header\">\n              <div class=\"record-info\">\n                <h3>${record.patientName || 'ÿ∫Ÿäÿ± ŸÖÿ≠ÿØÿØ'}</h3>\n                <p class=\"record-id\">ÿ±ŸÇŸÖ ÿßŸÑŸÖŸÑŸÅ: ${record.recordNumber || 'ÿ∫Ÿäÿ± ŸÖÿ≠ÿØÿØ'}</p>\n              </div>\n              <div class=\"record-badges\">\n                <span class=\"status-badge status-${record.status}\">${this.getStatusText(record.status)}</span>\n                <span class=\"category-badge\">${this.getCategoryText(record.category)}</span>\n              </div>\n            </div>\n            <div class=\"record-body\">\n              <div class=\"record-details\">\n                <div class=\"detail-item\">\n                  <span class=\"detail-label\">ÿ™ÿßÿ±ŸäÿÆ ÿßŸÑÿ•ŸÜÿ¥ÿßÿ°:</span>\n                  <span class=\"detail-value\">${this.formatDate(record.createdAt)}</span>\n                </div>\n                <div class=\"detail-item\">\n                  <span class=\"detail-label\">ÿ¢ÿÆÿ± ÿ™ÿ≠ÿØŸäÿ´:</span>\n                  <span class=\"detail-value\">${this.formatDate(record.updatedAt)}</span>\n                </div>\n                <div class=\"detail-item\">\n                  <span class=\"detail-label\">ÿßŸÑÿ∑ÿ®Ÿäÿ® ÿßŸÑŸÖÿ≥ÿ§ŸàŸÑ:</span>\n                  <span class=\"detail-value\">${record.providerName || 'ÿ∫Ÿäÿ± ŸÖÿ≠ÿØÿØ'}</span>\n                </div>\n                <div class=\"detail-item\">\n                  <span class=\"detail-label\">ÿπÿØÿØ ÿßŸÑÿ≤Ÿäÿßÿ±ÿßÿ™:</span>\n                  <span class=\"detail-value\">${record.visitsCount || 0}</span>\n                </div>\n              </div>\n            </div>\n            <div class=\"record-actions\">\n              <button class=\"btn btn-sm btn-primary\" onclick=\"this.viewRecord(${record.id})\">\n                <i class=\"fas fa-eye\"></i> ÿπÿ±ÿ∂\n              </button>\n              <button class=\"btn btn-sm btn-secondary\" onclick=\"this.editRecord(${record.id})\">\n                <i class=\"fas fa-edit\"></i> ÿ™ÿπÿØŸäŸÑ\n              </button>\n              <button class=\"btn btn-sm btn-info\" onclick=\"this.downloadRecord(${record.id})\">\n                <i class=\"fas fa-download\"></i> ÿ™ÿ≠ŸÖŸäŸÑ\n              </button>\n            </div>\n          </div>\n        `\n          )\n          .join('')}\n      </div>\n    `;\n  }\n\n  renderDiagnoses() {\n    if (this.diagnoses.length === 0) {\n      return `\n        <div class=\"empty-state\">\n          <i class=\"fas fa-stethoscope\"></i>\n          <p>ŸÑÿß ÿ™Ÿàÿ¨ÿØ ÿ™ÿ¥ÿÆŸäÿµÿßÿ™</p>\n        </div>\n      `;\n    }\n\n    return `\n      <div class=\"diagnoses-list\">\n        ${this.diagnoses\n          .map(\n            diagnosis => `\n          <div class=\"diagnosis-card severity-${diagnosis.severity || 'moderate'}\">\n            <div class=\"diagnosis-header\">\n              <h3>${diagnosis.name || 'ÿ™ÿ¥ÿÆŸäÿµ'}</h3>\n              <span class=\"severity-badge severity-${diagnosis.severity || 'moderate'}\">\n                ${this.getSeverityText(diagnosis.severity || 'moderate')}\n              </span>\n            </div>\n            <div class=\"diagnosis-body\">\n              <div class=\"diagnosis-details\">\n                <div class=\"detail-item\">\n                  <span class=\"detail-label\">ÿßŸÑŸÖÿ±Ÿäÿ∂:</span>\n                  <span class=\"detail-value\">${diagnosis.patientName || 'ÿ∫Ÿäÿ± ŸÖÿ≠ÿØÿØ'}</span>\n                </div>\n                <div class=\"detail-item\">\n                  <span class=\"detail-label\">ÿßŸÑÿ™ÿßÿ±ŸäÿÆ:</span>\n                  <span class=\"detail-value\">${this.formatDate(diagnosis.date)}</span>\n                </div>\n                <div class=\"detail-item\">\n                  <span class=\"detail-label\">ÿßŸÑÿ∑ÿ®Ÿäÿ®:</span>\n                  <span class=\"detail-value\">${diagnosis.providerName || 'ÿ∫Ÿäÿ± ŸÖÿ≠ÿØÿØ'}</span>\n                </div>\n                <div class=\"detail-item\">\n                  <span class=\"detail-label\">ÿßŸÑÿ≠ÿßŸÑÿ©:</span>\n                  <span class=\"detail-value\">${diagnosis.status || 'ÿ∫Ÿäÿ± ŸÖÿ≠ÿØÿØ'}</span>\n                </div>\n              </div>\n              ${\n                diagnosis.description\n                  ? `\n                <div class=\"diagnosis-description\">\n                  <p>${diagnosis.description}</p>\n                </div>\n              `\n                  : ''\n              }\n            </div>\n          </div>\n        `\n          )\n          .join('')}\n      </div>\n    `;\n  }\n\n  renderTreatments() {\n    if (this.treatments.length === 0) {\n      return `\n        <div class=\"empty-state\">\n          <i class=\"fas fa-heartbeat\"></i>\n          <p>ŸÑÿß ÿ™Ÿàÿ¨ÿØ ÿπŸÑÿßÿ¨ÿßÿ™</p>\n        </div>\n      `;\n    }\n\n    return `\n      <div class=\"treatments-list\">\n        ${this.treatments\n          .map(\n            treatment => `\n          <div class=\"treatment-card status-${treatment.status}\">\n            <div class=\"treatment-header\">\n              <h3>${treatment.name || 'ÿπŸÑÿßÿ¨'}</h3>\n              <span class=\"status-badge status-${treatment.status}\">${this.getStatusText(treatment.status)}</span>\n            </div>\n            <div class=\"treatment-body\">\n              <div class=\"treatment-details\">\n                <div class=\"detail-item\">\n                  <span class=\"detail-label\">ÿßŸÑŸÖÿ±Ÿäÿ∂:</span>\n                  <span class=\"detail-value\">${treatment.patientName || 'ÿ∫Ÿäÿ± ŸÖÿ≠ÿØÿØ'}</span>\n                </div>\n                <div class=\"detail-item\">\n                  <span class=\"detail-label\">ÿ™ÿßÿ±ŸäÿÆ ÿßŸÑÿ®ÿØÿ°:</span>\n                  <span class=\"detail-value\">${this.formatDate(treatment.startDate)}</span>\n                </div>\n                <div class=\"detail-item\">\n                  <span class=\"detail-label\">ÿßŸÑŸÖÿØÿ©:</span>\n                  <span class=\"detail-value\">${treatment.duration || 'ÿ∫Ÿäÿ± ŸÖÿ≠ÿØÿØ'}</span>\n                </div>\n                <div class=\"detail-item\">\n                  <span class=\"detail-label\">ÿßŸÑŸÜÿ™Ÿäÿ¨ÿ©:</span>\n                  <span class=\"detail-value\">${treatment.outcome || 'ÿ∫Ÿäÿ± ŸÖÿ≠ÿØÿØ'}</span>\n                </div>\n              </div>\n            </div>\n          </div>\n        `\n          )\n          .join('')}\n      </div>\n    `;\n  }\n\n  renderLabResults() {\n    if (this.labResults.length === 0) {\n      return `\n        <div class=\"empty-state\">\n          <i class=\"fas fa-flask\"></i>\n          <p>ŸÑÿß ÿ™Ÿàÿ¨ÿØ ŸÜÿ™ÿßÿ¶ÿ¨ ŸÖÿÆÿ™ÿ®ÿ±</p>\n        </div>\n      `;\n    }\n\n    return `\n      <div class=\"lab-results-list\">\n        ${this.labResults\n          .map(\n            result => `\n          <div class=\"lab-result-card ${result.abnormal ? 'abnormal' : 'normal'}\">\n            <div class=\"lab-result-header\">\n              <h3>${result.testName || 'ŸÅÿ≠ÿµ'}</h3>\n              <span class=\"result-badge ${result.abnormal ? 'abnormal' : 'normal'}\">\n                ${result.abnormal ? 'ÿ∫Ÿäÿ± ÿ∑ÿ®ŸäÿπŸä' : 'ÿ∑ÿ®ŸäÿπŸä'}\n              </span>\n            </div>\n            <div class=\"lab-result-body\">\n              <div class=\"lab-result-details\">\n                <div class=\"detail-item\">\n                  <span class=\"detail-label\">ÿßŸÑŸÖÿ±Ÿäÿ∂:</span>\n                  <span class=\"detail-value\">${result.patientName || 'ÿ∫Ÿäÿ± ŸÖÿ≠ÿØÿØ'}</span>\n                </div>\n                <div class=\"detail-item\">\n                  <span class=\"detail-label\">ÿßŸÑÿ™ÿßÿ±ŸäÿÆ:</span>\n                  <span class=\"detail-value\">${this.formatDate(result.date)}</span>\n                </div>\n                <div class=\"detail-item\">\n                  <span class=\"detail-label\">ÿßŸÑŸÜÿ™Ÿäÿ¨ÿ©:</span>\n                  <span class=\"detail-value\">${result.value || 'ÿ∫Ÿäÿ± ŸÖÿ≠ÿØÿØ'}</span>\n                </div>\n                <div class=\"detail-item\">\n                  <span class=\"detail-label\">ÿßŸÑŸÜÿ∑ÿßŸÇ ÿßŸÑÿ∑ÿ®ŸäÿπŸä:</span>\n                  <span class=\"detail-value\">${result.normalRange || 'ÿ∫Ÿäÿ± ŸÖÿ≠ÿØÿØ'}</span>\n                </div>\n              </div>\n            </div>\n          </div>\n        `\n          )\n          .join('')}\n      </div>\n    `;\n  }\n\n  renderImaging() {\n    if (this.imaging.length === 0) {\n      return `\n        <div class=\"empty-state\">\n          <i class=\"fas fa-x-ray\"></i>\n          <p>ŸÑÿß ÿ™Ÿàÿ¨ÿØ ÿµŸàÿ± ÿ£ÿ¥ÿπÿ©</p>\n        </div>\n      `;\n    }\n\n    return `\n      <div class=\"imaging-grid\">\n        ${this.imaging\n          .map(\n            image => `\n          <div class=\"imaging-card\">\n            <div class=\"imaging-header\">\n              <h3>${image.type || 'ÿµŸàÿ±ÿ©'}</h3>\n              <span class=\"imaging-date\">${this.formatDate(image.date)}</span>\n            </div>\n            <div class=\"imaging-body\">\n              <div class=\"imaging-details\">\n                <div class=\"detail-item\">\n                  <span class=\"detail-label\">ÿßŸÑŸÖÿ±Ÿäÿ∂:</span>\n                  <span class=\"detail-value\">${image.patientName || 'ÿ∫Ÿäÿ± ŸÖÿ≠ÿØÿØ'}</span>\n                </div>\n                <div class=\"detail-item\">\n                  <span class=\"detail-label\">ÿßŸÑŸÖŸÜÿ∑ŸÇÿ©:</span>\n                  <span class=\"detail-value\">${image.area || 'ÿ∫Ÿäÿ± ŸÖÿ≠ÿØÿØ'}</span>\n                </div>\n                <div class=\"detail-item\">\n                  <span class=\"detail-label\">ÿßŸÑŸÜÿ™Ÿäÿ¨ÿ©:</span>\n                  <span class=\"detail-value\">${image.result || 'ÿ∫Ÿäÿ± ŸÖÿ≠ÿØÿØ'}</span>\n                </div>\n              </div>\n            </div>\n            <div class=\"imaging-actions\">\n              <button class=\"btn btn-sm btn-primary\" onclick=\"this.viewImage(${image.id})\">\n                <i class=\"fas fa-eye\"></i> ÿπÿ±ÿ∂\n              </button>\n              <button class=\"btn btn-sm btn-secondary\" onclick=\"this.downloadImage(${image.id})\">\n                <i class=\"fas fa-download\"></i> ÿ™ÿ≠ŸÖŸäŸÑ\n              </button>\n            </div>\n          </div>\n        `\n          )\n          .join('')}\n      </div>\n    `;\n  }\n\n  renderNotes() {\n    if (this.notes.length === 0) {\n      return `\n        <div class=\"empty-state\">\n          <i class=\"fas fa-sticky-note\"></i>\n          <p>ŸÑÿß ÿ™Ÿàÿ¨ÿØ ŸÖŸÑÿßÿ≠ÿ∏ÿßÿ™</p>\n        </div>\n      `;\n    }\n\n    return `\n      <div class=\"notes-list\">\n        ${this.notes\n          .map(\n            note => `\n          <div class=\"note-card type-${note.type || 'general'}\">\n            <div class=\"note-header\">\n              <h3>${note.title || 'ŸÖŸÑÿßÿ≠ÿ∏ÿ©'}</h3>\n              <span class=\"note-date\">${this.formatDateTime(note.date)}</span>\n            </div>\n            <div class=\"note-body\">\n              <p>${note.content || ''}</p>\n              <div class=\"note-meta\">\n                <span><i class=\"fas fa-user\"></i> ${note.authorName || 'ÿ∫Ÿäÿ± ŸÖÿ≠ÿØÿØ'}</span>\n                <span><i class=\"fas fa-user-injured\"></i> ${note.patientName || 'ÿ∫Ÿäÿ± ŸÖÿ≠ÿØÿØ'}</span>\n              </div>\n            </div>\n          </div>\n        `\n          )\n          .join('')}\n      </div>\n    `;\n  }\n\n  renderHistory() {\n    if (this.history.length === 0) {\n      return `\n        <div class=\"empty-state\">\n          <i class=\"fas fa-history\"></i>\n          <p>ŸÑÿß ŸäŸàÿ¨ÿØ ÿ™ÿßÿ±ŸäÿÆ ÿ∑ÿ®Ÿä</p>\n        </div>\n      `;\n    }\n\n    return `\n      <div class=\"history-timeline\">\n        ${this.history\n          .map(\n            item => `\n          <div class=\"history-item\">\n            <div class=\"history-date\">${this.formatDate(item.date)}</div>\n            <div class=\"history-content\">\n              <h4>${item.title || 'ÿ≠ÿØÿ´'}</h4>\n              <p>${item.description || ''}</p>\n              <span class=\"history-type\">${this.getTypeText(item.type)}</span>\n            </div>\n          </div>\n        `\n          )\n          .join('')}\n      </div>\n    `;\n  }\n\n  renderAllergies() {\n    if (this.allergies.length === 0) {\n      return `\n        <div class=\"empty-state\">\n          <i class=\"fas fa-exclamation-triangle\"></i>\n          <p>ŸÑÿß ÿ™Ÿàÿ¨ÿØ ÿ≠ÿ≥ÿßÿ≥Ÿäÿßÿ™ ŸÖÿ≥ÿ¨ŸÑÿ©</p>\n        </div>\n      `;\n    }\n\n    return `\n      <div class=\"allergies-list\">\n        ${this.allergies\n          .map(\n            allergy => `\n          <div class=\"allergy-card severity-${allergy.severity || 'moderate'}\">\n            <div class=\"allergy-header\">\n              <h3>${allergy.allergen || 'ŸÖÿßÿØÿ© ŸÖÿ≥ÿ®ÿ®ÿ© ŸÑŸÑÿ≠ÿ≥ÿßÿ≥Ÿäÿ©'}</h3>\n              <span class=\"severity-badge severity-${allergy.severity || 'moderate'}\">\n                ${this.getSeverityText(allergy.severity || 'moderate')}\n              </span>\n            </div>\n            <div class=\"allergy-body\">\n              <div class=\"allergy-details\">\n                <div class=\"detail-item\">\n                  <span class=\"detail-label\">ÿßŸÑŸÖÿ±Ÿäÿ∂:</span>\n                  <span class=\"detail-value\">${allergy.patientName || 'ÿ∫Ÿäÿ± ŸÖÿ≠ÿØÿØ'}</span>\n                </div>\n                <div class=\"detail-item\">\n                  <span class=\"detail-label\">ÿßŸÑÿ£ÿπÿ±ÿßÿ∂:</span>\n                  <span class=\"detail-value\">${allergy.symptoms || 'ÿ∫Ÿäÿ± ŸÖÿ≠ÿØÿØ'}</span>\n                </div>\n                <div class=\"detail-item\">\n                  <span class=\"detail-label\">ÿ™ÿßÿ±ŸäÿÆ ÿßŸÑÿßŸÉÿ™ÿ¥ÿßŸÅ:</span>\n                  <span class=\"detail-value\">${this.formatDate(allergy.discoveredDate)}</span>\n                </div>\n              </div>\n            </div>\n          </div>\n        `\n          )\n          .join('')}\n      </div>\n    `;\n  }\n\n  renderVaccinations() {\n    if (this.vaccinations.length === 0) {\n      return `\n        <div class=\"empty-state\">\n          <i class=\"fas fa-syringe\"></i>\n          <p>ŸÑÿß ÿ™Ÿàÿ¨ÿØ ÿ™ÿ∑ÿπŸäŸÖÿßÿ™</p>\n        </div>\n      `;\n    }\n\n    return `\n      <div class=\"vaccinations-list\">\n        ${this.vaccinations\n          .map(\n            vaccination => `\n          <div class=\"vaccination-card ${vaccination.completed ? 'completed' : 'pending'}\">\n            <div class=\"vaccination-header\">\n              <h3>${vaccination.name || 'ÿ™ÿ∑ÿπŸäŸÖ'}</h3>\n              <span class=\"status-badge ${vaccination.completed ? 'completed' : 'pending'}\">\n                ${vaccination.completed ? 'ŸÖŸÉÿ™ŸÖŸÑ' : 'ŸÇŸäÿØ ÿßŸÑÿßŸÜÿ™ÿ∏ÿßÿ±'}\n              </span>\n            </div>\n            <div class=\"vaccination-body\">\n              <div class=\"vaccination-details\">\n                <div class=\"detail-item\">\n                  <span class=\"detail-label\">ÿßŸÑŸÖÿ±Ÿäÿ∂:</span>\n                  <span class=\"detail-value\">${vaccination.patientName || 'ÿ∫Ÿäÿ± ŸÖÿ≠ÿØÿØ'}</span>\n                </div>\n                <div class=\"detail-item\">\n                  <span class=\"detail-label\">ÿßŸÑÿ™ÿßÿ±ŸäÿÆ:</span>\n                  <span class=\"detail-value\">${this.formatDate(vaccination.date)}</span>\n                </div>\n                <div class=\"detail-item\">\n                  <span class=\"detail-label\">ÿßŸÑÿ¨ÿ±ÿπÿ©:</span>\n                  <span class=\"detail-value\">${vaccination.dose || 'ÿ∫Ÿäÿ± ŸÖÿ≠ÿØÿØ'}</span>\n                </div>\n                <div class=\"detail-item\">\n                  <span class=\"detail-label\">ÿßŸÑŸÖŸàÿπÿØ ÿßŸÑŸÇÿßÿØŸÖ:</span>\n                  <span class=\"detail-value\">${vaccination.nextDoseDate ? this.formatDate(vaccination.nextDoseDate) : 'ŸÑÿß ŸäŸàÿ¨ÿØ'}</span>\n                </div>\n              </div>\n            </div>\n          </div>\n        `\n          )\n          .join('')}\n      </div>\n    `;\n  }\n\n  renderAnalytics() {\n    if (this.analytics.length === 0) {\n      return `\n        <div class=\"empty-state\">\n          <i class=\"fas fa-chart-bar\"></i>\n          <p>ŸÑÿß ÿ™Ÿàÿ¨ÿØ ÿ®ŸäÿßŸÜÿßÿ™ ÿ™ÿ≠ŸÑŸäŸÑŸäÿ©</p>\n        </div>\n      `;\n    }\n\n    return `\n      <div class=\"analytics-dashboard\">\n        ${this.analytics\n          .map(\n            analytic => `\n          <div class=\"analytic-card\">\n            <div class=\"analytic-header\">\n              <h3>${analytic.metric}</h3>\n              <span class=\"analytic-value\">${analytic.value}</span>\n            </div>\n            <div class=\"analytic-body\">\n              <p>${analytic.description || ''}</p>\n              ${\n                analytic.trend\n                  ? `\n                <div class=\"analytic-trend ${analytic.trend > 0 ? 'up' : 'down'}\">\n                  <i class=\"fas fa-arrow-${analytic.trend > 0 ? 'up' : 'down'}\"></i>\n                  ${Math.abs(analytic.trend)}%\n                </div>\n              `\n                  : ''\n              }\n            </div>\n          </div>\n        `\n          )\n          .join('')}\n      </div>\n    `;\n  }\n\n  getFilteredData(data) {\n    let filtered = [...data];\n    if (this.filters.status !== 'all') {\n      filtered = filtered.filter(item => item.status === this.filters.status);\n    }\n    if (this.filters.category !== 'all') {\n      filtered = filtered.filter(item => item.category === this.filters.category);\n    }\n    if (this.filters.patient !== 'all') {\n      filtered = filtered.filter(item => item.patientId === parseInt(this.filters.patient));\n    }\n    if (this.filters.provider !== 'all') {\n      filtered = filtered.filter(item => item.providerId === parseInt(this.filters.provider));\n    }\n    return filtered;\n  }\n\n  async loadData() {\n    if (!this.useAPI) {\n      this.loadFromLocalStorage();\n      return;\n    }\n\n    try {\n      if (!this.connectionManager.isFullyConnected()) {\n        this.loadFromLocalStorage();\n        return;\n      }\n\n      const [\n        records,\n        diagnoses,\n        treatments,\n        labResults,\n        imaging,\n        notes,\n        history,\n        allergies,\n        vaccinations,\n        analytics,\n      ] = await Promise.all([\n        this.apiClient.get(this.API_ENDPOINTS.records || '/api/advanced-medical-records/records'),\n        this.apiClient.get(\n          this.API_ENDPOINTS.diagnoses || '/api/advanced-medical-records/diagnoses'\n        ),\n        this.apiClient.get(\n          this.API_ENDPOINTS.treatments || '/api/advanced-medical-records/treatments'\n        ),\n        this.apiClient.get(\n          this.API_ENDPOINTS.labResults || '/api/advanced-medical-records/lab-results'\n        ),\n        this.apiClient.get(this.API_ENDPOINTS.imaging || '/api/advanced-medical-records/imaging'),\n        this.apiClient.get(this.API_ENDPOINTS.notes || '/api/advanced-medical-records/notes'),\n        this.apiClient.get(this.API_ENDPOINTS.history || '/api/advanced-medical-records/history'),\n        this.apiClient.get(\n          this.API_ENDPOINTS.allergies || '/api/advanced-medical-records/allergies'\n        ),\n        this.apiClient.get(\n          this.API_ENDPOINTS.vaccinations || '/api/advanced-medical-records/vaccinations'\n        ),\n        this.apiClient.get(\n          this.API_ENDPOINTS.analytics || '/api/advanced-medical-records/analytics'\n        ),\n      ]);\n\n      this.records = records.data || [];\n      this.diagnoses = diagnoses.data || [];\n      this.treatments = treatments.data || [];\n      this.labResults = labResults.data || [];\n      this.imaging = imaging.data || [];\n      this.notes = notes.data || [];\n      this.history = history.data || [];\n      this.allergies = allergies.data || [];\n      this.vaccinations = vaccinations.data || [];\n      this.analytics = analytics.data || [];\n\n      this.saveToLocalStorage();\n      this.updateContent();\n    } catch (error) {\n      console.error('Error loading medical records data:', error);\n      this.loadFromLocalStorage();\n    }\n  }\n\n  setupRealtimeSync() {\n    if (!this.realtimeSync) return;\n    this.realtimeSync.subscribe('advanced-medical-records', '*', update => {\n      if (update.action === 'create' || update.action === 'update' || update.action === 'delete') {\n        this.loadData();\n      }\n    });\n  }\n\n  setupConnectionMonitoring() {\n    if (!this.connectionManager) return;\n    this.connectionManager.on('online', () => {\n      this.loadData();\n    });\n  }\n\n  switchView(view) {\n    this.currentView = view;\n    this.updateContent();\n  }\n\n  handleFilterChange(type, event) {\n    this.filters[type] = event.target.value;\n    this.updateContent();\n  }\n\n  handleSearch(event) {\n    this.updateContent();\n  }\n\n  updateContent() {\n    const content = document.getElementById('recordsContent');\n    if (content) {\n      content.innerHTML = this.renderCurrentView();\n    }\n  }\n\n  getStatusText(status) {\n    const statusMap = {\n      active: 'ŸÜÿ¥ÿ∑',\n      archived: 'ŸÖÿ§ÿ±ÿ¥ŸÅ',\n      closed: 'ŸÖÿ∫ŸÑŸÇ',\n    };\n    return statusMap[status] || status;\n  }\n\n  getCategoryText(category) {\n    const categoryMap = {\n      general: 'ÿπÿßŸÖ',\n      emergency: 'ÿ∑Ÿàÿßÿ±ÿ¶',\n      'follow-up': 'ŸÖÿ™ÿßÿ®ÿπÿ©',\n      consultation: 'ÿßÿ≥ÿ™ÿ¥ÿßÿ±ÿ©',\n    };\n    return categoryMap[category] || category;\n  }\n\n  getSeverityText(severity) {\n    const severityMap = {\n      mild: 'ÿÆŸÅŸäŸÅ',\n      moderate: 'ŸÖÿ™Ÿàÿ≥ÿ∑',\n      severe: 'ÿ¥ÿØŸäÿØ',\n      critical: 'ÿ≠ÿ±ÿ¨',\n    };\n    return severityMap[severity] || severity;\n  }\n\n  getTypeText(type) {\n    const typeMap = {\n      diagnosis: 'ÿ™ÿ¥ÿÆŸäÿµ',\n      treatment: 'ÿπŸÑÿßÿ¨',\n      lab: 'ŸÖÿÆÿ™ÿ®ÿ±',\n      imaging: 'ÿ™ÿµŸàŸäÿ±',\n      note: 'ŸÖŸÑÿßÿ≠ÿ∏ÿ©',\n    };\n    return typeMap[type] || type;\n  }\n\n  formatDate(date) {\n    if (!date) return 'ÿ∫Ÿäÿ± ŸÖÿ≠ÿØÿØ';\n    return new Date(date).toLocaleDateString('ar-SA');\n  }\n\n  formatDateTime(dateTime) {\n    if (!dateTime) return 'ÿ∫Ÿäÿ± ŸÖÿ≠ÿØÿØ';\n    return new Date(dateTime).toLocaleString('ar-SA');\n  }\n\n  saveToLocalStorage() {\n    try {\n      localStorage.setItem('advancedMedicalRecords', JSON.stringify(this.records));\n      localStorage.setItem('advancedDiagnoses', JSON.stringify(this.diagnoses));\n      localStorage.setItem('advancedTreatments', JSON.stringify(this.treatments));\n      localStorage.setItem('advancedLabResults', JSON.stringify(this.labResults));\n      localStorage.setItem('advancedImaging', JSON.stringify(this.imaging));\n      localStorage.setItem('advancedNotes', JSON.stringify(this.notes));\n      localStorage.setItem('advancedHistory', JSON.stringify(this.history));\n      localStorage.setItem('advancedAllergies', JSON.stringify(this.allergies));\n      localStorage.setItem('advancedVaccinations', JSON.stringify(this.vaccinations));\n      localStorage.setItem('advancedAnalytics', JSON.stringify(this.analytics));\n    } catch (error) {\n      console.error('Error saving to localStorage:', error);\n    }\n  }\n\n  loadFromLocalStorage() {\n    try {\n      this.records = JSON.parse(localStorage.getItem('advancedMedicalRecords') || '[]');\n      this.diagnoses = JSON.parse(localStorage.getItem('advancedDiagnoses') || '[]');\n      this.treatments = JSON.parse(localStorage.getItem('advancedTreatments') || '[]');\n      this.labResults = JSON.parse(localStorage.getItem('advancedLabResults') || '[]');\n      this.imaging = JSON.parse(localStorage.getItem('advancedImaging') || '[]');\n      this.notes = JSON.parse(localStorage.getItem('advancedNotes') || '[]');\n      this.history = JSON.parse(localStorage.getItem('advancedHistory') || '[]');\n      this.allergies = JSON.parse(localStorage.getItem('advancedAllergies') || '[]');\n      this.vaccinations = JSON.parse(localStorage.getItem('advancedVaccinations') || '[]');\n      this.analytics = JSON.parse(localStorage.getItem('advancedAnalytics') || '[]');\n    } catch (error) {\n      console.error('Error loading from localStorage:', error);\n    }\n  }\n\n  setupEventListeners() {\n    this.createRecord = this.createRecord.bind(this);\n    this.importRecord = this.importRecord.bind(this);\n    this.switchView = this.switchView.bind(this);\n    this.handleFilterChange = this.handleFilterChange.bind(this);\n    this.handleSearch = this.handleSearch.bind(this);\n    this.viewRecord = this.viewRecord.bind(this);\n    this.editRecord = this.editRecord.bind(this);\n    this.downloadRecord = this.downloadRecord.bind(this);\n    this.viewImage = this.viewImage.bind(this);\n    this.downloadImage = this.downloadImage.bind(this);\n  }\n\n  async createRecord() {\n    console.log('Create medical record');\n  }\n\n  async importRecord() {\n    console.log('Import medical record');\n  }\n\n  async viewRecord(id) {\n    console.log('View medical record', id);\n  }\n\n  async editRecord(id) {\n    console.log('Edit medical record', id);\n  }\n\n  async downloadRecord(id) {\n    console.log('Download medical record', id);\n  }\n\n  async viewImage(id) {\n    console.log('View image', id);\n  }\n\n  async downloadImage(id) {\n    console.log('Download image', id);\n  }\n}\n\nexport default AdvancedMedicalRecordsManagement;\n"],"names":["AdvancedMedicalRecordsManagement","container","apiClient","API_ENDPOINTS","connectionManager","realtimeSync","systemEnhancer","aiAssistant","advancedCache","filtered","record","diagnosis","treatment","result","image","note","item","allergy","vaccination","analytic","data","records","diagnoses","treatments","labResults","imaging","notes","history","allergies","vaccinations","analytics","error","update","view","type","event","content","status","category","severity","date","dateTime","id"],"mappings":"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"}