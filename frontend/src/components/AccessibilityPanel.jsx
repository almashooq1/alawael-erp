/**\n * AccessibilityPanel Component\n * ŸÑŸàÿ≠ÿ© ÿ•ÿØÿßÿ±ÿ© ÿ•ŸÖŸÉÿßŸÜŸäÿ© ÿßŸÑŸàÿµŸàŸÑ\n * Ÿäÿ≥ŸÖÿ≠ ŸÑŸÑŸÖÿ≥ÿ™ÿÆÿØŸÖŸäŸÜ ÿ®ÿ™ÿÆÿµŸäÿµ ÿßŸÑŸàÿßÿ¨Ÿáÿ© ÿ≠ÿ≥ÿ® ÿßÿ≠ÿ™Ÿäÿßÿ¨ÿßÿ™ŸáŸÖ\n */\n\nimport React, { useState, useEffect } from 'react';\nimport './AccessibilityPanel.css';\n\nconst AccessibilityPanel = () => {\n  const [isOpen, setIsOpen] = useState(false);\n  const [preferences, setPreferences] = useState({\n    theme: 'light',\n    fontSize: 16,\n    fontFamily: 'standard',\n    lineHeight: 1.5,\n    letterSpacing: 0.12,\n    language: 'en',\n    textToSpeech: false,\n    speakingRate: 1.0,\n    reduceMotion: false,\n    reduceTransparency: false,\n    underlineLinks: false,\n    boldText: false\n  });\n\n  const themes = [\n    { value: 'light', label: '‚òÄÔ∏è Light Theme' },\n    { value: 'dark', label: 'üåô Dark Theme' },\n    { value: 'highContrastDark', label: '‚ö° High Contrast Dark' },\n    { value: 'highContrastLight', label: '‚ö° High Contrast Light' },\n    { value: 'yellowOnBlack', label: 'üü® Yellow on Black (Dyslexia)' }\n  ];\n\n  const fonts = [\n    { value: 'standard', label: '‚úèÔ∏è Standard (Inter)' },\n    { value: 'dyslexia', label: 'üìñ Dyslexia-Friendly' },\n    { value: 'serif', label: 'üìö Serif (Georgia)' },\n    { value: 'sans', label: 'üìù Sans-Serif (Arial)' }\n  ];\n\n  const languages = [\n    { code: 'ar', label: 'üá∏üá¶ ÿßŸÑÿπÿ±ÿ®Ÿäÿ©' },\n    { code: 'en', label: 'üá¨üáß English' },\n    { code: 'fr', label: 'üá´üá∑ Fran√ßais' },\n    { code: 'es', label: 'üá™üá∏ Espa√±ol' },\n    { code: 'de', label: 'üá©üá™ Deutsch' }\n  ];\n\n  // Load preferences from localStorage on mount\n  useEffect(() => {\n    const stored = localStorage.getItem('accessibilityPreferences');\n    if (stored) {\n      setPreferences(JSON.parse(stored));\n    }\n  }, []);\n\n  // Apply changes\n  const handleChange = (key, value) => {\n    const updated = { ...preferences, [key]: value };\n    setPreferences(updated);\n    localStorage.setItem('accessibilityPreferences', JSON.stringify(updated));\n\n    // Apply immediately\n    if (window.accessibilityService) {\n      switch (key) {\n        case 'theme':\n          window.accessibilityService.setTheme(value);\n          break;\n        case 'fontSize':\n          window.accessibilityService.setFontSize(value);\n          break;\n        case 'fontFamily':\n          window.accessibilityService.setFontFamily(value);\n          break;\n        case 'lineHeight':\n          window.accessibilityService.setLineHeight(value);\n          break;\n        case 'letterSpacing':\n          window.accessibilityService.setLetterSpacing(value);\n          break;\n        case 'language':\n          window.accessibilityService.setLanguage(value);\n          break;\n        case 'boldText':\n          window.accessibilityService.toggleBoldText(value);\n          break;\n        case 'underlineLinks':\n          window.accessibilityService.underlineAllLinks(value);\n          break;\n        case 'reduceMotion':\n          window.accessibilityService.reduceMotion(value);\n          break;\n        case 'reduceTransparency':\n          window.accessibilityService.reduceTransparency(value);\n          break;\n        default:\n          break;\n      }\n    }\n  };\n\n  const togglePanel = () => {\n    setIsOpen(!isOpen);\n  };\n\n  const resetToDefaults = () => {\n    const defaults = {\n      theme: 'light',\n      fontSize: 16,\n      fontFamily: 'standard',\n      lineHeight: 1.5,\n      letterSpacing: 0.12,\n      language: 'en',\n      textToSpeech: false,\n      speakingRate: 1.0,\n      reduceMotion: false,\n      reduceTransparency: false,\n      underlineLinks: false,\n      boldText: false\n    };\n    setPreferences(defaults);\n    localStorage.setItem('accessibilityPreferences', JSON.stringify(defaults));\n    window.location.reload();\n  };\n\n  return (\n    <>\n      {/* Floating Button */}\n      <button\n        className=\"accessibility-button\"\n        onClick={togglePanel}\n        aria-label=\"Open Accessibility Settings\"\n        aria-expanded={isOpen}\n        title=\"Accessibility Settings (Alt+A)\"\n      >\n        ‚ôø\n      </button>\n\n      {/* Panel */}\n      {isOpen && (\n        <div className=\"accessibility-panel\" role=\"dialog\" aria-labelledby=\"a11y-title\">\n          <div className=\"panel-header\">\n            <h2 id=\"a11y-title\">‚ôø Accessibility Settings</h2>\n            <button\n              className=\"close-button\"\n              onClick={togglePanel}\n              aria-label=\"Close Settings\"\n            >\n              ‚úï\n            </button>\n          </div>\n\n          <div className=\"panel-content\">\n            {/* Language Selection */}\n            <div className=\"setting-group\">\n              <h3>Language / ÿßŸÑŸÑÿ∫ÿ©</h3>\n              <div className=\"language-buttons\">\n                {languages.map(lang => (\n                  <button\n                    key={lang.code}\n                    className={`lang-btn ${preferences.language === lang.code ? 'active' : ''}`}\n                    onClick={() => handleChange('language', lang.code)}\n                    aria-label={lang.label}\n                    aria-pressed={preferences.language === lang.code}\n                  >\n                    {lang.label}\n                  </button>\n                ))}\n              </div>\n            </div>\n\n            {/* Theme Selection */}\n            <div className=\"setting-group\">\n              <h3>üé® Theme</h3>\n              <select\n                value={preferences.theme}\n                onChange={(e) => handleChange('theme', e.target.value)}\n                aria-label=\"Select theme\"\n              >\n                {themes.map(theme => (\n                  <option key={theme.value} value={theme.value}>\n                    {theme.label}\n                  </option>\n                ))}\n              </select>\n            </div>\n\n            {/* Font Selection */}\n            <div className=\"setting-group\">\n              <h3>‚úèÔ∏è Font</h3>\n              <select\n                value={preferences.fontFamily}\n                onChange={(e) => handleChange('fontFamily', e.target.value)}\n                aria-label=\"Select font\"\n              >\n                {fonts.map(font => (\n                  <option key={font.value} value={font.value}>\n                    {font.label}\n                  </option>\n                ))}\n              </select>\n            </div>\n\n            {/* Font Size */}\n            <div className=\"setting-group\">\n              <h3>üìè Font Size</h3>\n              <div className=\"slider-container\">\n                <label>A</label>\n                <input\n                  type=\"range\"\n                  min=\"12\"\n                  max=\"32\"\n                  step=\"2\"\n                  value={preferences.fontSize}\n                  onChange={(e) => handleChange('fontSize', parseInt(e.target.value))}\n                  aria-label=\"Adjust font size\"\n                  className=\"slider\"\n                />\n                <label style={{ fontSize: '1.5em' }}>A</label>\n                <span className=\"value\">{preferences.fontSize}px</span>\n              </div>\n            </div>\n\n            {/* Line Height */}\n            <div className=\"setting-group\">\n              <h3>üìê Line Height</h3>\n              <input\n                type=\"range\"\n                min=\"1.5\"\n                max=\"3.0\"\n                step=\"0.1\"\n                value={preferences.lineHeight}\n                onChange={(e) => handleChange('lineHeight', parseFloat(e.target.value))}\n                aria-label=\"Adjust line height\"\n                className=\"slider\"\n              />\n              <span className=\"value\">{preferences.lineHeight.toFixed(1)}</span>\n            </div>\n\n            {/* Letter Spacing */}\n            <div className=\"setting-group\">\n              <h3>üí¨ Letter Spacing</h3>\n              <input\n                type=\"range\"\n                min=\"0.12\"\n                max=\"0.24\"\n                step=\"0.01\"\n                value={preferences.letterSpacing}\n                onChange={(e) => handleChange('letterSpacing', parseFloat(e.target.value))}\n                aria-label=\"Adjust letter spacing\"\n                className=\"slider\"\n              />\n              <span className=\"value\">{preferences.letterSpacing.toFixed(2)}em</span>\n            </div>\n\n            {/* Text Options */}\n            <div className=\"setting-group\">\n              <h3>üìù Text Options</h3>\n              \n              <label className=\"checkbox-label\">\n                <input\n                  type=\"checkbox\"\n                  checked={preferences.boldText}\n                  onChange={(e) => handleChange('boldText', e.target.checked)}\n                  aria-label=\"Enable bold text\"\n                />\n                <span>Bold Text</span>\n              </label>\n\n              <label className=\"checkbox-label\">\n                <input\n                  type=\"checkbox\"\n                  checked={preferences.underlineLinks}\n                  onChange={(e) => handleChange('underlineLinks', e.target.checked)}\n                  aria-label=\"Underline all links\"\n                />\n                <span>Underline Links</span>\n              </label>\n            </div>\n\n            {/* Motion & Transparency */}\n            <div className=\"setting-group\">\n              <h3>‚öôÔ∏è Motion & Effects</h3>\n              \n              <label className=\"checkbox-label\">\n                <input\n                  type=\"checkbox\"\n                  checked={preferences.reduceMotion}\n                  onChange={(e) => handleChange('reduceMotion', e.target.checked)}\n                  aria-label=\"Reduce motion\"\n                />\n                <span>Reduce Motion</span>\n              </label>\n\n              <label className=\"checkbox-label\">\n                <input\n                  type=\"checkbox\"\n                  checked={preferences.reduceTransparency}\n                  onChange={(e) => handleChange('reduceTransparency', e.target.checked)}\n                  aria-label=\"Reduce transparency\"\n                />\n                <span>Reduce Transparency</span>\n              </label>\n            </div>\n\n            {/* Text-to-Speech */}\n            <div className=\"setting-group\">\n              <h3>üîä Text-to-Speech</h3>\n              \n              <label className=\"checkbox-label\">\n                <input\n                  type=\"checkbox\"\n                  checked={preferences.textToSpeech}\n                  onChange={(e) => handleChange('textToSpeech', e.target.checked)}\n                  aria-label=\"Enable text-to-speech\"\n                />\n                <span>Enable Text-to-Speech (Alt+T)</span>\n              </label>\n\n              {preferences.textToSpeech && (\n                <div>\n                  <label htmlFor=\"speech-rate\">Speaking Rate:</label>\n                  <input\n                    id=\"speech-rate\"\n                    type=\"range\"\n                    min=\"0.5\"\n                    max=\"2\"\n                    step=\"0.1\"\n                    value={preferences.speakingRate}\n                    onChange={(e) => handleChange('speakingRate', parseFloat(e.target.value))}\n                    className=\"slider\"\n                  />\n                  <span className=\"value\">{preferences.speakingRate.toFixed(1)}x</span>\n                </div>\n              )}\n            </div>\n\n            {/* Help & Reset */}\n            <div className=\"setting-group\">\n              <h3>‚ÑπÔ∏è Help & Reset</h3>\n              \n              <button\n                className=\"help-button\"\n                onClick={() => window.accessibilityService?.showAccessibilityHelp()}\n              >\n                üìñ Keyboard Shortcuts (Alt+H)\n              </button>\n\n              <button\n                className=\"reset-button\"\n                onClick={resetToDefaults}\n              >\n                üîÑ Reset to Defaults\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n    </>\n  );\n};\n\nexport default AccessibilityPanel;\n