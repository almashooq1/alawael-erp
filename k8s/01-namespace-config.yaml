apiVersion: v1
kind: Namespace
metadata:
  name: erp-production
  labels:
    name: erp-production
---
apiVersion: v1
kind: ConfigMap
metadata:
  name: backend-config
  namespace: erp-production
data:
  NODE_ENV: "production"
  PORT: "3001"
  LOG_LEVEL: "info"
  LOG_FORMAT: "json"
---
apiVersion: v1
kind: Secret
metadata:
  name: backend-secrets
  namespace: erp-production
type: Opaque
stringData:
  MONGODB_URI: "mongodb://admin:password@mongodb:27017/erp_db?authSource=admin"
  REDIS_URL: "redis://redis:6379"
  JWT_SECRET: "your-secret-key-change-in-production"
  JWT_REFRESH_SECRET: "your-refresh-secret-change-in-production"
  SOCKET_IO_CORS_ORIGIN: "https://yourdomain.com"
---
apiVersion: v1
kind: PersistentVolume
metadata:
  name: mongodb-pv
  namespace: erp-production
spec:
  capacity:
    storage: 10Gi
  accessModes:
    - ReadWriteOnce
  persistentVolumeReclaimPolicy: Retain
  storageClassName: standard
  hostPath:
    path: /data/mongodb
---
apiVersion: v1
kind: PersistentVolumeClaim
metadata:
  name: mongodb-pvc
  namespace: erp-production
spec:
  accessModes:
    - ReadWriteOnce
  storageClassName: standard
  resources:
    requests:
      storage: 10Gi
