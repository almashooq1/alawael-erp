# ===================================
# Kubernetes ConfigMap and Secrets
# ===================================

apiVersion: v1
kind: ConfigMap
metadata:
  name: erp-config
data:
  frontend-url: "https://erp.yourcompany.com"
  backend-url: "https://erp.yourcompany.com/api"
  node-env: "production"
  log-level: "info"
  enable-analytics: "true"
  enable-websocket: "true"

---
apiVersion: v1
kind: Secret
metadata:
  name: erp-secrets
type: Opaque
stringData:
  mongodb-uri: "mongodb://admin:CHANGE_THIS_PASSWORD@mongodb-service:27017/erp_db?authSource=admin"
  jwt-secret: "CHANGE_THIS_TO_A_SECURE_RANDOM_STRING_MIN_32_CHARS"
  email-password: "YOUR_EMAIL_APP_PASSWORD"
  redis-password: "YOUR_REDIS_PASSWORD"
  aws-access-key: "YOUR_AWS_ACCESS_KEY"
  aws-secret-key: "YOUR_AWS_SECRET_KEY"

---
apiVersion: v1
kind: PersistentVolumeClaim
metadata:
  name: erp-uploads-pvc
spec:
  accessModes:
    - ReadWriteMany
  resources:
    requests:
      storage: 10Gi
  storageClassName: standard

---
apiVersion: v1
kind: PersistentVolumeClaim
metadata:
  name: erp-exports-pvc
spec:
  accessModes:
    - ReadWriteMany
  resources:
    requests:
      storage: 5Gi
  storageClassName: standard

---
apiVersion: v1
kind: PersistentVolumeClaim
metadata:
  name: mongodb-pvc
spec:
  accessModes:
    - ReadWriteOnce
  resources:
    requests:
      storage: 20Gi
  storageClassName: standard
