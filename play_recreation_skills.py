#!/usr/bin/env python3
# -*- coding: utf-8 -*-
"""
إضافة مهارات اللعب والترفيه
"""

from app import app, db
from models import SkillCategory, Skill

def add_play_recreation_skills():
    """إضافة مهارات اللعب والترفيه للنظام"""
    
    with app.app_context():
        # إنشاء فئة مهارات اللعب والترفيه
        play_category = SkillCategory.query.filter_by(category_name="مهارات اللعب والترفيه").first()
        if not play_category:
            play_category = SkillCategory(
                category_name="مهارات اللعب والترفيه",
                description="مهارات اللعب الفردي والجماعي والأنشطة الترفيهية والإبداعية",
                icon="fas fa-gamepad",
                color="#ff6b6b",
                display_order=9
            )
            db.session.add(play_category)
            db.session.commit()
            print("تم إنشاء فئة مهارات اللعب والترفيه")
        
        # قائمة مهارات اللعب والترفيه
        play_skills = [
            # مهارات اللعب الفردي
            {
                "skill_name": "يلعب بمفرده لفترات قصيرة (5-10 دقائق)",
                "description": "قدرة الطفل على الانشغال باللعب الفردي دون الحاجة لتدخل مستمر",
                "evaluation_criteria": "يلعب بمفرده بالألعاب لمدة 5-10 دقائق دون طلب المساعدة",
                "success_indicators": "الاستقلالية، التركيز، الترفيه الذاتي"
            },
            {
                "skill_name": "يستكشف الألعاب الجديدة بفضول",
                "description": "قدرة الطفل على إظهار الاهتمام واستكشاف الألعاب غير المألوفة",
                "evaluation_criteria": "يقترب من الألعاب الجديدة ويحاول اللعب بها",
                "success_indicators": "الفضول، الاستكشاف، التكيف مع الجديد"
            },
            {
                "skill_name": "يكرر الأنشطة التي يستمتع بها",
                "description": "قدرة الطفل على إعادة الأنشطة الممتعة والتعلم من خلال التكرار",
                "evaluation_criteria": "يعود لنفس اللعبة أو النشاط عدة مرات",
                "success_indicators": "التفضيل، الاستمتاع، التعلم بالتكرار"
            },
            {
                "skill_name": "يحافظ على الألعاب ولا يكسرها عمداً",
                "description": "قدرة الطفل على التعامل مع الألعاب بعناية واحترام",
                "evaluation_criteria": "يلعب بالألعاب دون كسرها أو إتلافها عمداً",
                "success_indicators": "الاحترام للممتلكات، العناية، السلوك المسؤول"
            },
            {
                "skill_name": "يظهر تفضيلات واضحة في الألعاب",
                "description": "قدرة الطفل على إظهار تفضيلات شخصية في أنواع الألعاب",
                "evaluation_criteria": "يختار ألعاب معينة بشكل متكرر ويرفض أخرى",
                "success_indicators": "الشخصية، التفضيل، الاختيار الشخصي"
            },
            
            # مهارات اللعب الجماعي
            {
                "skill_name": "يلعب بجانب الأطفال الآخرين (اللعب المتوازي)",
                "description": "قدرة الطفل على اللعب في نفس المكان مع أطفال آخرين دون تفاعل مباشر",
                "evaluation_criteria": "يلعب بجانب طفل آخر دون صراع أو تدخل في لعبه",
                "success_indicators": "التسامح الاجتماعي، الراحة مع الآخرين، اللعب المتوازي"
            },
            {
                "skill_name": "يشارك الألعاب أحياناً عند التشجيع",
                "description": "قدرة الطفل على مشاركة الألعاب مع الآخرين بتشجيع من الكبار",
                "evaluation_criteria": "يعطي لعبته لطفل آخر عندما يطلب منه الكبار ذلك",
                "success_indicators": "المشاركة، التعاون، الاستجابة للتوجيه"
            },
            {
                "skill_name": "يشارك في ألعاب جماعية بسيطة",
                "description": "قدرة الطفل على المشاركة في أنشطة جماعية منظمة",
                "evaluation_criteria": "يشارك في لعبة جماعية مثل الدائرة أو الغناء الجماعي",
                "success_indicators": "التفاعل الجماعي، اتباع القواعد البسيطة، المشاركة"
            },
            {
                "skill_name": "يتناوب في اللعب عند التذكير",
                "description": "قدرة الطفل على انتظار دوره في اللعب مع التوجيه",
                "evaluation_criteria": "ينتظر دوره في اللعبة عندما يذكره الكبار",
                "success_indicators": "الصبر، التناوب، اتباع القواعد"
            },
            {
                "skill_name": "يقلد أفعال الأطفال الآخرين في اللعب",
                "description": "قدرة الطفل على تعلم طرق لعب جديدة من خلال مراقبة الآخرين",
                "evaluation_criteria": "يقلد طريقة لعب طفل آخر أو حركاته",
                "success_indicators": "التعلم بالمحاكاة، التفاعل الاجتماعي، التقليد"
            },
            
            # مهارات الألعاب التعليمية
            {
                "skill_name": "يكمل الألغاز البسيطة (3-6 قطع)",
                "description": "قدرة الطفل على حل الألغاز والبازل ذات القطع القليلة",
                "evaluation_criteria": "يكمل لغز مكون من 3-6 قطع كبيرة بمساعدة قليلة",
                "success_indicators": "حل المشكلات، التركيز، المهارات البصرية المكانية"
            },
            {
                "skill_name": "يطابق الأشكال مع الفتحات المناسبة",
                "description": "قدرة الطفل على مطابقة الأشكال الهندسية مع الفتحات المقابلة",
                "evaluation_criteria": "يضع الأشكال الهندسية في الفتحات الصحيحة",
                "success_indicators": "التمييز البصري، المطابقة، التناسق الحركي"
            },
            {
                "skill_name": "يرتب المكعبات أو الحلقات حسب الحجم",
                "description": "قدرة الطفل على ترتيب الأشياء حسب أحجامها",
                "evaluation_criteria": "يرتب 3-5 مكعبات أو حلقات من الأكبر للأصغر",
                "success_indicators": "التصنيف، الترتيب، المفاهيم الرياضية"
            },
            {
                "skill_name": "يستخدم ألعاب التركيب البسيطة",
                "description": "قدرة الطفل على تجميع وتركيب القطع لإنشاء شكل أو بناء",
                "evaluation_criteria": "يركب قطع الليجو الكبيرة أو المكعبات لعمل بناء بسيط",
                "success_indicators": "البناء، التخطيط، المهارات الحركية الدقيقة"
            },
            {
                "skill_name": "يتبع تعليمات بسيطة في الألعاب",
                "description": "قدرة الطفل على فهم واتباع قواعد اللعب البسيطة",
                "evaluation_criteria": "يتبع تعليمة واحدة أو اثنتين في لعبة منظمة",
                "success_indicators": "الفهم، اتباع التعليمات، الانضباط"
            },
            
            # مهارات اللعب الإبداعي والتخيلي
            {
                "skill_name": "يلعب ألعاب التقليد والمحاكاة",
                "description": "قدرة الطفل على تقليد أدوار الكبار في اللعب",
                "evaluation_criteria": "يقلد أعمال الكبار مثل الطبخ أو قيادة السيارة في اللعب",
                "success_indicators": "التخيل، التقليد، فهم الأدوار الاجتماعية"
            },
            {
                "skill_name": "يستخدم الأشياء كرموز في اللعب",
                "description": "قدرة الطفل على استخدام شيء ليمثل شيئاً آخر في اللعب",
                "evaluation_criteria": "يستخدم مكعب كهاتف أو عصا كسيف في اللعب",
                "success_indicators": "التفكير الرمزي، الإبداع، التخيل"
            },
            {
                "skill_name": "يخترع قصص بسيطة أثناء اللعب",
                "description": "قدرة الطفل على إنشاء سيناريوهات وقصص خلال اللعب",
                "evaluation_criteria": "يحكي قصة بسيطة أو يخترع أحداث أثناء اللعب بالدمى",
                "success_indicators": "الإبداع، السرد، التخيل"
            },
            {
                "skill_name": "يلعب بالدمى أو الحيوانات المحشوة",
                "description": "قدرة الطفل على التفاعل مع الدمى والألعاب المحشوة",
                "evaluation_criteria": "يحتضن أو يطعم أو يتكلم مع الدمى والحيوانات المحشوة",
                "success_indicators": "التعاطف، الرعاية، اللعب التخيلي"
            },
            {
                "skill_name": "يظهر عواطف في اللعب التخيلي",
                "description": "قدرة الطفل على التعبير عن المشاعر من خلال اللعب",
                "evaluation_criteria": "يظهر فرح أو حزن أو غضب الدمى في اللعب التخيلي",
                "success_indicators": "التعبير العاطفي، فهم المشاعر، التخيل"
            },
            
            # مهارات الأنشطة الحركية الترفيهية
            {
                "skill_name": "يستمتع بالأراجيح والزحاليق",
                "description": "قدرة الطفل على الاستمتاع بألعاب الحديقة الحركية",
                "evaluation_criteria": "يلعب بالأراجيح والزحاليق بسعادة وأمان",
                "success_indicators": "المتعة الحركية، التوازن، الثقة"
            },
            {
                "skill_name": "يلعب بالكرة (رمي، ركل، مسك)",
                "description": "قدرة الطفل على التعامل مع الكرة بطرق مختلفة",
                "evaluation_criteria": "يرمي أو يركل أو يمسك كرة كبيرة بنجاح أحياناً",
                "success_indicators": "التناسق الحركي، المهارات الرياضية، التحكم"
            },
            {
                "skill_name": "يشارك في الرقص أو الحركة مع الموسيقى",
                "description": "قدرة الطفل على التعبير الحركي مع الإيقاع",
                "evaluation_criteria": "يتحرك أو يرقص مع الموسيقى بطريقة تظهر الاستمتاع",
                "success_indicators": "التعبير الحركي، الإيقاع، المتعة"
            },
            {
                "skill_name": "يحب اللعب بالماء والرمل",
                "description": "قدرة الطفل على الاستمتاع بالأنشطة الحسية مثل الماء والرمل",
                "evaluation_criteria": "يلعب بالماء أو الرمل بسعادة واستمتاع",
                "success_indicators": "الاستكشاف الحسي، المتعة، التجريب"
            },
            {
                "skill_name": "يتسلق الأشياء المنخفضة بأمان",
                "description": "قدرة الطفل على التسلق البسيط مع الحفاظ على السلامة",
                "evaluation_criteria": "يتسلق كرسي أو سلم صغير بحذر وتوازن",
                "success_indicators": "التوازن، القوة، الوعي بالسلامة"
            },
            
            # مهارات الأنشطة الفنية والحرفية
            {
                "skill_name": "يستمتع بأنشطة الرسم والتلوين",
                "description": "قدرة الطفل على الاستمتاع بالأنشطة الفنية البسيطة",
                "evaluation_criteria": "يرسم أو يلون بحماس لمدة 5-10 دقائق",
                "success_indicators": "التعبير الفني، الإبداع، التركيز"
            },
            {
                "skill_name": "يلعب بالصلصال أو العجين",
                "description": "قدرة الطفل على التشكيل والإبداع بالمواد اللينة",
                "evaluation_criteria": "يشكل أو يلعب بالصلصال بطرق مختلفة",
                "success_indicators": "المهارات الحركية الدقيقة، الإبداع، التجريب"
            },
            {
                "skill_name": "يشارك في أنشطة القص واللصق البسيطة",
                "description": "قدرة الطفل على المشاركة في الأنشطة الحرفية بمساعدة",
                "evaluation_criteria": "يساعد في قص أو لصق الورق مع توجيه الكبار",
                "success_indicators": "المهارات الحركية الدقيقة، التعاون، الإبداع"
            },
            {
                "skill_name": "يستخدم الطوابع أو الفرش في الرسم",
                "description": "قدرة الطفل على استخدام أدوات فنية متنوعة",
                "evaluation_criteria": "يستخدم طوابع أو فرش أو أصابعه في الرسم والتلوين",
                "success_indicators": "تنوع الأدوات، الإبداع، التجريب"
            },
            {
                "skill_name": "يظهر فخراً بأعماله الفنية",
                "description": "قدرة الطفل على الشعور بالإنجاز والفخر بإبداعاته",
                "evaluation_criteria": "يظهر سعادة أو يريد عرض رسمته أو عمله الفني",
                "success_indicators": "الثقة بالنفس، الفخر، تقدير الذات"
            }
        ]
        
        # إضافة المهارات إلى قاعدة البيانات
        skills_added = 0
        for skill_data in play_skills:
            # التحقق من عدم وجود المهارة مسبقاً
            existing_skill = Skill.query.filter_by(skill_name=skill_data["skill_name"]).first()
            if not existing_skill:
                new_skill = Skill(
                    skill_name=skill_data["skill_name"],
                    description=skill_data["description"],
                    category_id=play_category.id,
                    skill_level="متوسط",
                    evaluation_criteria=skill_data["evaluation_criteria"],
                    success_indicators=skill_data["success_indicators"],
                    is_active=True
                )
                db.session.add(new_skill)
                skills_added += 1
        
        # حفظ التغييرات
        db.session.commit()
        print(f"تم إضافة {skills_added} مهارة لعب وترفيه جديدة")
        print("تم إكمال إضافة جميع مهارات اللعب والترفيه بنجاح!")

if __name__ == "__main__":
    add_play_recreation_skills()
