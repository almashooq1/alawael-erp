#!/usr/bin/env python3
# -*- coding: utf-8 -*-
"""
إضافة المهارات الاجتماعية من الصورة السادسة
"""

from app import app, db
from models import SkillCategory, Skill

def add_social_skills():
    """إضافة المهارات الاجتماعية للنظام"""
    
    with app.app_context():
        # إنشاء فئة المهارات الاجتماعية
        social_category = SkillCategory.query.filter_by(category_name="المهارات الاجتماعية").first()
        if not social_category:
            social_category = SkillCategory(
                category_name="المهارات الاجتماعية",
                description="مهارات التفاعل الاجتماعي والتواصل مع الآخرين والسلوك الاجتماعي المناسب",
                icon="fas fa-users",
                color="#6f42c1",
                display_order=6
            )
            db.session.add(social_category)
            db.session.commit()
            print("تم إنشاء فئة المهارات الاجتماعية")
        
        # قائمة المهارات الاجتماعية من الصورة
        social_skills = [
            # مهارات التفاعل الأساسية
            {
                "skill_name": "ينظر في عيني الآخرين عند التحدث",
                "description": "قدرة الطفل على إقامة تواصل بصري مناسب أثناء التفاعل",
                "evaluation_criteria": "يحافظ على التواصل البصري لفترات قصيرة أثناء المحادثة",
                "success_indicators": "التواصل البصري، الانتباه، التفاعل الاجتماعي"
            },
            {
                "skill_name": "يبتسم للآخرين",
                "description": "قدرة الطفل على إظهار الابتسامة كتعبير اجتماعي إيجابي",
                "evaluation_criteria": "يبتسم للأشخاص المألوفين وأحياناً للغرباء",
                "success_indicators": "التعبير الإيجابي، الود، التفاعل الاجتماعي"
            },
            {
                "skill_name": "يلوح بيده للترحيب أو الوداع",
                "description": "قدرة الطفل على استخدام إشارة التلويح للسلام والوداع",
                "evaluation_criteria": "يلوح بيده عند القدوم أو المغادرة مع التشجيع",
                "success_indicators": "التواصل غير اللفظي، الآداب الاجتماعية، التفاعل"
            },
            {
                "skill_name": "يقلد أفعال الآخرين البسيطة",
                "description": "قدرة الطفل على تقليد الحركات والأفعال البسيطة للآخرين",
                "evaluation_criteria": "يقلد حركات بسيطة مثل التصفيق أو رفع اليدين",
                "success_indicators": "التعلم بالمحاكاة، الانتباه، التفاعل الاجتماعي"
            },
            {
                "skill_name": "يستجيب لاسمه عند النداء",
                "description": "قدرة الطفل على الاستجابة عندما ينادى باسمه",
                "evaluation_criteria": "يلتفت أو يستجيب عند نداء اسمه في معظم الأوقات",
                "success_indicators": "الانتباه، التعرف على الاسم، الاستجابة الاجتماعية"
            },
            {
                "skill_name": "يظهر اهتماماً بالأطفال الآخرين",
                "description": "قدرة الطفل على إظهار الاهتمام والفضول تجاه الأطفال الآخرين",
                "evaluation_criteria": "ينظر ويراقب الأطفال الآخرين ويحاول الاقتراب منهم",
                "success_indicators": "الفضول الاجتماعي، الاهتمام بالأقران، التفاعل"
            },
            
            # مهارات التواصل الاجتماعي
            {
                "skill_name": "يطلب المساعدة بالإشارة أو الصوت",
                "description": "قدرة الطفل على طلب المساعدة باستخدام وسائل التواصل المتاحة له",
                "evaluation_criteria": "يشير أو يصدر أصواتاً أو يستخدم كلمات لطلب المساعدة",
                "success_indicators": "التواصل الوظيفي، طلب المساعدة، التعبير عن الحاجات"
            },
            {
                "skill_name": "يشارك الألعاب مع الآخرين",
                "description": "قدرة الطفل على مشاركة الألعاب والأشياء مع الأطفال الآخرين",
                "evaluation_criteria": "يعطي أو يشارك الألعاب مع الآخرين أحياناً",
                "success_indicators": "المشاركة، التعاون، السلوك الاجتماعي الإيجابي"
            },
            {
                "skill_name": "يلعب بجانب الأطفال الآخرين",
                "description": "قدرة الطفل على اللعب في نفس المكان مع أطفال آخرين",
                "evaluation_criteria": "يلعب في نفس المنطقة مع أطفال آخرين دون صراع",
                "success_indicators": "اللعب المتوازي، التسامح الاجتماعي، التفاعل السلمي"
            },
            {
                "skill_name": "يشارك في الأنشطة الجماعية البسيطة",
                "description": "قدرة الطفل على المشاركة في أنشطة جماعية بسيطة",
                "evaluation_criteria": "يشارك في أنشطة مثل الغناء الجماعي أو الألعاب البسيطة",
                "success_indicators": "المشاركة الجماعية، التعاون، اتباع النشاط"
            },
            {
                "skill_name": "يقول 'مرحبا' أو 'وداعاً' بطريقته",
                "description": "قدرة الطفل على التحية والوداع بالطريقة المناسبة له",
                "evaluation_criteria": "يحيي ويودع الآخرين بالكلمات أو الإشارات أو الأصوات",
                "success_indicators": "الآداب الاجتماعية، التواصل، التفاعل المهذب"
            },
            {
                "skill_name": "يعبر عن الفرح أو الحزن بطريقة مناسبة",
                "description": "قدرة الطفل على التعبير عن مشاعره بطريقة اجتماعية مقبولة",
                "evaluation_criteria": "يظهر مشاعر الفرح والحزن بتعبيرات وجه أو أصوات مناسبة",
                "success_indicators": "التعبير العاطفي، التواصل العاطفي، الوعي بالمشاعر"
            },
            
            # مهارات اللعب الاجتماعي
            {
                "skill_name": "يلعب ألعاب بسيطة مع الكبار",
                "description": "قدرة الطفل على المشاركة في ألعاب تفاعلية بسيطة مع البالغين",
                "evaluation_criteria": "يشارك في ألعاب مثل 'الغميضة' أو 'كوكو' مع الكبار",
                "success_indicators": "التفاعل مع الكبار، فهم قواعد اللعب، المتعة الاجتماعية"
            },
            {
                "skill_name": "يتناوب في الأنشطة البسيطة",
                "description": "قدرة الطفل على انتظار دوره في الأنشطة والألعاب",
                "evaluation_criteria": "ينتظر دوره في أنشطة بسيطة مع التشجيع",
                "success_indicators": "الصبر، فهم التناوب، التعاون الاجتماعي"
            },
            {
                "skill_name": "يقلد الأصوات أو الكلمات في اللعب",
                "description": "قدرة الطفل على تقليد الأصوات والكلمات أثناء اللعب التفاعلي",
                "evaluation_criteria": "يقلد أصوات الحيوانات أو كلمات بسيطة أثناء اللعب",
                "success_indicators": "التقليد الصوتي، التفاعل اللعبي، التطوير اللغوي"
            },
            {
                "skill_name": "يستمتع بالألعاب الحركية الجماعية",
                "description": "قدرة الطفل على الاستمتاع والمشاركة في الألعاب الحركية مع المجموعة",
                "evaluation_criteria": "يشارك ويستمتع بألعاب مثل الرقص الجماعي أو الحركة",
                "success_indicators": "المتعة الجماعية، النشاط الحركي، التفاعل الإيجابي"
            },
            {
                "skill_name": "يظهر تفضيلاً لأشخاص معينين",
                "description": "قدرة الطفل على إظهار التفضيل والارتباط بأشخاص معينين",
                "evaluation_criteria": "يظهر سعادة أكبر أو راحة مع أشخاص معينين",
                "success_indicators": "الارتباط الاجتماعي، التفضيل، الثقة"
            },
            
            # مهارات السلوك الاجتماعي
            {
                "skill_name": "يهدأ عند التعزيز الإيجابي",
                "description": "قدرة الطفل على الاستجابة للتعزيز الإيجابي والهدوء",
                "evaluation_criteria": "يهدأ ويتحسن سلوكه عند المدح أو التشجيع",
                "success_indicators": "الاستجابة للتعزيز، التنظيم العاطفي، التعلم الاجتماعي"
            },
            {
                "skill_name": "يتبع التعليمات البسيطة من الكبار",
                "description": "قدرة الطفل على اتباع التوجيهات والتعليمات البسيطة",
                "evaluation_criteria": "يتبع تعليمات بسيطة مثل 'تعال هنا' أو 'اجلس'",
                "success_indicators": "الطاعة، فهم التعليمات، التعاون"
            },
            {
                "skill_name": "يظهر الصبر لفترات قصيرة",
                "description": "قدرة الطفل على انتظار الأشياء لفترات قصيرة دون انزعاج شديد",
                "evaluation_criteria": "ينتظر لدقائق قليلة دون بكاء أو انزعاج شديد",
                "success_indicators": "التحكم في النفس، الصبر، التنظيم العاطفي"
            },
            {
                "skill_name": "يتكيف مع التغييرات البسيطة في الروتين",
                "description": "قدرة الطفل على التكيف مع تغييرات طفيفة في الروتين اليومي",
                "evaluation_criteria": "يتقبل تغييرات بسيطة في الروتين دون انزعاج كبير",
                "success_indicators": "المرونة، التكيف، قبول التغيير"
            },
            {
                "skill_name": "يعبر عن احتياجاته بطريقة مناسبة",
                "description": "قدرة الطفل على التعبير عن احتياجاته دون سلوك غير مناسب",
                "evaluation_criteria": "يعبر عن الجوع أو العطش أو الحاجة للحمام بطريقة مقبولة",
                "success_indicators": "التواصل الوظيفي، السلوك المناسب، التعبير عن الحاجات"
            },
            {
                "skill_name": "يظهر تعاطفاً بسيطاً مع الآخرين",
                "description": "قدرة الطفل على إظهار اهتمام أو تعاطف بسيط عندما يكون الآخرون منزعجين",
                "evaluation_criteria": "يظهر اهتماماً أو يحاول المساعدة عندما يبكي طفل آخر",
                "success_indicators": "التعاطف، الوعي الاجتماعي، الاهتمام بالآخرين"
            },
            
            # مهارات الاستقلالية الاجتماعية
            {
                "skill_name": "يبدأ في اللعب بمفرده لفترات قصيرة",
                "description": "قدرة الطفل على اللعب بشكل مستقل لفترات قصيرة",
                "evaluation_criteria": "يلعب بمفرده لمدة 5-10 دقائق دون الحاجة لتدخل مستمر",
                "success_indicators": "الاستقلالية، التركيز، اللعب الذاتي"
            },
            {
                "skill_name": "يستكشف البيئة بثقة مع وجود الكبار",
                "description": "قدرة الطفل على استكشاف البيئة المحيطة بثقة عند وجود شخص مألوف",
                "evaluation_criteria": "يتحرك ويستكشف المكان بحرية عند وجود الكبار",
                "success_indicators": "الثقة، الاستطلاع، الأمان الاجتماعي"
            },
            {
                "skill_name": "يسعى للحصول على انتباه الكبار بطريقة مناسبة",
                "description": "قدرة الطفل على طلب الانتباه من الكبار بطرق مقبولة اجتماعياً",
                "evaluation_criteria": "يلمس أو ينادي أو يشير للحصول على انتباه الكبار",
                "success_indicators": "طلب الانتباه، التواصل المناسب، التفاعل الاجتماعي"
            },
            {
                "skill_name": "يظهر فخراً بإنجازاته البسيطة",
                "description": "قدرة الطفل على إظهار الفخر والسعادة عند إنجاز مهام بسيطة",
                "evaluation_criteria": "يبتسم أو يصفق أو يظهر سعادة عند إكمال مهمة",
                "success_indicators": "الثقة بالنفس، الفخر، التقدير الذاتي"
            },
            {
                "skill_name": "يتفاعل مع الكبار المألوفين براحة",
                "description": "قدرة الطفل على التفاعل بشكل مريح مع البالغين المألوفين",
                "evaluation_criteria": "يتفاعل ويلعب مع الكبار المألوفين دون خوف أو تردد",
                "success_indicators": "الراحة الاجتماعية، الثقة، التفاعل الإيجابي"
            },
            
            # مهارات التواصل غير اللفظي
            {
                "skill_name": "يستخدم الإشارات للتعبير عن رغباته",
                "description": "قدرة الطفل على استخدام الإشارات للتواصل وطلب الأشياء",
                "evaluation_criteria": "يشير للأشياء التي يريدها أو يرفض بالإشارة",
                "success_indicators": "التواصل غير اللفظي، التعبير عن الرغبات، التفاعل"
            },
            {
                "skill_name": "يفهم تعبيرات الوجه البسيطة",
                "description": "قدرة الطفل على فهم تعبيرات الوجه الأساسية للآخرين",
                "evaluation_criteria": "يستجيب بشكل مختلف لتعبيرات الفرح والحزن والغضب",
                "success_indicators": "فهم التعبيرات، الوعي الاجتماعي، التفاعل العاطفي"
            },
            {
                "skill_name": "يستجيب لنبرة الصوت المختلفة",
                "description": "قدرة الطفل على التمييز والاستجابة لنبرات الصوت المختلفة",
                "evaluation_criteria": "يستجيب بشكل مختلف للصوت الحازم والصوت اللطيف",
                "success_indicators": "التمييز السمعي، فهم النبرة، الاستجابة المناسبة"
            },
            {
                "skill_name": "يقلد تعبيرات الوجه البسيطة",
                "description": "قدرة الطفل على تقليد تعبيرات الوجه الأساسية",
                "evaluation_criteria": "يقلد الابتسامة أو العبوس أو تعبيرات بسيطة أخرى",
                "success_indicators": "التقليد، التفاعل الاجتماعي، التعلم بالمحاكاة"
            },
            {
                "skill_name": "يستخدم الأصوات للتواصل الاجتماعي",
                "description": "قدرة الطفل على استخدام أصوات مختلفة للتفاعل الاجتماعي",
                "evaluation_criteria": "يصدر أصواتاً مختلفة للتعبير عن الفرح أو الرغبة أو الرفض",
                "success_indicators": "التواصل الصوتي، التعبير، التفاعل الاجتماعي"
            },
            
            # مهارات التكيف الاجتماعي
            {
                "skill_name": "يتقبل اللمس اللطيف من الأشخاص المألوفين",
                "description": "قدرة الطفل على تقبل اللمس الإيجابي من الأشخاص المألوفين",
                "evaluation_criteria": "يتقبل العناق أو المسح على الرأس من الأشخاص المألوفين",
                "success_indicators": "الراحة الجسدية، الثقة، التفاعل الإيجابي"
            },
            {
                "skill_name": "يظهر اهتماماً بالأنشطة الاجتماعية",
                "description": "قدرة الطفل على إظهار الاهتمام والرغبة في المشاركة الاجتماعية",
                "evaluation_criteria": "يقترب من المجموعات أو يراقب الأنشطة الاجتماعية باهتمام",
                "success_indicators": "الاهتمام الاجتماعي، الرغبة في المشاركة، التفاعل"
            },
            {
                "skill_name": "يتكيف مع وجود أشخاص جدد تدريجياً",
                "description": "قدرة الطفل على التكيف مع وجود أشخاص غير مألوفين بمرور الوقت",
                "evaluation_criteria": "يقل خوفه أو تردده من الأشخاص الجدد مع الوقت والتعرض",
                "success_indicators": "التكيف، تقليل القلق، المرونة الاجتماعية"
            },
            {
                "skill_name": "يشارك في الاحتفالات والمناسبات البسيطة",
                "description": "قدرة الطفل على المشاركة في المناسبات الاجتماعية البسيطة",
                "evaluation_criteria": "يشارك في أعياد الميلاد أو الاحتفالات البسيطة مع المجموعة",
                "success_indicators": "المشاركة الاجتماعية، الاستمتاع الجماعي، التفاعل الإيجابي"
            },
            {
                "skill_name": "يتعلم من مراقبة سلوك الآخرين",
                "description": "قدرة الطفل على التعلم والتطور من خلال مراقبة سلوك الآخرين",
                "evaluation_criteria": "يقلد سلوكيات إيجابية يراها من الآخرين",
                "success_indicators": "التعلم بالملاحظة، التقليد الإيجابي، التطور الاجتماعي"
            }
        ]
        
        # إضافة المهارات إلى قاعدة البيانات
        skills_added = 0
        for skill_data in social_skills:
            # التحقق من عدم وجود المهارة مسبقاً
            existing_skill = Skill.query.filter_by(skill_name=skill_data["skill_name"]).first()
            if not existing_skill:
                new_skill = Skill(
                    skill_name=skill_data["skill_name"],
                    description=skill_data["description"],
                    category_id=social_category.id,
                    skill_level="متوسط",
                    evaluation_criteria=skill_data["evaluation_criteria"],
                    success_indicators=skill_data["success_indicators"],
                    is_active=True
                )
                db.session.add(new_skill)
                skills_added += 1
        
        # حفظ التغييرات
        db.session.commit()
        print(f"تم إضافة {skills_added} مهارة اجتماعية جديدة")
        print("تم إكمال إضافة جميع المهارات الاجتماعية بنجاح!")

if __name__ == "__main__":
    add_social_skills()
