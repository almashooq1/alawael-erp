#!/usr/bin/env python3
# -*- coding: utf-8 -*-
"""
إضافة المهارات التكنولوجية المبكرة
"""

from app import app, db
from models import SkillCategory, Skill

def add_technology_skills():
    """إضافة المهارات التكنولوجية المبكرة للنظام"""
    
    with app.app_context():
        # إنشاء فئة المهارات التكنولوجية المبكرة
        tech_category = SkillCategory.query.filter_by(category_name="المهارات التكنولوجية المبكرة").first()
        if not tech_category:
            tech_category = SkillCategory(
                category_name="المهارات التكنولوجية المبكرة",
                description="مهارات التعامل مع التكنولوجيا البسيطة والأجهزة الإلكترونية المناسبة للعمر",
                icon="fas fa-tablet-alt",
                color="#6f42c1",
                display_order=11
            )
            db.session.add(tech_category)
            db.session.commit()
            print("تم إنشاء فئة المهارات التكنولوجية المبكرة")
        
        # قائمة المهارات التكنولوجية المبكرة
        tech_skills = [
            # مهارات التعامل مع الأجهزة البسيطة
            {
                "skill_name": "يضغط على أزرار الألعاب الإلكترونية",
                "description": "قدرة الطفل على استخدام الأزرار في الألعاب الإلكترونية البسيطة",
                "evaluation_criteria": "يضغط على الأزرار في الألعاب الإلكترونية لإحداث أصوات أو أضواء",
                "success_indicators": "التناسق الحركي، فهم السبب والنتيجة، التفاعل مع التكنولوجيا"
            },
            {
                "skill_name": "يستمع للموسيقى من الأجهزة الإلكترونية",
                "description": "قدرة الطفل على الاستمتاع بالمحتوى الصوتي من الأجهزة",
                "evaluation_criteria": "يظهر اهتماماً واستمتاعاً عند تشغيل الموسيقى من الأجهزة",
                "success_indicators": "التقدير الموسيقي، الانتباه السمعي، التفاعل مع الأجهزة"
            },
            {
                "skill_name": "يشاهد مقاطع فيديو قصيرة مناسبة لعمره",
                "description": "قدرة الطفل على متابعة المحتوى المرئي البسيط",
                "evaluation_criteria": "يشاهد مقاطع فيديو تعليمية أو ترفيهية لمدة 3-5 دقائق",
                "success_indicators": "التركيز البصري، الانتباه، الاستمتاع بالمحتوى المرئي"
            },
            {
                "skill_name": "يتفاعل مع الألعاب التفاعلية البسيطة",
                "description": "قدرة الطفل على المشاركة في الألعاب التفاعلية المناسبة لعمره",
                "evaluation_criteria": "يلمس الشاشة أو يضغط الأزرار استجابة للألعاب التفاعلية",
                "success_indicators": "التفاعل، الاستجابة، المشاركة النشطة"
            },
            {
                "skill_name": "يظهر اهتماماً بالأضواء والأصوات الإلكترونية",
                "description": "قدرة الطفل على الانجذاب والتفاعل مع المؤثرات الإلكترونية",
                "evaluation_criteria": "يركز على الأضواء الملونة والأصوات من الأجهزة الإلكترونية",
                "success_indicators": "الانتباه الحسي، الفضول، التفاعل مع المؤثرات"
            },
            
            # مهارات اللمس والتفاعل
            {
                "skill_name": "يلمس الشاشات التفاعلية بقصد",
                "description": "قدرة الطفل على استخدام اللمس للتفاعل مع الشاشات",
                "evaluation_criteria": "يلمس الشاشة لإحداث تغيير أو استجابة في التطبيق",
                "success_indicators": "التحكم الحركي الدقيق، فهم التفاعل، القصدية"
            },
            {
                "skill_name": "يحرك الأشياء على الشاشة بإصبعه",
                "description": "قدرة الطفل على السحب والإفلات البسيط على الشاشات اللمسية",
                "evaluation_criteria": "يحرك الصور أو الأشكال على الشاشة باستخدام إصبعه",
                "success_indicators": "التناسق البصري الحركي، فهم التفاعل، المهارات الحركية الدقيقة"
            },
            {
                "skill_name": "يتعرف على الأيقونات البسيطة",
                "description": "قدرة الطفل على التعرف على الرموز والأيقونات المألوفة",
                "evaluation_criteria": "يتعرف على أيقونات مثل الموسيقى أو الألعاب أو الصور",
                "success_indicators": "التعرف البصري، الذاكرة، فهم الرموز"
            },
            {
                "skill_name": "يفهم مفهوم 'تشغيل' و'إيقاف'",
                "description": "قدرة الطفل على فهم التحكم الأساسي في الأجهزة",
                "evaluation_criteria": "يضغط على زر التشغيل أو الإيقاف عند الطلب",
                "success_indicators": "فهم التحكم، اتباع التعليمات، المفاهيم الأساسية"
            },
            {
                "skill_name": "يستخدم الأجهزة البسيطة بإشراف",
                "description": "قدرة الطفل على استخدام الأجهزة التكنولوجية البسيطة مع التوجيه",
                "evaluation_criteria": "يستخدم جهاز لوحي أو هاتف بسيط مع مساعدة الكبار",
                "success_indicators": "التعلم التكنولوجي، اتباع التوجيهات، الاستخدام الآمن"
            },
            
            # مهارات التعلم الرقمي
            {
                "skill_name": "يتعلم من التطبيقات التعليمية البسيطة",
                "description": "قدرة الطفل على الاستفادة من المحتوى التعليمي الرقمي",
                "evaluation_criteria": "يشارك في تطبيقات تعليمية تفاعلية مناسبة لعمره",
                "success_indicators": "التعلم الرقمي، التفاعل التعليمي، اكتساب المعرفة"
            },
            {
                "skill_name": "يطابق الأشكال والألوان في التطبيقات",
                "description": "قدرة الطفل على حل الألغاز البسيطة في التطبيقات الرقمية",
                "evaluation_criteria": "يطابق الأشكال أو الألوان في الألعاب التعليمية الرقمية",
                "success_indicators": "حل المشكلات الرقمية، التمييز البصري، التعلم التفاعلي"
            },
            {
                "skill_name": "يتبع التعليمات الصوتية البسيطة في التطبيقات",
                "description": "قدرة الطفل على فهم واتباع التوجيهات الصوتية",
                "evaluation_criteria": "يستجيب للتعليمات الصوتية في الألعاب التعليمية",
                "success_indicators": "الفهم السمعي، اتباع التعليمات، التفاعل الصوتي"
            },
            {
                "skill_name": "يظهر تقدماً في الألعاب التعليمية",
                "description": "قدرة الطفل على التحسن والتقدم في الأنشطة الرقمية",
                "evaluation_criteria": "يحسن أداءه في الألعاب التعليمية مع الممارسة",
                "success_indicators": "التعلم التدريجي، التحسن، المثابرة"
            },
            {
                "skill_name": "يستمتع بالقصص الرقمية التفاعلية",
                "description": "قدرة الطفل على التفاعل مع القصص الرقمية",
                "evaluation_criteria": "يشاهد ويتفاعل مع القصص الرقمية المصورة والمسموعة",
                "success_indicators": "حب القراءة الرقمية، التفاعل مع القصص، الانتباه"
            },
            
            # مهارات الأمان الرقمي
            {
                "skill_name": "يستخدم الأجهزة لفترات محدودة",
                "description": "قدرة الطفل على قبول حدود الوقت في استخدام التكنولوجيا",
                "evaluation_criteria": "يتوقف عن استخدام الجهاز عندما يطلب منه ذلك",
                "success_indicators": "الانضباط الذاتي، قبول الحدود، الاستخدام المعتدل"
            },
            {
                "skill_name": "يطلب المساعدة عند مواجهة صعوبة تقنية",
                "description": "قدرة الطفل على طلب المساعدة عند الحاجة",
                "evaluation_criteria": "يذهب للكبار أو يطلب المساعدة عند توقف الجهاز أو التطبيق",
                "success_indicators": "طلب المساعدة، التواصل، حل المشكلات"
            },
            {
                "skill_name": "يتعامل مع الأجهزة بلطف",
                "description": "قدرة الطفل على التعامل الرقيق مع الأجهزة التكنولوجية",
                "evaluation_criteria": "يمسك الأجهزة بعناية ولا يرميها أو يضربها",
                "success_indicators": "العناية بالأجهزة، المسؤولية، التعامل الآمن"
            },
            {
                "skill_name": "يفهم أن الأجهزة تحتاج للشحن",
                "description": "قدرة الطفل على فهم مفهوم البطارية والشحن",
                "evaluation_criteria": "يفهم أن الجهاز يحتاج للشحن عندما تنتهي البطارية",
                "success_indicators": "فهم التكنولوجيا، المفاهيم الأساسية، الوعي التقني"
            },
            {
                "skill_name": "يستخدم التكنولوجيا في أوقات مناسبة",
                "description": "قدرة الطفل على فهم الأوقات المناسبة لاستخدام الأجهزة",
                "evaluation_criteria": "يقبل عدم استخدام الأجهزة أثناء الطعام أو النوم",
                "success_indicators": "الوعي بالوقت المناسب، اتباع القواعد، التوازن"
            }
        ]
        
        # إضافة المهارات إلى قاعدة البيانات
        skills_added = 0
        for skill_data in tech_skills:
            # التحقق من عدم وجود المهارة مسبقاً
            existing_skill = Skill.query.filter_by(skill_name=skill_data["skill_name"]).first()
            if not existing_skill:
                new_skill = Skill(
                    skill_name=skill_data["skill_name"],
                    description=skill_data["description"],
                    category_id=tech_category.id,
                    skill_level="متوسط",
                    evaluation_criteria=skill_data["evaluation_criteria"],
                    success_indicators=skill_data["success_indicators"],
                    is_active=True
                )
                db.session.add(new_skill)
                skills_added += 1
        
        # حفظ التغييرات
        db.session.commit()
        print(f"تم إضافة {skills_added} مهارة تكنولوجية مبكرة جديدة")
        print("تم إكمال إضافة جميع المهارات التكنولوجية المبكرة بنجاح!")

if __name__ == "__main__":
    add_technology_skills()
